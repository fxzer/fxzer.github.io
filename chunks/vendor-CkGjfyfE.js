/*!
  * shared v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function cq(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const hv=typeof window<"u",Bo=(e,t=!1)=>t?Symbol.for(e):Symbol(e),fq=(e,t,r)=>hq({l:e,k:t,s:r}),hq=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ur=e=>typeof e=="number"&&isFinite(e),dq=e=>e_(e)==="[object Date]",Au=e=>e_(e)==="[object RegExp]",_p=e=>Nt(e)&&Object.keys(e).length===0,on=Object.assign,vq=Object.create,er=(e=null)=>vq(e);let jS;const gl=()=>jS||(jS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:er());function WS(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function VS(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pq(e){return e=e.replace(/(\w+)\s*=\s*"([^"]*)"/g,(n,i,a)=>`${i}="${VS(a)}"`),e=e.replace(/(\w+)\s*=\s*'([^']*)'/g,(n,i,a)=>`${i}='${VS(a)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(e)&&(e=e.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(n=>{e=e.replace(n,"$1javascript&#58;")}),e}const gq=Object.prototype.hasOwnProperty;function Ta(e,t){return gq.call(e,t)}const Ir=Array.isArray,hr=e=>typeof e=="function",Qe=e=>typeof e=="string",Ft=e=>typeof e=="boolean",zt=e=>e!==null&&typeof e=="object",mq=e=>zt(e)&&hr(e.then)&&hr(e.catch),LD=Object.prototype.toString,e_=e=>LD.call(e),Nt=e=>e_(e)==="[object Object]",yq=e=>e==null?"":Ir(e)||Nt(e)&&e.toString===LD?JSON.stringify(e,null,2):String(e);function t_(e,t=""){return e.reduce((r,n,i)=>i===0?r+n:r+t+n,"")}const Mh=e=>!zt(e)||Ir(e);function Yd(e,t){if(Mh(e)||Mh(t))throw new Error("Invalid value");const r=[{src:e,des:t}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(a=>{a!=="__proto__"&&(zt(n[a])&&!zt(i[a])&&(i[a]=Array.isArray(n[a])?[]:er()),Mh(i[a])||Mh(n[a])?i[a]=n[a]:r.push({src:n[a],des:i[a]}))})}}/*!
  * message-compiler v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function bq(e,t,r){return{line:e,column:t,offset:r}}function oE(e,t,r){return{start:e,end:t}}const jt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},wq=17;function kp(e,t,r={}){const{domain:n,messages:i,args:a}=r,s=e,o=new SyntaxError(String(s));return o.code=e,t&&(o.location=t),o.domain=n,o}function xq(e){throw e}const Wa=" ",Eq="\r",In=`
`,_q="\u2028",kq="\u2029";function Sq(e){const t=e;let r=0,n=1,i=1,a=0;const s=w=>t[w]===Eq&&t[w+1]===In,o=w=>t[w]===In,l=w=>t[w]===kq,u=w=>t[w]===_q,c=w=>s(w)||o(w)||l(w)||u(w),f=()=>r,h=()=>n,d=()=>i,v=()=>a,p=w=>s(w)||l(w)||u(w)?In:t[w],g=()=>p(r),m=()=>p(r+a);function y(){return a=0,c(r)&&(n++,i=0),s(r)&&r++,r++,i++,t[r]}function b(){return s(r+a)&&a++,a++,t[r+a]}function _(){r=0,n=1,i=1,a=0}function x(w=0){a=w}function E(){const w=r+a;for(;w!==r;)y();a=0}return{index:f,line:h,column:d,peekOffset:v,charAt:p,currentChar:g,currentPeek:m,next:y,peek:b,reset:_,resetPeek:x,skipToPeek:E}}const ks=void 0,Tq=".",US="'",Mq="tokenizer";function Nq(e,t={}){const r=t.location!==!1,n=Sq(e),i=()=>n.index(),a=()=>bq(n.line(),n.column(),n.index()),s=a(),o=i(),l={currentType:13,offset:o,startLoc:s,endLoc:s,lastType:13,lastOffset:o,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=t;function f(V,q,ne,...ue){const Oe=u();if(q.column+=ne,q.offset+=ne,c){const be=r?oE(Oe.startLoc,q):null,re=kp(V,be,{domain:Mq,args:ue});c(re)}}function h(V,q,ne){V.endLoc=a(),V.currentType=q;const ue={type:q};return r&&(ue.loc=oE(V.startLoc,V.endLoc)),ne!=null&&(ue.value=ne),ue}const d=V=>h(V,13);function v(V,q){return V.currentChar()===q?(V.next(),q):(f(jt.EXPECTED_TOKEN,a(),0,q),"")}function p(V){let q="";for(;V.currentPeek()===Wa||V.currentPeek()===In;)q+=V.currentPeek(),V.peek();return q}function g(V){const q=p(V);return V.skipToPeek(),q}function m(V){if(V===ks)return!1;const q=V.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q===95}function y(V){if(V===ks)return!1;const q=V.charCodeAt(0);return q>=48&&q<=57}function b(V,q){const{currentType:ne}=q;if(ne!==2)return!1;p(V);const ue=m(V.currentPeek());return V.resetPeek(),ue}function _(V,q){const{currentType:ne}=q;if(ne!==2)return!1;p(V);const ue=V.currentPeek()==="-"?V.peek():V.currentPeek(),Oe=y(ue);return V.resetPeek(),Oe}function x(V,q){const{currentType:ne}=q;if(ne!==2)return!1;p(V);const ue=V.currentPeek()===US;return V.resetPeek(),ue}function E(V,q){const{currentType:ne}=q;if(ne!==7)return!1;p(V);const ue=V.currentPeek()===".";return V.resetPeek(),ue}function w(V,q){const{currentType:ne}=q;if(ne!==8)return!1;p(V);const ue=m(V.currentPeek());return V.resetPeek(),ue}function S(V,q){const{currentType:ne}=q;if(!(ne===7||ne===11))return!1;p(V);const ue=V.currentPeek()===":";return V.resetPeek(),ue}function A(V,q){const{currentType:ne}=q;if(ne!==9)return!1;const ue=()=>{const be=V.currentPeek();return be==="{"?m(V.peek()):be==="@"||be==="|"||be===":"||be==="."||be===Wa||!be?!1:be===In?(V.peek(),ue()):O(V,!1)},Oe=ue();return V.resetPeek(),Oe}function P(V){p(V);const q=V.currentPeek()==="|";return V.resetPeek(),q}function O(V,q=!0){const ne=(Oe=!1,be="")=>{const re=V.currentPeek();return re==="{"||re==="@"||!re?Oe:re==="|"?!(be===Wa||be===In):re===Wa?(V.peek(),ne(!0,Wa)):re===In?(V.peek(),ne(!0,In)):!0},ue=ne();return q&&V.resetPeek(),ue}function C(V,q){const ne=V.currentChar();return ne===ks?ks:q(ne)?(V.next(),ne):null}function L(V){const q=V.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q>=48&&q<=57||q===95||q===36}function I(V){return C(V,L)}function F(V){const q=V.charCodeAt(0);return q>=97&&q<=122||q>=65&&q<=90||q>=48&&q<=57||q===95||q===36||q===45}function U(V){return C(V,F)}function G(V){const q=V.charCodeAt(0);return q>=48&&q<=57}function z(V){return C(V,G)}function Z(V){const q=V.charCodeAt(0);return q>=48&&q<=57||q>=65&&q<=70||q>=97&&q<=102}function ge(V){return C(V,Z)}function xe(V){let q="",ne="";for(;q=z(V);)ne+=q;return ne}function ve(V){let q="";for(;;){const ne=V.currentChar();if(ne==="{"||ne==="}"||ne==="@"||ne==="|"||!ne)break;if(ne===Wa||ne===In)if(O(V))q+=ne,V.next();else{if(P(V))break;q+=ne,V.next()}else q+=ne,V.next()}return q}function je(V){g(V);let q="",ne="";for(;q=U(V);)ne+=q;const ue=V.currentChar();if(ue&&ue!=="}"&&ue!==ks&&ue!==Wa&&ue!==In&&ue!=="　"){const Oe=we(V);return f(jt.INVALID_TOKEN_IN_PLACEHOLDER,a(),0,ne+Oe),ne+Oe}return V.currentChar()===ks&&f(jt.UNTERMINATED_CLOSING_BRACE,a(),0),ne}function te(V){g(V);let q="";return V.currentChar()==="-"?(V.next(),q+=`-${xe(V)}`):q+=xe(V),V.currentChar()===ks&&f(jt.UNTERMINATED_CLOSING_BRACE,a(),0),q}function Y(V){return V!==US&&V!==In}function fe(V){g(V),v(V,"'");let q="",ne="";for(;q=C(V,Y);)q==="\\"?ne+=Q(V):ne+=q;const ue=V.currentChar();return ue===In||ue===ks?(f(jt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,a(),0),ue===In&&(V.next(),v(V,"'")),ne):(v(V,"'"),ne)}function Q(V){const q=V.currentChar();switch(q){case"\\":case"'":return V.next(),`\\${q}`;case"u":return oe(V,q,4);case"U":return oe(V,q,6);default:return f(jt.UNKNOWN_ESCAPE_SEQUENCE,a(),0,q),""}}function oe(V,q,ne){v(V,q);let ue="";for(let Oe=0;Oe<ne;Oe++){const be=ge(V);if(!be){f(jt.INVALID_UNICODE_ESCAPE_SEQUENCE,a(),0,`\\${q}${ue}${V.currentChar()}`);break}ue+=be}return`\\${q}${ue}`}function ye(V){return V!=="{"&&V!=="}"&&V!==Wa&&V!==In}function we(V){g(V);let q="",ne="";for(;q=C(V,ye);)ne+=q;return ne}function Ae(V){let q="",ne="";for(;q=I(V);)ne+=q;return ne}function H(V){const q=ne=>{const ue=V.currentChar();return ue==="{"||ue==="@"||ue==="|"||ue==="("||ue===")"||!ue||ue===Wa?ne:(ne+=ue,V.next(),q(ne))};return q("")}function K(V){g(V);const q=v(V,"|");return g(V),q}function ce(V,q){let ne=null;switch(V.currentChar()){case"{":return q.braceNest>=1&&f(jt.NOT_ALLOW_NEST_PLACEHOLDER,a(),0),V.next(),ne=h(q,2,"{"),g(V),q.braceNest++,ne;case"}":return q.braceNest>0&&q.currentType===2&&f(jt.EMPTY_PLACEHOLDER,a(),0),V.next(),ne=h(q,3,"}"),q.braceNest--,q.braceNest>0&&g(V),q.inLinked&&q.braceNest===0&&(q.inLinked=!1),ne;case"@":return q.braceNest>0&&f(jt.UNTERMINATED_CLOSING_BRACE,a(),0),ne=de(V,q)||d(q),q.braceNest=0,ne;default:{let Oe=!0,be=!0,re=!0;if(P(V))return q.braceNest>0&&f(jt.UNTERMINATED_CLOSING_BRACE,a(),0),ne=h(q,1,K(V)),q.braceNest=0,q.inLinked=!1,ne;if(q.braceNest>0&&(q.currentType===4||q.currentType===5||q.currentType===6))return f(jt.UNTERMINATED_CLOSING_BRACE,a(),0),q.braceNest=0,_e(V,q);if(Oe=b(V,q))return ne=h(q,4,je(V)),g(V),ne;if(be=_(V,q))return ne=h(q,5,te(V)),g(V),ne;if(re=x(V,q))return ne=h(q,6,fe(V)),g(V),ne;if(!Oe&&!be&&!re)return ne=h(q,12,we(V)),f(jt.INVALID_TOKEN_IN_PLACEHOLDER,a(),0,ne.value),g(V),ne;break}}return ne}function de(V,q){const{currentType:ne}=q;let ue=null;const Oe=V.currentChar();switch((ne===7||ne===8||ne===11||ne===9)&&(Oe===In||Oe===Wa)&&f(jt.INVALID_LINKED_FORMAT,a(),0),Oe){case"@":return V.next(),ue=h(q,7,"@"),q.inLinked=!0,ue;case".":return g(V),V.next(),h(q,8,".");case":":return g(V),V.next(),h(q,9,":");default:return P(V)?(ue=h(q,1,K(V)),q.braceNest=0,q.inLinked=!1,ue):E(V,q)||S(V,q)?(g(V),de(V,q)):w(V,q)?(g(V),h(q,11,Ae(V))):A(V,q)?(g(V),Oe==="{"?ce(V,q)||ue:h(q,10,H(V))):(ne===7&&f(jt.INVALID_LINKED_FORMAT,a(),0),q.braceNest=0,q.inLinked=!1,_e(V,q))}}function _e(V,q){let ne={type:13};if(q.braceNest>0)return ce(V,q)||d(q);if(q.inLinked)return de(V,q)||d(q);switch(V.currentChar()){case"{":return ce(V,q)||d(q);case"}":return f(jt.UNBALANCED_CLOSING_BRACE,a(),0),V.next(),h(q,3,"}");case"@":return de(V,q)||d(q);default:{if(P(V))return ne=h(q,1,K(V)),q.braceNest=0,q.inLinked=!1,ne;if(O(V))return h(q,0,ve(V));break}}return ne}function pe(){const{currentType:V,offset:q,startLoc:ne,endLoc:ue}=l;return l.lastType=V,l.lastOffset=q,l.lastStartLoc=ne,l.lastEndLoc=ue,l.offset=i(),l.startLoc=a(),n.currentChar()===ks?h(l,13):_e(n,l)}return{nextToken:pe,currentOffset:i,currentPosition:a,context:u}}const Aq="parser",Pq=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Oq(e,t,r){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(t||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):"�"}}}function Cq(e={}){const t=e.location!==!1,{onError:r}=e;function n(m,y,b,_,...x){const E=m.currentPosition();if(E.offset+=_,E.column+=_,r){const w=t?oE(b,E):null,S=kp(y,w,{domain:Aq,args:x});r(S)}}function i(m,y,b){const _={type:m};return t&&(_.start=y,_.end=y,_.loc={start:b,end:b}),_}function a(m,y,b,_){t&&(m.end=y,m.loc&&(m.loc.end=b))}function s(m,y){const b=m.context(),_=i(3,b.offset,b.startLoc);return _.value=y,a(_,m.currentOffset(),m.currentPosition()),_}function o(m,y){const b=m.context(),{lastOffset:_,lastStartLoc:x}=b,E=i(5,_,x);return E.index=parseInt(y,10),m.nextToken(),a(E,m.currentOffset(),m.currentPosition()),E}function l(m,y){const b=m.context(),{lastOffset:_,lastStartLoc:x}=b,E=i(4,_,x);return E.key=y,m.nextToken(),a(E,m.currentOffset(),m.currentPosition()),E}function u(m,y){const b=m.context(),{lastOffset:_,lastStartLoc:x}=b,E=i(9,_,x);return E.value=y.replace(Pq,Oq),m.nextToken(),a(E,m.currentOffset(),m.currentPosition()),E}function c(m){const y=m.nextToken(),b=m.context(),{lastOffset:_,lastStartLoc:x}=b,E=i(8,_,x);return y.type!==11?(n(m,jt.UNEXPECTED_EMPTY_LINKED_MODIFIER,b.lastStartLoc,0),E.value="",a(E,_,x),{nextConsumeToken:y,node:E}):(y.value==null&&n(m,jt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Va(y)),E.value=y.value||"",a(E,m.currentOffset(),m.currentPosition()),{node:E})}function f(m,y){const b=m.context(),_=i(7,b.offset,b.startLoc);return _.value=y,a(_,m.currentOffset(),m.currentPosition()),_}function h(m){const y=m.context(),b=i(6,y.offset,y.startLoc);let _=m.nextToken();if(_.type===8){const x=c(m);b.modifier=x.node,_=x.nextConsumeToken||m.nextToken()}switch(_.type!==9&&n(m,jt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Va(_)),_=m.nextToken(),_.type===2&&(_=m.nextToken()),_.type){case 10:_.value==null&&n(m,jt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Va(_)),b.key=f(m,_.value||"");break;case 4:_.value==null&&n(m,jt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Va(_)),b.key=l(m,_.value||"");break;case 5:_.value==null&&n(m,jt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Va(_)),b.key=o(m,_.value||"");break;case 6:_.value==null&&n(m,jt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Va(_)),b.key=u(m,_.value||"");break;default:{n(m,jt.UNEXPECTED_EMPTY_LINKED_KEY,y.lastStartLoc,0);const x=m.context(),E=i(7,x.offset,x.startLoc);return E.value="",a(E,x.offset,x.startLoc),b.key=E,a(b,x.offset,x.startLoc),{nextConsumeToken:_,node:b}}}return a(b,m.currentOffset(),m.currentPosition()),{node:b}}function d(m){const y=m.context(),b=y.currentType===1?m.currentOffset():y.offset,_=y.currentType===1?y.endLoc:y.startLoc,x=i(2,b,_);x.items=[];let E=null;do{const A=E||m.nextToken();switch(E=null,A.type){case 0:A.value==null&&n(m,jt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Va(A)),x.items.push(s(m,A.value||""));break;case 5:A.value==null&&n(m,jt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Va(A)),x.items.push(o(m,A.value||""));break;case 4:A.value==null&&n(m,jt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Va(A)),x.items.push(l(m,A.value||""));break;case 6:A.value==null&&n(m,jt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Va(A)),x.items.push(u(m,A.value||""));break;case 7:{const P=h(m);x.items.push(P.node),E=P.nextConsumeToken||null;break}}}while(y.currentType!==13&&y.currentType!==1);const w=y.currentType===1?y.lastOffset:m.currentOffset(),S=y.currentType===1?y.lastEndLoc:m.currentPosition();return a(x,w,S),x}function v(m,y,b,_){const x=m.context();let E=_.items.length===0;const w=i(1,y,b);w.cases=[],w.cases.push(_);do{const S=d(m);E||(E=S.items.length===0),w.cases.push(S)}while(x.currentType!==13);return E&&n(m,jt.MUST_HAVE_MESSAGES_IN_PLURAL,b,0),a(w,m.currentOffset(),m.currentPosition()),w}function p(m){const y=m.context(),{offset:b,startLoc:_}=y,x=d(m);return y.currentType===13?x:v(m,b,_,x)}function g(m){const y=Nq(m,on({},e)),b=y.context(),_=i(0,b.offset,b.startLoc);return t&&_.loc&&(_.loc.source=m),_.body=p(y),e.onCacheKey&&(_.cacheKey=e.onCacheKey(m)),b.currentType!==13&&n(y,jt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,m[b.offset]||""),a(_,y.currentOffset(),y.currentPosition()),_}return{parse:g}}function Va(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function Rq(e,t={}){const r={ast:e,helpers:new Set};return{context:()=>r,helper:a=>(r.helpers.add(a),a)}}function HS(e,t){for(let r=0;r<e.length;r++)r_(e[r],t)}function r_(e,t){switch(e.type){case 1:HS(e.cases,t),t.helper("plural");break;case 2:HS(e.items,t);break;case 6:{r_(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Lq(e,t={}){const r=Rq(e);r.helper("normalize"),e.body&&r_(e.body,r);const n=r.context();e.helpers=Array.from(n.helpers)}function Iq(e){const t=e.body;return t.type===2?YS(t):t.cases.forEach(r=>YS(r)),e}function YS(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let r=0;r<e.items.length;r++){const n=e.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;t.push(n.value)}if(t.length===e.items.length){e.static=t_(t);for(let r=0;r<e.items.length;r++){const n=e.items[r];(n.type===3||n.type===9)&&delete n.value}}}}function uu(e){switch(e.t=e.type,e.type){case 0:{const t=e;uu(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,r=t.cases;for(let n=0;n<r.length;n++)uu(r[n]);t.c=r,delete t.cases;break}case 2:{const t=e,r=t.items;for(let n=0;n<r.length;n++)uu(r[n]);t.i=r,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;uu(t.key),t.k=t.key,delete t.key,t.modifier&&(uu(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function Dq(e,t){const{filename:r,breakLineCode:n,needIndent:i}=t,a=t.location!==!1,s={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:i,indentLevel:0};a&&e.loc&&(s.source=e.loc.source);const o=()=>s;function l(p,g){s.code+=p}function u(p,g=!0){const m=g?n:"";l(i?m+"  ".repeat(p):m)}function c(p=!0){const g=++s.indentLevel;p&&u(g)}function f(p=!0){const g=--s.indentLevel;p&&u(g)}function h(){u(s.indentLevel)}return{context:o,push:l,indent:c,deindent:f,newline:h,helper:p=>`_${p}`,needIndent:()=>s.needIndent}}function Fq(e,t){const{helper:r}=e;e.push(`${r("linked")}(`),Pu(e,t.key),t.modifier?(e.push(", "),Pu(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function $q(e,t){const{helper:r,needIndent:n}=e;e.push(`${r("normalize")}([`),e.indent(n());const i=t.items.length;for(let a=0;a<i&&(Pu(e,t.items[a]),a!==i-1);a++)e.push(", ");e.deindent(n()),e.push("])")}function Bq(e,t){const{helper:r,needIndent:n}=e;if(t.cases.length>1){e.push(`${r("plural")}([`),e.indent(n());const i=t.cases.length;for(let a=0;a<i&&(Pu(e,t.cases[a]),a!==i-1);a++)e.push(", ");e.deindent(n()),e.push("])")}}function zq(e,t){t.body?Pu(e,t.body):e.push("null")}function Pu(e,t){const{helper:r}=e;switch(t.type){case 0:zq(e,t);break;case 1:Bq(e,t);break;case 2:$q(e,t);break;case 6:Fq(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${r("interpolate")}(${r("list")}(${t.index}))`,t);break;case 4:e.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const Gq=(e,t={})=>{const r=Qe(t.mode)?t.mode:"normal",n=Qe(t.filename)?t.filename:"message.intl";t.sourceMap;const i=t.breakLineCode!=null?t.breakLineCode:r==="arrow"?";":`
`,a=t.needIndent?t.needIndent:r!=="arrow",s=e.helpers||[],o=Dq(e,{filename:n,breakLineCode:i,needIndent:a});o.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),o.indent(a),s.length>0&&(o.push(`const { ${t_(s.map(c=>`${c}: _${c}`),", ")} } = ctx`),o.newline()),o.push("return "),Pu(o,e),o.deindent(a),o.push("}"),delete e.helpers;const{code:l,map:u}=o.context();return{ast:e,code:l,map:u?u.toJSON():void 0}};function qq(e,t={}){const r=on({},t),n=!!r.jit,i=!!r.minify,a=r.optimize==null?!0:r.optimize,o=Cq(r).parse(e);return n?(a&&Iq(o),i&&uu(o),{ast:o,code:""}):(Lq(o,r),Gq(o,r))}/*!
  * core-base v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function jq(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(gl().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(gl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function os(e){return zt(e)&&n_(e)===0&&(Ta(e,"b")||Ta(e,"body"))}const ID=["b","body"];function Wq(e){return zo(e,ID)}const DD=["c","cases"];function Vq(e){return zo(e,DD,[])}const FD=["s","static"];function Uq(e){return zo(e,FD)}const $D=["i","items"];function Hq(e){return zo(e,$D,[])}const BD=["t","type"];function n_(e){return zo(e,BD)}const zD=["v","value"];function Nh(e,t){const r=zo(e,zD);if(r!=null)return r;throw yf(t)}const GD=["m","modifier"];function Yq(e){return zo(e,GD)}const qD=["k","key"];function Xq(e){const t=zo(e,qD);if(t)return t;throw yf(6)}function zo(e,t,r){for(let n=0;n<t.length;n++){const i=t[n];if(Ta(e,i)&&e[i]!=null)return e[i]}return r}const jD=[...ID,...DD,...FD,...$D,...qD,...GD,...zD,...BD];function yf(e){return new Error(`unhandled node type: ${e}`)}function zg(e){return r=>Kq(r,e)}function Kq(e,t){const r=Wq(t);if(r==null)throw yf(0);if(n_(r)===1){const a=Vq(r);return e.plural(a.reduce((s,o)=>[...s,XS(e,o)],[]))}else return XS(e,r)}function XS(e,t){const r=Uq(t);if(r!=null)return e.type==="text"?r:e.normalize([r]);{const n=Hq(t).reduce((i,a)=>[...i,lE(e,a)],[]);return e.normalize(n)}}function lE(e,t){const r=n_(t);switch(r){case 3:return Nh(t,r);case 9:return Nh(t,r);case 4:{const n=t;if(Ta(n,"k")&&n.k)return e.interpolate(e.named(n.k));if(Ta(n,"key")&&n.key)return e.interpolate(e.named(n.key));throw yf(r)}case 5:{const n=t;if(Ta(n,"i")&&Ur(n.i))return e.interpolate(e.list(n.i));if(Ta(n,"index")&&Ur(n.index))return e.interpolate(e.list(n.index));throw yf(r)}case 6:{const n=t,i=Yq(n),a=Xq(n);return e.linked(lE(e,a),i?lE(e,i):void 0,e.type)}case 7:return Nh(t,r);case 8:return Nh(t,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const Zq=e=>e;let Ah=er();function Qq(e,t={}){let r=!1;const n=t.onError||xq;return t.onError=i=>{r=!0,n(i)},{...qq(e,t),detectError:r}}function Jq(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Qe(e)){Ft(t.warnHtmlMessage)&&t.warnHtmlMessage;const n=(t.onCacheKey||Zq)(e),i=Ah[n];if(i)return i;const{ast:a,detectError:s}=Qq(e,{...t,location:!1,jit:!0}),o=zg(a);return s?o:Ah[n]=o}else{const r=e.cacheKey;if(r){const n=Ah[r];return n||(Ah[r]=zg(e))}else return zg(e)}}let bf=null;function e8(e){bf=e}function t8(e,t,r){bf&&bf.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:r})}const r8=n8("function:translate");function n8(e){return t=>bf&&bf.emit(e,t)}const $s={INVALID_ARGUMENT:wq,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},i8=24;function Bs(e){return kp(e,null,void 0)}function i_(e,t){return t.locale!=null?KS(t.locale):KS(e.locale)}let Gg;function KS(e){if(Qe(e))return e;if(hr(e)){if(e.resolvedOnce&&Gg!=null)return Gg;if(e.constructor.name==="Function"){const t=e();if(mq(t))throw Bs($s.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Gg=t}else throw Bs($s.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Bs($s.NOT_SUPPORT_LOCALE_TYPE)}function a8(e,t,r){return[...new Set([r,...Ir(t)?t:zt(t)?Object.keys(t):Qe(t)?[t]:[r]])]}function WD(e,t,r){const n=Qe(r)?r:wf,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let a=i.__localeChainCache.get(n);if(!a){a=[];let s=[r];for(;Ir(s);)s=ZS(a,s,t);const o=Ir(t)||!Nt(t)?t:t.default?t.default:null;s=Qe(o)?[o]:o,Ir(s)&&ZS(a,s,!1),i.__localeChainCache.set(n,a)}return a}function ZS(e,t,r){let n=!0;for(let i=0;i<t.length&&Ft(n);i++){const a=t[i];Qe(a)&&(n=s8(e,t[i],r))}return n}function s8(e,t,r){let n;const i=t.split("-");do{const a=i.join("-");n=o8(e,a,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function o8(e,t,r){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";const i=t.replace(/!/g,"");e.push(i),(Ir(r)||Nt(r))&&r[i]&&(n=r[i])}return n}const Go=[];Go[0]={w:[0],i:[3,0],"[":[4],o:[7]};Go[1]={w:[1],".":[2],"[":[4],o:[7]};Go[2]={w:[2],i:[3,0],0:[3,0]};Go[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Go[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Go[5]={"'":[4,0],o:8,l:[5,0]};Go[6]={'"':[4,0],o:8,l:[6,0]};const l8=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function u8(e){return l8.test(e)}function c8(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function f8(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function h8(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:u8(t)?c8(t):"*"+t}function d8(e){const t=[];let r=-1,n=0,i=0,a,s,o,l,u,c,f;const h=[];h[0]=()=>{s===void 0?s=o:s+=o},h[1]=()=>{s!==void 0&&(t.push(s),s=void 0)},h[2]=()=>{h[0](),i++},h[3]=()=>{if(i>0)i--,n=4,h[0]();else{if(i=0,s===void 0||(s=h8(s),s===!1))return!1;h[1]()}};function d(){const v=e[r+1];if(n===5&&v==="'"||n===6&&v==='"')return r++,o="\\"+v,h[0](),!0}for(;n!==null;)if(r++,a=e[r],!(a==="\\"&&d())){if(l=f8(a),f=Go[n],u=f[l]||f.l||8,u===8||(n=u[0],u[1]!==void 0&&(c=h[u[1]],c&&(o=a,c()===!1))))return;if(n===7)return t}}const QS=new Map;function v8(e,t){return zt(e)?e[t]:null}function p8(e,t){if(!zt(e))return null;let r=QS.get(t);if(r||(r=d8(t),r&&QS.set(t,r)),!r)return null;const n=r.length;let i=e,a=0;for(;a<n;){const s=r[a];if(jD.includes(s)&&os(i))return null;const o=i[s];if(o===void 0||hr(i))return null;i=o,a++}return i}const g8="11.1.12",Sp=-1,wf="en-US",JS="",eT=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function m8(){return{upper:(e,t)=>t==="text"&&Qe(e)?e.toUpperCase():t==="vnode"&&zt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&Qe(e)?e.toLowerCase():t==="vnode"&&zt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&Qe(e)?eT(e):t==="vnode"&&zt(e)&&"__v_isVNode"in e?eT(e.children):e}}let VD;function y8(e){VD=e}let UD;function b8(e){UD=e}let HD;function w8(e){HD=e}let YD=null;const x8=e=>{YD=e},E8=()=>YD;let XD=null;const tT=e=>{XD=e},_8=()=>XD;let rT=0;function k8(e={}){const t=hr(e.onWarn)?e.onWarn:cq,r=Qe(e.version)?e.version:g8,n=Qe(e.locale)||hr(e.locale)?e.locale:wf,i=hr(n)?wf:n,a=Ir(e.fallbackLocale)||Nt(e.fallbackLocale)||Qe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,s=Nt(e.messages)?e.messages:qg(i),o=Nt(e.datetimeFormats)?e.datetimeFormats:qg(i),l=Nt(e.numberFormats)?e.numberFormats:qg(i),u=on(er(),e.modifiers,m8()),c=e.pluralRules||er(),f=hr(e.missing)?e.missing:null,h=Ft(e.missingWarn)||Au(e.missingWarn)?e.missingWarn:!0,d=Ft(e.fallbackWarn)||Au(e.fallbackWarn)?e.fallbackWarn:!0,v=!!e.fallbackFormat,p=!!e.unresolving,g=hr(e.postTranslation)?e.postTranslation:null,m=Nt(e.processor)?e.processor:null,y=Ft(e.warnHtmlMessage)?e.warnHtmlMessage:!0,b=!!e.escapeParameter,_=hr(e.messageCompiler)?e.messageCompiler:VD,x=hr(e.messageResolver)?e.messageResolver:UD||v8,E=hr(e.localeFallbacker)?e.localeFallbacker:HD||a8,w=zt(e.fallbackContext)?e.fallbackContext:void 0,S=e,A=zt(S.__datetimeFormatters)?S.__datetimeFormatters:new Map,P=zt(S.__numberFormatters)?S.__numberFormatters:new Map,O=zt(S.__meta)?S.__meta:{};rT++;const C={version:r,cid:rT,locale:n,fallbackLocale:a,messages:s,modifiers:u,pluralRules:c,missing:f,missingWarn:h,fallbackWarn:d,fallbackFormat:v,unresolving:p,postTranslation:g,processor:m,warnHtmlMessage:y,escapeParameter:b,messageCompiler:_,messageResolver:x,localeFallbacker:E,fallbackContext:w,onWarn:t,__meta:O};return C.datetimeFormats=o,C.numberFormats=l,C.__datetimeFormatters=A,C.__numberFormatters=P,__INTLIFY_PROD_DEVTOOLS__&&t8(C,r,O),C}const qg=e=>({[e]:er()});function a_(e,t,r,n,i){const{missing:a,onWarn:s}=e;if(a!==null){const o=a(e,r,t,i);return Qe(o)?o:t}else return t}function yc(e,t,r){const n=e;n.__localeChainCache=new Map,e.localeFallbacker(e,r,t)}function S8(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function T8(e,t){const r=t.indexOf(e);if(r===-1)return!1;for(let n=r+1;n<t.length;n++)if(S8(e,t[n]))return!0;return!1}function nT(e,...t){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:a,localeFallbacker:s}=e,{__datetimeFormatters:o}=e,[l,u,c,f]=uE(...t),h=Ft(c.missingWarn)?c.missingWarn:e.missingWarn;Ft(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const d=!!c.part,v=i_(e,c),p=s(e,i,v);if(!Qe(l)||l==="")return new Intl.DateTimeFormat(v,f).format(u);let g={},m,y=null;const b="datetime format";for(let E=0;E<p.length&&(m=p[E],g=r[m]||{},y=g[l],!Nt(y));E++)a_(e,l,m,h,b);if(!Nt(y)||!Qe(m))return n?Sp:l;let _=`${m}__${l}`;_p(f)||(_=`${_}__${JSON.stringify(f)}`);let x=o.get(_);return x||(x=new Intl.DateTimeFormat(m,on({},y,f)),o.set(_,x)),d?x.formatToParts(u):x.format(u)}const KD=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function uE(...e){const[t,r,n,i]=e,a=er();let s=er(),o;if(Qe(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Bs($s.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();o=new Date(u);try{o.toISOString()}catch{throw Bs($s.INVALID_ISO_DATE_ARGUMENT)}}else if(dq(t)){if(isNaN(t.getTime()))throw Bs($s.INVALID_DATE_ARGUMENT);o=t}else if(Ur(t))o=t;else throw Bs($s.INVALID_ARGUMENT);return Qe(r)?a.key=r:Nt(r)&&Object.keys(r).forEach(l=>{KD.includes(l)?s[l]=r[l]:a[l]=r[l]}),Qe(n)?a.locale=n:Nt(n)&&(s=n),Nt(i)&&(s=i),[a.key||"",o,a,s]}function iT(e,t,r){const n=e;for(const i in r){const a=`${t}__${i}`;n.__datetimeFormatters.has(a)&&n.__datetimeFormatters.delete(a)}}function aT(e,...t){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:a,localeFallbacker:s}=e,{__numberFormatters:o}=e,[l,u,c,f]=cE(...t),h=Ft(c.missingWarn)?c.missingWarn:e.missingWarn;Ft(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const d=!!c.part,v=i_(e,c),p=s(e,i,v);if(!Qe(l)||l==="")return new Intl.NumberFormat(v,f).format(u);let g={},m,y=null;const b="number format";for(let E=0;E<p.length&&(m=p[E],g=r[m]||{},y=g[l],!Nt(y));E++)a_(e,l,m,h,b);if(!Nt(y)||!Qe(m))return n?Sp:l;let _=`${m}__${l}`;_p(f)||(_=`${_}__${JSON.stringify(f)}`);let x=o.get(_);return x||(x=new Intl.NumberFormat(m,on({},y,f)),o.set(_,x)),d?x.formatToParts(u):x.format(u)}const ZD=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function cE(...e){const[t,r,n,i]=e,a=er();let s=er();if(!Ur(t))throw Bs($s.INVALID_ARGUMENT);const o=t;return Qe(r)?a.key=r:Nt(r)&&Object.keys(r).forEach(l=>{ZD.includes(l)?s[l]=r[l]:a[l]=r[l]}),Qe(n)?a.locale=n:Nt(n)&&(s=n),Nt(i)&&(s=i),[a.key||"",o,a,s]}function sT(e,t,r){const n=e;for(const i in r){const a=`${t}__${i}`;n.__numberFormatters.has(a)&&n.__numberFormatters.delete(a)}}const M8=e=>e,N8=e=>"",A8="text",P8=e=>e.length===0?"":t_(e),O8=yq;function oT(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function C8(e){const t=Ur(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Ur(e.named.count)||Ur(e.named.n))?Ur(e.named.count)?e.named.count:Ur(e.named.n)?e.named.n:t:t}function R8(e,t){t.count||(t.count=e),t.n||(t.n=e)}function L8(e={}){const t=e.locale,r=C8(e),n=zt(e.pluralRules)&&Qe(t)&&hr(e.pluralRules[t])?e.pluralRules[t]:oT,i=zt(e.pluralRules)&&Qe(t)&&hr(e.pluralRules[t])?oT:void 0,a=m=>m[n(r,m.length,i)],s=e.list||[],o=m=>s[m],l=e.named||er();Ur(e.pluralIndex)&&R8(r,l);const u=m=>l[m];function c(m,y){const b=hr(e.messages)?e.messages(m,!!y):zt(e.messages)?e.messages[m]:!1;return b||(e.parent?e.parent.message(m):N8)}const f=m=>e.modifiers?e.modifiers[m]:M8,h=Nt(e.processor)&&hr(e.processor.normalize)?e.processor.normalize:P8,d=Nt(e.processor)&&hr(e.processor.interpolate)?e.processor.interpolate:O8,v=Nt(e.processor)&&Qe(e.processor.type)?e.processor.type:A8,g={list:o,named:u,plural:a,linked:(m,...y)=>{const[b,_]=y;let x="text",E="";y.length===1?zt(b)?(E=b.modifier||E,x=b.type||x):Qe(b)&&(E=b||E):y.length===2&&(Qe(b)&&(E=b||E),Qe(_)&&(x=_||x));const w=c(m,!0)(g),S=x==="vnode"&&Ir(w)&&E?w[0]:w;return E?f(E)(S,x):S},message:c,type:v,interpolate:d,normalize:h,values:on(er(),s,l)};return g}const lT=()=>"",Qi=e=>hr(e);function uT(e,...t){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:a,fallbackLocale:s,messages:o}=e,[l,u]=fE(...t),c=Ft(u.missingWarn)?u.missingWarn:e.missingWarn,f=Ft(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,h=Ft(u.escapeParameter)?u.escapeParameter:e.escapeParameter,d=!!u.resolvedMessage,v=Qe(u.default)||Ft(u.default)?Ft(u.default)?a?l:()=>l:u.default:r?a?l:()=>l:null,p=r||v!=null&&(Qe(v)||hr(v)),g=i_(e,u);h&&I8(u);let[m,y,b]=d?[l,g,o[g]||er()]:QD(e,l,g,s,f,c),_=m,x=l;if(!d&&!(Qe(_)||os(_)||Qi(_))&&p&&(_=v,x=_),!d&&(!(Qe(_)||os(_)||Qi(_))||!Qe(y)))return i?Sp:l;let E=!1;const w=()=>{E=!0},S=Qi(_)?_:JD(e,l,y,_,x,w);if(E)return _;const A=$8(e,y,b,u),P=L8(A),O=D8(e,S,P);let C=n?n(O,l):O;if(h&&Qe(C)&&(C=pq(C)),__INTLIFY_PROD_DEVTOOLS__){const L={timestamp:Date.now(),key:Qe(l)?l:Qi(_)?_.key:"",locale:y||(Qi(_)?_.locale:""),format:Qe(_)?_:Qi(_)?_.source:"",message:C};L.meta=on({},e.__meta,E8()||{}),r8(L)}return C}function I8(e){Ir(e.list)?e.list=e.list.map(t=>Qe(t)?WS(t):t):zt(e.named)&&Object.keys(e.named).forEach(t=>{Qe(e.named[t])&&(e.named[t]=WS(e.named[t]))})}function QD(e,t,r,n,i,a){const{messages:s,onWarn:o,messageResolver:l,localeFallbacker:u}=e,c=u(e,n,r);let f=er(),h,d=null;const v="translate";for(let p=0;p<c.length&&(h=c[p],f=s[h]||er(),(d=l(f,t))===null&&(d=f[t]),!(Qe(d)||os(d)||Qi(d)));p++)if(!T8(h,c)){const g=a_(e,t,h,a,v);g!==t&&(d=g)}return[d,h,f]}function JD(e,t,r,n,i,a){const{messageCompiler:s,warnHtmlMessage:o}=e;if(Qi(n)){const u=n;return u.locale=u.locale||r,u.key=u.key||t,u}if(s==null){const u=()=>n;return u.locale=r,u.key=t,u}const l=s(n,F8(e,r,i,n,o,a));return l.locale=r,l.key=t,l.source=n,l}function D8(e,t,r){return t(r)}function fE(...e){const[t,r,n]=e,i=er();if(!Qe(t)&&!Ur(t)&&!Qi(t)&&!os(t))throw Bs($s.INVALID_ARGUMENT);const a=Ur(t)?String(t):(Qi(t),t);return Ur(r)?i.plural=r:Qe(r)?i.default=r:Nt(r)&&!_p(r)?i.named=r:Ir(r)&&(i.list=r),Ur(n)?i.plural=n:Qe(n)?i.default=n:Nt(n)&&on(i,n),[a,i]}function F8(e,t,r,n,i,a){return{locale:t,key:r,warnHtmlMessage:i,onError:s=>{throw a&&a(s),s},onCacheKey:s=>fq(t,r,s)}}function $8(e,t,r,n){const{modifiers:i,pluralRules:a,messageResolver:s,fallbackLocale:o,fallbackWarn:l,missingWarn:u,fallbackContext:c}=e,h={locale:t,modifiers:i,pluralRules:a,messages:(d,v)=>{let p=s(r,d);if(p==null&&(c||v)){const[,,g]=QD(c||e,d,t,o,l,u);p=s(g,d)}if(Qe(p)||os(p)){let g=!1;const y=JD(e,d,t,p,d,()=>{g=!0});return g?lT:y}else return Qi(p)?p:lT}};return e.processor&&(h.processor=e.processor),n.list&&(h.list=n.list),n.named&&(h.named=n.named),Ur(n.plural)&&(h.pluralIndex=n.plural),h}jq();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function s_(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Bt={},gu=[],Na=()=>{},eF=()=>!1,Tp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),o_=e=>e.startsWith("onUpdate:"),Kr=Object.assign,l_=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},B8=Object.prototype.hasOwnProperty,Wt=(e,t)=>B8.call(e,t),ot=Array.isArray,mu=e=>eh(e)==="[object Map]",tF=e=>eh(e)==="[object Set]",cT=e=>eh(e)==="[object Date]",mt=e=>typeof e=="function",Ar=e=>typeof e=="string",Ca=e=>typeof e=="symbol",Kt=e=>e!==null&&typeof e=="object",rF=e=>(Kt(e)||mt(e))&&mt(e.then)&&mt(e.catch),nF=Object.prototype.toString,eh=e=>nF.call(e),z8=e=>eh(e).slice(8,-1),iF=e=>eh(e)==="[object Object]",u_=e=>Ar(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Zc=s_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mp=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},G8=/-\w/g,zi=Mp(e=>e.replace(G8,t=>t.slice(1).toUpperCase())),q8=/\B([A-Z])/g,to=Mp(e=>e.replace(q8,"-$1").toLowerCase()),Np=Mp(e=>e.charAt(0).toUpperCase()+e.slice(1)),jg=Mp(e=>e?`on${Np(e)}`:""),ci=(e,t)=>!Object.is(e,t),Xd=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},aF=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},hE=e=>{const t=parseFloat(e);return isNaN(t)?e:t},j8=e=>{const t=Ar(e)?Number(e):NaN;return isNaN(t)?e:t};let fT;const Ap=()=>fT||(fT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Pp(e){if(ot(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=Ar(n)?H8(n):Pp(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(Ar(e)||Kt(e))return e}const W8=/;(?![^(]*\))/g,V8=/:([^]+)/,U8=/\/\*[^]*?\*\//g;function H8(e){const t={};return e.replace(U8,"").split(W8).forEach(r=>{if(r){const n=r.split(V8);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function c_(e){let t="";if(Ar(e))t=e;else if(ot(e))for(let r=0;r<e.length;r++){const n=c_(e[r]);n&&(t+=n+" ")}else if(Kt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Y8="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",X8=s_(Y8);function sF(e){return!!e||e===""}function K8(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=dv(e[n],t[n]);return r}function dv(e,t){if(e===t)return!0;let r=cT(e),n=cT(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=Ca(e),n=Ca(t),r||n)return e===t;if(r=ot(e),n=ot(t),r||n)return r&&n?K8(e,t):!1;if(r=Kt(e),n=Kt(t),r||n){if(!r||!n)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const s in e){const o=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(o&&!l||!o&&l||!dv(e[s],t[s]))return!1}}return String(e)===String(t)}const oF=e=>!!(e&&e.__v_isRef===!0),Z8=e=>Ar(e)?e:e==null?"":ot(e)||Kt(e)&&(e.toString===nF||!mt(e.toString))?oF(e)?Z8(e.value):JSON.stringify(e,lF,2):String(e),lF=(e,t)=>oF(t)?lF(e,t.value):mu(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],a)=>(r[Wg(n,a)+" =>"]=i,r),{})}:tF(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Wg(r))}:Ca(t)?Wg(t):Kt(t)&&!ot(t)&&!iF(t)?String(t):t,Wg=(e,t="")=>{var r;return Ca(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Dn;class uF{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Dn,!t&&Dn&&(this.index=(Dn.scopes||(Dn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Dn;try{return Dn=this,t()}finally{Dn=r}}}on(){++this._on===1&&(this.prevScope=Dn,Dn=this)}off(){this._on>0&&--this._on===0&&(Dn=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function f_(e){return new uF(e)}function Op(){return Dn}function h_(e,t=!1){Dn&&Dn.cleanups.push(e)}let ir;const Vg=new WeakSet;class cF{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Dn&&Dn.active&&Dn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vg.has(this)&&(Vg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||hF(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,hT(this),dF(this);const t=ir,r=Aa;ir=this,Aa=!0;try{return this.fn()}finally{vF(this),ir=t,Aa=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)p_(t);this.deps=this.depsTail=void 0,hT(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){dE(this)&&this.run()}get dirty(){return dE(this)}}let fF=0,Qc,Jc;function hF(e,t=!1){if(e.flags|=8,t){e.next=Jc,Jc=e;return}e.next=Qc,Qc=e}function d_(){fF++}function v_(){if(--fF>0)return;if(Jc){let t=Jc;for(Jc=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;Qc;){let t=Qc;for(Qc=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function dF(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function vF(e){let t,r=e.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),p_(n),Q8(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=r}function dE(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(pF(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function pF(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===xf)||(e.globalVersion=xf,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!dE(e))))return;e.flags|=2;const t=e.dep,r=ir,n=Aa;ir=e,Aa=!0;try{dF(e);const i=e.fn(e._value);(t.version===0||ci(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{ir=r,Aa=n,vF(e),e.flags&=-3}}function p_(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)p_(a,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Q8(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let Aa=!0;const gF=[];function Ys(){gF.push(Aa),Aa=!1}function Xs(){const e=gF.pop();Aa=e===void 0?!0:e}function hT(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=ir;ir=void 0;try{t()}finally{ir=r}}}let xf=0;class J8{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Cp{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ir||!Aa||ir===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==ir)r=this.activeLink=new J8(ir,this),ir.deps?(r.prevDep=ir.depsTail,ir.depsTail.nextDep=r,ir.depsTail=r):ir.deps=ir.depsTail=r,mF(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=ir.depsTail,r.nextDep=void 0,ir.depsTail.nextDep=r,ir.depsTail=r,ir.deps===r&&(ir.deps=n)}return r}trigger(t){this.version++,xf++,this.notify(t)}notify(t){d_();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{v_()}}}function mF(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)mF(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const vv=new WeakMap,El=Symbol(""),vE=Symbol(""),Ef=Symbol("");function Fn(e,t,r){if(Aa&&ir){let n=vv.get(e);n||vv.set(e,n=new Map);let i=n.get(r);i||(n.set(r,i=new Cp),i.map=n,i.key=r),i.track()}}function Ls(e,t,r,n,i,a){const s=vv.get(e);if(!s){xf++;return}const o=l=>{l&&l.trigger()};if(d_(),t==="clear")s.forEach(o);else{const l=ot(e),u=l&&u_(r);if(l&&r==="length"){const c=Number(n);s.forEach((f,h)=>{(h==="length"||h===Ef||!Ca(h)&&h>=c)&&o(f)})}else switch((r!==void 0||s.has(void 0))&&o(s.get(r)),u&&o(s.get(Ef)),t){case"add":l?u&&o(s.get("length")):(o(s.get(El)),mu(e)&&o(s.get(vE)));break;case"delete":l||(o(s.get(El)),mu(e)&&o(s.get(vE)));break;case"set":mu(e)&&o(s.get(El));break}}v_()}function ej(e,t){const r=vv.get(e);return r&&r.get(t)}function Zl(e){const t=Ct(e);return t===e?t:(Fn(t,"iterate",Ef),ra(e)?t:t.map(yn))}function Rp(e){return Fn(e=Ct(e),"iterate",Ef),e}const tj={__proto__:null,[Symbol.iterator](){return Ug(this,Symbol.iterator,yn)},concat(...e){return Zl(this).concat(...e.map(t=>ot(t)?Zl(t):t))},entries(){return Ug(this,"entries",e=>(e[1]=yn(e[1]),e))},every(e,t){return Ss(this,"every",e,t,void 0,arguments)},filter(e,t){return Ss(this,"filter",e,t,r=>r.map(yn),arguments)},find(e,t){return Ss(this,"find",e,t,yn,arguments)},findIndex(e,t){return Ss(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ss(this,"findLast",e,t,yn,arguments)},findLastIndex(e,t){return Ss(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ss(this,"forEach",e,t,void 0,arguments)},includes(...e){return Hg(this,"includes",e)},indexOf(...e){return Hg(this,"indexOf",e)},join(e){return Zl(this).join(e)},lastIndexOf(...e){return Hg(this,"lastIndexOf",e)},map(e,t){return Ss(this,"map",e,t,void 0,arguments)},pop(){return bc(this,"pop")},push(...e){return bc(this,"push",e)},reduce(e,...t){return dT(this,"reduce",e,t)},reduceRight(e,...t){return dT(this,"reduceRight",e,t)},shift(){return bc(this,"shift")},some(e,t){return Ss(this,"some",e,t,void 0,arguments)},splice(...e){return bc(this,"splice",e)},toReversed(){return Zl(this).toReversed()},toSorted(e){return Zl(this).toSorted(e)},toSpliced(...e){return Zl(this).toSpliced(...e)},unshift(...e){return bc(this,"unshift",e)},values(){return Ug(this,"values",yn)}};function Ug(e,t,r){const n=Rp(e),i=n[t]();return n!==e&&!ra(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.done||(a.value=r(a.value)),a}),i}const rj=Array.prototype;function Ss(e,t,r,n,i,a){const s=Rp(e),o=s!==e&&!ra(e),l=s[t];if(l!==rj[t]){const f=l.apply(e,a);return o?yn(f):f}let u=r;s!==e&&(o?u=function(f,h){return r.call(this,yn(f),h,e)}:r.length>2&&(u=function(f,h){return r.call(this,f,h,e)}));const c=l.call(s,u,n);return o&&i?i(c):c}function dT(e,t,r,n){const i=Rp(e);let a=r;return i!==e&&(ra(e)?r.length>3&&(a=function(s,o,l){return r.call(this,s,o,l,e)}):a=function(s,o,l){return r.call(this,s,yn(o),l,e)}),i[t](a,...n)}function Hg(e,t,r){const n=Ct(e);Fn(n,"iterate",Ef);const i=n[t](...r);return(i===-1||i===!1)&&y_(r[0])?(r[0]=Ct(r[0]),n[t](...r)):i}function bc(e,t,r=[]){Ys(),d_();const n=Ct(e)[t].apply(e,r);return v_(),Xs(),n}const nj=s_("__proto__,__v_isRef,__isVue"),yF=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ca));function ij(e){Ca(e)||(e=String(e));const t=Ct(this);return Fn(t,"has",e),t.hasOwnProperty(e)}class bF{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?vj:_F:a?EF:xF).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const s=ot(t);if(!i){let l;if(s&&(l=tj[r]))return l;if(r==="hasOwnProperty")return ij}const o=Reflect.get(t,r,gr(t)?t:n);if((Ca(r)?yF.has(r):nj(r))||(i||Fn(t,"get",r),a))return o;if(gr(o)){const l=s&&u_(r)?o:o.value;return i&&Kt(l)?Pl(l):l}return Kt(o)?i?Pl(o):Lp(o):o}}class wF extends bF{constructor(t=!1){super(!1,t)}set(t,r,n,i){let a=t[r];if(!this._isShallow){const l=Oo(a);if(!ra(n)&&!Oo(n)&&(a=Ct(a),n=Ct(n)),!ot(t)&&gr(a)&&!gr(n))return l||(a.value=n),!0}const s=ot(t)&&u_(r)?Number(r)<t.length:Wt(t,r),o=Reflect.set(t,r,n,gr(t)?t:i);return t===Ct(i)&&(s?ci(n,a)&&Ls(t,"set",r,n):Ls(t,"add",r,n)),o}deleteProperty(t,r){const n=Wt(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&Ls(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!Ca(r)||!yF.has(r))&&Fn(t,"has",r),n}ownKeys(t){return Fn(t,"iterate",ot(t)?"length":El),Reflect.ownKeys(t)}}class aj extends bF{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const sj=new wF,oj=new aj,lj=new wF(!0);const pE=e=>e,Ph=e=>Reflect.getPrototypeOf(e);function uj(e,t,r){return function(...n){const i=this.__v_raw,a=Ct(i),s=mu(a),o=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,u=i[e](...n),c=r?pE:t?pv:yn;return!t&&Fn(a,"iterate",l?vE:El),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:o?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function Oh(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function cj(e,t){const r={get(i){const a=this.__v_raw,s=Ct(a),o=Ct(i);e||(ci(i,o)&&Fn(s,"get",i),Fn(s,"get",o));const{has:l}=Ph(s),u=t?pE:e?pv:yn;if(l.call(s,i))return u(a.get(i));if(l.call(s,o))return u(a.get(o));a!==s&&a.get(i)},get size(){const i=this.__v_raw;return!e&&Fn(Ct(i),"iterate",El),i.size},has(i){const a=this.__v_raw,s=Ct(a),o=Ct(i);return e||(ci(i,o)&&Fn(s,"has",i),Fn(s,"has",o)),i===o?a.has(i):a.has(i)||a.has(o)},forEach(i,a){const s=this,o=s.__v_raw,l=Ct(o),u=t?pE:e?pv:yn;return!e&&Fn(l,"iterate",El),o.forEach((c,f)=>i.call(a,u(c),u(f),s))}};return Kr(r,e?{add:Oh("add"),set:Oh("set"),delete:Oh("delete"),clear:Oh("clear")}:{add(i){!t&&!ra(i)&&!Oo(i)&&(i=Ct(i));const a=Ct(this);return Ph(a).has.call(a,i)||(a.add(i),Ls(a,"add",i,i)),this},set(i,a){!t&&!ra(a)&&!Oo(a)&&(a=Ct(a));const s=Ct(this),{has:o,get:l}=Ph(s);let u=o.call(s,i);u||(i=Ct(i),u=o.call(s,i));const c=l.call(s,i);return s.set(i,a),u?ci(a,c)&&Ls(s,"set",i,a):Ls(s,"add",i,a),this},delete(i){const a=Ct(this),{has:s,get:o}=Ph(a);let l=s.call(a,i);l||(i=Ct(i),l=s.call(a,i)),o&&o.call(a,i);const u=a.delete(i);return l&&Ls(a,"delete",i,void 0),u},clear(){const i=Ct(this),a=i.size!==0,s=i.clear();return a&&Ls(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=uj(i,e,t)}),r}function g_(e,t){const r=cj(e,t);return(n,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Wt(r,i)&&i in n?r:n,i,a)}const fj={get:g_(!1,!1)},hj={get:g_(!1,!0)},dj={get:g_(!0,!1)};const xF=new WeakMap,EF=new WeakMap,_F=new WeakMap,vj=new WeakMap;function pj(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gj(e){return e.__v_skip||!Object.isExtensible(e)?0:pj(z8(e))}function Lp(e){return Oo(e)?e:m_(e,!1,sj,fj,xF)}function mj(e){return m_(e,!1,lj,hj,EF)}function Pl(e){return m_(e,!0,oj,dj,_F)}function m_(e,t,r,n,i){if(!Kt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=gj(e);if(a===0)return e;const s=i.get(e);if(s)return s;const o=new Proxy(e,a===2?n:r);return i.set(e,o),o}function qs(e){return Oo(e)?qs(e.__v_raw):!!(e&&e.__v_isReactive)}function Oo(e){return!!(e&&e.__v_isReadonly)}function ra(e){return!!(e&&e.__v_isShallow)}function y_(e){return e?!!e.__v_raw:!1}function Ct(e){const t=e&&e.__v_raw;return t?Ct(t):e}function b_(e){return!Wt(e,"__v_skip")&&Object.isExtensible(e)&&aF(e,"__v_skip",!0),e}const yn=e=>Kt(e)?Lp(e):e,pv=e=>Kt(e)?Pl(e):e;function gr(e){return e?e.__v_isRef===!0:!1}function Hr(e){return kF(e,!1)}function di(e){return kF(e,!0)}function kF(e,t){return gr(e)?e:new yj(e,t)}class yj{constructor(t,r){this.dep=new Cp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Ct(t),this._value=r?t:yn(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||ra(t)||Oo(t);t=n?t:Ct(t),ci(t,r)&&(this._rawValue=t,this._value=n?t:yn(t),this.dep.trigger())}}function th(e){return gr(e)?e.value:e}function ti(e){return mt(e)?e():th(e)}const bj={get:(e,t,r)=>t==="__v_raw"?e:th(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return gr(i)&&!gr(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function SF(e){return qs(e)?e:new Proxy(e,bj)}class wj{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new Cp,{get:n,set:i}=t(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function TF(e){return new wj(e)}function xj(e){const t=ot(e)?new Array(e.length):{};for(const r in e)t[r]=NF(e,r);return t}class Ej{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return ej(Ct(this._object),this._key)}}class _j{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function MF(e,t,r){return gr(e)?e:mt(e)?new _j(e):Kt(e)&&arguments.length>1?NF(e,t,r):Hr(e)}function NF(e,t,r){const n=e[t];return gr(n)?n:new Ej(e,t,r)}class kj{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new Cp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=xf-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ir!==this)return hF(this,!0),!0}get value(){const t=this.dep.track();return pF(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Sj(e,t,r=!1){let n,i;return mt(e)?n=e:(n=e.get,i=e.set),new kj(n,i,r)}const Ch={},gv=new WeakMap;let fl;function Tj(e,t=!1,r=fl){if(r){let n=gv.get(r);n||gv.set(r,n=[]),n.push(e)}}function Mj(e,t,r=Bt){const{immediate:n,deep:i,once:a,scheduler:s,augmentJob:o,call:l}=r,u=_=>i?_:ra(_)||i===!1||i===0?Is(_,1):Is(_);let c,f,h,d,v=!1,p=!1;if(gr(e)?(f=()=>e.value,v=ra(e)):qs(e)?(f=()=>u(e),v=!0):ot(e)?(p=!0,v=e.some(_=>qs(_)||ra(_)),f=()=>e.map(_=>{if(gr(_))return _.value;if(qs(_))return u(_);if(mt(_))return l?l(_,2):_()})):mt(e)?t?f=l?()=>l(e,2):e:f=()=>{if(h){Ys();try{h()}finally{Xs()}}const _=fl;fl=c;try{return l?l(e,3,[d]):e(d)}finally{fl=_}}:f=Na,t&&i){const _=f,x=i===!0?1/0:i;f=()=>Is(_(),x)}const g=Op(),m=()=>{c.stop(),g&&g.active&&l_(g.effects,c)};if(a&&t){const _=t;t=(...x)=>{_(...x),m()}}let y=p?new Array(e.length).fill(Ch):Ch;const b=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(t){const x=c.run();if(i||v||(p?x.some((E,w)=>ci(E,y[w])):ci(x,y))){h&&h();const E=fl;fl=c;try{const w=[x,y===Ch?void 0:p&&y[0]===Ch?[]:y,d];y=x,l?l(t,3,w):t(...w)}finally{fl=E}}}else c.run()};return o&&o(b),c=new cF(f),c.scheduler=s?()=>s(b,!1):b,d=_=>Tj(_,!1,c),h=c.onStop=()=>{const _=gv.get(c);if(_){if(l)l(_,4);else for(const x of _)x();gv.delete(c)}},t?n?b(!0):y=c.run():s?s(b.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function Is(e,t=1/0,r){if(t<=0||!Kt(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,gr(e))Is(e.value,t,r);else if(ot(e))for(let n=0;n<e.length;n++)Is(e[n],t,r);else if(tF(e)||mu(e))e.forEach(n=>{Is(n,t,r)});else if(iF(e)){for(const n in e)Is(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Is(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rh(e,t,r,n){try{return n?e(...n):e()}catch(i){nh(i,t,r)}}function Ra(e,t,r,n){if(mt(e)){const i=rh(e,t,r,n);return i&&rF(i)&&i.catch(a=>{nh(a,t,r)}),i}if(ot(e)){const i=[];for(let a=0;a<e.length;a++)i.push(Ra(e[a],t,r,n));return i}}function nh(e,t,r,n=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||Bt;if(t){let o=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}o=o.parent}if(a){Ys(),rh(a,null,10,[e,l,u]),Xs();return}}Nj(e,r,i,n,s)}function Nj(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const Zn=[];let rs=-1;const yu=[];let po=null,cu=0;const AF=Promise.resolve();let mv=null;function Po(e){const t=mv||AF;return e?t.then(this?e.bind(this):e):t}function Aj(e){let t=rs+1,r=Zn.length;for(;t<r;){const n=t+r>>>1,i=Zn[n],a=_f(i);a<e||a===e&&i.flags&2?t=n+1:r=n}return t}function w_(e){if(!(e.flags&1)){const t=_f(e),r=Zn[Zn.length-1];!r||!(e.flags&2)&&t>=_f(r)?Zn.push(e):Zn.splice(Aj(t),0,e),e.flags|=1,PF()}}function PF(){mv||(mv=AF.then(CF))}function Pj(e){ot(e)?yu.push(...e):po&&e.id===-1?po.splice(cu+1,0,e):e.flags&1||(yu.push(e),e.flags|=1),PF()}function vT(e,t,r=rs+1){for(;r<Zn.length;r++){const n=Zn[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Zn.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function OF(e){if(yu.length){const t=[...new Set(yu)].sort((r,n)=>_f(r)-_f(n));if(yu.length=0,po){po.push(...t);return}for(po=t,cu=0;cu<po.length;cu++){const r=po[cu];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}po=null,cu=0}}const _f=e=>e.id==null?e.flags&2?-1:1/0:e.id;function CF(e){try{for(rs=0;rs<Zn.length;rs++){const t=Zn[rs];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rh(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;rs<Zn.length;rs++){const t=Zn[rs];t&&(t.flags&=-2)}rs=-1,Zn.length=0,OF(),mv=null,(Zn.length||yu.length)&&CF()}}let _n=null,RF=null;function yv(e){const t=_n;return _n=e,RF=e&&e.type.__scopeId||null,t}function Oj(e,t=_n,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&Ev(-1);const a=yv(t);let s;try{s=e(...i)}finally{yv(a),n._d&&Ev(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function mwe(e,t){if(_n===null)return e;const r=zp(_n),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,s,o,l=Bt]=t[i];a&&(mt(a)&&(a={mounted:a,updated:a}),a.deep&&Is(s),n.push({dir:a,instance:r,value:s,oldValue:void 0,arg:o,modifiers:l}))}return e}function Ko(e,t,r,n){const i=e.dirs,a=t&&t.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let l=o.dir[n];l&&(Ys(),Ra(l,r,8,[e.el,o,e,t]),Xs())}}const LF=Symbol("_vte"),IF=e=>e.__isTeleport,ef=e=>e&&(e.disabled||e.disabled===""),pT=e=>e&&(e.defer||e.defer===""),gT=e=>typeof SVGElement<"u"&&e instanceof SVGElement,mT=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,gE=(e,t)=>{const r=e&&e.to;return Ar(r)?t?t(r):null:r},DF={name:"Teleport",__isTeleport:!0,process(e,t,r,n,i,a,s,o,l,u){const{mc:c,pc:f,pbc:h,o:{insert:d,querySelector:v,createText:p,createComment:g}}=u,m=ef(t.props);let{shapeFlag:y,children:b,dynamicChildren:_}=t;if(e==null){const x=t.el=p(""),E=t.anchor=p("");d(x,r,n),d(E,r,n);const w=(A,P)=>{y&16&&c(b,A,P,i,a,s,o,l)},S=()=>{const A=t.target=gE(t.props,v),P=FF(A,t,p,d);A&&(s!=="svg"&&gT(A)?s="svg":s!=="mathml"&&mT(A)&&(s="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(A),m||(w(A,P),Kd(t,!1)))};m&&(w(r,E),Kd(t,!0)),pT(t.props)?(t.el.__isMounted=!1,Hn(()=>{S(),delete t.el.__isMounted},a)):S()}else{if(pT(t.props)&&e.el.__isMounted===!1){Hn(()=>{DF.process(e,t,r,n,i,a,s,o,l,u)},a);return}t.el=e.el,t.targetStart=e.targetStart;const x=t.anchor=e.anchor,E=t.target=e.target,w=t.targetAnchor=e.targetAnchor,S=ef(e.props),A=S?r:E,P=S?x:w;if(s==="svg"||gT(E)?s="svg":(s==="mathml"||mT(E))&&(s="mathml"),_?(h(e.dynamicChildren,_,A,i,a,s,o),M_(e,t,!0)):l||f(e,t,A,P,i,a,s,o,!1),m)S?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Rh(t,r,x,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const O=t.target=gE(t.props,v);O&&Rh(t,O,null,u,0)}else S&&Rh(t,E,w,u,1);Kd(t,m)}},remove(e,t,r,{um:n,o:{remove:i}},a){const{shapeFlag:s,children:o,anchor:l,targetStart:u,targetAnchor:c,target:f,props:h}=e;if(f&&(i(u),i(c)),a&&i(l),s&16){const d=a||!ef(h);for(let v=0;v<o.length;v++){const p=o[v];n(p,t,r,d,!!p.dynamicChildren)}}},move:Rh,hydrate:Cj};function Rh(e,t,r,{o:{insert:n},m:i},a=2){a===0&&n(e.targetAnchor,t,r);const{el:s,anchor:o,shapeFlag:l,children:u,props:c}=e,f=a===2;if(f&&n(s,t,r),(!f||ef(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],t,r,2);f&&n(o,t,r)}function Cj(e,t,r,n,i,a,{o:{nextSibling:s,parentNode:o,querySelector:l,insert:u,createText:c}},f){function h(p,g,m,y){g.anchor=f(s(p),g,o(p),r,n,i,a),g.targetStart=m,g.targetAnchor=y}const d=t.target=gE(t.props,l),v=ef(t.props);if(d){const p=d._lpa||d.firstChild;if(t.shapeFlag&16)if(v)h(e,t,p,p&&s(p));else{t.anchor=s(e);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,d._lpa=t.targetAnchor&&s(t.targetAnchor);break}}g=s(g)}t.targetAnchor||FF(d,t,c,u),f(p&&s(p),t,d,r,n,i,a)}Kd(t,v)}else v&&t.shapeFlag&16&&h(e,t,e,s(e));return t.anchor&&s(t.anchor)}const ywe=DF;function Kd(e,t){const r=e.ctx;if(r&&r.ut){let n,i;for(t?(n=e.el,i=e.anchor):(n=e.targetStart,i=e.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function FF(e,t,r,n){const i=t.targetStart=r(""),a=t.targetAnchor=r("");return i[LF]=a,e&&(n(i,e),n(a,e)),a}const Ps=Symbol("_leaveCb"),Lh=Symbol("_enterCb");function $F(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qo(()=>{e.isMounted=!0}),Fp(()=>{e.isUnmounting=!0}),e}const Wi=[Function,Array],BF={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Wi,onEnter:Wi,onAfterEnter:Wi,onEnterCancelled:Wi,onBeforeLeave:Wi,onLeave:Wi,onAfterLeave:Wi,onLeaveCancelled:Wi,onBeforeAppear:Wi,onAppear:Wi,onAfterAppear:Wi,onAppearCancelled:Wi},zF=e=>{const t=e.subTree;return t.component?zF(t.component):t},Rj={name:"BaseTransition",props:BF,setup(e,{slots:t}){const r=qn(),n=$F();return()=>{const i=t.default&&x_(t.default(),!0);if(!i||!i.length)return;const a=GF(i),s=Ct(e),{mode:o}=s;if(n.isLeaving)return Yg(a);const l=yT(a);if(!l)return Yg(a);let u=kf(l,s,n,r,f=>u=f);l.type!==Bn&&Ol(l,u);let c=r.subTree&&yT(r.subTree);if(c&&c.type!==Bn&&!hl(c,l)&&zF(r).type!==Bn){let f=kf(c,s,n,r);if(Ol(c,f),o==="out-in"&&l.type!==Bn)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,c=void 0},Yg(a);o==="in-out"&&l.type!==Bn?f.delayLeave=(h,d,v)=>{const p=qF(n,c);p[String(c.key)]=c,h[Ps]=()=>{d(),h[Ps]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{v(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return a}}};function GF(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==Bn){t=r;break}}return t}const Lj=Rj;function qF(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function kf(e,t,r,n,i){const{appear:a,mode:s,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:h,onLeave:d,onAfterLeave:v,onLeaveCancelled:p,onBeforeAppear:g,onAppear:m,onAfterAppear:y,onAppearCancelled:b}=t,_=String(e.key),x=qF(r,e),E=(A,P)=>{A&&Ra(A,n,9,P)},w=(A,P)=>{const O=P[1];E(A,P),ot(A)?A.every(C=>C.length<=1)&&O():A.length<=1&&O()},S={mode:s,persisted:o,beforeEnter(A){let P=l;if(!r.isMounted)if(a)P=g||l;else return;A[Ps]&&A[Ps](!0);const O=x[_];O&&hl(e,O)&&O.el[Ps]&&O.el[Ps](),E(P,[A])},enter(A){let P=u,O=c,C=f;if(!r.isMounted)if(a)P=m||u,O=y||c,C=b||f;else return;let L=!1;const I=A[Lh]=F=>{L||(L=!0,F?E(C,[A]):E(O,[A]),S.delayedLeave&&S.delayedLeave(),A[Lh]=void 0)};P?w(P,[A,I]):I()},leave(A,P){const O=String(e.key);if(A[Lh]&&A[Lh](!0),r.isUnmounting)return P();E(h,[A]);let C=!1;const L=A[Ps]=I=>{C||(C=!0,P(),I?E(p,[A]):E(v,[A]),A[Ps]=void 0,x[O]===e&&delete x[O])};x[O]=e,d?w(d,[A,L]):L()},clone(A){const P=kf(A,t,r,n,i);return i&&i(P),P}};return S}function Yg(e){if(ih(e))return e=Co(e),e.children=null,e}function yT(e){if(!ih(e))return IF(e.type)&&e.children?GF(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&mt(r.default))return r.default()}}function Ol(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ol(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function x_(e,t=!1,r){let n=[],i=0;for(let a=0;a<e.length;a++){let s=e[a];const o=r==null?s.key:String(r)+String(s.key!=null?s.key:a);s.type===$n?(s.patchFlag&128&&i++,n=n.concat(x_(s.children,t,o))):(t||s.type!==Bn)&&n.push(o!=null?Co(s,{key:o}):s)}if(i>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}function Ip(e,t){return mt(e)?Kr({name:e.name},t,{setup:e}):e}function E_(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const bv=new WeakMap;function tf(e,t,r,n,i=!1){if(ot(e)){e.forEach((v,p)=>tf(v,t&&(ot(t)?t[p]:t),r,n,i));return}if(bu(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&tf(e,t,r,n.component.subTree);return}const a=n.shapeFlag&4?zp(n.component):n.el,s=i?null:a,{i:o,r:l}=e,u=t&&t.r,c=o.refs===Bt?o.refs={}:o.refs,f=o.setupState,h=Ct(f),d=f===Bt?eF:v=>Wt(h,v);if(u!=null&&u!==l){if(bT(t),Ar(u))c[u]=null,d(u)&&(f[u]=null);else if(gr(u)){u.value=null;const v=t;v.k&&(c[v.k]=null)}}if(mt(l))rh(l,o,12,[s,c]);else{const v=Ar(l),p=gr(l);if(v||p){const g=()=>{if(e.f){const m=v?d(l)?f[l]:c[l]:l.value;if(i)ot(m)&&l_(m,a);else if(ot(m))m.includes(a)||m.push(a);else if(v)c[l]=[a],d(l)&&(f[l]=c[l]);else{const y=[a];l.value=y,e.k&&(c[e.k]=y)}}else v?(c[l]=s,d(l)&&(f[l]=s)):p&&(l.value=s,e.k&&(c[e.k]=s))};if(s){const m=()=>{g(),bv.delete(e)};m.id=-1,bv.set(e,m),Hn(m,r)}else bT(e),g()}}}function bT(e){const t=bv.get(e);t&&(t.flags|=8,bv.delete(e))}const wT=e=>e.nodeType===8;Ap().requestIdleCallback;Ap().cancelIdleCallback;function Ij(e,t){if(wT(e)&&e.data==="["){let r=1,n=e.nextSibling;for(;n;){if(n.nodeType===1){if(t(n)===!1)break}else if(wT(n))if(n.data==="]"){if(--r===0)break}else n.data==="["&&r++;n=n.nextSibling}}else t(e)}const bu=e=>!!e.type.__asyncLoader;function bwe(e){mt(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:n,delay:i=200,hydrate:a,timeout:s,suspensible:o=!0,onError:l}=e;let u=null,c,f=0;const h=()=>(f++,u=null,d()),d=()=>{let v;return u||(v=u=t().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),l)return new Promise((g,m)=>{l(p,()=>g(h()),()=>m(p),f+1)});throw p}).then(p=>v!==u&&u?u:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return Ip({name:"AsyncComponentWrapper",__asyncLoader:d,__asyncHydrate(v,p,g){let m=!1;(p.bu||(p.bu=[])).push(()=>m=!0);const y=()=>{m||g()},b=a?()=>{const _=a(y,x=>Ij(v,x));_&&(p.bum||(p.bum=[])).push(_)}:y;c?b():d().then(()=>!p.isUnmounted&&b())},get __asyncResolved(){return c},setup(){const v=xn;if(E_(v),c)return()=>Xg(c,v);const p=b=>{u=null,nh(b,v,13,!n)};if(o&&v.suspense||Ou)return d().then(b=>()=>Xg(b,v)).catch(b=>(p(b),()=>n?Yr(n,{error:b}):null));const g=Hr(!1),m=Hr(),y=Hr(!!i);return i&&setTimeout(()=>{y.value=!1},i),s!=null&&setTimeout(()=>{if(!g.value&&!m.value){const b=new Error(`Async component timed out after ${s}ms.`);p(b),m.value=b}},s),d().then(()=>{g.value=!0,v.parent&&ih(v.parent.vnode)&&v.parent.update()}).catch(b=>{p(b),m.value=b}),()=>{if(g.value&&c)return Xg(c,v);if(m.value&&n)return Yr(n,{error:m.value});if(r&&!y.value)return Yr(r)}}})}function Xg(e,t){const{ref:r,props:n,children:i,ce:a}=t.vnode,s=Yr(e,n,i);return s.ref=r,s.ce=a,delete t.vnode.ce,s}const ih=e=>e.type.__isKeepAlive;function Dj(e,t){jF(e,"a",t)}function Fj(e,t){jF(e,"da",t)}function jF(e,t,r=xn){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Dp(t,n,r),r){let i=r.parent;for(;i&&i.parent;)ih(i.parent.vnode)&&$j(n,t,r,i),i=i.parent}}function $j(e,t,r,n){const i=Dp(t,e,n,!0);__(()=>{l_(n[t],i)},r)}function Dp(e,t,r=xn,n=!1){if(r){const i=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...s)=>{Ys();const o=sh(r),l=Ra(t,r,e,s);return o(),Xs(),l});return n?i.unshift(a):i.push(a),a}}const ro=e=>(t,r=xn)=>{(!Ou||e==="sp")&&Dp(e,(...n)=>t(...n),r)},Bj=ro("bm"),qo=ro("m"),zj=ro("bu"),WF=ro("u"),Fp=ro("bum"),__=ro("um"),Gj=ro("sp"),qj=ro("rtg"),jj=ro("rtc");function Wj(e,t=xn){Dp("ec",e,t)}const Vj="components",VF=Symbol.for("v-ndc");function Uj(e){return Ar(e)?Hj(Vj,e,!1)||e:e||VF}function Hj(e,t,r=!0,n=!1){const i=_n||xn;if(i){const a=i.type;{const o=F9(a,!1);if(o&&(o===t||o===zi(t)||o===Np(zi(t))))return a}const s=xT(i[e]||a[e],t)||xT(i.appContext[e],t);return!s&&n?a:s}}function xT(e,t){return e&&(e[t]||e[zi(t)]||e[Np(zi(t))])}function wwe(e,t,r,n){let i;const a=r,s=ot(e);if(s||Ar(e)){const o=s&&qs(e);let l=!1,u=!1;o&&(l=!ra(e),u=Oo(e),e=Rp(e)),i=new Array(e.length);for(let c=0,f=e.length;c<f;c++)i[c]=t(l?u?pv(yn(e[c])):yn(e[c]):e[c],c,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,a)}else if(Kt(e))if(e[Symbol.iterator])i=Array.from(e,(o,l)=>t(o,l,void 0,a));else{const o=Object.keys(e);i=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];i[l]=t(e[c],c,l,a)}}else i=[];return i}function xwe(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(ot(n))for(let i=0;i<n.length;i++)e[n[i].name]=n[i].fn;else n&&(e[n.name]=n.key?(...i)=>{const a=n.fn(...i);return a&&(a.key=n.key),a}:n.fn)}return e}function Yj(e,t,r={},n,i){if(_n.ce||_n.parent&&bu(_n.parent)&&_n.parent.ce){const u=Object.keys(r).length>0;return t!=="default"&&(r.name=t),Sf(),_v($n,null,[Yr("slot",r,n&&n())],u?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),Sf();const s=a&&UF(a(r)),o=r.key||s&&s.key,l=_v($n,{key:(o&&!Ca(o)?o:`_${t}`)+(!s&&n?"_fb":"")},s||(n?n():[]),s&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function UF(e){return e.some(t=>Mf(t)?!(t.type===Bn||t.type===$n&&!UF(t.children)):!0)?e:null}const mE=e=>e?v5(e)?zp(e):mE(e.parent):null,rf=Kr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>mE(e.parent),$root:e=>mE(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>XF(e),$forceUpdate:e=>e.f||(e.f=()=>{w_(e.update)}),$nextTick:e=>e.n||(e.n=Po.bind(e.proxy)),$watch:e=>m9.bind(e)}),Kg=(e,t)=>e!==Bt&&!e.__isScriptSetup&&Wt(e,t),Xj={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:s,type:o,appContext:l}=e;let u;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return a[t]}else{if(Kg(n,t))return s[t]=1,n[t];if(i!==Bt&&Wt(i,t))return s[t]=2,i[t];if((u=e.propsOptions[0])&&Wt(u,t))return s[t]=3,a[t];if(r!==Bt&&Wt(r,t))return s[t]=4,r[t];yE&&(s[t]=0)}}const c=rf[t];let f,h;if(c)return t==="$attrs"&&Fn(e.attrs,"get",""),c(e);if((f=o.__cssModules)&&(f=f[t]))return f;if(r!==Bt&&Wt(r,t))return s[t]=4,r[t];if(h=l.config.globalProperties,Wt(h,t))return h[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:a}=e;return Kg(i,t)?(i[t]=r,!0):n!==Bt&&Wt(n,t)?(n[t]=r,!0):Wt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:a,type:s}},o){let l,u;return!!(r[o]||e!==Bt&&o[0]!=="$"&&Wt(e,o)||Kg(t,o)||(l=a[0])&&Wt(l,o)||Wt(n,o)||Wt(rf,o)||Wt(i.config.globalProperties,o)||(u=s.__cssModules)&&u[o])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Wt(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Kj(){return HF().slots}function Ewe(){return HF().attrs}function HF(e){const t=qn();return t.setupContext||(t.setupContext=g5(t))}function wv(e){return ot(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function _we(e,t){return!e||!t?e||t:ot(e)&&ot(t)?e.concat(t):Kr({},wv(e),wv(t))}let yE=!0;function Zj(e){const t=XF(e),r=e.proxy,n=e.ctx;yE=!1,t.beforeCreate&&ET(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:o,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:v,activated:p,deactivated:g,beforeDestroy:m,beforeUnmount:y,destroyed:b,unmounted:_,render:x,renderTracked:E,renderTriggered:w,errorCaptured:S,serverPrefetch:A,expose:P,inheritAttrs:O,components:C,directives:L,filters:I}=t;if(u&&Qj(u,n,null),s)for(const G in s){const z=s[G];mt(z)&&(n[G]=z.bind(r))}if(i){const G=i.call(r,r);Kt(G)&&(e.data=Lp(G))}if(yE=!0,a)for(const G in a){const z=a[G],Z=mt(z)?z.bind(r,r):mt(z.get)?z.get.bind(r,r):Na,ge=!mt(z)&&mt(z.set)?z.set.bind(r):Na,xe=Dt({get:Z,set:ge});Object.defineProperty(n,G,{enumerable:!0,configurable:!0,get:()=>xe.value,set:ve=>xe.value=ve})}if(o)for(const G in o)YF(o[G],n,r,G);if(l){const G=mt(l)?l.call(r):l;Reflect.ownKeys(G).forEach(z=>{fo(z,G[z])})}c&&ET(c,e,"c");function U(G,z){ot(z)?z.forEach(Z=>G(Z.bind(r))):z&&G(z.bind(r))}if(U(Bj,f),U(qo,h),U(zj,d),U(WF,v),U(Dj,p),U(Fj,g),U(Wj,S),U(jj,E),U(qj,w),U(Fp,y),U(__,_),U(Gj,A),ot(P))if(P.length){const G=e.exposed||(e.exposed={});P.forEach(z=>{Object.defineProperty(G,z,{get:()=>r[z],set:Z=>r[z]=Z,enumerable:!0})})}else e.exposed||(e.exposed={});x&&e.render===Na&&(e.render=x),O!=null&&(e.inheritAttrs=O),C&&(e.components=C),L&&(e.directives=L),A&&E_(e)}function Qj(e,t,r=Na){ot(e)&&(e=bE(e));for(const n in e){const i=e[n];let a;Kt(i)?"default"in i?a=Oi(i.from||n,i.default,!0):a=Oi(i.from||n):a=Oi(i),gr(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):t[n]=a}}function ET(e,t,r){Ra(ot(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function YF(e,t,r,n){let i=n.includes(".")?o5(r,n):()=>r[n];if(Ar(e)){const a=t[e];mt(a)&&Gr(i,a)}else if(mt(e))Gr(i,e.bind(r));else if(Kt(e))if(ot(e))e.forEach(a=>YF(a,t,r,n));else{const a=mt(e.handler)?e.handler.bind(r):t[e.handler];mt(a)&&Gr(i,a,e)}}function XF(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,o=a.get(t);let l;return o?l=o:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>xv(l,u,s,!0)),xv(l,t,s)),Kt(t)&&a.set(t,l),l}function xv(e,t,r,n=!1){const{mixins:i,extends:a}=t;a&&xv(e,a,r,!0),i&&i.forEach(s=>xv(e,s,r,!0));for(const s in t)if(!(n&&s==="expose")){const o=Jj[s]||r&&r[s];e[s]=o?o(e[s],t[s]):t[s]}return e}const Jj={data:_T,props:kT,emits:kT,methods:$c,computed:$c,beforeCreate:Un,created:Un,beforeMount:Un,mounted:Un,beforeUpdate:Un,updated:Un,beforeDestroy:Un,beforeUnmount:Un,destroyed:Un,unmounted:Un,activated:Un,deactivated:Un,errorCaptured:Un,serverPrefetch:Un,components:$c,directives:$c,watch:t9,provide:_T,inject:e9};function _T(e,t){return t?e?function(){return Kr(mt(e)?e.call(this,this):e,mt(t)?t.call(this,this):t)}:t:e}function e9(e,t){return $c(bE(e),bE(t))}function bE(e){if(ot(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Un(e,t){return e?[...new Set([].concat(e,t))]:t}function $c(e,t){return e?Kr(Object.create(null),e,t):t}function kT(e,t){return e?ot(e)&&ot(t)?[...new Set([...e,...t])]:Kr(Object.create(null),wv(e),wv(t??{})):t}function t9(e,t){if(!e)return t;if(!t)return e;const r=Kr(Object.create(null),e);for(const n in t)r[n]=Un(e[n],t[n]);return r}function KF(){return{app:null,config:{isNativeTag:eF,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let r9=0;function n9(e,t){return function(n,i=null){mt(n)||(n=Kr({},n)),i!=null&&!Kt(i)&&(i=null);const a=KF(),s=new WeakSet,o=[];let l=!1;const u=a.app={_uid:r9++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:B9,get config(){return a.config},set config(c){},use(c,...f){return s.has(c)||(c&&mt(c.install)?(s.add(c),c.install(u,...f)):mt(c)&&(s.add(c),c(u,...f))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,f){return f?(a.components[c]=f,u):a.components[c]},directive(c,f){return f?(a.directives[c]=f,u):a.directives[c]},mount(c,f,h){if(!l){const d=u._ceVNode||Yr(n,i);return d.appContext=a,h===!0?h="svg":h===!1&&(h=void 0),e(d,c,h),l=!0,u._container=c,c.__vue_app__=u,zp(d.component)}},onUnmount(c){o.push(c)},unmount(){l&&(Ra(o,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return a.provides[c]=f,u},runWithContext(c){const f=_l;_l=u;try{return c()}finally{_l=f}}};return u}}let _l=null;function fo(e,t){if(xn){let r=xn.provides;const n=xn.parent&&xn.parent.provides;n===r&&(r=xn.provides=Object.create(n)),r[e]=t}}function Oi(e,t,r=!1){const n=qn();if(n||_l){let i=_l?_l._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&mt(t)?t.call(n&&n.proxy):t}}function k_(){return!!(qn()||_l)}const ZF={},QF=()=>Object.create(ZF),JF=e=>Object.getPrototypeOf(e)===ZF;function i9(e,t,r,n=!1){const i={},a=QF();e.propsDefaults=Object.create(null),e5(e,t,i,a);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);r?e.props=n?i:mj(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function a9(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:s}}=e,o=Ct(i),[l]=e.propsOptions;let u=!1;if((n||s>0)&&!(s&16)){if(s&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(Bp(e.emitsOptions,h))continue;const d=t[h];if(l)if(Wt(a,h))d!==a[h]&&(a[h]=d,u=!0);else{const v=zi(h);i[v]=wE(l,o,v,d,e,!1)}else d!==a[h]&&(a[h]=d,u=!0)}}}else{e5(e,t,i,a)&&(u=!0);let c;for(const f in o)(!t||!Wt(t,f)&&((c=to(f))===f||!Wt(t,c)))&&(l?r&&(r[f]!==void 0||r[c]!==void 0)&&(i[f]=wE(l,o,f,void 0,e,!0)):delete i[f]);if(a!==o)for(const f in a)(!t||!Wt(t,f))&&(delete a[f],u=!0)}u&&Ls(e.attrs,"set","")}function e5(e,t,r,n){const[i,a]=e.propsOptions;let s=!1,o;if(t)for(let l in t){if(Zc(l))continue;const u=t[l];let c;i&&Wt(i,c=zi(l))?!a||!a.includes(c)?r[c]=u:(o||(o={}))[c]=u:Bp(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,s=!0)}if(a){const l=Ct(r),u=o||Bt;for(let c=0;c<a.length;c++){const f=a[c];r[f]=wE(i,l,f,u[f],e,!Wt(u,f))}}return s}function wE(e,t,r,n,i,a){const s=e[r];if(s!=null){const o=Wt(s,"default");if(o&&n===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&mt(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const c=sh(i);n=u[r]=l.call(null,t),c()}}else n=l;i.ce&&i.ce._setProp(r,n)}s[0]&&(a&&!o?n=!1:s[1]&&(n===""||n===to(r))&&(n=!0))}return n}const s9=new WeakMap;function t5(e,t,r=!1){const n=r?s9:t.propsCache,i=n.get(e);if(i)return i;const a=e.props,s={},o=[];let l=!1;if(!mt(e)){const c=f=>{l=!0;const[h,d]=t5(f,t,!0);Kr(s,h),d&&o.push(...d)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return Kt(e)&&n.set(e,gu),gu;if(ot(a))for(let c=0;c<a.length;c++){const f=zi(a[c]);ST(f)&&(s[f]=Bt)}else if(a)for(const c in a){const f=zi(c);if(ST(f)){const h=a[c],d=s[f]=ot(h)||mt(h)?{type:h}:Kr({},h),v=d.type;let p=!1,g=!0;if(ot(v))for(let m=0;m<v.length;++m){const y=v[m],b=mt(y)&&y.name;if(b==="Boolean"){p=!0;break}else b==="String"&&(g=!1)}else p=mt(v)&&v.name==="Boolean";d[0]=p,d[1]=g,(p||Wt(d,"default"))&&o.push(f)}}const u=[s,o];return Kt(e)&&n.set(e,u),u}function ST(e){return e[0]!=="$"&&!Zc(e)}const S_=e=>e==="_"||e==="_ctx"||e==="$stable",T_=e=>ot(e)?e.map(is):[is(e)],o9=(e,t,r)=>{if(t._n)return t;const n=Oj((...i)=>T_(t(...i)),r);return n._c=!1,n},r5=(e,t,r)=>{const n=e._ctx;for(const i in e){if(S_(i))continue;const a=e[i];if(mt(a))t[i]=o9(i,a,n);else if(a!=null){const s=T_(a);t[i]=()=>s}}},n5=(e,t)=>{const r=T_(t);e.slots.default=()=>r},i5=(e,t,r)=>{for(const n in t)(r||!S_(n))&&(e[n]=t[n])},l9=(e,t,r)=>{const n=e.slots=QF();if(e.vnode.shapeFlag&32){const i=t._;i?(i5(n,t,r),r&&aF(n,"_",i,!0)):r5(t,n)}else t&&n5(e,t)},u9=(e,t,r)=>{const{vnode:n,slots:i}=e;let a=!0,s=Bt;if(n.shapeFlag&32){const o=t._;o?r&&o===1?a=!1:i5(i,t,r):(a=!t.$stable,r5(t,i)),s=t}else t&&(n5(e,t),s={default:1});if(a)for(const o in i)!S_(o)&&s[o]==null&&delete i[o]},Hn=k9;function c9(e){return f9(e)}function f9(e,t){const r=Ap();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:s,createText:o,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:d=Na,insertStaticContent:v}=e,p=(H,K,ce,de=null,_e=null,pe=null,V=void 0,q=null,ne=!!K.dynamicChildren)=>{if(H===K)return;H&&!hl(H,K)&&(de=Q(H),ve(H,_e,pe,!0),H=null),K.patchFlag===-2&&(ne=!1,K.dynamicChildren=null);const{type:ue,ref:Oe,shapeFlag:be}=K;switch(ue){case ah:g(H,K,ce,de);break;case Bn:m(H,K,ce,de);break;case Qg:H==null&&y(K,ce,de,V);break;case $n:C(H,K,ce,de,_e,pe,V,q,ne);break;default:be&1?x(H,K,ce,de,_e,pe,V,q,ne):be&6?L(H,K,ce,de,_e,pe,V,q,ne):(be&64||be&128)&&ue.process(H,K,ce,de,_e,pe,V,q,ne,we)}Oe!=null&&_e?tf(Oe,H&&H.ref,pe,K||H,!K):Oe==null&&H&&H.ref!=null&&tf(H.ref,null,pe,H,!0)},g=(H,K,ce,de)=>{if(H==null)n(K.el=o(K.children),ce,de);else{const _e=K.el=H.el;K.children!==H.children&&u(_e,K.children)}},m=(H,K,ce,de)=>{H==null?n(K.el=l(K.children||""),ce,de):K.el=H.el},y=(H,K,ce,de)=>{[H.el,H.anchor]=v(H.children,K,ce,de,H.el,H.anchor)},b=({el:H,anchor:K},ce,de)=>{let _e;for(;H&&H!==K;)_e=h(H),n(H,ce,de),H=_e;n(K,ce,de)},_=({el:H,anchor:K})=>{let ce;for(;H&&H!==K;)ce=h(H),i(H),H=ce;i(K)},x=(H,K,ce,de,_e,pe,V,q,ne)=>{K.type==="svg"?V="svg":K.type==="math"&&(V="mathml"),H==null?E(K,ce,de,_e,pe,V,q,ne):A(H,K,_e,pe,V,q,ne)},E=(H,K,ce,de,_e,pe,V,q)=>{let ne,ue;const{props:Oe,shapeFlag:be,transition:re,dirs:he}=H;if(ne=H.el=s(H.type,pe,Oe&&Oe.is,Oe),be&8?c(ne,H.children):be&16&&S(H.children,ne,null,de,_e,Zg(H,pe),V,q),he&&Ko(H,null,de,"created"),w(ne,H,H.scopeId,V,de),Oe){for(const nt in Oe)nt!=="value"&&!Zc(nt)&&a(ne,nt,null,Oe[nt],pe,de);"value"in Oe&&a(ne,"value",null,Oe.value,pe),(ue=Oe.onVnodeBeforeMount)&&Ua(ue,de,H)}he&&Ko(H,null,de,"beforeMount");const Be=h9(_e,re);Be&&re.beforeEnter(ne),n(ne,K,ce),((ue=Oe&&Oe.onVnodeMounted)||Be||he)&&Hn(()=>{ue&&Ua(ue,de,H),Be&&re.enter(ne),he&&Ko(H,null,de,"mounted")},_e)},w=(H,K,ce,de,_e)=>{if(ce&&d(H,ce),de)for(let pe=0;pe<de.length;pe++)d(H,de[pe]);if(_e){let pe=_e.subTree;if(K===pe||c5(pe.type)&&(pe.ssContent===K||pe.ssFallback===K)){const V=_e.vnode;w(H,V,V.scopeId,V.slotScopeIds,_e.parent)}}},S=(H,K,ce,de,_e,pe,V,q,ne=0)=>{for(let ue=ne;ue<H.length;ue++){const Oe=H[ue]=q?go(H[ue]):is(H[ue]);p(null,Oe,K,ce,de,_e,pe,V,q)}},A=(H,K,ce,de,_e,pe,V)=>{const q=K.el=H.el;let{patchFlag:ne,dynamicChildren:ue,dirs:Oe}=K;ne|=H.patchFlag&16;const be=H.props||Bt,re=K.props||Bt;let he;if(ce&&Zo(ce,!1),(he=re.onVnodeBeforeUpdate)&&Ua(he,ce,K,H),Oe&&Ko(K,H,ce,"beforeUpdate"),ce&&Zo(ce,!0),(be.innerHTML&&re.innerHTML==null||be.textContent&&re.textContent==null)&&c(q,""),ue?P(H.dynamicChildren,ue,q,ce,de,Zg(K,_e),pe):V||z(H,K,q,null,ce,de,Zg(K,_e),pe,!1),ne>0){if(ne&16)O(q,be,re,ce,_e);else if(ne&2&&be.class!==re.class&&a(q,"class",null,re.class,_e),ne&4&&a(q,"style",be.style,re.style,_e),ne&8){const Be=K.dynamicProps;for(let nt=0;nt<Be.length;nt++){const lt=Be[nt],Zt=be[lt],qt=re[lt];(qt!==Zt||lt==="value")&&a(q,lt,Zt,qt,_e,ce)}}ne&1&&H.children!==K.children&&c(q,K.children)}else!V&&ue==null&&O(q,be,re,ce,_e);((he=re.onVnodeUpdated)||Oe)&&Hn(()=>{he&&Ua(he,ce,K,H),Oe&&Ko(K,H,ce,"updated")},de)},P=(H,K,ce,de,_e,pe,V)=>{for(let q=0;q<K.length;q++){const ne=H[q],ue=K[q],Oe=ne.el&&(ne.type===$n||!hl(ne,ue)||ne.shapeFlag&198)?f(ne.el):ce;p(ne,ue,Oe,null,de,_e,pe,V,!0)}},O=(H,K,ce,de,_e)=>{if(K!==ce){if(K!==Bt)for(const pe in K)!Zc(pe)&&!(pe in ce)&&a(H,pe,K[pe],null,_e,de);for(const pe in ce){if(Zc(pe))continue;const V=ce[pe],q=K[pe];V!==q&&pe!=="value"&&a(H,pe,q,V,_e,de)}"value"in ce&&a(H,"value",K.value,ce.value,_e)}},C=(H,K,ce,de,_e,pe,V,q,ne)=>{const ue=K.el=H?H.el:o(""),Oe=K.anchor=H?H.anchor:o("");let{patchFlag:be,dynamicChildren:re,slotScopeIds:he}=K;he&&(q=q?q.concat(he):he),H==null?(n(ue,ce,de),n(Oe,ce,de),S(K.children||[],ce,Oe,_e,pe,V,q,ne)):be>0&&be&64&&re&&H.dynamicChildren?(P(H.dynamicChildren,re,ce,_e,pe,V,q),(K.key!=null||_e&&K===_e.subTree)&&M_(H,K,!0)):z(H,K,ce,Oe,_e,pe,V,q,ne)},L=(H,K,ce,de,_e,pe,V,q,ne)=>{K.slotScopeIds=q,H==null?K.shapeFlag&512?_e.ctx.activate(K,ce,de,V,ne):I(K,ce,de,_e,pe,V,ne):F(H,K,ne)},I=(H,K,ce,de,_e,pe,V)=>{const q=H.component=R9(H,de,_e);if(ih(H)&&(q.ctx.renderer=we),L9(q,!1,V),q.asyncDep){if(_e&&_e.registerDep(q,U,V),!H.el){const ne=q.subTree=Yr(Bn);m(null,ne,K,ce),H.placeholder=ne.el}}else U(q,H,K,ce,_e,pe,V)},F=(H,K,ce)=>{const de=K.component=H.component;if(E9(H,K,ce))if(de.asyncDep&&!de.asyncResolved){G(de,K,ce);return}else de.next=K,de.update();else K.el=H.el,de.vnode=K},U=(H,K,ce,de,_e,pe,V)=>{const q=()=>{if(H.isMounted){let{next:be,bu:re,u:he,parent:Be,vnode:nt}=H;{const Cn=a5(H);if(Cn){be&&(be.el=nt.el,G(H,be,V)),Cn.asyncDep.then(()=>{H.isUnmounted||q()});return}}let lt=be,Zt;Zo(H,!1),be?(be.el=nt.el,G(H,be,V)):be=nt,re&&Xd(re),(Zt=be.props&&be.props.onVnodeBeforeUpdate)&&Ua(Zt,Be,be,nt),Zo(H,!0);const qt=MT(H),On=H.subTree;H.subTree=qt,p(On,qt,f(On.el),Q(On),H,_e,pe),be.el=qt.el,lt===null&&_9(H,qt.el),he&&Hn(he,_e),(Zt=be.props&&be.props.onVnodeUpdated)&&Hn(()=>Ua(Zt,Be,be,nt),_e)}else{let be;const{el:re,props:he}=K,{bm:Be,m:nt,parent:lt,root:Zt,type:qt}=H,On=bu(K);Zo(H,!1),Be&&Xd(Be),!On&&(be=he&&he.onVnodeBeforeMount)&&Ua(be,lt,K),Zo(H,!0);{Zt.ce&&Zt.ce._def.shadowRoot!==!1&&Zt.ce._injectChildStyle(qt);const Cn=H.subTree=MT(H);p(null,Cn,ce,de,H,_e,pe),K.el=Cn.el}if(nt&&Hn(nt,_e),!On&&(be=he&&he.onVnodeMounted)){const Cn=K;Hn(()=>Ua(be,lt,Cn),_e)}(K.shapeFlag&256||lt&&bu(lt.vnode)&&lt.vnode.shapeFlag&256)&&H.a&&Hn(H.a,_e),H.isMounted=!0,K=ce=de=null}};H.scope.on();const ne=H.effect=new cF(q);H.scope.off();const ue=H.update=ne.run.bind(ne),Oe=H.job=ne.runIfDirty.bind(ne);Oe.i=H,Oe.id=H.uid,ne.scheduler=()=>w_(Oe),Zo(H,!0),ue()},G=(H,K,ce)=>{K.component=H;const de=H.vnode.props;H.vnode=K,H.next=null,a9(H,K.props,de,ce),u9(H,K.children,ce),Ys(),vT(H),Xs()},z=(H,K,ce,de,_e,pe,V,q,ne=!1)=>{const ue=H&&H.children,Oe=H?H.shapeFlag:0,be=K.children,{patchFlag:re,shapeFlag:he}=K;if(re>0){if(re&128){ge(ue,be,ce,de,_e,pe,V,q,ne);return}else if(re&256){Z(ue,be,ce,de,_e,pe,V,q,ne);return}}he&8?(Oe&16&&fe(ue,_e,pe),be!==ue&&c(ce,be)):Oe&16?he&16?ge(ue,be,ce,de,_e,pe,V,q,ne):fe(ue,_e,pe,!0):(Oe&8&&c(ce,""),he&16&&S(be,ce,de,_e,pe,V,q,ne))},Z=(H,K,ce,de,_e,pe,V,q,ne)=>{H=H||gu,K=K||gu;const ue=H.length,Oe=K.length,be=Math.min(ue,Oe);let re;for(re=0;re<be;re++){const he=K[re]=ne?go(K[re]):is(K[re]);p(H[re],he,ce,null,_e,pe,V,q,ne)}ue>Oe?fe(H,_e,pe,!0,!1,be):S(K,ce,de,_e,pe,V,q,ne,be)},ge=(H,K,ce,de,_e,pe,V,q,ne)=>{let ue=0;const Oe=K.length;let be=H.length-1,re=Oe-1;for(;ue<=be&&ue<=re;){const he=H[ue],Be=K[ue]=ne?go(K[ue]):is(K[ue]);if(hl(he,Be))p(he,Be,ce,null,_e,pe,V,q,ne);else break;ue++}for(;ue<=be&&ue<=re;){const he=H[be],Be=K[re]=ne?go(K[re]):is(K[re]);if(hl(he,Be))p(he,Be,ce,null,_e,pe,V,q,ne);else break;be--,re--}if(ue>be){if(ue<=re){const he=re+1,Be=he<Oe?K[he].el:de;for(;ue<=re;)p(null,K[ue]=ne?go(K[ue]):is(K[ue]),ce,Be,_e,pe,V,q,ne),ue++}}else if(ue>re)for(;ue<=be;)ve(H[ue],_e,pe,!0),ue++;else{const he=ue,Be=ue,nt=new Map;for(ue=Be;ue<=re;ue++){const jn=K[ue]=ne?go(K[ue]):is(K[ue]);jn.key!=null&&nt.set(jn.key,ue)}let lt,Zt=0;const qt=re-Be+1;let On=!1,Cn=0;const Rn=new Array(qt);for(ue=0;ue<qt;ue++)Rn[ue]=0;for(ue=he;ue<=be;ue++){const jn=H[ue];if(Zt>=qt){ve(jn,_e,pe,!0);continue}let ji;if(jn.key!=null)ji=nt.get(jn.key);else for(lt=Be;lt<=re;lt++)if(Rn[lt-Be]===0&&hl(jn,K[lt])){ji=lt;break}ji===void 0?ve(jn,_e,pe,!0):(Rn[ji-Be]=ue+1,ji>=Cn?Cn=ji:On=!0,p(jn,K[ji],ce,null,_e,pe,V,q,ne),Zt++)}const _i=On?d9(Rn):gu;for(lt=_i.length-1,ue=qt-1;ue>=0;ue--){const jn=Be+ue,ji=K[jn],kh=K[jn+1],Sh=jn+1<Oe?kh.el||kh.placeholder:de;Rn[ue]===0?p(null,ji,ce,Sh,_e,pe,V,q,ne):On&&(lt<0||ue!==_i[lt]?xe(ji,ce,Sh,2):lt--)}}},xe=(H,K,ce,de,_e=null)=>{const{el:pe,type:V,transition:q,children:ne,shapeFlag:ue}=H;if(ue&6){xe(H.component.subTree,K,ce,de);return}if(ue&128){H.suspense.move(K,ce,de);return}if(ue&64){V.move(H,K,ce,we);return}if(V===$n){n(pe,K,ce);for(let be=0;be<ne.length;be++)xe(ne[be],K,ce,de);n(H.anchor,K,ce);return}if(V===Qg){b(H,K,ce);return}if(de!==2&&ue&1&&q)if(de===0)q.beforeEnter(pe),n(pe,K,ce),Hn(()=>q.enter(pe),_e);else{const{leave:be,delayLeave:re,afterLeave:he}=q,Be=()=>{H.ctx.isUnmounted?i(pe):n(pe,K,ce)},nt=()=>{pe._isLeaving&&pe[Ps](!0),be(pe,()=>{Be(),he&&he()})};re?re(pe,Be,nt):nt()}else n(pe,K,ce)},ve=(H,K,ce,de=!1,_e=!1)=>{const{type:pe,props:V,ref:q,children:ne,dynamicChildren:ue,shapeFlag:Oe,patchFlag:be,dirs:re,cacheIndex:he}=H;if(be===-2&&(_e=!1),q!=null&&(Ys(),tf(q,null,ce,H,!0),Xs()),he!=null&&(K.renderCache[he]=void 0),Oe&256){K.ctx.deactivate(H);return}const Be=Oe&1&&re,nt=!bu(H);let lt;if(nt&&(lt=V&&V.onVnodeBeforeUnmount)&&Ua(lt,K,H),Oe&6)Y(H.component,ce,de);else{if(Oe&128){H.suspense.unmount(ce,de);return}Be&&Ko(H,null,K,"beforeUnmount"),Oe&64?H.type.remove(H,K,ce,we,de):ue&&!ue.hasOnce&&(pe!==$n||be>0&&be&64)?fe(ue,K,ce,!1,!0):(pe===$n&&be&384||!_e&&Oe&16)&&fe(ne,K,ce),de&&je(H)}(nt&&(lt=V&&V.onVnodeUnmounted)||Be)&&Hn(()=>{lt&&Ua(lt,K,H),Be&&Ko(H,null,K,"unmounted")},ce)},je=H=>{const{type:K,el:ce,anchor:de,transition:_e}=H;if(K===$n){te(ce,de);return}if(K===Qg){_(H);return}const pe=()=>{i(ce),_e&&!_e.persisted&&_e.afterLeave&&_e.afterLeave()};if(H.shapeFlag&1&&_e&&!_e.persisted){const{leave:V,delayLeave:q}=_e,ne=()=>V(ce,pe);q?q(H.el,pe,ne):ne()}else pe()},te=(H,K)=>{let ce;for(;H!==K;)ce=h(H),i(H),H=ce;i(K)},Y=(H,K,ce)=>{const{bum:de,scope:_e,job:pe,subTree:V,um:q,m:ne,a:ue}=H;TT(ne),TT(ue),de&&Xd(de),_e.stop(),pe&&(pe.flags|=8,ve(V,H,K,ce)),q&&Hn(q,K),Hn(()=>{H.isUnmounted=!0},K)},fe=(H,K,ce,de=!1,_e=!1,pe=0)=>{for(let V=pe;V<H.length;V++)ve(H[V],K,ce,de,_e)},Q=H=>{if(H.shapeFlag&6)return Q(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const K=h(H.anchor||H.el),ce=K&&K[LF];return ce?h(ce):K};let oe=!1;const ye=(H,K,ce)=>{H==null?K._vnode&&ve(K._vnode,null,null,!0):p(K._vnode||null,H,K,null,null,null,ce),K._vnode=H,oe||(oe=!0,vT(),OF(),oe=!1)},we={p,um:ve,m:xe,r:je,mt:I,mc:S,pc:z,pbc:P,n:Q,o:e};return{render:ye,hydrate:void 0,createApp:n9(ye)}}function Zg({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Zo({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function h9(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function M_(e,t,r=!1){const n=e.children,i=t.children;if(ot(n)&&ot(i))for(let a=0;a<n.length;a++){const s=n[a];let o=i[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[a]=go(i[a]),o.el=s.el),!r&&o.patchFlag!==-2&&M_(s,o)),o.type===ah&&o.patchFlag!==-1&&(o.el=s.el),o.type===Bn&&!o.el&&(o.el=s.el)}}function d9(e){const t=e.slice(),r=[0];let n,i,a,s,o;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(a=0,s=r.length-1;a<s;)o=a+s>>1,e[r[o]]<u?a=o+1:s=o;u<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}for(a=r.length,s=r[a-1];a-- >0;)r[a]=s,s=t[s];return r}function a5(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:a5(t)}function TT(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const v9=Symbol.for("v-scx"),p9=()=>Oi(v9);function s5(e,t){return $p(e,null,t)}function g9(e,t){return $p(e,null,{flush:"sync"})}function Gr(e,t,r){return $p(e,t,r)}function $p(e,t,r=Bt){const{immediate:n,deep:i,flush:a,once:s}=r,o=Kr({},r),l=t&&n||!t&&a!=="post";let u;if(Ou){if(a==="sync"){const d=p9();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=Na,d.resume=Na,d.pause=Na,d}}const c=xn;o.call=(d,v,p)=>Ra(d,c,v,p);let f=!1;a==="post"?o.scheduler=d=>{Hn(d,c&&c.suspense)}:a!=="sync"&&(f=!0,o.scheduler=(d,v)=>{v?d():w_(d)}),o.augmentJob=d=>{t&&(d.flags|=4),f&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const h=Mj(e,t,o);return Ou&&(u?u.push(h):l&&h()),h}function m9(e,t,r){const n=this.proxy,i=Ar(e)?e.includes(".")?o5(n,e):()=>n[e]:e.bind(n,n);let a;mt(t)?a=t:(a=t.handler,r=t);const s=sh(this),o=$p(i,a.bind(n),r);return s(),o}function o5(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function kwe(e,t,r=Bt){const n=qn(),i=zi(t),a=to(t),s=l5(e,i),o=TF((l,u)=>{let c,f=Bt,h;return g9(()=>{const d=e[i];ci(c,d)&&(c=d,u())}),{get(){return l(),r.get?r.get(c):c},set(d){const v=r.set?r.set(d):d;if(!ci(v,c)&&!(f!==Bt&&ci(d,f)))return;const p=n.vnode.props;p&&(t in p||i in p||a in p)&&(`onUpdate:${t}`in p||`onUpdate:${i}`in p||`onUpdate:${a}`in p)||(c=d,u()),n.emit(`update:${t}`,v),ci(d,v)&&ci(d,f)&&!ci(v,h)&&u(),f=d,h=v}}});return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?s||Bt:o,done:!1}:{done:!0}}}},o}const l5=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${zi(t)}Modifiers`]||e[`${to(t)}Modifiers`];function y9(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Bt;let i=r;const a=t.startsWith("update:"),s=a&&l5(n,t.slice(7));s&&(s.trim&&(i=r.map(c=>Ar(c)?c.trim():c)),s.number&&(i=r.map(hE)));let o,l=n[o=jg(t)]||n[o=jg(zi(t))];!l&&a&&(l=n[o=jg(to(t))]),l&&Ra(l,e,6,i);const u=n[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,Ra(u,e,6,i)}}const b9=new WeakMap;function u5(e,t,r=!1){const n=r?b9:t.emitsCache,i=n.get(e);if(i!==void 0)return i;const a=e.emits;let s={},o=!1;if(!mt(e)){const l=u=>{const c=u5(u,t,!0);c&&(o=!0,Kr(s,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!o?(Kt(e)&&n.set(e,null),null):(ot(a)?a.forEach(l=>s[l]=null):Kr(s,a),Kt(e)&&n.set(e,s),s)}function Bp(e,t){return!e||!Tp(t)?!1:(t=t.slice(2).replace(/Once$/,""),Wt(e,t[0].toLowerCase()+t.slice(1))||Wt(e,to(t))||Wt(e,t))}function MT(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:s,attrs:o,emit:l,render:u,renderCache:c,props:f,data:h,setupState:d,ctx:v,inheritAttrs:p}=e,g=yv(e);let m,y;try{if(r.shapeFlag&4){const _=i||n,x=_;m=is(u.call(x,_,c,f,d,h,v)),y=o}else{const _=t;m=is(_.length>1?_(f,{attrs:o,slots:s,emit:l}):_(f,null)),y=t.props?o:w9(o)}}catch(_){nf.length=0,nh(_,e,1),m=Yr(Bn)}let b=m;if(y&&p!==!1){const _=Object.keys(y),{shapeFlag:x}=b;_.length&&x&7&&(a&&_.some(o_)&&(y=x9(y,a)),b=Co(b,y,!1,!0))}return r.dirs&&(b=Co(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&Ol(b,r.transition),m=b,yv(g),m}const w9=e=>{let t;for(const r in e)(r==="class"||r==="style"||Tp(r))&&((t||(t={}))[r]=e[r]);return t},x9=(e,t)=>{const r={};for(const n in e)(!o_(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function E9(e,t,r){const{props:n,children:i,component:a}=e,{props:s,children:o,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?NT(n,s,u):!!s;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(s[h]!==n[h]&&!Bp(u,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:n===s?!1:n?s?NT(n,s,u):!0:!!s;return!1}function NT(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!Bp(r,a))return!0}return!1}function _9({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const c5=e=>e.__isSuspense;function k9(e,t){t&&t.pendingBranch?ot(e)?t.effects.push(...e):t.effects.push(e):Pj(e)}const $n=Symbol.for("v-fgt"),ah=Symbol.for("v-txt"),Bn=Symbol.for("v-cmt"),Qg=Symbol.for("v-stc"),nf=[];let Li=null;function Sf(e=!1){nf.push(Li=e?null:[])}function S9(){nf.pop(),Li=nf[nf.length-1]||null}let Tf=1;function Ev(e,t=!1){Tf+=e,e<0&&Li&&t&&(Li.hasOnce=!0)}function f5(e){return e.dynamicChildren=Tf>0?Li||gu:null,S9(),Tf>0&&Li&&Li.push(e),e}function T9(e,t,r,n,i,a){return f5(d5(e,t,r,n,i,a,!0))}function _v(e,t,r,n,i){return f5(Yr(e,t,r,n,i,!0))}function Mf(e){return e?e.__v_isVNode===!0:!1}function hl(e,t){return e.type===t.type&&e.key===t.key}const h5=({key:e})=>e??null,Zd=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ar(e)||gr(e)||mt(e)?{i:_n,r:e,k:t,f:!!r}:e:null);function d5(e,t=null,r=null,n=0,i=null,a=e===$n?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&h5(t),ref:t&&Zd(t),scopeId:RF,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:_n};return o?(N_(l,r),a&128&&e.normalize(l)):r&&(l.shapeFlag|=Ar(r)?8:16),Tf>0&&!s&&Li&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Li.push(l),l}const Yr=M9;function M9(e,t=null,r=null,n=0,i=null,a=!1){if((!e||e===VF)&&(e=Bn),Mf(e)){const o=Co(e,t,!0);return r&&N_(o,r),Tf>0&&!a&&Li&&(o.shapeFlag&6?Li[Li.indexOf(e)]=o:Li.push(o)),o.patchFlag=-2,o}if($9(e)&&(e=e.__vccOpts),t){t=N9(t);let{class:o,style:l}=t;o&&!Ar(o)&&(t.class=c_(o)),Kt(l)&&(y_(l)&&!ot(l)&&(l=Kr({},l)),t.style=Pp(l))}const s=Ar(e)?1:c5(e)?128:IF(e)?64:Kt(e)?4:mt(e)?2:0;return d5(e,t,r,n,i,s,a,!0)}function N9(e){return e?y_(e)||JF(e)?Kr({},e):e:null}function Co(e,t,r=!1,n=!1){const{props:i,ref:a,patchFlag:s,children:o,transition:l}=e,u=t?P9(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&h5(u),ref:t&&t.ref?r&&a?ot(a)?a.concat(Zd(t)):[a,Zd(t)]:Zd(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==$n?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Co(e.ssContent),ssFallback:e.ssFallback&&Co(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Ol(c,l.clone(c)),c}function A9(e=" ",t=0){return Yr(ah,null,e,t)}function Swe(e="",t=!1){return t?(Sf(),_v(Bn,null,e)):Yr(Bn,null,e)}function is(e){return e==null||typeof e=="boolean"?Yr(Bn):ot(e)?Yr($n,null,e.slice()):Mf(e)?go(e):Yr(ah,null,String(e))}function go(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Co(e)}function N_(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ot(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),N_(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!JF(t)?t._ctx=_n:i===3&&_n&&(_n.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else mt(t)?(t={default:t,_ctx:_n},r=32):(t=String(t),n&64?(r=16,t=[A9(t)]):r=8);e.children=t,e.shapeFlag|=r}function P9(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=c_([t.class,n.class]));else if(i==="style")t.style=Pp([t.style,n.style]);else if(Tp(i)){const a=t[i],s=n[i];s&&a!==s&&!(ot(a)&&a.includes(s))&&(t[i]=a?[].concat(a,s):s)}else i!==""&&(t[i]=n[i])}return t}function Ua(e,t,r,n=null){Ra(e,t,7,[r,n])}const O9=KF();let C9=0;function R9(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||O9,a={uid:C9++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new uF(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:t5(n,i),emitsOptions:u5(n,i),emit:null,emitted:null,propsDefaults:Bt,inheritAttrs:n.inheritAttrs,ctx:Bt,data:Bt,props:Bt,attrs:Bt,slots:Bt,refs:Bt,setupState:Bt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=y9.bind(null,a),e.ce&&e.ce(a),a}let xn=null;const qn=()=>xn||_n;let kv,xE;{const e=Ap(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),a=>{i.length>1?i.forEach(s=>s(a)):i[0](a)}};kv=t("__VUE_INSTANCE_SETTERS__",r=>xn=r),xE=t("__VUE_SSR_SETTERS__",r=>Ou=r)}const sh=e=>{const t=xn;return kv(e),e.scope.on(),()=>{e.scope.off(),kv(t)}},AT=()=>{xn&&xn.scope.off(),kv(null)};function v5(e){return e.vnode.shapeFlag&4}let Ou=!1;function L9(e,t=!1,r=!1){t&&xE(t);const{props:n,children:i}=e.vnode,a=v5(e);i9(e,n,a,t),l9(e,i,r||t);const s=a?I9(e,t):void 0;return t&&xE(!1),s}function I9(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Xj);const{setup:n}=r;if(n){Ys();const i=e.setupContext=n.length>1?g5(e):null,a=sh(e),s=rh(n,e,0,[e.props,i]),o=rF(s);if(Xs(),a(),(o||e.sp)&&!bu(e)&&E_(e),o){if(s.then(AT,AT),t)return s.then(l=>{PT(e,l)}).catch(l=>{nh(l,e,0)});e.asyncDep=s}else PT(e,s)}else p5(e)}function PT(e,t,r){mt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Kt(t)&&(e.setupState=SF(t)),p5(e)}function p5(e,t,r){const n=e.type;e.render||(e.render=n.render||Na);{const i=sh(e);Ys();try{Zj(e)}finally{Xs(),i()}}}const D9={get(e,t){return Fn(e,"get",""),e[t]}};function g5(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,D9),slots:e.slots,emit:e.emit,expose:t}}function zp(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(SF(b_(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in rf)return rf[r](e)},has(t,r){return r in t||r in rf}})):e.proxy}function F9(e,t=!0){return mt(e)?e.displayName||e.name:e.name||t&&e.__name}function $9(e){return mt(e)&&"__vccOpts"in e}const Dt=(e,t)=>Sj(e,t,Ou);function Gp(e,t,r){try{Ev(-1);const n=arguments.length;return n===2?Kt(t)&&!ot(t)?Mf(t)?Yr(e,null,[t]):Yr(e,t):Yr(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Mf(r)&&(r=[r]),Yr(e,t,r))}finally{Ev(1)}}const B9="3.5.22",Twe=Na;/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let EE;const OT=typeof window<"u"&&window.trustedTypes;if(OT)try{EE=OT.createPolicy("vue",{createHTML:e=>e})}catch{}const m5=EE?e=>EE.createHTML(e):e=>e,z9="http://www.w3.org/2000/svg",G9="http://www.w3.org/1998/Math/MathML",As=typeof document<"u"?document:null,CT=As&&As.createElement("template"),q9={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?As.createElementNS(z9,e):t==="mathml"?As.createElementNS(G9,e):r?As.createElement(e,{is:r}):As.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>As.createTextNode(e),createComment:e=>As.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>As.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,a){const s=r?r.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{CT.innerHTML=m5(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const o=CT.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},oo="transition",wc="animation",Cu=Symbol("_vtc"),y5={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},b5=Kr({},BF,y5),j9=e=>(e.displayName="Transition",e.props=b5,e),Mwe=j9((e,{slots:t})=>Gp(Lj,w5(e),t)),Qo=(e,t=[])=>{ot(e)?e.forEach(r=>r(...t)):e&&e(...t)},RT=e=>e?ot(e)?e.some(t=>t.length>1):e.length>1:!1;function w5(e){const t={};for(const C in e)C in y5||(t[C]=e[C]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:a=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=a,appearActiveClass:u=s,appearToClass:c=o,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:d=`${r}-leave-to`}=e,v=W9(i),p=v&&v[0],g=v&&v[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:b,onLeave:_,onLeaveCancelled:x,onBeforeAppear:E=m,onAppear:w=y,onAppearCancelled:S=b}=t,A=(C,L,I,F)=>{C._enterCancelled=F,ho(C,L?c:o),ho(C,L?u:s),I&&I()},P=(C,L)=>{C._isLeaving=!1,ho(C,f),ho(C,d),ho(C,h),L&&L()},O=C=>(L,I)=>{const F=C?w:y,U=()=>A(L,C,I);Qo(F,[L,U]),LT(()=>{ho(L,C?l:a),Ja(L,C?c:o),RT(F)||IT(L,n,p,U)})};return Kr(t,{onBeforeEnter(C){Qo(m,[C]),Ja(C,a),Ja(C,s)},onBeforeAppear(C){Qo(E,[C]),Ja(C,l),Ja(C,u)},onEnter:O(!1),onAppear:O(!0),onLeave(C,L){C._isLeaving=!0;const I=()=>P(C,L);Ja(C,f),C._enterCancelled?(Ja(C,h),_E(C)):(_E(C),Ja(C,h)),LT(()=>{C._isLeaving&&(ho(C,f),Ja(C,d),RT(_)||IT(C,n,g,I))}),Qo(_,[C,I])},onEnterCancelled(C){A(C,!1,void 0,!0),Qo(b,[C])},onAppearCancelled(C){A(C,!0,void 0,!0),Qo(S,[C])},onLeaveCancelled(C){P(C),Qo(x,[C])}})}function W9(e){if(e==null)return null;if(Kt(e))return[Jg(e.enter),Jg(e.leave)];{const t=Jg(e);return[t,t]}}function Jg(e){return j8(e)}function Ja(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Cu]||(e[Cu]=new Set)).add(t)}function ho(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[Cu];r&&(r.delete(t),r.size||(e[Cu]=void 0))}function LT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let V9=0;function IT(e,t,r,n){const i=e._endId=++V9,a=()=>{i===e._endId&&n()};if(r!=null)return setTimeout(a,r);const{type:s,timeout:o,propCount:l}=x5(e,t);if(!s)return n();const u=s+"end";let c=0;const f=()=>{e.removeEventListener(u,h),a()},h=d=>{d.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},o+1),e.addEventListener(u,h)}function x5(e,t){const r=window.getComputedStyle(e),n=v=>(r[v]||"").split(", "),i=n(`${oo}Delay`),a=n(`${oo}Duration`),s=DT(i,a),o=n(`${wc}Delay`),l=n(`${wc}Duration`),u=DT(o,l);let c=null,f=0,h=0;t===oo?s>0&&(c=oo,f=s,h=a.length):t===wc?u>0&&(c=wc,f=u,h=l.length):(f=Math.max(s,u),c=f>0?s>u?oo:wc:null,h=c?c===oo?a.length:l.length:0);const d=c===oo&&/\b(?:transform|all)(?:,|$)/.test(n(`${oo}Property`).toString());return{type:c,timeout:f,propCount:h,hasTransform:d}}function DT(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>FT(r)+FT(e[n])))}function FT(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function _E(e){return(e?e.ownerDocument:document).body.offsetHeight}function U9(e,t,r){const n=e[Cu];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Sv=Symbol("_vod"),E5=Symbol("_vsh"),Nwe={name:"show",beforeMount(e,{value:t},{transition:r}){e[Sv]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):xc(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),xc(e,!0),n.enter(e)):n.leave(e,()=>{xc(e,!1)}):xc(e,t))},beforeUnmount(e,{value:t}){xc(e,t)}};function xc(e,t){e.style.display=t?e[Sv]:"none",e[E5]=!t}const H9=Symbol(""),Y9=/(?:^|;)\s*display\s*:/;function X9(e,t,r){const n=e.style,i=Ar(r);let a=!1;if(r&&!i){if(t)if(Ar(t))for(const s of t.split(";")){const o=s.slice(0,s.indexOf(":")).trim();r[o]==null&&Qd(n,o,"")}else for(const s in t)r[s]==null&&Qd(n,s,"");for(const s in r)s==="display"&&(a=!0),Qd(n,s,r[s])}else if(i){if(t!==r){const s=n[H9];s&&(r+=";"+s),n.cssText=r,a=Y9.test(r)}}else t&&e.removeAttribute("style");Sv in e&&(e[Sv]=a?n.display:"",e[E5]&&(n.display="none"))}const $T=/\s*!important$/;function Qd(e,t,r){if(ot(r))r.forEach(n=>Qd(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=K9(e,t);$T.test(r)?e.setProperty(to(n),r.replace($T,""),"important"):e[n]=r}}const BT=["Webkit","Moz","ms"],e0={};function K9(e,t){const r=e0[t];if(r)return r;let n=zi(t);if(n!=="filter"&&n in e)return e0[t]=n;n=Np(n);for(let i=0;i<BT.length;i++){const a=BT[i]+n;if(a in e)return e0[t]=a}return t}const zT="http://www.w3.org/1999/xlink";function GT(e,t,r,n,i,a=X8(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(zT,t.slice(6,t.length)):e.setAttributeNS(zT,t,r):r==null||a&&!sF(r)?e.removeAttribute(t):e.setAttribute(t,a?"":Ca(r)?String(r):r)}function qT(e,t,r,n,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?m5(r):r);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const o=a==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(o!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let s=!1;if(r===""||r==null){const o=typeof e[t];o==="boolean"?r=sF(r):r==null&&o==="string"?(r="",s=!0):o==="number"&&(r=0,s=!0)}try{e[t]=r}catch{}s&&e.removeAttribute(i||t)}function dl(e,t,r,n){e.addEventListener(t,r,n)}function Z9(e,t,r,n){e.removeEventListener(t,r,n)}const jT=Symbol("_vei");function Q9(e,t,r,n,i=null){const a=e[jT]||(e[jT]={}),s=a[t];if(n&&s)s.value=n;else{const[o,l]=J9(t);if(n){const u=a[t]=rW(n,i);dl(e,o,u,l)}else s&&(Z9(e,o,s,l),a[t]=void 0)}}const WT=/(?:Once|Passive|Capture)$/;function J9(e){let t;if(WT.test(e)){t={};let n;for(;n=e.match(WT);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):to(e.slice(2)),t]}let t0=0;const eW=Promise.resolve(),tW=()=>t0||(eW.then(()=>t0=0),t0=Date.now());function rW(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Ra(nW(n,r.value),t,5,[n])};return r.value=e,r.attached=tW(),r}function nW(e,t){if(ot(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const VT=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,iW=(e,t,r,n,i,a)=>{const s=i==="svg";t==="class"?U9(e,n,s):t==="style"?X9(e,r,n):Tp(t)?o_(t)||Q9(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):aW(e,t,n,s))?(qT(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&GT(e,t,n,s,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ar(n))?qT(e,zi(t),n,a,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),GT(e,t,n,s))};function aW(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&VT(t)&&mt(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return VT(t)&&Ar(r)?!1:t in e}const _5=new WeakMap,k5=new WeakMap,Tv=Symbol("_moveCb"),UT=Symbol("_enterCb"),sW=e=>(delete e.props.mode,e),oW=sW({name:"TransitionGroup",props:Kr({},b5,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=qn(),n=$F();let i,a;return WF(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!fW(i[0].el,r.vnode.el,s)){i=[];return}i.forEach(lW),i.forEach(uW);const o=i.filter(cW);_E(r.vnode.el),o.forEach(l=>{const u=l.el,c=u.style;Ja(u,s),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[Tv]=h=>{h&&h.target!==u||(!h||h.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",f),u[Tv]=null,ho(u,s))};u.addEventListener("transitionend",f)}),i=[]}),()=>{const s=Ct(e),o=w5(s);let l=s.tag||$n;if(i=[],a)for(let u=0;u<a.length;u++){const c=a[u];c.el&&c.el instanceof Element&&(i.push(c),Ol(c,kf(c,o,n,r)),_5.set(c,c.el.getBoundingClientRect()))}a=t.default?x_(t.default()):[];for(let u=0;u<a.length;u++){const c=a[u];c.key!=null&&Ol(c,kf(c,o,n,r))}return Yr(l,null,a)}}}),Awe=oW;function lW(e){const t=e.el;t[Tv]&&t[Tv](),t[UT]&&t[UT]()}function uW(e){k5.set(e,e.el.getBoundingClientRect())}function cW(e){const t=_5.get(e),r=k5.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${n}px,${i}px)`,a.transitionDuration="0s",e}}function fW(e,t,r){const n=e.cloneNode(),i=e[Cu];i&&i.forEach(o=>{o.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(o=>o&&n.classList.add(o)),n.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(n);const{hasTransform:s}=x5(n);return a.removeChild(n),s}const Mv=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ot(t)?r=>Xd(t,r):t};function hW(e){e.target.composing=!0}function HT(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const wu=Symbol("_assign"),Pwe={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e[wu]=Mv(i);const a=n||i.props&&i.props.type==="number";dl(e,t?"change":"input",s=>{if(s.target.composing)return;let o=e.value;r&&(o=o.trim()),a&&(o=hE(o)),e[wu](o)}),r&&dl(e,"change",()=>{e.value=e.value.trim()}),t||(dl(e,"compositionstart",hW),dl(e,"compositionend",HT),dl(e,"change",HT))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:i,number:a}},s){if(e[wu]=Mv(s),e.composing)return;const o=(a||e.type==="number")&&!/^0\d/.test(e.value)?hE(e.value):e.value,l=t??"";o!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||i&&e.value.trim()===l)||(e.value=l))}},Owe={created(e,{value:t},r){e.checked=dv(t,r.props.value),e[wu]=Mv(r),dl(e,"change",()=>{e[wu](dW(e))})},beforeUpdate(e,{value:t,oldValue:r},n){e[wu]=Mv(n),t!==r&&(e.checked=dv(t,n.props.value))}};function dW(e){return"_value"in e?e._value:e.value}const vW=["ctrl","shift","alt","meta"],pW={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>vW.some(r=>e[`${r}Key`]&&!t.includes(r))},Cwe=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(i,...a)=>{for(let s=0;s<t.length;s++){const o=pW[t[s]];if(o&&o(i,t))return}return e(i,...a)})},gW={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Rwe=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const a=to(i.key);if(t.some(s=>s===a||gW[s]===a))return e(i)})},mW=Kr({patchProp:iW},q9);let YT;function S5(){return YT||(YT=c9(mW))}const Lwe=(...e)=>{S5().render(...e)},Iwe=(...e)=>{const t=S5().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=bW(n);if(!i)return;const a=t._component;!mt(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=r(i,!1,yW(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function yW(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function bW(e){return Ar(e)?document.querySelector(e):e}/*!
  * vue-i18n v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const wW="11.1.12";function xW(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(gl().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(gl().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(gl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(gl().__INTLIFY_PROD_DEVTOOLS__=!1)}const bi={UNEXPECTED_RETURN_TYPE:i8,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Gi(e,...t){return kp(e,null,void 0)}const kE=Bo("__translateVNode"),SE=Bo("__datetimeParts"),TE=Bo("__numberParts"),T5=Bo("__setPluralRules"),M5=Bo("__injectWithOption"),ME=Bo("__dispose");function Nf(e){if(!zt(e)||os(e))return e;for(const t in e)if(Ta(e,t))if(!t.includes("."))zt(e[t])&&Nf(e[t]);else{const r=t.split("."),n=r.length-1;let i=e,a=!1;for(let s=0;s<n;s++){if(r[s]==="__proto__")throw new Error(`unsafe key: ${r[s]}`);if(r[s]in i||(i[r[s]]=er()),!zt(i[r[s]])){a=!0;break}i=i[r[s]]}if(a||(os(i)?jD.includes(r[n])||delete e[t]:(i[r[n]]=e[t],delete e[t])),!os(i)){const s=i[r[n]];zt(s)&&Nf(s)}}return e}function A_(e,t){const{messages:r,__i18n:n,messageResolver:i,flatJson:a}=t,s=Nt(r)?r:Ir(n)?er():{[e]:er()};if(Ir(n)&&n.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:l,resource:u}=o;l?(s[l]=s[l]||er(),Yd(u,s[l])):Yd(u,s)}else Qe(o)&&Yd(JSON.parse(o),s)}),i==null&&a)for(const o in s)Ta(s,o)&&Nf(s[o]);return s}function N5(e){return e.type}function A5(e,t,r){let n=zt(t.messages)?t.messages:er();"__i18nGlobal"in r&&(n=A_(e.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(a=>{e.mergeLocaleMessage(a,n[a])});{if(zt(t.datetimeFormats)){const a=Object.keys(t.datetimeFormats);a.length&&a.forEach(s=>{e.mergeDateTimeFormat(s,t.datetimeFormats[s])})}if(zt(t.numberFormats)){const a=Object.keys(t.numberFormats);a.length&&a.forEach(s=>{e.mergeNumberFormat(s,t.numberFormats[s])})}}}function XT(e){return Yr(ah,null,e,0)}const KT="__INTLIFY_META__",ZT=()=>[],EW=()=>!1;let QT=0;function JT(e){return(t,r,n,i)=>e(r,n,qn()||void 0,i)}const _W=()=>{const e=qn();let t=null;return e&&(t=N5(e)[KT])?{[KT]:t}:null};function P_(e={}){const{__root:t,__injectWithOption:r}=e,n=t===void 0,i=e.flatJson,a=hv?Hr:di;let s=Ft(e.inheritLocale)?e.inheritLocale:!0;const o=a(t&&s?t.locale.value:Qe(e.locale)?e.locale:wf),l=a(t&&s?t.fallbackLocale.value:Qe(e.fallbackLocale)||Ir(e.fallbackLocale)||Nt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o.value),u=a(A_(o.value,e)),c=a(Nt(e.datetimeFormats)?e.datetimeFormats:{[o.value]:{}}),f=a(Nt(e.numberFormats)?e.numberFormats:{[o.value]:{}});let h=t?t.missingWarn:Ft(e.missingWarn)||Au(e.missingWarn)?e.missingWarn:!0,d=t?t.fallbackWarn:Ft(e.fallbackWarn)||Au(e.fallbackWarn)?e.fallbackWarn:!0,v=t?t.fallbackRoot:Ft(e.fallbackRoot)?e.fallbackRoot:!0,p=!!e.fallbackFormat,g=hr(e.missing)?e.missing:null,m=hr(e.missing)?JT(e.missing):null,y=hr(e.postTranslation)?e.postTranslation:null,b=t?t.warnHtmlMessage:Ft(e.warnHtmlMessage)?e.warnHtmlMessage:!0,_=!!e.escapeParameter;const x=t?t.modifiers:Nt(e.modifiers)?e.modifiers:{};let E=e.pluralRules||t&&t.pluralRules,w;w=(()=>{n&&tT(null);const re={version:wW,locale:o.value,fallbackLocale:l.value,messages:u.value,modifiers:x,pluralRules:E,missing:m===null?void 0:m,missingWarn:h,fallbackWarn:d,fallbackFormat:p,unresolving:!0,postTranslation:y===null?void 0:y,warnHtmlMessage:b,escapeParameter:_,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};re.datetimeFormats=c.value,re.numberFormats=f.value,re.__datetimeFormatters=Nt(w)?w.__datetimeFormatters:void 0,re.__numberFormatters=Nt(w)?w.__numberFormatters:void 0;const he=k8(re);return n&&tT(he),he})(),yc(w,o.value,l.value);function A(){return[o.value,l.value,u.value,c.value,f.value]}const P=Dt({get:()=>o.value,set:re=>{w.locale=re,o.value=re}}),O=Dt({get:()=>l.value,set:re=>{w.fallbackLocale=re,l.value=re,yc(w,o.value,re)}}),C=Dt(()=>u.value),L=Dt(()=>c.value),I=Dt(()=>f.value);function F(){return hr(y)?y:null}function U(re){y=re,w.postTranslation=re}function G(){return g}function z(re){re!==null&&(m=JT(re)),g=re,w.missing=m}const Z=(re,he,Be,nt,lt,Zt)=>{A();let qt;try{__INTLIFY_PROD_DEVTOOLS__,n||(w.fallbackContext=t?_8():void 0),qt=re(w)}finally{__INTLIFY_PROD_DEVTOOLS__,n||(w.fallbackContext=void 0)}if(Be!=="translate exists"&&Ur(qt)&&qt===Sp||Be==="translate exists"&&!qt){const[On,Cn]=he();return t&&v?nt(t):lt(On)}else{if(Zt(qt))return qt;throw Gi(bi.UNEXPECTED_RETURN_TYPE)}};function ge(...re){return Z(he=>Reflect.apply(uT,null,[he,...re]),()=>fE(...re),"translate",he=>Reflect.apply(he.t,he,[...re]),he=>he,he=>Qe(he))}function xe(...re){const[he,Be,nt]=re;if(nt&&!zt(nt))throw Gi(bi.INVALID_ARGUMENT);return ge(he,Be,on({resolvedMessage:!0},nt||{}))}function ve(...re){return Z(he=>Reflect.apply(nT,null,[he,...re]),()=>uE(...re),"datetime format",he=>Reflect.apply(he.d,he,[...re]),()=>JS,he=>Qe(he)||Ir(he))}function je(...re){return Z(he=>Reflect.apply(aT,null,[he,...re]),()=>cE(...re),"number format",he=>Reflect.apply(he.n,he,[...re]),()=>JS,he=>Qe(he)||Ir(he))}function te(re){return re.map(he=>Qe(he)||Ur(he)||Ft(he)?XT(String(he)):he)}const fe={normalize:te,interpolate:re=>re,type:"vnode"};function Q(...re){return Z(he=>{let Be;const nt=he;try{nt.processor=fe,Be=Reflect.apply(uT,null,[nt,...re])}finally{nt.processor=null}return Be},()=>fE(...re),"translate",he=>he[kE](...re),he=>[XT(he)],he=>Ir(he))}function oe(...re){return Z(he=>Reflect.apply(aT,null,[he,...re]),()=>cE(...re),"number format",he=>he[TE](...re),ZT,he=>Qe(he)||Ir(he))}function ye(...re){return Z(he=>Reflect.apply(nT,null,[he,...re]),()=>uE(...re),"datetime format",he=>he[SE](...re),ZT,he=>Qe(he)||Ir(he))}function we(re){E=re,w.pluralRules=E}function Ae(re,he){return Z(()=>{if(!re)return!1;const Be=Qe(he)?he:o.value,nt=ce(Be),lt=w.messageResolver(nt,re);return os(lt)||Qi(lt)||Qe(lt)},()=>[re],"translate exists",Be=>Reflect.apply(Be.te,Be,[re,he]),EW,Be=>Ft(Be))}function H(re){let he=null;const Be=WD(w,l.value,o.value);for(let nt=0;nt<Be.length;nt++){const lt=u.value[Be[nt]]||{},Zt=w.messageResolver(lt,re);if(Zt!=null){he=Zt;break}}return he}function K(re){const he=H(re);return he??(t?t.tm(re)||{}:{})}function ce(re){return u.value[re]||{}}function de(re,he){if(i){const Be={[re]:he};for(const nt in Be)Ta(Be,nt)&&Nf(Be[nt]);he=Be[re]}u.value[re]=he,w.messages=u.value}function _e(re,he){u.value[re]=u.value[re]||{};const Be={[re]:he};if(i)for(const nt in Be)Ta(Be,nt)&&Nf(Be[nt]);he=Be[re],Yd(he,u.value[re]),w.messages=u.value}function pe(re){return c.value[re]||{}}function V(re,he){c.value[re]=he,w.datetimeFormats=c.value,iT(w,re,he)}function q(re,he){c.value[re]=on(c.value[re]||{},he),w.datetimeFormats=c.value,iT(w,re,he)}function ne(re){return f.value[re]||{}}function ue(re,he){f.value[re]=he,w.numberFormats=f.value,sT(w,re,he)}function Oe(re,he){f.value[re]=on(f.value[re]||{},he),w.numberFormats=f.value,sT(w,re,he)}QT++,t&&hv&&(Gr(t.locale,re=>{s&&(o.value=re,w.locale=re,yc(w,o.value,l.value))}),Gr(t.fallbackLocale,re=>{s&&(l.value=re,w.fallbackLocale=re,yc(w,o.value,l.value))}));const be={id:QT,locale:P,fallbackLocale:O,get inheritLocale(){return s},set inheritLocale(re){s=re,re&&t&&(o.value=t.locale.value,l.value=t.fallbackLocale.value,yc(w,o.value,l.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:C,get modifiers(){return x},get pluralRules(){return E||{}},get isGlobal(){return n},get missingWarn(){return h},set missingWarn(re){h=re,w.missingWarn=h},get fallbackWarn(){return d},set fallbackWarn(re){d=re,w.fallbackWarn=d},get fallbackRoot(){return v},set fallbackRoot(re){v=re},get fallbackFormat(){return p},set fallbackFormat(re){p=re,w.fallbackFormat=p},get warnHtmlMessage(){return b},set warnHtmlMessage(re){b=re,w.warnHtmlMessage=re},get escapeParameter(){return _},set escapeParameter(re){_=re,w.escapeParameter=re},t:ge,getLocaleMessage:ce,setLocaleMessage:de,mergeLocaleMessage:_e,getPostTranslationHandler:F,setPostTranslationHandler:U,getMissingHandler:G,setMissingHandler:z,[T5]:we};return be.datetimeFormats=L,be.numberFormats=I,be.rt=xe,be.te=Ae,be.tm=K,be.d=ve,be.n=je,be.getDateTimeFormat=pe,be.setDateTimeFormat=V,be.mergeDateTimeFormat=q,be.getNumberFormat=ne,be.setNumberFormat=ue,be.mergeNumberFormat=Oe,be[M5]=r,be[kE]=Q,be[SE]=ye,be[TE]=oe,be}function kW(e){const t=Qe(e.locale)?e.locale:wf,r=Qe(e.fallbackLocale)||Ir(e.fallbackLocale)||Nt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,n=hr(e.missing)?e.missing:void 0,i=Ft(e.silentTranslationWarn)||Au(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,a=Ft(e.silentFallbackWarn)||Au(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,s=Ft(e.fallbackRoot)?e.fallbackRoot:!0,o=!!e.formatFallbackMessages,l=Nt(e.modifiers)?e.modifiers:{},u=e.pluralizationRules,c=hr(e.postTranslation)?e.postTranslation:void 0,f=Qe(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,h=!!e.escapeParameterHtml,d=Ft(e.sync)?e.sync:!0;let v=e.messages;if(Nt(e.sharedMessages)){const x=e.sharedMessages;v=Object.keys(x).reduce((w,S)=>{const A=w[S]||(w[S]={});return on(A,x[S]),w},v||{})}const{__i18n:p,__root:g,__injectWithOption:m}=e,y=e.datetimeFormats,b=e.numberFormats,_=e.flatJson;return{locale:t,fallbackLocale:r,messages:v,flatJson:_,datetimeFormats:y,numberFormats:b,missing:n,missingWarn:i,fallbackWarn:a,fallbackRoot:s,fallbackFormat:o,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:f,escapeParameter:h,messageResolver:e.messageResolver,inheritLocale:d,__i18n:p,__root:g,__injectWithOption:m}}function NE(e={}){const t=P_(kW(e)),{__extender:r}=e,n={id:t.id,get locale(){return t.locale.value},set locale(i){t.locale.value=i},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(i){t.fallbackLocale.value=i},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(i){t.setMissingHandler(i)},get silentTranslationWarn(){return Ft(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(i){t.missingWarn=Ft(i)?!i:i},get silentFallbackWarn(){return Ft(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(i){t.fallbackWarn=Ft(i)?!i:i},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(i){t.fallbackFormat=i},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(i){t.setPostTranslationHandler(i)},get sync(){return t.inheritLocale},set sync(i){t.inheritLocale=i},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){t.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(i){t.escapeParameter=i},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...i){return Reflect.apply(t.t,t,[...i])},rt(...i){return Reflect.apply(t.rt,t,[...i])},te(i,a){return t.te(i,a)},tm(i){return t.tm(i)},getLocaleMessage(i){return t.getLocaleMessage(i)},setLocaleMessage(i,a){t.setLocaleMessage(i,a)},mergeLocaleMessage(i,a){t.mergeLocaleMessage(i,a)},d(...i){return Reflect.apply(t.d,t,[...i])},getDateTimeFormat(i){return t.getDateTimeFormat(i)},setDateTimeFormat(i,a){t.setDateTimeFormat(i,a)},mergeDateTimeFormat(i,a){t.mergeDateTimeFormat(i,a)},n(...i){return Reflect.apply(t.n,t,[...i])},getNumberFormat(i){return t.getNumberFormat(i)},setNumberFormat(i,a){t.setNumberFormat(i,a)},mergeNumberFormat(i,a){t.mergeNumberFormat(i,a)}};return n.__extender=r,n}function SW(e,t,r){return{beforeCreate(){const n=qn();if(!n)throw Gi(bi.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const a=i.i18n;if(i.__i18n&&(a.__i18n=i.__i18n),a.__root=t,this===this.$root)this.$i18n=eM(e,a);else{a.__injectWithOption=!0,a.__extender=r.__vueI18nExtend,this.$i18n=NE(a);const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=eM(e,i);else{this.$i18n=NE({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:t});const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&A5(t,i,i),this.$t=(...a)=>this.$i18n.t(...a),this.$rt=(...a)=>this.$i18n.rt(...a),this.$te=(a,s)=>this.$i18n.te(a,s),this.$d=(...a)=>this.$i18n.d(...a),this.$n=(...a)=>this.$i18n.n(...a),this.$tm=a=>this.$i18n.tm(a),r.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const n=qn();if(!n)throw Gi(bi.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function eM(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[T5](t.pluralizationRules||e.pluralizationRules);const r=A_(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(r).forEach(n=>e.mergeLocaleMessage(n,r[n])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n])),t.numberFormats&&Object.keys(t.numberFormats).forEach(n=>e.mergeNumberFormat(n,t.numberFormats[n])),e}const O_={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function TW({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((n,i)=>[...n,...i.type===$n?i.children:[i]],[]):t.reduce((r,n)=>{const i=e[n];return i&&(r[n]=i()),r},er())}function P5(){return $n}const MW=Ip({name:"i18n-t",props:on({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Ur(e)||!isNaN(e)}},O_),setup(e,t){const{slots:r,attrs:n}=t,i=e.i18n||C_({useScope:e.scope,__useComponent:!0});return()=>{const a=Object.keys(r).filter(f=>f[0]!=="_"),s=er();e.locale&&(s.locale=e.locale),e.plural!==void 0&&(s.plural=Qe(e.plural)?+e.plural:e.plural);const o=TW(t,a),l=i[kE](e.keypath,o,s),u=on(er(),n),c=Qe(e.tag)||zt(e.tag)?e.tag:P5();return Gp(c,u,l)}}}),tM=MW;function NW(e){return Ir(e)&&!Qe(e[0])}function O5(e,t,r,n){const{slots:i,attrs:a}=t;return()=>{const s={part:!0};let o=er();e.locale&&(s.locale=e.locale),Qe(e.format)?s.key=e.format:zt(e.format)&&(Qe(e.format.key)&&(s.key=e.format.key),o=Object.keys(e.format).reduce((h,d)=>r.includes(d)?on(er(),h,{[d]:e.format[d]}):h,er()));const l=n(e.value,s,o);let u=[s.key];Ir(l)?u=l.map((h,d)=>{const v=i[h.type],p=v?v({[h.type]:h.value,index:d,parts:l}):[h.value];return NW(p)&&(p[0].key=`${h.type}-${d}`),p}):Qe(l)&&(u=[l]);const c=on(er(),a),f=Qe(e.tag)||zt(e.tag)?e.tag:P5();return Gp(f,c,u)}}const AW=Ip({name:"i18n-n",props:on({value:{type:Number,required:!0},format:{type:[String,Object]}},O_),setup(e,t){const r=e.i18n||C_({useScope:e.scope,__useComponent:!0});return O5(e,t,ZD,(...n)=>r[TE](...n))}}),rM=AW;function PW(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const n=r.__getInstance(t);return n!=null?n.__composer:e.global.__composer}}function OW(e){const t=s=>{const{instance:o,value:l}=s;if(!o||!o.$)throw Gi(bi.UNEXPECTED_ERROR);const u=PW(e,o.$),c=nM(l);return[Reflect.apply(u.t,u,[...iM(c)]),u]};return{created:(s,o)=>{const[l,u]=t(o);hv&&e.global===u&&(s.__i18nWatcher=Gr(u.locale,()=>{o.instance&&o.instance.$forceUpdate()})),s.__composer=u,s.textContent=l},unmounted:s=>{hv&&s.__i18nWatcher&&(s.__i18nWatcher(),s.__i18nWatcher=void 0,delete s.__i18nWatcher),s.__composer&&(s.__composer=void 0,delete s.__composer)},beforeUpdate:(s,{value:o})=>{if(s.__composer){const l=s.__composer,u=nM(o);s.textContent=Reflect.apply(l.t,l,[...iM(u)])}},getSSRProps:s=>{const[o]=t(s);return{textContent:o}}}}function nM(e){if(Qe(e))return{path:e};if(Nt(e)){if(!("path"in e))throw Gi(bi.REQUIRED_VALUE,"path");return e}else throw Gi(bi.INVALID_VALUE)}function iM(e){const{path:t,locale:r,args:n,choice:i,plural:a}=e,s={},o=n||{};return Qe(r)&&(s.locale=r),Ur(i)&&(s.plural=i),Ur(a)&&(s.plural=a),[t,o,s]}function CW(e,t,...r){const n=Nt(r[0])?r[0]:{};(Ft(n.globalInstall)?n.globalInstall:!0)&&([tM.name,"I18nT"].forEach(a=>e.component(a,tM)),[rM.name,"I18nN"].forEach(a=>e.component(a,rM)),[sM.name,"I18nD"].forEach(a=>e.component(a,sM))),e.directive("t",OW(t))}const RW=Bo("global-vue-i18n");function Dwe(e={}){const t=__VUE_I18N_LEGACY_API__&&Ft(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=Ft(e.globalInjection)?e.globalInjection:!0,n=new Map,[i,a]=LW(e,t),s=Bo("");function o(f){return n.get(f)||null}function l(f,h){n.set(f,h)}function u(f){n.delete(f)}const c={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(f,...h){if(f.__VUE_I18N_SYMBOL__=s,f.provide(f.__VUE_I18N_SYMBOL__,c),Nt(h[0])){const p=h[0];c.__composerExtend=p.__composerExtend,c.__vueI18nExtend=p.__vueI18nExtend}let d=null;!t&&r&&(d=qW(f,c.global)),__VUE_I18N_FULL_INSTALL__&&CW(f,c,...h),__VUE_I18N_LEGACY_API__&&t&&f.mixin(SW(a,a.__composer,c));const v=f.unmount;f.unmount=()=>{d&&d(),c.dispose(),v()}},get global(){return a},dispose(){i.stop()},__instances:n,__getInstance:o,__setInstance:l,__deleteInstance:u};return c}function C_(e={}){const t=qn();if(t==null)throw Gi(bi.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Gi(bi.NOT_INSTALLED);const r=IW(t),n=FW(r),i=N5(t),a=DW(e,i);if(a==="global")return A5(n,e,i),n;if(a==="parent"){let l=$W(r,t,e.__useComponent);return l==null&&(l=n),l}const s=r;let o=s.__getInstance(t);if(o==null){const l=on({},e);"__i18n"in i&&(l.__i18n=i.__i18n),n&&(l.__root=n),o=P_(l),s.__composerExtend&&(o[ME]=s.__composerExtend(o)),zW(s,t,o),s.__setInstance(t,o)}return o}function LW(e,t){const r=f_(),n=__VUE_I18N_LEGACY_API__&&t?r.run(()=>NE(e)):r.run(()=>P_(e));if(n==null)throw Gi(bi.UNEXPECTED_ERROR);return[r,n]}function IW(e){const t=Oi(e.isCE?RW:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Gi(e.isCE?bi.NOT_INSTALLED_WITH_PROVIDE:bi.UNEXPECTED_ERROR);return t}function DW(e,t){return _p(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function FW(e){return e.mode==="composition"?e.global:e.global.__composer}function $W(e,t,r=!1){let n=null;const i=t.root;let a=BW(t,r);for(;a!=null;){const s=e;if(e.mode==="composition")n=s.__getInstance(a);else if(__VUE_I18N_LEGACY_API__){const o=s.__getInstance(a);o!=null&&(n=o.__composer,r&&n&&!n[M5]&&(n=null))}if(n!=null||i===a)break;a=a.parent}return n}function BW(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function zW(e,t,r){qo(()=>{},t),__(()=>{const n=r;e.__deleteInstance(t);const i=n[ME];i&&(i(),delete n[ME])},t)}const GW=["locale","fallbackLocale","availableLocales"],aM=["t","rt","d","n","tm","te"];function qW(e,t){const r=Object.create(null);return GW.forEach(i=>{const a=Object.getOwnPropertyDescriptor(t,i);if(!a)throw Gi(bi.UNEXPECTED_ERROR);const s=gr(a.value)?{get(){return a.value.value},set(o){a.value.value=o}}:{get(){return a.get&&a.get()}};Object.defineProperty(r,i,s)}),e.config.globalProperties.$i18n=r,aM.forEach(i=>{const a=Object.getOwnPropertyDescriptor(t,i);if(!a||!a.value)throw Gi(bi.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${i}`,a)}),()=>{delete e.config.globalProperties.$i18n,aM.forEach(i=>{delete e.config.globalProperties[`$${i}`]})}}const jW=Ip({name:"i18n-d",props:on({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},O_),setup(e,t){const r=e.i18n||C_({useScope:e.scope,__useComponent:!0});return O5(e,t,KD,(...n)=>r[SE](...n))}}),sM=jW;xW();y8(Jq);b8(p8);w8(WD);if(__INTLIFY_PROD_DEVTOOLS__){const e=gl();e.__INTLIFY__=!0,e8(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const{min:WW,max:VW}=Math,kl=(e,t=0,r=1)=>WW(VW(t,e),r),R_=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=kl(e[t],0,255)):t===3&&(e[t]=kl(e[t],0,1));return e},C5={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])C5[`[object ${e}]`]=e.toLowerCase();function Mt(e){return C5[Object.prototype.toString.call(e)]||"object"}const kt=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):Mt(e[0])=="object"&&t?t.split("").filter(r=>e[0][r]!==void 0).map(r=>e[0][r]):e[0].slice(0),nc=e=>{if(e.length<2)return null;const t=e.length-1;return Mt(e[t])=="string"?e[t].toLowerCase():null},{PI:qp,min:R5,max:L5}=Math,na=e=>Math.round(e*100)/100,AE=e=>Math.round(e*100)/100,Os=qp*2,r0=qp/3,UW=qp/180,HW=180/qp;function I5(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}const xt={format:{},autodetect:[]};let Re=class{constructor(...t){const r=this;if(Mt(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let n=nc(t),i=!1;if(!n){i=!0,xt.sorted||(xt.autodetect=xt.autodetect.sort((a,s)=>s.p-a.p),xt.sorted=!0);for(let a of xt.autodetect)if(n=a.test(...t),n)break}if(xt.format[n]){const a=xt.format[n].apply(null,i?t:t.slice(0,-1));r._rgb=R_(a)}else throw new Error("unknown format: "+t);r._rgb.length===3&&r._rgb.push(1)}toString(){return Mt(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}};const YW="3.1.2",Rt=(...e)=>new Re(...e);Rt.version=YW;const Ru={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},XW=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,KW=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,D5=e=>{if(e.match(XW)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e,16),r=t>>16,n=t>>8&255,i=t&255;return[r,n,i,1]}if(e.match(KW)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16),r=t>>24&255,n=t>>16&255,i=t>>8&255,a=Math.round((t&255)/255*100)/100;return[r,n,i,a]}throw new Error(`unknown hex color: ${e}`)},{round:Ih}=Math,F5=(...e)=>{let[t,r,n,i]=kt(e,"rgba"),a=nc(e)||"auto";i===void 0&&(i=1),a==="auto"&&(a=i<1?"rgba":"rgb"),t=Ih(t),r=Ih(r),n=Ih(n);let o="000000"+(t<<16|r<<8|n).toString(16);o=o.substr(o.length-6);let l="0"+Ih(i*255).toString(16);switch(l=l.substr(l.length-2),a.toLowerCase()){case"rgba":return`#${o}${l}`;case"argb":return`#${l}${o}`;default:return`#${o}`}};Re.prototype.name=function(){const e=F5(this._rgb,"rgb");for(let t of Object.keys(Ru))if(Ru[t]===e)return t.toLowerCase();return e};xt.format.named=e=>{if(e=e.toLowerCase(),Ru[e])return D5(Ru[e]);throw new Error("unknown color name: "+e)};xt.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&Mt(e)==="string"&&Ru[e.toLowerCase()])return"named"}});Re.prototype.alpha=function(e,t=!1){return e!==void 0&&Mt(e)==="number"?t?(this._rgb[3]=e,this):new Re([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};Re.prototype.clipped=function(){return this._rgb._clipped||!1};const ls={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},ZW=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function zs(e){const t=ZW.get(String(e).toLowerCase());if(!t)throw new Error("unknown Lab illuminant "+e);ls.labWhitePoint=e,ls.Xn=t[0],ls.Zn=t[1]}function Af(){return ls.labWhitePoint}const L_=(...e)=>{e=kt(e,"lab");const[t,r,n]=e,[i,a,s]=QW(t,r,n),[o,l,u]=$5(i,a,s);return[o,l,u,e.length>3?e[3]:1]},QW=(e,t,r)=>{const{kE:n,kK:i,kKE:a,Xn:s,Yn:o,Zn:l}=ls,u=(e+16)/116,c=.002*t+u,f=u-.005*r,h=c*c*c,d=f*f*f,v=h>n?h:(116*c-16)/i,p=e>a?Math.pow((e+16)/116,3):e/i,g=d>n?d:(116*f-16)/i,m=v*s,y=p*o,b=g*l;return[m,y,b]},n0=e=>{const t=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*t},$5=(e,t,r)=>{const{MtxAdaptMa:n,MtxAdaptMaI:i,MtxXYZ2RGB:a,RefWhiteRGB:s,Xn:o,Yn:l,Zn:u}=ls,c=o*n.m00+l*n.m10+u*n.m20,f=o*n.m01+l*n.m11+u*n.m21,h=o*n.m02+l*n.m12+u*n.m22,d=s.X*n.m00+s.Y*n.m10+s.Z*n.m20,v=s.X*n.m01+s.Y*n.m11+s.Z*n.m21,p=s.X*n.m02+s.Y*n.m12+s.Z*n.m22,g=(e*n.m00+t*n.m10+r*n.m20)*(d/c),m=(e*n.m01+t*n.m11+r*n.m21)*(v/f),y=(e*n.m02+t*n.m12+r*n.m22)*(p/h),b=g*i.m00+m*i.m10+y*i.m20,_=g*i.m01+m*i.m11+y*i.m21,x=g*i.m02+m*i.m12+y*i.m22,E=n0(b*a.m00+_*a.m10+x*a.m20),w=n0(b*a.m01+_*a.m11+x*a.m21),S=n0(b*a.m02+_*a.m12+x*a.m22);return[E*255,w*255,S*255]},I_=(...e)=>{const[t,r,n,...i]=kt(e,"rgb"),[a,s,o]=B5(t,r,n),[l,u,c]=JW(a,s,o);return[l,u,c,...i.length>0&&i[0]<1?[i[0]]:[]]};function JW(e,t,r){const{Xn:n,Yn:i,Zn:a,kE:s,kK:o}=ls,l=e/n,u=t/i,c=r/a,f=l>s?Math.pow(l,1/3):(o*l+16)/116,h=u>s?Math.pow(u,1/3):(o*u+16)/116,d=c>s?Math.pow(c,1/3):(o*c+16)/116;return[116*h-16,500*(f-h),200*(h-d)]}function i0(e){const t=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*t}const B5=(e,t,r)=>{e=i0(e/255),t=i0(t/255),r=i0(r/255);const{MtxRGB2XYZ:n,MtxAdaptMa:i,MtxAdaptMaI:a,Xn:s,Yn:o,Zn:l,As:u,Bs:c,Cs:f}=ls;let h=e*n.m00+t*n.m10+r*n.m20,d=e*n.m01+t*n.m11+r*n.m21,v=e*n.m02+t*n.m12+r*n.m22;const p=s*i.m00+o*i.m10+l*i.m20,g=s*i.m01+o*i.m11+l*i.m21,m=s*i.m02+o*i.m12+l*i.m22;let y=h*i.m00+d*i.m10+v*i.m20,b=h*i.m01+d*i.m11+v*i.m21,_=h*i.m02+d*i.m12+v*i.m22;return y*=p/u,b*=g/c,_*=m/f,h=y*a.m00+b*a.m10+_*a.m20,d=y*a.m01+b*a.m11+_*a.m21,v=y*a.m02+b*a.m12+_*a.m22,[h,d,v]};Re.prototype.lab=function(){return I_(this._rgb)};const eV=(...e)=>new Re(...e,"lab");Object.assign(Rt,{lab:eV,getLabWhitePoint:Af,setLabWhitePoint:zs});xt.format.lab=L_;xt.autodetect.push({p:2,test:(...e)=>{if(e=kt(e,"lab"),Mt(e)==="array"&&e.length===3)return"lab"}});Re.prototype.darken=function(e=1){const t=this,r=t.lab();return r[0]-=ls.Kn*e,new Re(r,"lab").alpha(t.alpha(),!0)};Re.prototype.brighten=function(e=1){return this.darken(-e)};Re.prototype.darker=Re.prototype.darken;Re.prototype.brighter=Re.prototype.brighten;Re.prototype.get=function(e){const[t,r]=e.split("."),n=this[t]();if(r){const i=t.indexOf(r)-(t.substr(0,2)==="ok"?2:0);if(i>-1)return n[i];throw new Error(`unknown channel ${r} in mode ${t}`)}else return n};const{pow:tV}=Math,rV=1e-7,nV=20;Re.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&Mt(e)==="number"){if(e===0)return new Re([0,0,0,this._rgb[3]],"rgb");if(e===1)return new Re([255,255,255,this._rgb[3]],"rgb");let r=this.luminance(),n=nV;const i=(s,o)=>{const l=s.interpolate(o,.5,t),u=l.luminance();return Math.abs(e-u)<rV||!n--?l:u>e?i(s,l):i(l,o)},a=(r>e?i(new Re([0,0,0]),this):i(this,new Re([255,255,255]))).rgb();return new Re([...a,this._rgb[3]])}return iV(...this._rgb.slice(0,3))};const iV=(e,t,r)=>(e=a0(e),t=a0(t),r=a0(r),.2126*e+.7152*t+.0722*r),a0=e=>(e/=255,e<=.03928?e/12.92:tV((e+.055)/1.055,2.4)),Gn={},Lu=(e,t,r=.5,...n)=>{let i=n[0]||"lrgb";if(!Gn[i]&&!n.length&&(i=Object.keys(Gn)[0]),!Gn[i])throw new Error(`interpolation mode ${i} is not defined`);return Mt(e)!=="object"&&(e=new Re(e)),Mt(t)!=="object"&&(t=new Re(t)),Gn[i](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))};Re.prototype.mix=Re.prototype.interpolate=function(e,t=.5,...r){return Lu(this,e,t,...r)};Re.prototype.premultiply=function(e=!1){const t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new Re([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};const{sin:aV,cos:sV}=Math,z5=(...e)=>{let[t,r,n]=kt(e,"lch");return isNaN(n)&&(n=0),n=n*UW,[t,sV(n)*r,aV(n)*r]},D_=(...e)=>{e=kt(e,"lch");const[t,r,n]=e,[i,a,s]=z5(t,r,n),[o,l,u]=L_(i,a,s);return[o,l,u,e.length>3?e[3]:1]},oV=(...e)=>{const t=I5(kt(e,"hcl"));return D_(...t)},{sqrt:lV,atan2:uV,round:cV}=Math,G5=(...e)=>{const[t,r,n]=kt(e,"lab"),i=lV(r*r+n*n);let a=(uV(n,r)*HW+360)%360;return cV(i*1e4)===0&&(a=Number.NaN),[t,i,a]},F_=(...e)=>{const[t,r,n,...i]=kt(e,"rgb"),[a,s,o]=I_(t,r,n),[l,u,c]=G5(a,s,o);return[l,u,c,...i.length>0&&i[0]<1?[i[0]]:[]]};Re.prototype.lch=function(){return F_(this._rgb)};Re.prototype.hcl=function(){return I5(F_(this._rgb))};const fV=(...e)=>new Re(...e,"lch"),hV=(...e)=>new Re(...e,"hcl");Object.assign(Rt,{lch:fV,hcl:hV});xt.format.lch=D_;xt.format.hcl=oV;["lch","hcl"].forEach(e=>xt.autodetect.push({p:2,test:(...t)=>{if(t=kt(t,e),Mt(t)==="array"&&t.length===3)return e}}));Re.prototype.saturate=function(e=1){const t=this,r=t.lch();return r[1]+=ls.Kn*e,r[1]<0&&(r[1]=0),new Re(r,"lch").alpha(t.alpha(),!0)};Re.prototype.desaturate=function(e=1){return this.saturate(-e)};Re.prototype.set=function(e,t,r=!1){const[n,i]=e.split("."),a=this[n]();if(i){const s=n.indexOf(i)-(n.substr(0,2)==="ok"?2:0);if(s>-1){if(Mt(t)=="string")switch(t.charAt(0)){case"+":a[s]+=+t;break;case"-":a[s]+=+t;break;case"*":a[s]*=+t.substr(1);break;case"/":a[s]/=+t.substr(1);break;default:a[s]=+t}else if(Mt(t)==="number")a[s]=t;else throw new Error("unsupported value for Color.set");const o=new Re(a,n);return r?(this._rgb=o._rgb,this):o}throw new Error(`unknown channel ${i} in mode ${n}`)}else return a};Re.prototype.tint=function(e=.5,...t){return Lu(this,"white",e,...t)};Re.prototype.shade=function(e=.5,...t){return Lu(this,"black",e,...t)};const dV=(e,t,r)=>{const n=e._rgb,i=t._rgb;return new Re(n[0]+r*(i[0]-n[0]),n[1]+r*(i[1]-n[1]),n[2]+r*(i[2]-n[2]),"rgb")};Gn.rgb=dV;const{sqrt:s0,pow:Ql}=Math,vV=(e,t,r)=>{const[n,i,a]=e._rgb,[s,o,l]=t._rgb;return new Re(s0(Ql(n,2)*(1-r)+Ql(s,2)*r),s0(Ql(i,2)*(1-r)+Ql(o,2)*r),s0(Ql(a,2)*(1-r)+Ql(l,2)*r),"rgb")};Gn.lrgb=vV;const pV=(e,t,r)=>{const n=e.lab(),i=t.lab();return new Re(n[0]+r*(i[0]-n[0]),n[1]+r*(i[1]-n[1]),n[2]+r*(i[2]-n[2]),"lab")};Gn.lab=pV;const ic=(e,t,r,n)=>{let i,a;n==="hsl"?(i=e.hsl(),a=t.hsl()):n==="hsv"?(i=e.hsv(),a=t.hsv()):n==="hcg"?(i=e.hcg(),a=t.hcg()):n==="hsi"?(i=e.hsi(),a=t.hsi()):n==="lch"||n==="hcl"?(n="hcl",i=e.hcl(),a=t.hcl()):n==="oklch"&&(i=e.oklch().reverse(),a=t.oklch().reverse());let s,o,l,u,c,f;(n.substr(0,1)==="h"||n==="oklch")&&([s,l,c]=i,[o,u,f]=a);let h,d,v,p;return!isNaN(s)&&!isNaN(o)?(o>s&&o-s>180?p=o-(s+360):o<s&&s-o>180?p=o+360-s:p=o-s,d=s+r*p):isNaN(s)?isNaN(o)?d=Number.NaN:(d=o,(c==1||c==0)&&n!="hsv"&&(h=u)):(d=s,(f==1||f==0)&&n!="hsv"&&(h=l)),h===void 0&&(h=l+r*(u-l)),v=c+r*(f-c),n==="oklch"?new Re([v,h,d],n):new Re([d,h,v],n)},q5=(e,t,r)=>ic(e,t,r,"lch");Gn.lch=q5;Gn.hcl=q5;const gV=e=>{if(Mt(e)=="number"&&e>=0&&e<=16777215){const t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}throw new Error("unknown num color: "+e)},mV=(...e)=>{const[t,r,n]=kt(e,"rgb");return(t<<16)+(r<<8)+n};Re.prototype.num=function(){return mV(this._rgb)};const yV=(...e)=>new Re(...e,"num");Object.assign(Rt,{num:yV});xt.format.num=gV;xt.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&Mt(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});const bV=(e,t,r)=>{const n=e.num(),i=t.num();return new Re(n+r*(i-n),"num")};Gn.num=bV;const{floor:wV}=Math,xV=(...e)=>{e=kt(e,"hcg");let[t,r,n]=e,i,a,s;n=n*255;const o=r*255;if(r===0)i=a=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const l=wV(t),u=t-l,c=n*(1-r),f=c+o*(1-u),h=c+o*u,d=c+o;switch(l){case 0:[i,a,s]=[d,h,c];break;case 1:[i,a,s]=[f,d,c];break;case 2:[i,a,s]=[c,d,h];break;case 3:[i,a,s]=[c,f,d];break;case 4:[i,a,s]=[h,c,d];break;case 5:[i,a,s]=[d,c,f];break}}return[i,a,s,e.length>3?e[3]:1]},EV=(...e)=>{const[t,r,n]=kt(e,"rgb"),i=R5(t,r,n),a=L5(t,r,n),s=a-i,o=s*100/255,l=i/(255-s)*100;let u;return s===0?u=Number.NaN:(t===a&&(u=(r-n)/s),r===a&&(u=2+(n-t)/s),n===a&&(u=4+(t-r)/s),u*=60,u<0&&(u+=360)),[u,o,l]};Re.prototype.hcg=function(){return EV(this._rgb)};const _V=(...e)=>new Re(...e,"hcg");Rt.hcg=_V;xt.format.hcg=xV;xt.autodetect.push({p:1,test:(...e)=>{if(e=kt(e,"hcg"),Mt(e)==="array"&&e.length===3)return"hcg"}});const kV=(e,t,r)=>ic(e,t,r,"hcg");Gn.hcg=kV;const{cos:Jl}=Math,SV=(...e)=>{e=kt(e,"hsi");let[t,r,n]=e,i,a,s;return isNaN(t)&&(t=0),isNaN(r)&&(r=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(s=(1-r)/3,i=(1+r*Jl(Os*t)/Jl(r0-Os*t))/3,a=1-(s+i)):t<2/3?(t-=1/3,i=(1-r)/3,a=(1+r*Jl(Os*t)/Jl(r0-Os*t))/3,s=1-(i+a)):(t-=2/3,a=(1-r)/3,s=(1+r*Jl(Os*t)/Jl(r0-Os*t))/3,i=1-(a+s)),i=kl(n*i*3),a=kl(n*a*3),s=kl(n*s*3),[i*255,a*255,s*255,e.length>3?e[3]:1]},{min:TV,sqrt:MV,acos:NV}=Math,AV=(...e)=>{let[t,r,n]=kt(e,"rgb");t/=255,r/=255,n/=255;let i;const a=TV(t,r,n),s=(t+r+n)/3,o=s>0?1-a/s:0;return o===0?i=NaN:(i=(t-r+(t-n))/2,i/=MV((t-r)*(t-r)+(t-n)*(r-n)),i=NV(i),n>r&&(i=Os-i),i/=Os),[i*360,o,s]};Re.prototype.hsi=function(){return AV(this._rgb)};const PV=(...e)=>new Re(...e,"hsi");Rt.hsi=PV;xt.format.hsi=SV;xt.autodetect.push({p:2,test:(...e)=>{if(e=kt(e,"hsi"),Mt(e)==="array"&&e.length===3)return"hsi"}});const OV=(e,t,r)=>ic(e,t,r,"hsi");Gn.hsi=OV;const PE=(...e)=>{e=kt(e,"hsl");const[t,r,n]=e;let i,a,s;if(r===0)i=a=s=n*255;else{const o=[0,0,0],l=[0,0,0],u=n<.5?n*(1+r):n+r-n*r,c=2*n-u,f=t/360;o[0]=f+1/3,o[1]=f,o[2]=f-1/3;for(let h=0;h<3;h++)o[h]<0&&(o[h]+=1),o[h]>1&&(o[h]-=1),6*o[h]<1?l[h]=c+(u-c)*6*o[h]:2*o[h]<1?l[h]=u:3*o[h]<2?l[h]=c+(u-c)*(2/3-o[h])*6:l[h]=c;[i,a,s]=[l[0]*255,l[1]*255,l[2]*255]}return e.length>3?[i,a,s,e[3]]:[i,a,s,1]},j5=(...e)=>{e=kt(e,"rgba");let[t,r,n]=e;t/=255,r/=255,n/=255;const i=R5(t,r,n),a=L5(t,r,n),s=(a+i)/2;let o,l;return a===i?(o=0,l=Number.NaN):o=s<.5?(a-i)/(a+i):(a-i)/(2-a-i),t==a?l=(r-n)/(a-i):r==a?l=2+(n-t)/(a-i):n==a&&(l=4+(t-r)/(a-i)),l*=60,l<0&&(l+=360),e.length>3&&e[3]!==void 0?[l,o,s,e[3]]:[l,o,s]};Re.prototype.hsl=function(){return j5(this._rgb)};const CV=(...e)=>new Re(...e,"hsl");Rt.hsl=CV;xt.format.hsl=PE;xt.autodetect.push({p:2,test:(...e)=>{if(e=kt(e,"hsl"),Mt(e)==="array"&&e.length===3)return"hsl"}});const RV=(e,t,r)=>ic(e,t,r,"hsl");Gn.hsl=RV;const{floor:LV}=Math,IV=(...e)=>{e=kt(e,"hsv");let[t,r,n]=e,i,a,s;if(n*=255,r===0)i=a=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const o=LV(t),l=t-o,u=n*(1-r),c=n*(1-r*l),f=n*(1-r*(1-l));switch(o){case 0:[i,a,s]=[n,f,u];break;case 1:[i,a,s]=[c,n,u];break;case 2:[i,a,s]=[u,n,f];break;case 3:[i,a,s]=[u,c,n];break;case 4:[i,a,s]=[f,u,n];break;case 5:[i,a,s]=[n,u,c];break}}return[i,a,s,e.length>3?e[3]:1]},{min:DV,max:FV}=Math,$V=(...e)=>{e=kt(e,"rgb");let[t,r,n]=e;const i=DV(t,r,n),a=FV(t,r,n),s=a-i;let o,l,u;return u=a/255,a===0?(o=Number.NaN,l=0):(l=s/a,t===a&&(o=(r-n)/s),r===a&&(o=2+(n-t)/s),n===a&&(o=4+(t-r)/s),o*=60,o<0&&(o+=360)),[o,l,u]};Re.prototype.hsv=function(){return $V(this._rgb)};const BV=(...e)=>new Re(...e,"hsv");Rt.hsv=BV;xt.format.hsv=IV;xt.autodetect.push({p:2,test:(...e)=>{if(e=kt(e,"hsv"),Mt(e)==="array"&&e.length===3)return"hsv"}});const zV=(e,t,r)=>ic(e,t,r,"hsv");Gn.hsv=zV;function Nv(e,t){let r=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(s=>[s]));let n=t[0].length,i=t[0].map((s,o)=>t.map(l=>l[o])),a=e.map(s=>i.map(o=>Array.isArray(s)?s.reduce((l,u,c)=>l+u*(o[c]||0),0):o.reduce((l,u)=>l+u*s,0)));return r===1&&(a=a[0]),n===1?a.map(s=>s[0]):a}const $_=(...e)=>{e=kt(e,"lab");const[t,r,n,...i]=e,[a,s,o]=GV([t,r,n]),[l,u,c]=$5(a,s,o);return[l,u,c,...i.length>0&&i[0]<1?[i[0]]:[]]};function GV(e){var t=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],r=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n=Nv(r,e);return Nv(t,n.map(i=>i**3))}const B_=(...e)=>{const[t,r,n,...i]=kt(e,"rgb"),a=B5(t,r,n);return[...qV(a),...i.length>0&&i[0]<1?[i[0]]:[]]};function qV(e){const t=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],r=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=Nv(t,e);return Nv(r,n.map(i=>Math.cbrt(i)))}Re.prototype.oklab=function(){return B_(this._rgb)};const jV=(...e)=>new Re(...e,"oklab");Object.assign(Rt,{oklab:jV});xt.format.oklab=$_;xt.autodetect.push({p:2,test:(...e)=>{if(e=kt(e,"oklab"),Mt(e)==="array"&&e.length===3)return"oklab"}});const WV=(e,t,r)=>{const n=e.oklab(),i=t.oklab();return new Re(n[0]+r*(i[0]-n[0]),n[1]+r*(i[1]-n[1]),n[2]+r*(i[2]-n[2]),"oklab")};Gn.oklab=WV;const VV=(e,t,r)=>ic(e,t,r,"oklch");Gn.oklch=VV;const{pow:o0,sqrt:l0,PI:u0,cos:oM,sin:lM,atan2:UV}=Math,HV=(e,t="lrgb",r=null)=>{const n=e.length;r||(r=Array.from(new Array(n)).map(()=>1));const i=n/r.reduce(function(f,h){return f+h});if(r.forEach((f,h)=>{r[h]*=i}),e=e.map(f=>new Re(f)),t==="lrgb")return YV(e,r);const a=e.shift(),s=a.get(t),o=[];let l=0,u=0;for(let f=0;f<s.length;f++)if(s[f]=(s[f]||0)*r[0],o.push(isNaN(s[f])?0:r[0]),t.charAt(f)==="h"&&!isNaN(s[f])){const h=s[f]/180*u0;l+=oM(h)*r[0],u+=lM(h)*r[0]}let c=a.alpha()*r[0];e.forEach((f,h)=>{const d=f.get(t);c+=f.alpha()*r[h+1];for(let v=0;v<s.length;v++)if(!isNaN(d[v]))if(o[v]+=r[h+1],t.charAt(v)==="h"){const p=d[v]/180*u0;l+=oM(p)*r[h+1],u+=lM(p)*r[h+1]}else s[v]+=d[v]*r[h+1]});for(let f=0;f<s.length;f++)if(t.charAt(f)==="h"){let h=UV(u/o[f],l/o[f])/u0*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;s[f]=h}else s[f]=s[f]/o[f];return c/=n,new Re(s,t).alpha(c>.99999?1:c,!0)},YV=(e,t)=>{const r=e.length,n=[0,0,0,0];for(let i=0;i<e.length;i++){const a=e[i],s=t[i]/r,o=a._rgb;n[0]+=o0(o[0],2)*s,n[1]+=o0(o[1],2)*s,n[2]+=o0(o[2],2)*s,n[3]+=o[3]*s}return n[0]=l0(n[0]),n[1]=l0(n[1]),n[2]=l0(n[2]),n[3]>.9999999&&(n[3]=1),new Re(R_(n))},{pow:XV}=Math;function Av(e){let t="rgb",r=Rt("#ccc"),n=0,i=[0,1],a=[],s=[0,0],o=!1,l=[],u=!1,c=0,f=1,h=!1,d={},v=!0,p=1;const g=function(w){if(w=w||["#fff","#000"],w&&Mt(w)==="string"&&Rt.brewer&&Rt.brewer[w.toLowerCase()]&&(w=Rt.brewer[w.toLowerCase()]),Mt(w)==="array"){w.length===1&&(w=[w[0],w[0]]),w=w.slice(0);for(let S=0;S<w.length;S++)w[S]=Rt(w[S]);a.length=0;for(let S=0;S<w.length;S++)a.push(S/(w.length-1))}return x(),l=w},m=function(w){if(o!=null){const S=o.length-1;let A=0;for(;A<S&&w>=o[A];)A++;return A-1}return 0};let y=w=>w,b=w=>w;const _=function(w,S){let A,P;if(S==null&&(S=!1),isNaN(w)||w===null)return r;S?P=w:o&&o.length>2?P=m(w)/(o.length-2):f!==c?P=(w-c)/(f-c):P=1,P=b(P),S||(P=y(P)),p!==1&&(P=XV(P,p)),P=s[0]+P*(1-s[0]-s[1]),P=kl(P,0,1);const O=Math.floor(P*1e4);if(v&&d[O])A=d[O];else{if(Mt(l)==="array")for(let C=0;C<a.length;C++){const L=a[C];if(P<=L){A=l[C];break}if(P>=L&&C===a.length-1){A=l[C];break}if(P>L&&P<a[C+1]){P=(P-L)/(a[C+1]-L),A=Rt.interpolate(l[C],l[C+1],P,t);break}}else Mt(l)==="function"&&(A=l(P));v&&(d[O]=A)}return A};var x=()=>d={};g(e);const E=function(w){const S=Rt(_(w));return u&&S[u]?S[u]():S};return E.classes=function(w){if(w!=null){if(Mt(w)==="array")o=w,i=[w[0],w[w.length-1]];else{const S=Rt.analyze(i);w===0?o=[S.min,S.max]:o=Rt.limits(S,"e",w)}return E}return o},E.domain=function(w){if(!arguments.length)return i;c=w[0],f=w[w.length-1],a=[];const S=l.length;if(w.length===S&&c!==f)for(let A of Array.from(w))a.push((A-c)/(f-c));else{for(let A=0;A<S;A++)a.push(A/(S-1));if(w.length>2){const A=w.map((O,C)=>C/(w.length-1)),P=w.map(O=>(O-c)/(f-c));P.every((O,C)=>A[C]===O)||(b=O=>{if(O<=0||O>=1)return O;let C=0;for(;O>=P[C+1];)C++;const L=(O-P[C])/(P[C+1]-P[C]);return A[C]+L*(A[C+1]-A[C])})}}return i=[c,f],E},E.mode=function(w){return arguments.length?(t=w,x(),E):t},E.range=function(w,S){return g(w),E},E.out=function(w){return u=w,E},E.spread=function(w){return arguments.length?(n=w,E):n},E.correctLightness=function(w){return w==null&&(w=!0),h=w,x(),h?y=function(S){const A=_(0,!0).lab()[0],P=_(1,!0).lab()[0],O=A>P;let C=_(S,!0).lab()[0];const L=A+(P-A)*S;let I=C-L,F=0,U=1,G=20;for(;Math.abs(I)>.01&&G-- >0;)(function(){return O&&(I*=-1),I<0?(F=S,S+=(U-S)*.5):(U=S,S+=(F-S)*.5),C=_(S,!0).lab()[0],I=C-L})();return S}:y=S=>S,E},E.padding=function(w){return w!=null?(Mt(w)==="number"&&(w=[w,w]),s=w,E):s},E.colors=function(w,S){arguments.length<2&&(S="hex");let A=[];if(arguments.length===0)A=l.slice(0);else if(w===1)A=[E(.5)];else if(w>1){const P=i[0],O=i[1]-P;A=KV(0,w).map(C=>E(P+C/(w-1)*O))}else{e=[];let P=[];if(o&&o.length>2)for(let O=1,C=o.length,L=1<=C;L?O<C:O>C;L?O++:O--)P.push((o[O-1]+o[O])*.5);else P=i;A=P.map(O=>E(O))}return Rt[S]&&(A=A.map(P=>P[S]())),A},E.cache=function(w){return w!=null?(v=w,E):v},E.gamma=function(w){return w!=null?(p=w,E):p},E.nodata=function(w){return w!=null?(r=Rt(w),E):r},E}function KV(e,t,r){let n=[],i=e<t,a=t;for(let s=e;i?s<a:s>a;i?s++:s--)n.push(s);return n}const ZV=function(e){let t=[1,1];for(let r=1;r<e;r++){let n=[1];for(let i=1;i<=t.length;i++)n[i]=(t[i]||0)+t[i-1];t=n}return t},QV=function(e){let t,r,n,i;if(e=e.map(a=>new Re(a)),e.length===2)[r,n]=e.map(a=>a.lab()),t=function(a){const s=[0,1,2].map(o=>r[o]+a*(n[o]-r[o]));return new Re(s,"lab")};else if(e.length===3)[r,n,i]=e.map(a=>a.lab()),t=function(a){const s=[0,1,2].map(o=>(1-a)*(1-a)*r[o]+2*(1-a)*a*n[o]+a*a*i[o]);return new Re(s,"lab")};else if(e.length===4){let a;[r,n,i,a]=e.map(s=>s.lab()),t=function(s){const o=[0,1,2].map(l=>(1-s)*(1-s)*(1-s)*r[l]+3*(1-s)*(1-s)*s*n[l]+3*(1-s)*s*s*i[l]+s*s*s*a[l]);return new Re(o,"lab")}}else if(e.length>=5){let a,s,o;a=e.map(l=>l.lab()),o=e.length-1,s=ZV(o),t=function(l){const u=1-l,c=[0,1,2].map(f=>a.reduce((h,d,v)=>h+s[v]*u**(o-v)*l**v*d[f],0));return new Re(c,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},JV=e=>{const t=QV(e);return t.scale=()=>Av(t),t},{round:W5}=Math;Re.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(W5)};Re.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,r)=>r<3?e===!1?t:W5(t):t)};const eU=(...e)=>new Re(...e,"rgb");Object.assign(Rt,{rgb:eU});xt.format.rgb=(...e)=>{const t=kt(e,"rgba");return t[3]===void 0&&(t[3]=1),t};xt.autodetect.push({p:3,test:(...e)=>{if(e=kt(e,"rgba"),Mt(e)==="array"&&(e.length===3||e.length===4&&Mt(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});const La=(e,t,r)=>{if(!La[r])throw new Error("unknown blend mode "+r);return La[r](e,t)},jo=e=>(t,r)=>{const n=Rt(r).rgb(),i=Rt(t).rgb();return Rt.rgb(e(n,i))},Wo=e=>(t,r)=>{const n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n},tU=e=>e,rU=(e,t)=>e*t/255,nU=(e,t)=>e>t?t:e,iU=(e,t)=>e>t?e:t,aU=(e,t)=>255*(1-(1-e/255)*(1-t/255)),sU=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),oU=(e,t)=>255*(1-(1-t/255)/(e/255)),lU=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);La.normal=jo(Wo(tU));La.multiply=jo(Wo(rU));La.screen=jo(Wo(aU));La.overlay=jo(Wo(sU));La.darken=jo(Wo(nU));La.lighten=jo(Wo(iU));La.dodge=jo(Wo(lU));La.burn=jo(Wo(oU));const{pow:uU,sin:cU,cos:fU}=Math;function hU(e=300,t=-1.5,r=1,n=1,i=[0,1]){let a=0,s;Mt(i)==="array"?s=i[1]-i[0]:(s=0,i=[i,i]);const o=function(l){const u=Os*((e+120)/360+t*l),c=uU(i[0]+s*l,n),h=(a!==0?r[0]+l*a:r)*c*(1-c)/2,d=fU(u),v=cU(u),p=c+h*(-.14861*d+1.78277*v),g=c+h*(-.29227*d-.90649*v),m=c+h*(1.97294*d);return Rt(R_([p*255,g*255,m*255,1]))};return o.start=function(l){return l==null?e:(e=l,o)},o.rotations=function(l){return l==null?t:(t=l,o)},o.gamma=function(l){return l==null?n:(n=l,o)},o.hue=function(l){return l==null?r:(r=l,Mt(r)==="array"?(a=r[1]-r[0],a===0&&(r=r[1])):a=0,o)},o.lightness=function(l){return l==null?i:(Mt(l)==="array"?(i=l,s=l[1]-l[0]):(i=[l,l],s=0),o)},o.scale=()=>Rt.scale(o),o.hue(r),o}const dU="0123456789abcdef",{floor:vU,random:pU}=Math,gU=()=>{let e="#";for(let t=0;t<6;t++)e+=dU.charAt(vU(pU()*16));return new Re(e,"hex")},{log:uM,pow:mU,floor:yU,abs:bU}=Math;function V5(e,t=null){const r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Mt(e)==="object"&&(e=Object.values(e)),e.forEach(n=>{t&&Mt(n)==="object"&&(n=n[t]),n!=null&&!isNaN(n)&&(r.values.push(n),r.sum+=n,n<r.min&&(r.min=n),n>r.max&&(r.max=n),r.count+=1)}),r.domain=[r.min,r.max],r.limits=(n,i)=>U5(r,n,i),r}function U5(e,t="equal",r=7){Mt(e)=="array"&&(e=V5(e));const{min:n,max:i}=e,a=e.values.sort((o,l)=>o-l);if(r===1)return[n,i];const s=[];if(t.substr(0,1)==="c"&&(s.push(n),s.push(i)),t.substr(0,1)==="e"){s.push(n);for(let o=1;o<r;o++)s.push(n+o/r*(i-n));s.push(i)}else if(t.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");const o=Math.LOG10E*uM(n),l=Math.LOG10E*uM(i);s.push(n);for(let u=1;u<r;u++)s.push(mU(10,o+u/r*(l-o)));s.push(i)}else if(t.substr(0,1)==="q"){s.push(n);for(let o=1;o<r;o++){const l=(a.length-1)*o/r,u=yU(l);if(u===l)s.push(a[u]);else{const c=l-u;s.push(a[u]*(1-c)+a[u+1]*c)}}s.push(i)}else if(t.substr(0,1)==="k"){let o;const l=a.length,u=new Array(l),c=new Array(r);let f=!0,h=0,d=null;d=[],d.push(n);for(let g=1;g<r;g++)d.push(n+g/r*(i-n));for(d.push(i);f;){for(let m=0;m<r;m++)c[m]=0;for(let m=0;m<l;m++){const y=a[m];let b=Number.MAX_VALUE,_;for(let x=0;x<r;x++){const E=bU(d[x]-y);E<b&&(b=E,_=x),c[_]++,u[m]=_}}const g=new Array(r);for(let m=0;m<r;m++)g[m]=null;for(let m=0;m<l;m++)o=u[m],g[o]===null?g[o]=a[m]:g[o]+=a[m];for(let m=0;m<r;m++)g[m]*=1/c[m];f=!1;for(let m=0;m<r;m++)if(g[m]!==d[m]){f=!0;break}d=g,h++,h>200&&(f=!1)}const v={};for(let g=0;g<r;g++)v[g]=[];for(let g=0;g<l;g++)o=u[g],v[o].push(a[g]);let p=[];for(let g=0;g<r;g++)p.push(v[g][0]),p.push(v[g][v[g].length-1]);p=p.sort((g,m)=>g-m),s.push(p[0]);for(let g=1;g<p.length;g+=2){const m=p[g];!isNaN(m)&&s.indexOf(m)===-1&&s.push(m)}}return s}const wU=(e,t)=>{e=new Re(e),t=new Re(t);const r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const cM=.027,xU=5e-4,EU=.1,fM=1.14,Dh=.022,hM=1.414,_U=(e,t)=>{e=new Re(e),t=new Re(t),e.alpha()<1&&(e=Lu(t,e,e.alpha(),"rgb"));const r=dM(...e.rgb()),n=dM(...t.rgb()),i=r>=Dh?r:r+Math.pow(Dh-r,hM),a=n>=Dh?n:n+Math.pow(Dh-n,hM),s=Math.pow(a,.56)-Math.pow(i,.57),o=Math.pow(a,.65)-Math.pow(i,.62),l=Math.abs(a-i)<xU?0:i<a?s*fM:o*fM;return(Math.abs(l)<EU?0:l>0?l-cM:l+cM)*100};function dM(e,t,r){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(r/255,2.4)}const{sqrt:Ts,pow:jr,min:kU,max:SU,atan2:vM,abs:pM,cos:Fh,sin:gM,exp:TU,PI:mM}=Math;function MU(e,t,r=1,n=1,i=1){var a=function(je){return 360*je/(2*mM)},s=function(je){return 2*mM*je/360};e=new Re(e),t=new Re(t);const[o,l,u]=Array.from(e.lab()),[c,f,h]=Array.from(t.lab()),d=(o+c)/2,v=Ts(jr(l,2)+jr(u,2)),p=Ts(jr(f,2)+jr(h,2)),g=(v+p)/2,m=.5*(1-Ts(jr(g,7)/(jr(g,7)+jr(25,7)))),y=l*(1+m),b=f*(1+m),_=Ts(jr(y,2)+jr(u,2)),x=Ts(jr(b,2)+jr(h,2)),E=(_+x)/2,w=a(vM(u,y)),S=a(vM(h,b)),A=w>=0?w:w+360,P=S>=0?S:S+360,O=pM(A-P)>180?(A+P+360)/2:(A+P)/2,C=1-.17*Fh(s(O-30))+.24*Fh(s(2*O))+.32*Fh(s(3*O+6))-.2*Fh(s(4*O-63));let L=P-A;L=pM(L)<=180?L:P<=A?L+360:L-360,L=2*Ts(_*x)*gM(s(L)/2);const I=c-o,F=x-_,U=1+.015*jr(d-50,2)/Ts(20+jr(d-50,2)),G=1+.045*E,z=1+.015*E*C,Z=30*TU(-jr((O-275)/25,2)),xe=-(2*Ts(jr(E,7)/(jr(E,7)+jr(25,7))))*gM(2*s(Z)),ve=Ts(jr(I/(r*U),2)+jr(F/(n*G),2)+jr(L/(i*z),2)+xe*(F/(n*G))*(L/(i*z)));return SU(0,kU(100,ve))}function NU(e,t,r="lab"){e=new Re(e),t=new Re(t);const n=e.get(r),i=t.get(r);let a=0;for(let s in n){const o=(n[s]||0)-(i[s]||0);a+=o*o}return Math.sqrt(a)}const AU=(...e)=>{try{return new Re(...e),!0}catch{return!1}},PU={cool(){return Av([Rt.hsl(180,1,.9),Rt.hsl(250,.7,.4)])},hot(){return Av(["#000","#f00","#ff0","#fff"]).mode("rgb")}},OE={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},H5=Object.keys(OE),yM=new Map(H5.map(e=>[e.toLowerCase(),e])),OU=typeof Proxy=="function"?new Proxy(OE,{get(e,t){const r=t.toLowerCase();if(yM.has(r))return e[yM.get(r)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(H5)}}):OE,CU=(...e)=>{e=kt(e,"cmyk");const[t,r,n,i]=e,a=e.length>4?e[4]:1;return i===1?[0,0,0,a]:[t>=1?0:255*(1-t)*(1-i),r>=1?0:255*(1-r)*(1-i),n>=1?0:255*(1-n)*(1-i),a]},{max:bM}=Math,RU=(...e)=>{let[t,r,n]=kt(e,"rgb");t=t/255,r=r/255,n=n/255;const i=1-bM(t,bM(r,n)),a=i<1?1/(1-i):0,s=(1-t-i)*a,o=(1-r-i)*a,l=(1-n-i)*a;return[s,o,l,i]};Re.prototype.cmyk=function(){return RU(this._rgb)};const LU=(...e)=>new Re(...e,"cmyk");Object.assign(Rt,{cmyk:LU});xt.format.cmyk=CU;xt.autodetect.push({p:2,test:(...e)=>{if(e=kt(e,"cmyk"),Mt(e)==="array"&&e.length===4)return"cmyk"}});const IU=(...e)=>{const t=kt(e,"hsla");let r=nc(e)||"lsa";return t[0]=na(t[0]||0)+"deg",t[1]=na(t[1]*100)+"%",t[2]=na(t[2]*100)+"%",r==="hsla"||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),r="hsla"):t.length=3,`${r.substr(0,3)}(${t.join(" ")})`},DU=(...e)=>{const t=kt(e,"lab");let r=nc(e)||"lab";return t[0]=na(t[0])+"%",t[1]=na(t[1]),t[2]=na(t[2]),r==="laba"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`},FU=(...e)=>{const t=kt(e,"lch");let r=nc(e)||"lab";return t[0]=na(t[0])+"%",t[1]=na(t[1]),t[2]=isNaN(t[2])?"none":na(t[2])+"deg",r==="lcha"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`},$U=(...e)=>{const t=kt(e,"lab");return t[0]=na(t[0]*100)+"%",t[1]=AE(t[1]),t[2]=AE(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`},Y5=(...e)=>{const[t,r,n,...i]=kt(e,"rgb"),[a,s,o]=B_(t,r,n),[l,u,c]=G5(a,s,o);return[l,u,c,...i.length>0&&i[0]<1?[i[0]]:[]]},BU=(...e)=>{const t=kt(e,"lch");return t[0]=na(t[0]*100)+"%",t[1]=AE(t[1]),t[2]=isNaN(t[2])?"none":na(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`},{round:c0}=Math,zU=(...e)=>{const t=kt(e,"rgba");let r=nc(e)||"rgb";if(r.substr(0,3)==="hsl")return IU(j5(t),r);if(r.substr(0,3)==="lab"){const n=Af();zs("d50");const i=DU(I_(t),r);return zs(n),i}if(r.substr(0,3)==="lch"){const n=Af();zs("d50");const i=FU(F_(t),r);return zs(n),i}return r.substr(0,5)==="oklab"?$U(B_(t)):r.substr(0,5)==="oklch"?BU(Y5(t)):(t[0]=c0(t[0]),t[1]=c0(t[1]),t[2]=c0(t[2]),(r==="rgba"||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),r="rgba"),`${r.substr(0,3)}(${t.slice(0,r==="rgb"?3:4).join(" ")})`)},X5=(...e)=>{e=kt(e,"lch");const[t,r,n,...i]=e,[a,s,o]=z5(t,r,n),[l,u,c]=$_(a,s,o);return[l,u,c,...i.length>0&&i[0]<1?[i[0]]:[]]},js=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Pa=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Pv=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,sa=/\s*/.source,ac=/\s+/.source,z_=/\s*,\s*/.source,jp=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,sc=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,K5=new RegExp("^rgba?\\("+sa+[js,js,js].join(ac)+sc+"\\)$"),Z5=new RegExp("^rgb\\("+sa+[js,js,js].join(z_)+sa+"\\)$"),Q5=new RegExp("^rgba\\("+sa+[js,js,js,Pa].join(z_)+sa+"\\)$"),J5=new RegExp("^hsla?\\("+sa+[jp,Pv,Pv].join(ac)+sc+"\\)$"),e$=new RegExp("^hsl?\\("+sa+[jp,Pv,Pv].join(z_)+sa+"\\)$"),t$=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,r$=new RegExp("^lab\\("+sa+[Pa,Pa,Pa].join(ac)+sc+"\\)$"),n$=new RegExp("^lch\\("+sa+[Pa,Pa,jp].join(ac)+sc+"\\)$"),i$=new RegExp("^oklab\\("+sa+[Pa,Pa,Pa].join(ac)+sc+"\\)$"),a$=new RegExp("^oklch\\("+sa+[Pa,Pa,jp].join(ac)+sc+"\\)$"),{round:s$}=Math,eu=e=>e.map((t,r)=>r<=2?kl(s$(t),0,255):t),Wr=(e,t=0,r=100,n=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,n?e=t+(e+1)*.5*(r-t):e=t+e*(r-t)),+e),Wn=(e,t)=>e==="none"?t:e,G_=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let t;if(xt.format.named)try{return xt.format.named(e)}catch{}if((t=e.match(K5))||(t=e.match(Z5))){let r=t.slice(1,4);for(let i=0;i<3;i++)r[i]=+Wr(Wn(r[i],0),0,255);r=eu(r);const n=t[4]!==void 0?+Wr(t[4],0,1):1;return r[3]=n,r}if(t=e.match(Q5)){const r=t.slice(1,5);for(let n=0;n<4;n++)r[n]=+Wr(r[n],0,255);return r}if((t=e.match(J5))||(t=e.match(e$))){const r=t.slice(1,4);r[0]=+Wn(r[0].replace("deg",""),0),r[1]=+Wr(Wn(r[1],0),0,100)*.01,r[2]=+Wr(Wn(r[2],0),0,100)*.01;const n=eu(PE(r)),i=t[4]!==void 0?+Wr(t[4],0,1):1;return n[3]=i,n}if(t=e.match(t$)){const r=t.slice(1,4);r[1]*=.01,r[2]*=.01;const n=PE(r);for(let i=0;i<3;i++)n[i]=s$(n[i]);return n[3]=+t[4],n}if(t=e.match(r$)){const r=t.slice(1,4);r[0]=Wr(Wn(r[0],0),0,100),r[1]=Wr(Wn(r[1],0),-125,125,!0),r[2]=Wr(Wn(r[2],0),-125,125,!0);const n=Af();zs("d50");const i=eu(L_(r));zs(n);const a=t[4]!==void 0?+Wr(t[4],0,1):1;return i[3]=a,i}if(t=e.match(n$)){const r=t.slice(1,4);r[0]=Wr(r[0],0,100),r[1]=Wr(Wn(r[1],0),0,150,!1),r[2]=+Wn(r[2].replace("deg",""),0);const n=Af();zs("d50");const i=eu(D_(r));zs(n);const a=t[4]!==void 0?+Wr(t[4],0,1):1;return i[3]=a,i}if(t=e.match(i$)){const r=t.slice(1,4);r[0]=Wr(Wn(r[0],0),0,1),r[1]=Wr(Wn(r[1],0),-.4,.4,!0),r[2]=Wr(Wn(r[2],0),-.4,.4,!0);const n=eu($_(r)),i=t[4]!==void 0?+Wr(t[4],0,1):1;return n[3]=i,n}if(t=e.match(a$)){const r=t.slice(1,4);r[0]=Wr(Wn(r[0],0),0,1),r[1]=Wr(Wn(r[1],0),0,.4,!1),r[2]=+Wn(r[2].replace("deg",""),0);const n=eu(X5(r)),i=t[4]!==void 0?+Wr(t[4],0,1):1;return n[3]=i,n}};G_.test=e=>K5.test(e)||J5.test(e)||r$.test(e)||n$.test(e)||i$.test(e)||a$.test(e)||Z5.test(e)||Q5.test(e)||e$.test(e)||t$.test(e)||e==="transparent";Re.prototype.css=function(e){return zU(this._rgb,e)};const GU=(...e)=>new Re(...e,"css");Rt.css=GU;xt.format.css=G_;xt.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&Mt(e)==="string"&&G_.test(e))return"css"}});xt.format.gl=(...e)=>{const t=kt(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};const qU=(...e)=>new Re(...e,"gl");Rt.gl=qU;Re.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};Re.prototype.hex=function(e){return F5(this._rgb,e)};const jU=(...e)=>new Re(...e,"hex");Rt.hex=jU;xt.format.hex=D5;xt.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&Mt(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{log:$h}=Math,o$=e=>{const t=e/100;let r,n,i;return t<66?(r=255,n=t<6?0:-155.25485562709179-.44596950469579133*(n=t-2)+104.49216199393888*$h(n),i=t<20?0:-254.76935184120902+.8274096064007395*(i=t-10)+115.67994401066147*$h(i)):(r=351.97690566805693+.114206453784165*(r=t-55)-40.25366309332127*$h(r),n=325.4494125711974+.07943456536662342*(n=t-50)-28.0852963507957*$h(n),i=255),[r,n,i,1]},{round:WU}=Math,VU=(...e)=>{const t=kt(e,"rgb"),r=t[0],n=t[2];let i=1e3,a=4e4;const s=.4;let o;for(;a-i>s;){o=(a+i)*.5;const l=o$(o);l[2]/l[0]>=n/r?a=o:i=o}return WU(o)};Re.prototype.temp=Re.prototype.kelvin=Re.prototype.temperature=function(){return VU(this._rgb)};const f0=(...e)=>new Re(...e,"temp");Object.assign(Rt,{temp:f0,kelvin:f0,temperature:f0});xt.format.temp=xt.format.kelvin=xt.format.temperature=o$;Re.prototype.oklch=function(){return Y5(this._rgb)};const UU=(...e)=>new Re(...e,"oklch");Object.assign(Rt,{oklch:UU});xt.format.oklch=X5;xt.autodetect.push({p:2,test:(...e)=>{if(e=kt(e,"oklch"),Mt(e)==="array"&&e.length===3)return"oklch"}});Object.assign(Rt,{analyze:V5,average:HV,bezier:JV,blend:La,brewer:OU,Color:Re,colors:Ru,contrast:wU,contrastAPCA:_U,cubehelix:hU,deltaE:MU,distance:NU,input:xt,interpolate:Lu,limits:U5,mix:Lu,random:gU,scale:Av,scales:PU,valid:AU});/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let l$;const Wp=e=>l$=e,u$=Symbol();function CE(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var af;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(af||(af={}));function $we(){const e=f_(!0),t=e.run(()=>Hr({}));let r=[],n=[];const i=b_({install(a){Wp(i),i._a=a,a.provide(u$,i),a.config.globalProperties.$pinia=i,n.forEach(s=>r.push(s)),n=[]},use(a){return this._a?r.push(a):n.push(a),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return i}const c$=()=>{};function wM(e,t,r,n=c$){e.push(t);const i=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),n())};return!r&&Op()&&h_(i),i}function tu(e,...t){e.slice().forEach(r=>{r(...t)})}const HU=e=>e(),xM=Symbol(),h0=Symbol();function RE(e,t){e instanceof Map&&t instanceof Map?t.forEach((r,n)=>e.set(n,r)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],i=e[r];CE(i)&&CE(n)&&e.hasOwnProperty(r)&&!gr(n)&&!qs(n)?e[r]=RE(i,n):e[r]=n}return e}const YU=Symbol();function XU(e){return!CE(e)||!Object.prototype.hasOwnProperty.call(e,YU)}const{assign:vo}=Object;function KU(e){return!!(gr(e)&&e.effect)}function ZU(e,t,r,n){const{state:i,actions:a,getters:s}=t,o=r.state.value[e];let l;function u(){o||(r.state.value[e]=i?i():{});const c=xj(r.state.value[e]);return vo(c,a,Object.keys(s||{}).reduce((f,h)=>(f[h]=b_(Dt(()=>{Wp(r);const d=r._s.get(e);return s[h].call(d,d)})),f),{}))}return l=f$(e,u,t,r,n,!0),l}function f$(e,t,r={},n,i,a){let s;const o=vo({actions:{}},r),l={deep:!0};let u,c,f=[],h=[],d;const v=n.state.value[e];!a&&!v&&(n.state.value[e]={}),Hr({});let p;function g(S){let A;u=c=!1,typeof S=="function"?(S(n.state.value[e]),A={type:af.patchFunction,storeId:e,events:d}):(RE(n.state.value[e],S),A={type:af.patchObject,payload:S,storeId:e,events:d});const P=p=Symbol();Po().then(()=>{p===P&&(u=!0)}),c=!0,tu(f,A,n.state.value[e])}const m=a?function(){const{state:A}=r,P=A?A():{};this.$patch(O=>{vo(O,P)})}:c$;function y(){s.stop(),f=[],h=[],n._s.delete(e)}const b=(S,A="")=>{if(xM in S)return S[h0]=A,S;const P=function(){Wp(n);const O=Array.from(arguments),C=[],L=[];function I(G){C.push(G)}function F(G){L.push(G)}tu(h,{args:O,name:P[h0],store:x,after:I,onError:F});let U;try{U=S.apply(this&&this.$id===e?this:x,O)}catch(G){throw tu(L,G),G}return U instanceof Promise?U.then(G=>(tu(C,G),G)).catch(G=>(tu(L,G),Promise.reject(G))):(tu(C,U),U)};return P[xM]=!0,P[h0]=A,P},_={_p:n,$id:e,$onAction:wM.bind(null,h),$patch:g,$reset:m,$subscribe(S,A={}){const P=wM(f,S,A.detached,()=>O()),O=s.run(()=>Gr(()=>n.state.value[e],C=>{(A.flush==="sync"?c:u)&&S({storeId:e,type:af.direct,events:d},C)},vo({},l,A)));return P},$dispose:y},x=Lp(_);n._s.set(e,x);const w=(n._a&&n._a.runWithContext||HU)(()=>n._e.run(()=>(s=f_()).run(()=>t({action:b}))));for(const S in w){const A=w[S];if(gr(A)&&!KU(A)||qs(A))a||(v&&XU(A)&&(gr(A)?A.value=v[S]:RE(A,v[S])),n.state.value[e][S]=A);else if(typeof A=="function"){const P=b(A,S);w[S]=P,o.actions[S]=A}}return vo(x,w),vo(Ct(x),w),Object.defineProperty(x,"$state",{get:()=>n.state.value[e],set:S=>{g(A=>{vo(A,S)})}}),n._p.forEach(S=>{vo(x,s.run(()=>S({store:x,app:n._a,pinia:n,options:o})))}),v&&a&&r.hydrate&&r.hydrate(x.$state,v),u=!0,c=!0,x}/*! #__NO_SIDE_EFFECTS__ */function Bwe(e,t,r){let n;const i=typeof t=="function";n=i?r:t;function a(s,o){const l=k_();return s=s||(l?Oi(u$,null):null),s&&Wp(s),s=l$,s._s.has(e)||(i?f$(e,t,n,s):ZU(e,n,s)),s._s.get(e)}return a.$id=e,a}function zwe(e){const t=Ct(e),r={};for(const n in t){const i=t[n];i.effect?r[n]=Dt({get:()=>e[n],set(a){e[n]=a}}):(gr(i)||qs(i))&&(r[n]=MF(e,n))}return r}const QU=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,JU=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,eH=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function tH(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){rH(e);return}return t}function rH(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function nH(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!eH.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(QU.test(e)||JU.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,tH)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function iH(e,t){if(e==null)return;let r=e;for(let n=0;n<t.length;n++){if(r==null||r[t[n]]==null)return;r=r[t[n]]}return r}function q_(e,t,r){if(r.length===0)return t;const n=r[0];return r.length>1&&(t=q_(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,n)?Number.isInteger(Number(r[1]))?[]:{}:e[n],t,Array.prototype.slice.call(r,1))),Number.isInteger(Number(n))&&Array.isArray(e)?e.slice()[n]:Object.assign({},e,{[n]:t})}function h$(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const r={};for(const n in e)r[n]=e[n];return delete r[t[0]],r}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const r={};for(const n in e)r[n]=e[n];return r}return q_(e,h$(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function d$(e,t){return t.map(r=>r.split(".")).map(r=>[r,iH(e,r)]).filter(r=>r[1]!==void 0).reduce((r,n)=>q_(r,n[1],n[0]),{})}function v$(e,t){return t.map(r=>r.split(".")).reduce((r,n)=>h$(r,n),e)}function EM(e,{storage:t,serializer:r,key:n,debug:i,pick:a,omit:s,beforeHydrate:o,afterHydrate:l},u,c=!0){try{c&&o?.(u);const f=t.getItem(n);if(f){const h=r.deserialize(f),d=a?d$(h,a):h,v=s?v$(d,s):d;e.$patch(v)}c&&l?.(u)}catch(f){i&&console.error("[pinia-plugin-persistedstate]",f)}}function _M(e,{storage:t,serializer:r,key:n,debug:i,pick:a,omit:s}){try{const o=a?d$(e,a):e,l=s?v$(o,s):o,u=r.serialize(l);t.setItem(n,u)}catch(o){i&&console.error("[pinia-plugin-persistedstate]",o)}}function aH(e,t,r){const{pinia:n,store:i,options:{persist:a=r}}=e;if(!a)return;if(!(i.$id in n.state.value)){const l=n._s.get(i.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const o=(Array.isArray(a)?a:a===!0?[{}]:[a]).map(t);i.$hydrate=({runHooks:l=!0}={})=>{o.forEach(u=>{EM(i,u,e,l)})},i.$persist=()=>{o.forEach(l=>{_M(i.$state,l)})},o.forEach(l=>{EM(i,l,e),i.$subscribe((u,c)=>_M(c,l),{detached:!0})})}function sH(e={}){return function(t){aH(t,r=>({key:(e.key?e.key:n=>n)(r.key??t.store.$id),debug:r.debug??e.debug??!1,serializer:r.serializer??e.serializer??{serialize:n=>JSON.stringify(n),deserialize:n=>nH(n)},storage:r.storage??e.storage??window.localStorage,beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),e.auto??!1)}}var Gwe=sH(),Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function p$(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var d0={exports:{}},kM;function oH(){return kM||(kM=1,function(e){var t=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function s(l,u){if(!a[l]){a[l]={};for(var c=0;c<l.length;c++)a[l][l.charAt(c)]=c}return a[l][u]}var o={compressToBase64:function(l){if(l==null)return"";var u=o._compress(l,6,function(c){return n.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:o._decompress(l.length,32,function(u){return s(n,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":o._compress(l,15,function(u){return r(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:o._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=o.compress(l),c=new Uint8Array(u.length*2),f=0,h=u.length;f<h;f++){var d=u.charCodeAt(f);c[f*2]=d>>>8,c[f*2+1]=d%256}return c},decompressFromUint8Array:function(l){if(l==null)return o.decompress(l);for(var u=new Array(l.length/2),c=0,f=u.length;c<f;c++)u[c]=l[c*2]*256+l[c*2+1];var h=[];return u.forEach(function(d){h.push(r(d))}),o.decompress(h.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":o._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),o._decompress(l.length,32,function(u){return s(i,l.charAt(u))}))},compress:function(l){return o._compress(l,16,function(u){return r(u)})},_compress:function(l,u,c){if(l==null)return"";var f,h,d={},v={},p="",g="",m="",y=2,b=3,_=2,x=[],E=0,w=0,S;for(S=0;S<l.length;S+=1)if(p=l.charAt(S),Object.prototype.hasOwnProperty.call(d,p)||(d[p]=b++,v[p]=!0),g=m+p,Object.prototype.hasOwnProperty.call(d,g))m=g;else{if(Object.prototype.hasOwnProperty.call(v,m)){if(m.charCodeAt(0)<256){for(f=0;f<_;f++)E=E<<1,w==u-1?(w=0,x.push(c(E)),E=0):w++;for(h=m.charCodeAt(0),f=0;f<8;f++)E=E<<1|h&1,w==u-1?(w=0,x.push(c(E)),E=0):w++,h=h>>1}else{for(h=1,f=0;f<_;f++)E=E<<1|h,w==u-1?(w=0,x.push(c(E)),E=0):w++,h=0;for(h=m.charCodeAt(0),f=0;f<16;f++)E=E<<1|h&1,w==u-1?(w=0,x.push(c(E)),E=0):w++,h=h>>1}y--,y==0&&(y=Math.pow(2,_),_++),delete v[m]}else for(h=d[m],f=0;f<_;f++)E=E<<1|h&1,w==u-1?(w=0,x.push(c(E)),E=0):w++,h=h>>1;y--,y==0&&(y=Math.pow(2,_),_++),d[g]=b++,m=String(p)}if(m!==""){if(Object.prototype.hasOwnProperty.call(v,m)){if(m.charCodeAt(0)<256){for(f=0;f<_;f++)E=E<<1,w==u-1?(w=0,x.push(c(E)),E=0):w++;for(h=m.charCodeAt(0),f=0;f<8;f++)E=E<<1|h&1,w==u-1?(w=0,x.push(c(E)),E=0):w++,h=h>>1}else{for(h=1,f=0;f<_;f++)E=E<<1|h,w==u-1?(w=0,x.push(c(E)),E=0):w++,h=0;for(h=m.charCodeAt(0),f=0;f<16;f++)E=E<<1|h&1,w==u-1?(w=0,x.push(c(E)),E=0):w++,h=h>>1}y--,y==0&&(y=Math.pow(2,_),_++),delete v[m]}else for(h=d[m],f=0;f<_;f++)E=E<<1|h&1,w==u-1?(w=0,x.push(c(E)),E=0):w++,h=h>>1;y--,y==0&&(y=Math.pow(2,_),_++)}for(h=2,f=0;f<_;f++)E=E<<1|h&1,w==u-1?(w=0,x.push(c(E)),E=0):w++,h=h>>1;for(;;)if(E=E<<1,w==u-1){x.push(c(E));break}else w++;return x.join("")},decompress:function(l){return l==null?"":l==""?null:o._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,c){var f=[],h=4,d=4,v=3,p="",g=[],m,y,b,_,x,E,w,S={val:c(0),position:u,index:1};for(m=0;m<3;m+=1)f[m]=m;for(b=0,x=Math.pow(2,2),E=1;E!=x;)_=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=c(S.index++)),b|=(_>0?1:0)*E,E<<=1;switch(b){case 0:for(b=0,x=Math.pow(2,8),E=1;E!=x;)_=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=c(S.index++)),b|=(_>0?1:0)*E,E<<=1;w=r(b);break;case 1:for(b=0,x=Math.pow(2,16),E=1;E!=x;)_=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=c(S.index++)),b|=(_>0?1:0)*E,E<<=1;w=r(b);break;case 2:return""}for(f[3]=w,y=w,g.push(w);;){if(S.index>l)return"";for(b=0,x=Math.pow(2,v),E=1;E!=x;)_=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=c(S.index++)),b|=(_>0?1:0)*E,E<<=1;switch(w=b){case 0:for(b=0,x=Math.pow(2,8),E=1;E!=x;)_=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=c(S.index++)),b|=(_>0?1:0)*E,E<<=1;f[d++]=r(b),w=d-1,h--;break;case 1:for(b=0,x=Math.pow(2,16),E=1;E!=x;)_=S.val&S.position,S.position>>=1,S.position==0&&(S.position=u,S.val=c(S.index++)),b|=(_>0?1:0)*E,E<<=1;f[d++]=r(b),w=d-1,h--;break;case 2:return g.join("")}if(h==0&&(h=Math.pow(2,v),v++),f[w])p=f[w];else if(w===d)p=y+y.charAt(0);else return null;g.push(p),f[d++]=y+p.charAt(0),h--,y=p,h==0&&(h=Math.pow(2,v),v++)}}};return o}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})}(d0)),d0.exports}var qwe=oH();function j_(e){return Op()?(h_(e),!0):!1}const v0=new WeakMap,lH=(...e)=>{var t;const r=e[0],n=(t=qn())==null?void 0:t.proxy;if(n==null&&!k_())throw new Error("injectLocal must be called in setup");return n&&v0.has(n)&&r in v0.get(n)?v0.get(n)[r]:Oi(...e)},g$=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const uH=Object.prototype.toString,cH=e=>uH.call(e)==="[object Object]",LE=()=>{};function m$(...e){if(e.length!==1)return MF(...e);const t=e[0];return typeof t=="function"?Pl(TF(()=>({get:t,set:LE}))):Hr(t)}function y$(e,t){function r(...n){return new Promise((i,a)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(i).catch(a)})}return r}const b$=e=>e();function w$(e,t={}){let r,n,i=LE;const a=l=>{clearTimeout(l),i(),i=LE};let s;return l=>{const u=ti(e),c=ti(t.maxWait);return r&&a(r),u<=0||c!==void 0&&c<=0?(n&&(a(n),n=void 0),Promise.resolve(l())):new Promise((f,h)=>{i=t.rejectOnCancel?h:f,s=l,c&&!n&&(n=setTimeout(()=>{r&&a(r),n=void 0,f(s())},c)),r=setTimeout(()=>{n&&a(n),n=void 0,f(l())},u)})}}function fH(e=b$,t={}){const{initialState:r="active"}=t,n=m$(r==="active");function i(){n.value=!1}function a(){n.value=!0}const s=(...o)=>{n.value&&e(...o)};return{isActive:Pl(n),pause:i,resume:a,eventFilter:s}}function hH(e,t){var r;if(typeof e=="number")return e+t;const n=((r=e.match(/^-?\d+\.?\d*/))==null?void 0:r[0])||"",i=e.slice(n.length),a=Number.parseFloat(n)+t;return Number.isNaN(a)?e:a+i}function sf(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function Jd(e){return Array.isArray(e)?e:[e]}function dH(e){return qn()}function jwe(e,t=200,r={}){return y$(w$(t,r),e)}function x$(e,t,r={}){const{eventFilter:n=b$,...i}=r;return Gr(e,y$(n,t),i)}function vH(e,t,r={}){const{eventFilter:n,initialState:i="active",...a}=r,{eventFilter:s,pause:o,resume:l,isActive:u}=fH(n,{initialState:i});return{stop:x$(e,t,{...a,eventFilter:s}),pause:o,resume:l,isActive:u}}function oc(e,t=!0,r){dH()?qo(e,r):t?e():Po(e)}function Wwe(e=!1,t={}){const{truthyValue:r=!0,falsyValue:n=!1}=t,i=gr(e),a=di(e);function s(o){if(arguments.length)return a.value=o,a.value;{const l=ti(r);return a.value=a.value===l?ti(n):l,a.value}}return i?s:[a,s]}function Vwe(e,t,r={}){const{debounce:n=0,maxWait:i=void 0,...a}=r;return x$(e,t,{...a,eventFilter:w$(n,{maxWait:i})})}function pH(e,t,r){return Gr(e,t,{...r,immediate:!0})}const Ks=g$?window:void 0,gH=g$?window.document:void 0;function ss(e){var t;const r=ti(e);return(t=r?.$el)!=null?t:r}function Cl(...e){const t=[],r=()=>{t.forEach(o=>o()),t.length=0},n=(o,l,u,c)=>(o.addEventListener(l,u,c),()=>o.removeEventListener(l,u,c)),i=Dt(()=>{const o=Jd(ti(e[0])).filter(l=>l!=null);return o.every(l=>typeof l!="string")?o:void 0}),a=pH(()=>{var o,l;return[(l=(o=i.value)==null?void 0:o.map(u=>ss(u)))!=null?l:[Ks].filter(u=>u!=null),Jd(ti(i.value?e[1]:e[0])),Jd(th(i.value?e[2]:e[1])),ti(i.value?e[3]:e[2])]},([o,l,u,c])=>{if(r(),!o?.length||!l?.length||!u?.length)return;const f=cH(c)?{...c}:c;t.push(...o.flatMap(h=>l.flatMap(d=>u.map(v=>n(h,d,v,f)))))},{flush:"post"}),s=()=>{a(),r()};return j_(r),s}function mH(){const e=di(!1),t=qn();return t&&qo(()=>{e.value=!0},t),e}function W_(e){const t=mH();return Dt(()=>(t.value,!!e()))}const yH=Symbol("vueuse-ssr-width");function E$(){const e=k_()?lH(yH,null):null;return typeof e=="number"?e:void 0}function vl(e,t={}){const{window:r=Ks,ssrWidth:n=E$()}=t,i=W_(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function"),a=di(typeof n=="number"),s=di(),o=di(!1),l=u=>{o.value=u.matches};return s5(()=>{if(a.value){a.value=!i.value;const u=ti(e).split(",");o.value=u.some(c=>{const f=c.includes("not all"),h=c.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),d=c.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let v=!!(h||d);return h&&v&&(v=n>=sf(h[1])),d&&v&&(v=n<=sf(d[1])),f?!v:v});return}i.value&&(s.value=r.matchMedia(ti(e)),o.value=s.value.matches)}),Cl(s,"change",l,{passive:!0}),Dt(()=>o.value)}const Uwe={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function Hwe(e,t={}){function r(d,v){let p=ti(e[ti(d)]);return v!=null&&(p=hH(p,v)),typeof p=="number"&&(p=`${p}px`),p}const{window:n=Ks,strategy:i="min-width",ssrWidth:a=E$()}=t,s=typeof a=="number",o=s?di(!1):{value:!0};s&&oc(()=>o.value=!!n);function l(d,v){return!o.value&&s?d==="min"?a>=sf(v):a<=sf(v):n?n.matchMedia(`(${d}-width: ${v})`).matches:!1}const u=d=>vl(()=>`(min-width: ${r(d)})`,t),c=d=>vl(()=>`(max-width: ${r(d)})`,t),f=Object.keys(e).reduce((d,v)=>(Object.defineProperty(d,v,{get:()=>i==="min-width"?u(v):c(v),enumerable:!0,configurable:!0}),d),{});function h(){const d=Object.keys(e).map(v=>[v,f[v],sf(r(v))]).sort((v,p)=>v[2]-p[2]);return Dt(()=>d.filter(([,v])=>v.value).map(([v])=>v))}return Object.assign(f,{greaterOrEqual:u,smallerOrEqual:c,greater(d){return vl(()=>`(min-width: ${r(d,.1)})`,t)},smaller(d){return vl(()=>`(max-width: ${r(d,-.1)})`,t)},between(d,v){return vl(()=>`(min-width: ${r(d)}) and (max-width: ${r(v,-.1)})`,t)},isGreater(d){return l("min",r(d,.1))},isGreaterOrEqual(d){return l("min",r(d))},isSmaller(d){return l("max",r(d,-.1))},isSmallerOrEqual(d){return l("max",r(d))},isInBetween(d,v){return l("min",r(d))&&l("max",r(v,-.1))},current:h,active(){const d=h();return Dt(()=>d.value.length===0?"":d.value.at(i==="min-width"?-1:0))}})}const zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gh="__vueuse_ssr_handlers__",bH=wH();function wH(){return Gh in zh||(zh[Gh]=zh[Gh]||{}),zh[Gh]}function _$(e,t){return bH[e]||t}function xH(e){return vl("(prefers-color-scheme: dark)",e)}function EH(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const _H={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},SM="vueuse-storage";function kH(e,t,r,n={}){var i;const{flush:a="pre",deep:s=!0,listenToStorageChanges:o=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:c,window:f=Ks,eventFilter:h,onError:d=I=>{console.error(I)},initOnMounted:v}=n,p=(c?di:Hr)(typeof t=="function"?t():t),g=Dt(()=>ti(e));if(!r)try{r=_$("getDefaultStorage",()=>{var I;return(I=Ks)==null?void 0:I.localStorage})()}catch(I){d(I)}if(!r)return p;const m=ti(t),y=EH(m),b=(i=n.serializer)!=null?i:_H[y],{pause:_,resume:x}=vH(p,I=>P(I),{flush:a,deep:s,eventFilter:h});Gr(g,()=>C(),{flush:a});let E=!1;const w=I=>{v&&!E||C(I)},S=I=>{v&&!E||L(I)};f&&o&&(r instanceof Storage?Cl(f,"storage",w,{passive:!0}):Cl(f,SM,S)),v?oc(()=>{E=!0,C()}):C();function A(I,F){if(f){const U={key:g.value,oldValue:I,newValue:F,storageArea:r};f.dispatchEvent(r instanceof Storage?new StorageEvent("storage",U):new CustomEvent(SM,{detail:U}))}}function P(I){try{const F=r.getItem(g.value);if(I==null)A(F,null),r.removeItem(g.value);else{const U=b.write(I);F!==U&&(r.setItem(g.value,U),A(F,U))}}catch(F){d(F)}}function O(I){const F=I?I.newValue:r.getItem(g.value);if(F==null)return l&&m!=null&&r.setItem(g.value,b.write(m)),m;if(!I&&u){const U=b.read(F);return typeof u=="function"?u(U,m):y==="object"&&!Array.isArray(U)?{...m,...U}:U}else return typeof F!="string"?F:b.read(F)}function C(I){if(!(I&&I.storageArea!==r)){if(I&&I.key==null){p.value=m;return}if(!(I&&I.key!==g.value)){_();try{const F=b.write(p.value);(I===void 0||I?.newValue!==F)&&(p.value=O(I))}catch(F){d(F)}finally{I?Po(x):x()}}}}function L(I){C(I.detail)}return p}const SH="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function TH(e={}){const{selector:t="html",attribute:r="class",initialValue:n="auto",window:i=Ks,storage:a,storageKey:s="vueuse-color-scheme",listenToStorageChanges:o=!0,storageRef:l,emitAuto:u,disableTransition:c=!0}=e,f={auto:"",light:"light",dark:"dark",...e.modes||{}},h=xH({window:i}),d=Dt(()=>h.value?"dark":"light"),v=l||(s==null?m$(n):kH(s,n,a,{window:i,listenToStorageChanges:o})),p=Dt(()=>v.value==="auto"?d.value:v.value),g=_$("updateHTMLAttrs",(_,x,E)=>{const w=typeof _=="string"?i?.document.querySelector(_):ss(_);if(!w)return;const S=new Set,A=new Set;let P=null;if(x==="class"){const C=E.split(/\s/g);Object.values(f).flatMap(L=>(L||"").split(/\s/g)).filter(Boolean).forEach(L=>{C.includes(L)?S.add(L):A.add(L)})}else P={key:x,value:E};if(S.size===0&&A.size===0&&P===null)return;let O;c&&(O=i.document.createElement("style"),O.appendChild(document.createTextNode(SH)),i.document.head.appendChild(O));for(const C of S)w.classList.add(C);for(const C of A)w.classList.remove(C);P&&w.setAttribute(P.key,P.value),c&&(i.getComputedStyle(O).opacity,document.head.removeChild(O))});function m(_){var x;g(t,r,(x=f[_])!=null?x:_)}function y(_){e.onChanged?e.onChanged(_,m):m(_)}Gr(p,y,{flush:"post",immediate:!0}),oc(()=>y(p.value));const b=Dt({get(){return u?v.value:p.value},set(_){v.value=_}});return Object.assign(b,{store:v,system:d,state:p})}function Ywe(e={}){const{valueDark:t="dark",valueLight:r=""}=e,n=TH({...e,onChanged:(s,o)=>{var l;e.onChanged?(l=e.onChanged)==null||l.call(e,s==="dark",o,s):o(s)},modes:{dark:t,light:r}}),i=Dt(()=>n.system.value);return Dt({get(){return n.value==="dark"},set(s){const o=s?"dark":"light";i.value===o?n.value="auto":n.value=o}})}function MH(e,t,r={}){const{window:n=Ks,...i}=r;let a;const s=W_(()=>n&&"ResizeObserver"in n),o=()=>{a&&(a.disconnect(),a=void 0)},l=Dt(()=>{const f=ti(e);return Array.isArray(f)?f.map(h=>ss(h)):[ss(f)]}),u=Gr(l,f=>{if(o(),s.value&&n){a=new ResizeObserver(t);for(const h of f)h&&a.observe(h,i)}},{immediate:!0,flush:"post"}),c=()=>{o(),u()};return j_(c),{isSupported:s,stop:c}}function Xwe(e,t={width:0,height:0},r={}){const{window:n=Ks,box:i="content-box"}=r,a=Dt(()=>{var f,h;return(h=(f=ss(e))==null?void 0:f.namespaceURI)==null?void 0:h.includes("svg")}),s=di(t.width),o=di(t.height),{stop:l}=MH(e,([f])=>{const h=i==="border-box"?f.borderBoxSize:i==="content-box"?f.contentBoxSize:f.devicePixelContentBoxSize;if(n&&a.value){const d=ss(e);if(d){const v=d.getBoundingClientRect();s.value=v.width,o.value=v.height}}else if(h){const d=Jd(h);s.value=d.reduce((v,{inlineSize:p})=>v+p,0),o.value=d.reduce((v,{blockSize:p})=>v+p,0)}else s.value=f.contentRect.width,o.value=f.contentRect.height},r);oc(()=>{const f=ss(e);f&&(s.value="offsetWidth"in f?f.offsetWidth:t.width,o.value="offsetHeight"in f?f.offsetHeight:t.height)});const u=Gr(()=>ss(e),f=>{s.value=f?t.width:0,o.value=f?t.height:0});function c(){l(),u()}return{width:s,height:o,stop:c}}const TM=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function Kwe(e,t={}){const{document:r=gH,autoExit:n=!1}=t,i=Dt(()=>{var y;return(y=ss(e))!=null?y:r?.documentElement}),a=di(!1),s=Dt(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(y=>r&&y in r||i.value&&y in i.value)),o=Dt(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(y=>r&&y in r||i.value&&y in i.value)),l=Dt(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(y=>r&&y in r||i.value&&y in i.value)),u=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(y=>r&&y in r),c=W_(()=>i.value&&r&&s.value!==void 0&&o.value!==void 0&&l.value!==void 0),f=()=>u?r?.[u]===i.value:!1,h=()=>{if(l.value){if(r&&r[l.value]!=null)return r[l.value];{const y=i.value;if(y?.[l.value]!=null)return!!y[l.value]}}return!1};async function d(){if(!(!c.value||!a.value)){if(o.value)if(r?.[o.value]!=null)await r[o.value]();else{const y=i.value;y?.[o.value]!=null&&await y[o.value]()}a.value=!1}}async function v(){if(!c.value||a.value)return;h()&&await d();const y=i.value;s.value&&y?.[s.value]!=null&&(await y[s.value](),a.value=!0)}async function p(){await(a.value?d():v())}const g=()=>{const y=h();(!y||y&&f())&&(a.value=y)},m={capture:!1,passive:!0};return Cl(r,TM,g,m),Cl(()=>ss(i),TM,g,m),oc(g,!1),n&&j_(d),{isSupported:c,isFullscreen:a,enter:v,exit:d,toggle:p}}function Zwe(e={}){const{window:t=Ks,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:n=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:a=!0,type:s="inner"}=e,o=di(r),l=di(n),u=()=>{if(t)if(s==="outer")o.value=t.outerWidth,l.value=t.outerHeight;else if(s==="visual"&&t.visualViewport){const{width:f,height:h,scale:d}=t.visualViewport;o.value=Math.round(f*d),l.value=Math.round(h*d)}else a?(o.value=t.innerWidth,l.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,l.value=t.document.documentElement.clientHeight)};u(),oc(u);const c={passive:!0};if(Cl("resize",u,c),t&&s==="visual"&&t.visualViewport&&Cl(t.visualViewport,"resize",u,c),i){const f=vl("(orientation: portrait)");Gr(f,()=>u())}return{width:o,height:l}}var k$=typeof global=="object"&&global&&global.Object===Object&&global,NH=typeof self=="object"&&self&&self.Object===Object&&self,ws=k$||NH||Function("return this")(),oa=ws.Symbol,S$=Object.prototype,AH=S$.hasOwnProperty,PH=S$.toString,Ec=oa?oa.toStringTag:void 0;function OH(e){var t=AH.call(e,Ec),r=e[Ec];try{e[Ec]=void 0;var n=!0}catch{}var i=PH.call(e);return n&&(t?e[Ec]=r:delete e[Ec]),i}var CH=Object.prototype,RH=CH.toString;function LH(e){return RH.call(e)}var IH="[object Null]",DH="[object Undefined]",MM=oa?oa.toStringTag:void 0;function lc(e){return e==null?e===void 0?DH:IH:MM&&MM in Object(e)?OH(e):LH(e)}function Ro(e){return e!=null&&typeof e=="object"}var FH="[object Symbol]";function V_(e){return typeof e=="symbol"||Ro(e)&&lc(e)==FH}function $H(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Ia=Array.isArray,NM=oa?oa.prototype:void 0,AM=NM?NM.toString:void 0;function T$(e){if(typeof e=="string")return e;if(Ia(e))return $H(e,T$)+"";if(V_(e))return AM?AM.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Rl(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function BH(e){return e}var zH="[object AsyncFunction]",GH="[object Function]",qH="[object GeneratorFunction]",jH="[object Proxy]";function M$(e){if(!Rl(e))return!1;var t=lc(e);return t==GH||t==qH||t==zH||t==jH}var p0=ws["__core-js_shared__"],PM=function(){var e=/[^.]+$/.exec(p0&&p0.keys&&p0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function WH(e){return!!PM&&PM in e}var VH=Function.prototype,UH=VH.toString;function jl(e){if(e!=null){try{return UH.call(e)}catch{}try{return e+""}catch{}}return""}var HH=/[\\^$.*+?()[\]{}|]/g,YH=/^\[object .+?Constructor\]$/,XH=Function.prototype,KH=Object.prototype,ZH=XH.toString,QH=KH.hasOwnProperty,JH=RegExp("^"+ZH.call(QH).replace(HH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function e7(e){if(!Rl(e)||WH(e))return!1;var t=M$(e)?JH:YH;return t.test(jl(e))}function t7(e,t){return e?.[t]}function Wl(e,t){var r=t7(e,t);return e7(r)?r:void 0}var IE=Wl(ws,"WeakMap"),OM=Object.create,r7=function(){function e(){}return function(t){if(!Rl(t))return{};if(OM)return OM(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function n7(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function i7(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var a7=800,s7=16,o7=Date.now;function l7(e){var t=0,r=0;return function(){var n=o7(),i=s7-(n-r);if(r=n,i>0){if(++t>=a7)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function u7(e){return function(){return e}}var Ov=function(){try{var e=Wl(Object,"defineProperty");return e({},"",{}),e}catch{}}(),c7=Ov?function(e,t){return Ov(e,"toString",{configurable:!0,enumerable:!1,value:u7(t),writable:!0})}:BH,f7=l7(c7);function h7(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var d7=9007199254740991,v7=/^(?:0|[1-9]\d*)$/;function U_(e,t){var r=typeof e;return t=t??d7,!!t&&(r=="number"||r!="symbol"&&v7.test(e))&&e>-1&&e%1==0&&e<t}function N$(e,t,r){t=="__proto__"&&Ov?Ov(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function H_(e,t){return e===t||e!==e&&t!==t}var p7=Object.prototype,g7=p7.hasOwnProperty;function Y_(e,t,r){var n=e[t];(!(g7.call(e,t)&&H_(n,r))||r===void 0&&!(t in e))&&N$(e,t,r)}function Up(e,t,r,n){var i=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var o=t[a],l=void 0;l===void 0&&(l=e[o]),i?N$(r,o,l):Y_(r,o,l)}return r}var CM=Math.max;function m7(e,t,r){return t=CM(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=CM(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),n7(e,this,o)}}var y7=9007199254740991;function X_(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=y7}function A$(e){return e!=null&&X_(e.length)&&!M$(e)}var b7=Object.prototype;function K_(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||b7;return e===r}function w7(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var x7="[object Arguments]";function RM(e){return Ro(e)&&lc(e)==x7}var P$=Object.prototype,E7=P$.hasOwnProperty,_7=P$.propertyIsEnumerable,Z_=RM(function(){return arguments}())?RM:function(e){return Ro(e)&&E7.call(e,"callee")&&!_7.call(e,"callee")};function k7(){return!1}var O$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,LM=O$&&typeof module=="object"&&module&&!module.nodeType&&module,S7=LM&&LM.exports===O$,IM=S7?ws.Buffer:void 0,T7=IM?IM.isBuffer:void 0,Cv=T7||k7,M7="[object Arguments]",N7="[object Array]",A7="[object Boolean]",P7="[object Date]",O7="[object Error]",C7="[object Function]",R7="[object Map]",L7="[object Number]",I7="[object Object]",D7="[object RegExp]",F7="[object Set]",$7="[object String]",B7="[object WeakMap]",z7="[object ArrayBuffer]",G7="[object DataView]",q7="[object Float32Array]",j7="[object Float64Array]",W7="[object Int8Array]",V7="[object Int16Array]",U7="[object Int32Array]",H7="[object Uint8Array]",Y7="[object Uint8ClampedArray]",X7="[object Uint16Array]",K7="[object Uint32Array]",fr={};fr[q7]=fr[j7]=fr[W7]=fr[V7]=fr[U7]=fr[H7]=fr[Y7]=fr[X7]=fr[K7]=!0;fr[M7]=fr[N7]=fr[z7]=fr[A7]=fr[G7]=fr[P7]=fr[O7]=fr[C7]=fr[R7]=fr[L7]=fr[I7]=fr[D7]=fr[F7]=fr[$7]=fr[B7]=!1;function Z7(e){return Ro(e)&&X_(e.length)&&!!fr[lc(e)]}function Q_(e){return function(t){return e(t)}}var C$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,of=C$&&typeof module=="object"&&module&&!module.nodeType&&module,Q7=of&&of.exports===C$,g0=Q7&&k$.process,Iu=function(){try{var e=of&&of.require&&of.require("util").types;return e||g0&&g0.binding&&g0.binding("util")}catch{}}(),DM=Iu&&Iu.isTypedArray,R$=DM?Q_(DM):Z7,J7=Object.prototype,eY=J7.hasOwnProperty;function L$(e,t){var r=Ia(e),n=!r&&Z_(e),i=!r&&!n&&Cv(e),a=!r&&!n&&!i&&R$(e),s=r||n||i||a,o=s?w7(e.length,String):[],l=o.length;for(var u in e)(t||eY.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||U_(u,l)))&&o.push(u);return o}function I$(e,t){return function(r){return e(t(r))}}var tY=I$(Object.keys,Object),rY=Object.prototype,nY=rY.hasOwnProperty;function iY(e){if(!K_(e))return tY(e);var t=[];for(var r in Object(e))nY.call(e,r)&&r!="constructor"&&t.push(r);return t}function D$(e){return A$(e)?L$(e):iY(e)}function aY(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var sY=Object.prototype,oY=sY.hasOwnProperty;function lY(e){if(!Rl(e))return aY(e);var t=K_(e),r=[];for(var n in e)n=="constructor"&&(t||!oY.call(e,n))||r.push(n);return r}function uY(e){return A$(e)?L$(e,!0):lY(e)}var cY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fY=/^\w*$/;function hY(e,t){if(Ia(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||V_(e)?!0:fY.test(e)||!cY.test(e)||t!=null&&e in Object(t)}var Pf=Wl(Object,"create");function dY(){this.__data__=Pf?Pf(null):{},this.size=0}function vY(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var pY="__lodash_hash_undefined__",gY=Object.prototype,mY=gY.hasOwnProperty;function yY(e){var t=this.__data__;if(Pf){var r=t[e];return r===pY?void 0:r}return mY.call(t,e)?t[e]:void 0}var bY=Object.prototype,wY=bY.hasOwnProperty;function xY(e){var t=this.__data__;return Pf?t[e]!==void 0:wY.call(t,e)}var EY="__lodash_hash_undefined__";function _Y(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Pf&&t===void 0?EY:t,this}function Ll(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ll.prototype.clear=dY;Ll.prototype.delete=vY;Ll.prototype.get=yY;Ll.prototype.has=xY;Ll.prototype.set=_Y;function kY(){this.__data__=[],this.size=0}function Hp(e,t){for(var r=e.length;r--;)if(H_(e[r][0],t))return r;return-1}var SY=Array.prototype,TY=SY.splice;function MY(e){var t=this.__data__,r=Hp(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():TY.call(t,r,1),--this.size,!0}function NY(e){var t=this.__data__,r=Hp(t,e);return r<0?void 0:t[r][1]}function AY(e){return Hp(this.__data__,e)>-1}function PY(e,t){var r=this.__data__,n=Hp(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function no(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}no.prototype.clear=kY;no.prototype.delete=MY;no.prototype.get=NY;no.prototype.has=AY;no.prototype.set=PY;var Of=Wl(ws,"Map");function OY(){this.size=0,this.__data__={hash:new Ll,map:new(Of||no),string:new Ll}}function CY(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Yp(e,t){var r=e.__data__;return CY(t)?r[typeof t=="string"?"string":"hash"]:r.map}function RY(e){var t=Yp(this,e).delete(e);return this.size-=t?1:0,t}function LY(e){return Yp(this,e).get(e)}function IY(e){return Yp(this,e).has(e)}function DY(e,t){var r=Yp(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function io(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}io.prototype.clear=OY;io.prototype.delete=RY;io.prototype.get=LY;io.prototype.has=IY;io.prototype.set=DY;var FY="Expected a function";function J_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(FY);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(J_.Cache||io),r}J_.Cache=io;var $Y=500;function BY(e){var t=J_(e,function(n){return r.size===$Y&&r.clear(),n}),r=t.cache;return t}var zY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,GY=/\\(\\)?/g,qY=BY(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zY,function(r,n,i,a){t.push(i?a.replace(GY,"$1"):n||r)}),t});function jY(e){return e==null?"":T$(e)}function Xp(e,t){return Ia(e)?e:hY(e,t)?[e]:qY(jY(e))}function ek(e){if(typeof e=="string"||V_(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function F$(e,t){t=Xp(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[ek(t[r++])];return r&&r==n?e:void 0}function Qwe(e,t,r){var n=e==null?void 0:F$(e,t);return n===void 0?r:n}function tk(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var FM=oa?oa.isConcatSpreadable:void 0;function WY(e){return Ia(e)||Z_(e)||!!(FM&&e&&e[FM])}function VY(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=WY),i||(i=[]);++a<s;){var o=e[a];r(o)?tk(i,o):i[i.length]=o}return i}function UY(e){var t=e==null?0:e.length;return t?VY(e):[]}function HY(e){return f7(m7(e,void 0,UY),e+"")}var $$=I$(Object.getPrototypeOf,Object);function Jwe(){if(!arguments.length)return[];var e=arguments[0];return Ia(e)?e:[e]}function YY(){this.__data__=new no,this.size=0}function XY(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function KY(e){return this.__data__.get(e)}function ZY(e){return this.__data__.has(e)}var QY=200;function JY(e,t){var r=this.__data__;if(r instanceof no){var n=r.__data__;if(!Of||n.length<QY-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new io(n)}return r.set(e,t),this.size=r.size,this}function Ws(e){var t=this.__data__=new no(e);this.size=t.size}Ws.prototype.clear=YY;Ws.prototype.delete=XY;Ws.prototype.get=KY;Ws.prototype.has=ZY;Ws.prototype.set=JY;function eX(e,t){return e&&Up(t,D$(t),e)}function tX(e,t){return e&&Up(t,uY(t),e)}var B$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$M=B$&&typeof module=="object"&&module&&!module.nodeType&&module,rX=$M&&$M.exports===B$,BM=rX?ws.Buffer:void 0,zM=BM?BM.allocUnsafe:void 0;function nX(e,t){var r=e.length,n=zM?zM(r):new e.constructor(r);return e.copy(n),n}function iX(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}function z$(){return[]}var aX=Object.prototype,sX=aX.propertyIsEnumerable,GM=Object.getOwnPropertySymbols,rk=GM?function(e){return e==null?[]:(e=Object(e),iX(GM(e),function(t){return sX.call(e,t)}))}:z$;function oX(e,t){return Up(e,rk(e),t)}var lX=Object.getOwnPropertySymbols,uX=lX?function(e){for(var t=[];e;)tk(t,rk(e)),e=$$(e);return t}:z$;function cX(e,t){return Up(e,uX(e),t)}function fX(e,t,r){var n=t(e);return Ia(e)?n:tk(n,r(e))}function DE(e){return fX(e,D$,rk)}var FE=Wl(ws,"DataView"),$E=Wl(ws,"Promise"),BE=Wl(ws,"Set"),qM="[object Map]",hX="[object Object]",jM="[object Promise]",WM="[object Set]",VM="[object WeakMap]",UM="[object DataView]",dX=jl(FE),vX=jl(Of),pX=jl($E),gX=jl(BE),mX=jl(IE),xa=lc;(FE&&xa(new FE(new ArrayBuffer(1)))!=UM||Of&&xa(new Of)!=qM||$E&&xa($E.resolve())!=jM||BE&&xa(new BE)!=WM||IE&&xa(new IE)!=VM)&&(xa=function(e){var t=lc(e),r=t==hX?e.constructor:void 0,n=r?jl(r):"";if(n)switch(n){case dX:return UM;case vX:return qM;case pX:return jM;case gX:return WM;case mX:return VM}return t});var yX=Object.prototype,bX=yX.hasOwnProperty;function wX(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&bX.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Rv=ws.Uint8Array;function xX(e){var t=new e.constructor(e.byteLength);return new Rv(t).set(new Rv(e)),t}function EX(e,t){var r=e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var _X=/\w*$/;function kX(e){var t=new e.constructor(e.source,_X.exec(e));return t.lastIndex=e.lastIndex,t}var HM=oa?oa.prototype:void 0,YM=HM?HM.valueOf:void 0;function SX(e){return YM?Object(YM.call(e)):{}}function TX(e,t){var r=e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var MX="[object Boolean]",NX="[object Date]",AX="[object Map]",PX="[object Number]",OX="[object RegExp]",CX="[object Set]",RX="[object String]",LX="[object Symbol]",IX="[object ArrayBuffer]",DX="[object DataView]",FX="[object Float32Array]",$X="[object Float64Array]",BX="[object Int8Array]",zX="[object Int16Array]",GX="[object Int32Array]",qX="[object Uint8Array]",jX="[object Uint8ClampedArray]",WX="[object Uint16Array]",VX="[object Uint32Array]";function UX(e,t,r){var n=e.constructor;switch(t){case IX:return xX(e);case MX:case NX:return new n(+e);case DX:return EX(e);case FX:case $X:case BX:case zX:case GX:case qX:case jX:case WX:case VX:return TX(e);case AX:return new n;case PX:case RX:return new n(e);case OX:return kX(e);case CX:return new n;case LX:return SX(e)}}function HX(e){return typeof e.constructor=="function"&&!K_(e)?r7($$(e)):{}}var YX="[object Map]";function XX(e){return Ro(e)&&xa(e)==YX}var XM=Iu&&Iu.isMap,KX=XM?Q_(XM):XX,ZX="[object Set]";function QX(e){return Ro(e)&&xa(e)==ZX}var KM=Iu&&Iu.isSet,JX=KM?Q_(KM):QX,eK=2,G$="[object Arguments]",tK="[object Array]",rK="[object Boolean]",nK="[object Date]",iK="[object Error]",q$="[object Function]",aK="[object GeneratorFunction]",sK="[object Map]",oK="[object Number]",j$="[object Object]",lK="[object RegExp]",uK="[object Set]",cK="[object String]",fK="[object Symbol]",hK="[object WeakMap]",dK="[object ArrayBuffer]",vK="[object DataView]",pK="[object Float32Array]",gK="[object Float64Array]",mK="[object Int8Array]",yK="[object Int16Array]",bK="[object Int32Array]",wK="[object Uint8Array]",xK="[object Uint8ClampedArray]",EK="[object Uint16Array]",_K="[object Uint32Array]",nr={};nr[G$]=nr[tK]=nr[dK]=nr[vK]=nr[rK]=nr[nK]=nr[pK]=nr[gK]=nr[mK]=nr[yK]=nr[bK]=nr[sK]=nr[oK]=nr[j$]=nr[lK]=nr[uK]=nr[cK]=nr[fK]=nr[wK]=nr[xK]=nr[EK]=nr[_K]=!0;nr[iK]=nr[q$]=nr[hK]=!1;function ev(e,t,r,n,i,a){var s,o=t&eK;if(s!==void 0)return s;if(!Rl(e))return e;var l=Ia(e);if(l)return s=wX(e),i7(e,s);var u=xa(e),c=u==q$||u==aK;if(Cv(e))return nX(e);if(u==j$||u==G$||c&&!i)return s=c?{}:HX(e),o?cX(e,tX(s,e)):oX(e,eX(s,e));if(!nr[u])return i?e:{};s=UX(e,u),a||(a=new Ws);var f=a.get(e);if(f)return f;a.set(e,s),JX(e)?e.forEach(function(v){s.add(ev(v,t,r,v,e,a))}):KX(e)&&e.forEach(function(v,p){s.set(p,ev(v,t,r,p,e,a))});var h=DE,d=l?void 0:h(e);return h7(d||e,function(v,p){d&&(p=v,v=e[p]),Y_(s,p,ev(v,t,r,p,e,a))}),s}var kK=4;function exe(e){return ev(e,kK)}var SK="__lodash_hash_undefined__";function TK(e){return this.__data__.set(e,SK),this}function MK(e){return this.__data__.has(e)}function Lv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new io;++t<r;)this.add(e[t])}Lv.prototype.add=Lv.prototype.push=TK;Lv.prototype.has=MK;function NK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function AK(e,t){return e.has(t)}var PK=1,OK=2;function W$(e,t,r,n,i,a){var s=r&PK,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var f=-1,h=!0,d=r&OK?new Lv:void 0;for(a.set(e,t),a.set(t,e);++f<o;){var v=e[f],p=t[f];if(n)var g=s?n(p,v,f,t,e,a):n(v,p,f,e,t,a);if(g!==void 0){if(g)continue;h=!1;break}if(d){if(!NK(t,function(m,y){if(!AK(d,y)&&(v===m||i(v,m,r,n,a)))return d.push(y)})){h=!1;break}}else if(!(v===p||i(v,p,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}function CK(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function RK(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var LK=1,IK=2,DK="[object Boolean]",FK="[object Date]",$K="[object Error]",BK="[object Map]",zK="[object Number]",GK="[object RegExp]",qK="[object Set]",jK="[object String]",WK="[object Symbol]",VK="[object ArrayBuffer]",UK="[object DataView]",ZM=oa?oa.prototype:void 0,m0=ZM?ZM.valueOf:void 0;function HK(e,t,r,n,i,a,s){switch(r){case UK:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case VK:return!(e.byteLength!=t.byteLength||!a(new Rv(e),new Rv(t)));case DK:case FK:case zK:return H_(+e,+t);case $K:return e.name==t.name&&e.message==t.message;case GK:case jK:return e==t+"";case BK:var o=CK;case qK:var l=n&LK;if(o||(o=RK),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;n|=IK,s.set(e,t);var c=W$(o(e),o(t),n,i,a,s);return s.delete(e),c;case WK:if(m0)return m0.call(e)==m0.call(t)}return!1}var YK=1,XK=Object.prototype,KK=XK.hasOwnProperty;function ZK(e,t,r,n,i,a){var s=r&YK,o=DE(e),l=o.length,u=DE(t),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:KK.call(t,h)))return!1}var d=a.get(e),v=a.get(t);if(d&&v)return d==t&&v==e;var p=!0;a.set(e,t),a.set(t,e);for(var g=s;++f<l;){h=o[f];var m=e[h],y=t[h];if(n)var b=s?n(y,m,h,t,e,a):n(m,y,h,e,t,a);if(!(b===void 0?m===y||i(m,y,r,n,a):b)){p=!1;break}g||(g=h=="constructor")}if(p&&!g){var _=e.constructor,x=t.constructor;_!=x&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof x=="function"&&x instanceof x)&&(p=!1)}return a.delete(e),a.delete(t),p}var QK=1,QM="[object Arguments]",JM="[object Array]",qh="[object Object]",JK=Object.prototype,eN=JK.hasOwnProperty;function eZ(e,t,r,n,i,a){var s=Ia(e),o=Ia(t),l=s?JM:xa(e),u=o?JM:xa(t);l=l==QM?qh:l,u=u==QM?qh:u;var c=l==qh,f=u==qh,h=l==u;if(h&&Cv(e)){if(!Cv(t))return!1;s=!0,c=!1}if(h&&!c)return a||(a=new Ws),s||R$(e)?W$(e,t,r,n,i,a):HK(e,t,l,r,n,i,a);if(!(r&QK)){var d=c&&eN.call(e,"__wrapped__"),v=f&&eN.call(t,"__wrapped__");if(d||v){var p=d?e.value():e,g=v?t.value():t;return a||(a=new Ws),i(p,g,r,n,a)}}return h?(a||(a=new Ws),ZK(e,t,r,n,i,a)):!1}function V$(e,t,r,n,i){return e===t?!0:e==null||t==null||!Ro(e)&&!Ro(t)?e!==e&&t!==t:eZ(e,t,r,n,V$,i)}function tZ(e,t){return e!=null&&t in Object(e)}function rZ(e,t,r){t=Xp(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=ek(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&X_(i)&&U_(s,i)&&(Ia(e)||Z_(e)))}function nZ(e,t){return e!=null&&rZ(e,t,tZ)}function txe(e){for(var t=-1,r=e==null?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n}function rxe(e,t){return V$(e,t)}function nxe(e){return e==null}function ixe(e){return e===void 0}function U$(e,t,r,n){if(!Rl(e))return e;t=Xp(t,e);for(var i=-1,a=t.length,s=a-1,o=e;o!=null&&++i<a;){var l=ek(t[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=s){var c=o[l];u=void 0,u===void 0&&(u=Rl(c)?c:U_(t[i+1])?[]:{})}Y_(o,l,u),o=o[l]}return e}function iZ(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var s=t[n],o=F$(e,s);r(o,s)&&U$(a,Xp(s,e),o)}return a}function aZ(e,t){return iZ(e,t,function(r,n){return nZ(e,n)})}var axe=HY(function(e,t){return e==null?{}:aZ(e,t)});function sxe(e,t,r){return e==null?e:U$(e,t,r)}var sZ=Object.defineProperty,oZ=Object.defineProperties,lZ=Object.getOwnPropertyDescriptors,tN=Object.getOwnPropertySymbols,uZ=Object.prototype.hasOwnProperty,cZ=Object.prototype.propertyIsEnumerable,rN=(e,t,r)=>t in e?sZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fZ=(e,t)=>{for(var r in t||(t={}))uZ.call(t,r)&&rN(e,r,t[r]);if(tN)for(var r of tN(t))cZ.call(t,r)&&rN(e,r,t[r]);return e},hZ=(e,t)=>oZ(e,lZ(t));function oxe(e,t){var r;const n=di();return s5(()=>{n.value=e()},hZ(fZ({},t),{flush:(r=void 0)!=null?r:"sync"})),Pl(n)}var nN;const nk=typeof window<"u",dZ=e=>typeof e=="string",lxe=(e,t,r)=>Math.min(r,Math.max(t,e)),Iv=()=>{},vZ=nk&&((nN=window?.navigator)==null?void 0:nN.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Cf(e){return typeof e=="function"?e():th(e)}function pZ(e,t){function r(...n){return new Promise((i,a)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(i).catch(a)})}return r}function gZ(e,t={}){let r,n,i=Iv;const a=o=>{clearTimeout(o),i(),i=Iv};return o=>{const l=Cf(e),u=Cf(t.maxWait);return r&&a(r),l<=0||u!==void 0&&u<=0?(n&&(a(n),n=null),Promise.resolve(o())):new Promise((c,f)=>{i=t.rejectOnCancel?f:c,u&&!n&&(n=setTimeout(()=>{r&&a(r),n=null,c(o())},u)),r=setTimeout(()=>{n&&a(n),n=null,c(o())},l)})}}function mZ(e){return e}function ik(e){return Op()?(h_(e),!0):!1}function yZ(e,t=200,r={}){return pZ(gZ(t,r),e)}function uxe(e,t=200,r={}){const n=Hr(e.value),i=yZ(()=>{n.value=e.value},t,r);return Gr(e,()=>i()),n}function H$(e,t=!0){qn()?qo(e):t?e():Po(e)}function cxe(e,t,r={}){const{immediate:n=!0}=r,i=Hr(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function o(){i.value=!1,s()}function l(...u){s(),i.value=!0,a=setTimeout(()=>{i.value=!1,a=null,e(...u)},Cf(t))}return n&&(i.value=!0,nk&&l()),ik(o),{isPending:Pl(i),start:l,stop:o}}function du(e){var t;const r=Cf(e);return(t=r?.$el)!=null?t:r}const Kp=nk?window:void 0;function lf(...e){let t,r,n,i;if(dZ(e[0])||Array.isArray(e[0])?([r,n,i]=e,t=Kp):[t,r,n,i]=e,!t)return Iv;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const a=[],s=()=>{a.forEach(c=>c()),a.length=0},o=(c,f,h,d)=>(c.addEventListener(f,h,d),()=>c.removeEventListener(f,h,d)),l=Gr(()=>[du(t),Cf(i)],([c,f])=>{s(),c&&a.push(...r.flatMap(h=>n.map(d=>o(c,h,d,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),s()};return ik(u),u}let iN=!1;function fxe(e,t,r={}){const{window:n=Kp,ignore:i=[],capture:a=!0,detectIframe:s=!1}=r;if(!n)return;vZ&&!iN&&(iN=!0,Array.from(n.document.body.children).forEach(h=>h.addEventListener("click",Iv)));let o=!0;const l=h=>i.some(d=>{if(typeof d=="string")return Array.from(n.document.querySelectorAll(d)).some(v=>v===h.target||h.composedPath().includes(v));{const v=du(d);return v&&(h.target===v||h.composedPath().includes(v))}}),c=[lf(n,"click",h=>{const d=du(e);if(!(!d||d===h.target||h.composedPath().includes(d))){if(h.detail===0&&(o=!l(h)),!o){o=!0;return}t(h)}},{passive:!0,capture:a}),lf(n,"pointerdown",h=>{const d=du(e);d&&(o=!h.composedPath().includes(d)&&!l(h))},{passive:!0}),s&&lf(n,"blur",h=>{var d;const v=du(e);((d=n.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!v?.contains(n.document.activeElement)&&t(h)})].filter(Boolean);return()=>c.forEach(h=>h())}function bZ(e,t=!1){const r=Hr(),n=()=>r.value=!!e();return n(),H$(n,t),r}const aN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sN="__vueuse_ssr_handlers__";aN[sN]=aN[sN]||{};var oN=Object.getOwnPropertySymbols,wZ=Object.prototype.hasOwnProperty,xZ=Object.prototype.propertyIsEnumerable,EZ=(e,t)=>{var r={};for(var n in e)wZ.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&oN)for(var n of oN(e))t.indexOf(n)<0&&xZ.call(e,n)&&(r[n]=e[n]);return r};function hxe(e,t,r={}){const n=r,{window:i=Kp}=n,a=EZ(n,["window"]);let s;const o=bZ(()=>i&&"ResizeObserver"in i),l=()=>{s&&(s.disconnect(),s=void 0)},u=Gr(()=>du(e),f=>{l(),o.value&&i&&f&&(s=new ResizeObserver(t),s.observe(f,a))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return ik(c),{isSupported:o,stop:c}}var lN;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(lN||(lN={}));var _Z=Object.defineProperty,uN=Object.getOwnPropertySymbols,kZ=Object.prototype.hasOwnProperty,SZ=Object.prototype.propertyIsEnumerable,cN=(e,t,r)=>t in e?_Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,TZ=(e,t)=>{for(var r in t||(t={}))kZ.call(t,r)&&cN(e,r,t[r]);if(uN)for(var r of uN(t))SZ.call(t,r)&&cN(e,r,t[r]);return e};const MZ={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};TZ({linear:mZ},MZ);function dxe(e={}){const{window:t=Kp,initialWidth:r=1/0,initialHeight:n=1/0,listenOrientation:i=!0,includeScrollbar:a=!0}=e,s=Hr(r),o=Hr(n),l=()=>{t&&(a?(s.value=t.innerWidth,o.value=t.innerHeight):(s.value=t.document.documentElement.clientWidth,o.value=t.document.documentElement.clientHeight))};return l(),H$(l),lf("resize",l,{passive:!0}),i&&lf("orientationchange",l,{passive:!0}),{width:s,height:o}}var vi="top",la="bottom",ua="right",pi="left",ak="auto",oh=[vi,la,ua,pi],Du="start",Rf="end",NZ="clippingParents",Y$="viewport",_c="popper",AZ="reference",fN=oh.reduce(function(e,t){return e.concat([t+"-"+Du,t+"-"+Rf])},[]),X$=[].concat(oh,[ak]).reduce(function(e,t){return e.concat([t,t+"-"+Du,t+"-"+Rf])},[]),PZ="beforeRead",OZ="read",CZ="afterRead",RZ="beforeMain",LZ="main",IZ="afterMain",DZ="beforeWrite",FZ="write",$Z="afterWrite",BZ=[PZ,OZ,CZ,RZ,LZ,IZ,DZ,FZ,$Z];function vs(e){return e?(e.nodeName||"").toLowerCase():null}function $a(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Fu(e){var t=$a(e).Element;return e instanceof t||e instanceof Element}function ia(e){var t=$a(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function sk(e){if(typeof ShadowRoot>"u")return!1;var t=$a(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function zZ(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},a=t.elements[r];!ia(a)||!vs(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function GZ(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],a=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),o=s.reduce(function(l,u){return l[u]="",l},{});!ia(i)||!vs(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}var K$={name:"applyStyles",enabled:!0,phase:"write",fn:zZ,effect:GZ,requires:["computeStyles"]};function us(e){return e.split("-")[0]}var Sl=Math.max,Dv=Math.min,$u=Math.round;function Bu(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),n=1,i=1;if(ia(e)&&t){var a=e.offsetHeight,s=e.offsetWidth;s>0&&(n=$u(r.width)/s||1),a>0&&(i=$u(r.height)/a||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function ok(e){var t=Bu(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Z$(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&sk(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Zs(e){return $a(e).getComputedStyle(e)}function qZ(e){return["table","td","th"].indexOf(vs(e))>=0}function Vo(e){return((Fu(e)?e.ownerDocument:e.document)||window.document).documentElement}function Zp(e){return vs(e)==="html"?e:e.assignedSlot||e.parentNode||(sk(e)?e.host:null)||Vo(e)}function hN(e){return!ia(e)||Zs(e).position==="fixed"?null:e.offsetParent}function jZ(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&ia(e)){var n=Zs(e);if(n.position==="fixed")return null}var i=Zp(e);for(sk(i)&&(i=i.host);ia(i)&&["html","body"].indexOf(vs(i))<0;){var a=Zs(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function lh(e){for(var t=$a(e),r=hN(e);r&&qZ(r)&&Zs(r).position==="static";)r=hN(r);return r&&(vs(r)==="html"||vs(r)==="body"&&Zs(r).position==="static")?t:r||jZ(e)||t}function lk(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function uf(e,t,r){return Sl(e,Dv(t,r))}function WZ(e,t,r){var n=uf(e,t,r);return n>r?r:n}function Q$(){return{top:0,right:0,bottom:0,left:0}}function J$(e){return Object.assign({},Q$(),e)}function eB(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var VZ=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,J$(typeof e!="number"?e:eB(e,oh))};function UZ(e){var t,r=e.state,n=e.name,i=e.options,a=r.elements.arrow,s=r.modifiersData.popperOffsets,o=us(r.placement),l=lk(o),u=[pi,ua].indexOf(o)>=0,c=u?"height":"width";if(!(!a||!s)){var f=VZ(i.padding,r),h=ok(a),d=l==="y"?vi:pi,v=l==="y"?la:ua,p=r.rects.reference[c]+r.rects.reference[l]-s[l]-r.rects.popper[c],g=s[l]-r.rects.reference[l],m=lh(a),y=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,b=p/2-g/2,_=f[d],x=y-h[c]-f[v],E=y/2-h[c]/2+b,w=uf(_,E,x),S=l;r.modifiersData[n]=(t={},t[S]=w,t.centerOffset=w-E,t)}}function HZ(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!Z$(t.elements.popper,i)||(t.elements.arrow=i))}var YZ={name:"arrow",enabled:!0,phase:"main",fn:UZ,effect:HZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zu(e){return e.split("-")[1]}var XZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function KZ(e){var t=e.x,r=e.y,n=window,i=n.devicePixelRatio||1;return{x:$u(t*i)/i||0,y:$u(r*i)/i||0}}function dN(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,h=s.x,d=h===void 0?0:h,v=s.y,p=v===void 0?0:v,g=typeof c=="function"?c({x:d,y:p}):{x:d,y:p};d=g.x,p=g.y;var m=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=pi,_=vi,x=window;if(u){var E=lh(r),w="clientHeight",S="clientWidth";if(E===$a(r)&&(E=Vo(r),Zs(E).position!=="static"&&o==="absolute"&&(w="scrollHeight",S="scrollWidth")),E=E,i===vi||(i===pi||i===ua)&&a===Rf){_=la;var A=f&&E===x&&x.visualViewport?x.visualViewport.height:E[w];p-=A-n.height,p*=l?1:-1}if(i===pi||(i===vi||i===la)&&a===Rf){b=ua;var P=f&&E===x&&x.visualViewport?x.visualViewport.width:E[S];d-=P-n.width,d*=l?1:-1}}var O=Object.assign({position:o},u&&XZ),C=c===!0?KZ({x:d,y:p}):{x:d,y:p};if(d=C.x,p=C.y,l){var L;return Object.assign({},O,(L={},L[_]=y?"0":"",L[b]=m?"0":"",L.transform=(x.devicePixelRatio||1)<=1?"translate("+d+"px, "+p+"px)":"translate3d("+d+"px, "+p+"px, 0)",L))}return Object.assign({},O,(t={},t[_]=y?p+"px":"",t[b]=m?d+"px":"",t.transform="",t))}function ZZ(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,s=a===void 0?!0:a,o=r.roundOffsets,l=o===void 0?!0:o,u={placement:us(t.placement),variation:zu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,dN(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,dN(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var tB={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ZZ,data:{}},jh={passive:!0};function QZ(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=i===void 0?!0:i,s=n.resize,o=s===void 0?!0:s,l=$a(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(c){c.addEventListener("scroll",r.update,jh)}),o&&l.addEventListener("resize",r.update,jh),function(){a&&u.forEach(function(c){c.removeEventListener("scroll",r.update,jh)}),o&&l.removeEventListener("resize",r.update,jh)}}var rB={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:QZ,data:{}},JZ={left:"right",right:"left",bottom:"top",top:"bottom"};function tv(e){return e.replace(/left|right|bottom|top/g,function(t){return JZ[t]})}var eQ={start:"end",end:"start"};function vN(e){return e.replace(/start|end/g,function(t){return eQ[t]})}function uk(e){var t=$a(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function ck(e){return Bu(Vo(e)).left+uk(e).scrollLeft}function tQ(e){var t=$a(e),r=Vo(e),n=t.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,o=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,o=n.offsetTop)),{width:i,height:a,x:s+ck(e),y:o}}function rQ(e){var t,r=Vo(e),n=uk(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=Sl(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Sl(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-n.scrollLeft+ck(e),l=-n.scrollTop;return Zs(i||r).direction==="rtl"&&(o+=Sl(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}function fk(e){var t=Zs(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function nB(e){return["html","body","#document"].indexOf(vs(e))>=0?e.ownerDocument.body:ia(e)&&fk(e)?e:nB(Zp(e))}function cf(e,t){var r;t===void 0&&(t=[]);var n=nB(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),a=$a(n),s=i?[a].concat(a.visualViewport||[],fk(n)?n:[]):n,o=t.concat(s);return i?o:o.concat(cf(Zp(s)))}function zE(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function nQ(e){var t=Bu(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function pN(e,t){return t===Y$?zE(tQ(e)):Fu(t)?nQ(t):zE(rQ(Vo(e)))}function iQ(e){var t=cf(Zp(e)),r=["absolute","fixed"].indexOf(Zs(e).position)>=0,n=r&&ia(e)?lh(e):e;return Fu(n)?t.filter(function(i){return Fu(i)&&Z$(i,n)&&vs(i)!=="body"}):[]}function aQ(e,t,r){var n=t==="clippingParents"?iQ(e):[].concat(t),i=[].concat(n,[r]),a=i[0],s=i.reduce(function(o,l){var u=pN(e,l);return o.top=Sl(u.top,o.top),o.right=Dv(u.right,o.right),o.bottom=Dv(u.bottom,o.bottom),o.left=Sl(u.left,o.left),o},pN(e,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function iB(e){var t=e.reference,r=e.element,n=e.placement,i=n?us(n):null,a=n?zu(n):null,s=t.x+t.width/2-r.width/2,o=t.y+t.height/2-r.height/2,l;switch(i){case vi:l={x:s,y:t.y-r.height};break;case la:l={x:s,y:t.y+t.height};break;case ua:l={x:t.x+t.width,y:o};break;case pi:l={x:t.x-r.width,y:o};break;default:l={x:t.x,y:t.y}}var u=i?lk(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(a){case Du:l[u]=l[u]-(t[c]/2-r[c]/2);break;case Rf:l[u]=l[u]+(t[c]/2-r[c]/2);break}}return l}function Lf(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,a=r.boundary,s=a===void 0?NZ:a,o=r.rootBoundary,l=o===void 0?Y$:o,u=r.elementContext,c=u===void 0?_c:u,f=r.altBoundary,h=f===void 0?!1:f,d=r.padding,v=d===void 0?0:d,p=J$(typeof v!="number"?v:eB(v,oh)),g=c===_c?AZ:_c,m=e.rects.popper,y=e.elements[h?g:c],b=aQ(Fu(y)?y:y.contextElement||Vo(e.elements.popper),s,l),_=Bu(e.elements.reference),x=iB({reference:_,element:m,placement:i}),E=zE(Object.assign({},m,x)),w=c===_c?E:_,S={top:b.top-w.top+p.top,bottom:w.bottom-b.bottom+p.bottom,left:b.left-w.left+p.left,right:w.right-b.right+p.right},A=e.modifiersData.offset;if(c===_c&&A){var P=A[i];Object.keys(S).forEach(function(O){var C=[ua,la].indexOf(O)>=0?1:-1,L=[vi,la].indexOf(O)>=0?"y":"x";S[O]+=P[L]*C})}return S}function sQ(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,a=r.rootBoundary,s=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?X$:l,c=zu(n),f=c?o?fN:fN.filter(function(v){return zu(v)===c}):oh,h=f.filter(function(v){return u.indexOf(v)>=0});h.length===0&&(h=f);var d=h.reduce(function(v,p){return v[p]=Lf(e,{placement:p,boundary:i,rootBoundary:a,padding:s})[us(p)],v},{});return Object.keys(d).sort(function(v,p){return d[v]-d[p]})}function oQ(e){if(us(e)===ak)return[];var t=tv(e);return[vN(e),t,vN(t)]}function lQ(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,o=s===void 0?!0:s,l=r.fallbackPlacements,u=r.padding,c=r.boundary,f=r.rootBoundary,h=r.altBoundary,d=r.flipVariations,v=d===void 0?!0:d,p=r.allowedAutoPlacements,g=t.options.placement,m=us(g),y=m===g,b=l||(y||!v?[tv(g)]:oQ(g)),_=[g].concat(b).reduce(function(te,Y){return te.concat(us(Y)===ak?sQ(t,{placement:Y,boundary:c,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:p}):Y)},[]),x=t.rects.reference,E=t.rects.popper,w=new Map,S=!0,A=_[0],P=0;P<_.length;P++){var O=_[P],C=us(O),L=zu(O)===Du,I=[vi,la].indexOf(C)>=0,F=I?"width":"height",U=Lf(t,{placement:O,boundary:c,rootBoundary:f,altBoundary:h,padding:u}),G=I?L?ua:pi:L?la:vi;x[F]>E[F]&&(G=tv(G));var z=tv(G),Z=[];if(a&&Z.push(U[C]<=0),o&&Z.push(U[G]<=0,U[z]<=0),Z.every(function(te){return te})){A=O,S=!1;break}w.set(O,Z)}if(S)for(var ge=v?3:1,xe=function(te){var Y=_.find(function(fe){var Q=w.get(fe);if(Q)return Q.slice(0,te).every(function(oe){return oe})});if(Y)return A=Y,"break"},ve=ge;ve>0;ve--){var je=xe(ve);if(je==="break")break}t.placement!==A&&(t.modifiersData[n]._skip=!0,t.placement=A,t.reset=!0)}}var uQ={name:"flip",enabled:!0,phase:"main",fn:lQ,requiresIfExists:["offset"],data:{_skip:!1}};function gN(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function mN(e){return[vi,ua,la,pi].some(function(t){return e[t]>=0})}function cQ(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,s=Lf(t,{elementContext:"reference"}),o=Lf(t,{altBoundary:!0}),l=gN(s,n),u=gN(o,i,a),c=mN(l),f=mN(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var fQ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:cQ};function hQ(e,t,r){var n=us(e),i=[pi,vi].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[pi,ua].indexOf(n)>=0?{x:o,y:s}:{x:s,y:o}}function dQ(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=i===void 0?[0,0]:i,s=X$.reduce(function(c,f){return c[f]=hQ(f,t.rects,a),c},{}),o=s[t.placement],l=o.x,u=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=s}var vQ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:dQ};function pQ(e){var t=e.state,r=e.name;t.modifiersData[r]=iB({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var aB={name:"popperOffsets",enabled:!0,phase:"read",fn:pQ,data:{}};function gQ(e){return e==="x"?"y":"x"}function mQ(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,o=s===void 0?!1:s,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,f=r.padding,h=r.tether,d=h===void 0?!0:h,v=r.tetherOffset,p=v===void 0?0:v,g=Lf(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),m=us(t.placement),y=zu(t.placement),b=!y,_=lk(m),x=gQ(_),E=t.modifiersData.popperOffsets,w=t.rects.reference,S=t.rects.popper,A=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,P=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(E){if(a){var L,I=_==="y"?vi:pi,F=_==="y"?la:ua,U=_==="y"?"height":"width",G=E[_],z=G+g[I],Z=G-g[F],ge=d?-S[U]/2:0,xe=y===Du?w[U]:S[U],ve=y===Du?-S[U]:-w[U],je=t.elements.arrow,te=d&&je?ok(je):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Q$(),fe=Y[I],Q=Y[F],oe=uf(0,w[U],te[U]),ye=b?w[U]/2-ge-oe-fe-P.mainAxis:xe-oe-fe-P.mainAxis,we=b?-w[U]/2+ge+oe+Q+P.mainAxis:ve+oe+Q+P.mainAxis,Ae=t.elements.arrow&&lh(t.elements.arrow),H=Ae?_==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,K=(L=O?.[_])!=null?L:0,ce=G+ye-K-H,de=G+we-K,_e=uf(d?Dv(z,ce):z,G,d?Sl(Z,de):Z);E[_]=_e,C[_]=_e-G}if(o){var pe,V=_==="x"?vi:pi,q=_==="x"?la:ua,ne=E[x],ue=x==="y"?"height":"width",Oe=ne+g[V],be=ne-g[q],re=[vi,pi].indexOf(m)!==-1,he=(pe=O?.[x])!=null?pe:0,Be=re?Oe:ne-w[ue]-S[ue]-he+P.altAxis,nt=re?ne+w[ue]+S[ue]-he-P.altAxis:be,lt=d&&re?WZ(Be,ne,nt):uf(d?Be:Oe,ne,d?nt:be);E[x]=lt,C[x]=lt-ne}t.modifiersData[n]=C}}var yQ={name:"preventOverflow",enabled:!0,phase:"main",fn:mQ,requiresIfExists:["offset"]};function bQ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function wQ(e){return e===$a(e)||!ia(e)?uk(e):bQ(e)}function xQ(e){var t=e.getBoundingClientRect(),r=$u(t.width)/e.offsetWidth||1,n=$u(t.height)/e.offsetHeight||1;return r!==1||n!==1}function EQ(e,t,r){r===void 0&&(r=!1);var n=ia(t),i=ia(t)&&xQ(t),a=Vo(t),s=Bu(e,i),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((vs(t)!=="body"||fk(a))&&(o=wQ(t)),ia(t)?(l=Bu(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=ck(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function _Q(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function i(a){r.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!r.has(o)){var l=t.get(o);l&&i(l)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||i(a)}),n}function kQ(e){var t=_Q(e);return BZ.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function SQ(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function TQ(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var yN={placement:"bottom",modifiers:[],strategy:"absolute"};function bN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function hk(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,a=i===void 0?yN:i;return function(s,o,l){l===void 0&&(l=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},yN,a),modifiersData:{},elements:{reference:s,popper:o},attributes:{},styles:{}},c=[],f=!1,h={state:u,setOptions:function(p){var g=typeof p=="function"?p(u.options):p;v(),u.options=Object.assign({},a,u.options,g),u.scrollParents={reference:Fu(s)?cf(s):s.contextElement?cf(s.contextElement):[],popper:cf(o)};var m=kQ(TQ([].concat(n,u.options.modifiers)));return u.orderedModifiers=m.filter(function(y){return y.enabled}),d(),h.update()},forceUpdate:function(){if(!f){var p=u.elements,g=p.reference,m=p.popper;if(bN(g,m)){u.rects={reference:EQ(g,lh(m),u.options.strategy==="fixed"),popper:ok(m)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(S){return u.modifiersData[S.name]=Object.assign({},S.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var b=u.orderedModifiers[y],_=b.fn,x=b.options,E=x===void 0?{}:x,w=b.name;typeof _=="function"&&(u=_({state:u,options:E,name:w,instance:h})||u)}}}},update:SQ(function(){return new Promise(function(p){h.forceUpdate(),p(u)})}),destroy:function(){v(),f=!0}};if(!bN(s,o))return h;h.setOptions(l).then(function(p){!f&&l.onFirstUpdate&&l.onFirstUpdate(p)});function d(){u.orderedModifiers.forEach(function(p){var g=p.name,m=p.options,y=m===void 0?{}:m,b=p.effect;if(typeof b=="function"){var _=b({state:u,name:g,instance:h,options:y}),x=function(){};c.push(_||x)}})}function v(){c.forEach(function(p){return p()}),c=[]}return h}}hk();var MQ=[rB,aB,tB,K$];hk({defaultModifiers:MQ});var NQ=[rB,aB,tB,K$,vQ,uQ,yQ,YZ,fQ],vxe=hk({defaultModifiers:NQ});function Mn(e,t){AQ(e)&&(e="100%");var r=PQ(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function Wh(e){return Math.min(1,Math.max(0,e))}function AQ(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function PQ(e){return typeof e=="string"&&e.indexOf("%")!==-1}function sB(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Vh(e){return e<=1?"".concat(Number(e)*100,"%"):e}function ml(e){return e.length===1?"0"+e:String(e)}function OQ(e,t,r){return{r:Mn(e,255)*255,g:Mn(t,255)*255,b:Mn(r,255)*255}}function wN(e,t,r){e=Mn(e,255),t=Mn(t,255),r=Mn(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),a=0,s=0,o=(n+i)/2;if(n===i)s=0,a=0;else{var l=n-i;switch(s=o>.5?l/(2-n-i):l/(n+i),n){case e:a=(t-r)/l+(t<r?6:0);break;case t:a=(r-e)/l+2;break;case r:a=(e-t)/l+4;break}a/=6}return{h:a,s,l:o}}function y0(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*(6*r):r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function CQ(e,t,r){var n,i,a;if(e=Mn(e,360),t=Mn(t,100),r=Mn(r,100),t===0)i=r,a=r,n=r;else{var s=r<.5?r*(1+t):r+t-r*t,o=2*r-s;n=y0(o,s,e+1/3),i=y0(o,s,e),a=y0(o,s,e-1/3)}return{r:n*255,g:i*255,b:a*255}}function xN(e,t,r){e=Mn(e,255),t=Mn(t,255),r=Mn(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),a=0,s=n,o=n-i,l=n===0?0:o/n;if(n===i)a=0;else{switch(n){case e:a=(t-r)/o+(t<r?6:0);break;case t:a=(r-e)/o+2;break;case r:a=(e-t)/o+4;break}a/=6}return{h:a,s:l,v:s}}function RQ(e,t,r){e=Mn(e,360)*6,t=Mn(t,100),r=Mn(r,100);var n=Math.floor(e),i=e-n,a=r*(1-t),s=r*(1-i*t),o=r*(1-(1-i)*t),l=n%6,u=[r,s,a,a,o,r][l],c=[o,r,r,s,a,a][l],f=[a,a,o,r,r,s][l];return{r:u*255,g:c*255,b:f*255}}function EN(e,t,r,n){var i=[ml(Math.round(e).toString(16)),ml(Math.round(t).toString(16)),ml(Math.round(r).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function LQ(e,t,r,n,i){var a=[ml(Math.round(e).toString(16)),ml(Math.round(t).toString(16)),ml(Math.round(r).toString(16)),ml(IQ(n))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function IQ(e){return Math.round(parseFloat(e)*255).toString(16)}function _N(e){return Mi(e)/255}function Mi(e){return parseInt(e,16)}function DQ(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var GE={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function FQ(e){var t={r:0,g:0,b:0},r=1,n=null,i=null,a=null,s=!1,o=!1;return typeof e=="string"&&(e=zQ(e)),typeof e=="object"&&(Ms(e.r)&&Ms(e.g)&&Ms(e.b)?(t=OQ(e.r,e.g,e.b),s=!0,o=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Ms(e.h)&&Ms(e.s)&&Ms(e.v)?(n=Vh(e.s),i=Vh(e.v),t=RQ(e.h,n,i),s=!0,o="hsv"):Ms(e.h)&&Ms(e.s)&&Ms(e.l)&&(n=Vh(e.s),a=Vh(e.l),t=CQ(e.h,n,a),s=!0,o="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=sB(r),{ok:s,format:e.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var $Q="[-\\+]?\\d+%?",BQ="[-\\+]?\\d*\\.\\d+%?",xo="(?:".concat(BQ,")|(?:").concat($Q,")"),b0="[\\s|\\(]+(".concat(xo,")[,|\\s]+(").concat(xo,")[,|\\s]+(").concat(xo,")\\s*\\)?"),w0="[\\s|\\(]+(".concat(xo,")[,|\\s]+(").concat(xo,")[,|\\s]+(").concat(xo,")[,|\\s]+(").concat(xo,")\\s*\\)?"),ma={CSS_UNIT:new RegExp(xo),rgb:new RegExp("rgb"+b0),rgba:new RegExp("rgba"+w0),hsl:new RegExp("hsl"+b0),hsla:new RegExp("hsla"+w0),hsv:new RegExp("hsv"+b0),hsva:new RegExp("hsva"+w0),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function zQ(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(GE[e])e=GE[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=ma.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=ma.rgba.exec(e),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=ma.hsl.exec(e),r?{h:r[1],s:r[2],l:r[3]}:(r=ma.hsla.exec(e),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=ma.hsv.exec(e),r?{h:r[1],s:r[2],v:r[3]}:(r=ma.hsva.exec(e),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=ma.hex8.exec(e),r?{r:Mi(r[1]),g:Mi(r[2]),b:Mi(r[3]),a:_N(r[4]),format:t?"name":"hex8"}:(r=ma.hex6.exec(e),r?{r:Mi(r[1]),g:Mi(r[2]),b:Mi(r[3]),format:t?"name":"hex"}:(r=ma.hex4.exec(e),r?{r:Mi(r[1]+r[1]),g:Mi(r[2]+r[2]),b:Mi(r[3]+r[3]),a:_N(r[4]+r[4]),format:t?"name":"hex8"}:(r=ma.hex3.exec(e),r?{r:Mi(r[1]+r[1]),g:Mi(r[2]+r[2]),b:Mi(r[3]+r[3]),format:t?"name":"hex"}:!1)))))))))}function Ms(e){return!!ma.CSS_UNIT.exec(String(e))}var pxe=function(){function e(t,r){t===void 0&&(t=""),r===void 0&&(r={});var n;if(t instanceof e)return t;typeof t=="number"&&(t=DQ(t)),this.originalInput=t;var i=FQ(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:i.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),r,n,i,a=t.r/255,s=t.g/255,o=t.b/255;return a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),.2126*r+.7152*n+.0722*i},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=sB(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=xN(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=xN(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=wN(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=wN(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),EN(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),LQ(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(r,", ").concat(n,")"):"rgba(".concat(t,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(r){return"".concat(Math.round(Mn(r,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(r){return Math.round(Mn(r,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+EN(this.r,this.g,this.b,!1),r=0,n=Object.entries(GE);r<n.length;r++){var i=n[r],a=i[0],s=i[1];if(t===s)return a}return!1},e.prototype.toString=function(t){var r=!!t;t=t??this.format;var n=!1,i=this.a<1&&this.a>=0,a=!r&&i&&(t.startsWith("hex")||t==="name");return a?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l+=t/100,r.l=Wh(r.l),new e(r)},e.prototype.brighten=function(t){t===void 0&&(t=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),new e(r)},e.prototype.darken=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l-=t/100,r.l=Wh(r.l),new e(r)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s-=t/100,r.s=Wh(r.s),new e(r)},e.prototype.saturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s+=t/100,r.s=Wh(r.s),new e(r)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var r=this.toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,new e(r)},e.prototype.mix=function(t,r){r===void 0&&(r=50);var n=this.toRgb(),i=new e(t).toRgb(),a=r/100,s={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return new e(s)},e.prototype.analogous=function(t,r){t===void 0&&(t=6),r===void 0&&(r=30);var n=this.toHsl(),i=360/r,a=[this];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(new e(n));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var r=this.toHsv(),n=r.h,i=r.s,a=r.v,s=[],o=1/t;t--;)s.push(new e({h:n,s:i,v:a})),a=(a+o)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),r=t.h;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var r=this.toRgb(),n=new e(t).toRgb(),i=r.a+n.a*(1-r.a);return new e({r:(r.r*r.a+n.r*n.a*(1-r.a))/i,g:(r.g*r.a+n.g*n.a*(1-r.a))/i,b:(r.b*r.a+n.b*n.a*(1-r.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var r=this.toHsl(),n=r.h,i=[this],a=360/t,s=1;s<t;s++)i.push(new e({h:(n+s*a)%360,s:r.s,l:r.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yl.apply(this,arguments)}function GQ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,If(e,t)}function qE(e){return qE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qE(e)}function If(e,t){return If=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},If(e,t)}function qQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rv(e,t,r){return qQ()?rv=Reflect.construct.bind():rv=function(i,a,s){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(i,o),u=new l;return s&&If(u,s.prototype),u},rv.apply(null,arguments)}function jQ(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function jE(e){var t=typeof Map=="function"?new Map:void 0;return jE=function(n){if(n===null||!jQ(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return rv(n,arguments,qE(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),If(i,n)},jE(e)}var WQ=/%[sdj%]/g,VQ=function(){};function WE(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var n=r.field;t[n]=t[n]||[],t[n].push(r)}),t}function Ii(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0,a=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var s=e.replace(WQ,function(o){if(o==="%%")return"%";if(i>=a)return o;switch(o){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch{return"[Circular]"}break;default:return o}});return s}return e}function UQ(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function ln(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||UQ(t)&&typeof e=="string"&&!e)}function HQ(e,t,r){var n=[],i=0,a=e.length;function s(o){n.push.apply(n,o||[]),i++,i===a&&r(n)}e.forEach(function(o){t(o,s)})}function kN(e,t,r){var n=0,i=e.length;function a(s){if(s&&s.length){r(s);return}var o=n;n=n+1,o<i?t(e[o],a):r([])}a([])}function YQ(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,e[r]||[])}),t}var SN=function(e){GQ(t,e);function t(r,n){var i;return i=e.call(this,"Async Validation Error")||this,i.errors=r,i.fields=n,i}return t}(jE(Error));function XQ(e,t,r,n,i){if(t.first){var a=new Promise(function(h,d){var v=function(m){return n(m),m.length?d(new SN(m,WE(m))):h(i)},p=YQ(e);kN(p,r,v)});return a.catch(function(h){return h}),a}var s=t.firstFields===!0?Object.keys(e):t.firstFields||[],o=Object.keys(e),l=o.length,u=0,c=[],f=new Promise(function(h,d){var v=function(g){if(c.push.apply(c,g),u++,u===l)return n(c),c.length?d(new SN(c,WE(c))):h(i)};o.length||(n(c),h(i)),o.forEach(function(p){var g=e[p];s.indexOf(p)!==-1?kN(g,r,v):HQ(g,r,v)})});return f.catch(function(h){return h}),f}function KQ(e){return!!(e&&e.message!==void 0)}function ZQ(e,t){for(var r=e,n=0;n<t.length;n++){if(r==null)return r;r=r[t[n]]}return r}function TN(e,t){return function(r){var n;return e.fullFields?n=ZQ(t,e.fullFields):n=t[r.field||e.fullField],KQ(r)?(r.field=r.field||e.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||e.fullField}}}function MN(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];typeof n=="object"&&typeof e[r]=="object"?e[r]=yl({},e[r],n):e[r]=n}}return e}var oB=function(t,r,n,i,a,s){t.required&&(!n.hasOwnProperty(t.field)||ln(r,s||t.type))&&i.push(Ii(a.messages.required,t.fullField))},QQ=function(t,r,n,i,a){(/^\s+$/.test(r)||r==="")&&i.push(Ii(a.messages.whitespace,t.fullField))},Uh,JQ=function(){if(Uh)return Uh;var e="[a-fA-F\\d:]",t=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+r+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+r+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+r+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+r+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+r+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+r+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+r+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+r+"$)|(?:^"+i+"$)"),s=new RegExp("^"+r+"$"),o=new RegExp("^"+i+"$"),l=function(_){return _&&_.exact?a:new RegExp("(?:"+t(_)+r+t(_)+")|(?:"+t(_)+i+t(_)+")","g")};l.v4=function(b){return b&&b.exact?s:new RegExp(""+t(b)+r+t(b),"g")},l.v6=function(b){return b&&b.exact?o:new RegExp(""+t(b)+i+t(b),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,h=l.v6().source,d="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",p="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",g="(?::\\d{2,5})?",m='(?:[/?#][^\\s"]*)?',y="(?:"+u+"|www\\.)"+c+"(?:localhost|"+f+"|"+h+"|"+d+v+p+")"+g+m;return Uh=new RegExp("(?:^"+y+"$)","i"),Uh},NN={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Bc={integer:function(t){return Bc.number(t)&&parseInt(t,10)===t},float:function(t){return Bc.number(t)&&!Bc.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!Bc.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(NN.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(JQ())},hex:function(t){return typeof t=="string"&&!!t.match(NN.hex)}},eJ=function(t,r,n,i,a){if(t.required&&r===void 0){oB(t,r,n,i,a);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=t.type;s.indexOf(o)>-1?Bc[o](r)||i.push(Ii(a.messages.types[o],t.fullField,t.type)):o&&typeof r!==t.type&&i.push(Ii(a.messages.types[o],t.fullField,t.type))},tJ=function(t,r,n,i,a){var s=typeof t.len=="number",o=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=r,f=null,h=typeof r=="number",d=typeof r=="string",v=Array.isArray(r);if(h?f="number":d?f="string":v&&(f="array"),!f)return!1;v&&(c=r.length),d&&(c=r.replace(u,"_").length),s?c!==t.len&&i.push(Ii(a.messages[f].len,t.fullField,t.len)):o&&!l&&c<t.min?i.push(Ii(a.messages[f].min,t.fullField,t.min)):l&&!o&&c>t.max?i.push(Ii(a.messages[f].max,t.fullField,t.max)):o&&l&&(c<t.min||c>t.max)&&i.push(Ii(a.messages[f].range,t.fullField,t.min,t.max))},ru="enum",rJ=function(t,r,n,i,a){t[ru]=Array.isArray(t[ru])?t[ru]:[],t[ru].indexOf(r)===-1&&i.push(Ii(a.messages[ru],t.fullField,t[ru].join(", ")))},nJ=function(t,r,n,i,a){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||i.push(Ii(a.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var s=new RegExp(t.pattern);s.test(r)||i.push(Ii(a.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},Ot={required:oB,whitespace:QQ,type:eJ,range:tJ,enum:rJ,pattern:nJ},iJ=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(ln(r,"string")&&!t.required)return n();Ot.required(t,r,i,s,a,"string"),ln(r,"string")||(Ot.type(t,r,i,s,a),Ot.range(t,r,i,s,a),Ot.pattern(t,r,i,s,a),t.whitespace===!0&&Ot.whitespace(t,r,i,s,a))}n(s)},aJ=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(ln(r)&&!t.required)return n();Ot.required(t,r,i,s,a),r!==void 0&&Ot.type(t,r,i,s,a)}n(s)},sJ=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(r===""&&(r=void 0),ln(r)&&!t.required)return n();Ot.required(t,r,i,s,a),r!==void 0&&(Ot.type(t,r,i,s,a),Ot.range(t,r,i,s,a))}n(s)},oJ=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(ln(r)&&!t.required)return n();Ot.required(t,r,i,s,a),r!==void 0&&Ot.type(t,r,i,s,a)}n(s)},lJ=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(ln(r)&&!t.required)return n();Ot.required(t,r,i,s,a),ln(r)||Ot.type(t,r,i,s,a)}n(s)},uJ=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(ln(r)&&!t.required)return n();Ot.required(t,r,i,s,a),r!==void 0&&(Ot.type(t,r,i,s,a),Ot.range(t,r,i,s,a))}n(s)},cJ=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(ln(r)&&!t.required)return n();Ot.required(t,r,i,s,a),r!==void 0&&(Ot.type(t,r,i,s,a),Ot.range(t,r,i,s,a))}n(s)},fJ=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(r==null&&!t.required)return n();Ot.required(t,r,i,s,a,"array"),r!=null&&(Ot.type(t,r,i,s,a),Ot.range(t,r,i,s,a))}n(s)},hJ=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(ln(r)&&!t.required)return n();Ot.required(t,r,i,s,a),r!==void 0&&Ot.type(t,r,i,s,a)}n(s)},dJ="enum",vJ=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(ln(r)&&!t.required)return n();Ot.required(t,r,i,s,a),r!==void 0&&Ot[dJ](t,r,i,s,a)}n(s)},pJ=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(ln(r,"string")&&!t.required)return n();Ot.required(t,r,i,s,a),ln(r,"string")||Ot.pattern(t,r,i,s,a)}n(s)},gJ=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(ln(r,"date")&&!t.required)return n();if(Ot.required(t,r,i,s,a),!ln(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),Ot.type(t,l,i,s,a),l&&Ot.range(t,l.getTime(),i,s,a)}}n(s)},mJ=function(t,r,n,i,a){var s=[],o=Array.isArray(r)?"array":typeof r;Ot.required(t,r,i,s,a,o),n(s)},x0=function(t,r,n,i,a){var s=t.type,o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ln(r,s)&&!t.required)return n();Ot.required(t,r,i,o,a,s),ln(r,s)||Ot.type(t,r,i,o,a)}n(o)},yJ=function(t,r,n,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(ln(r)&&!t.required)return n();Ot.required(t,r,i,s,a)}n(s)},ff={string:iJ,method:aJ,number:sJ,boolean:oJ,regexp:lJ,integer:uJ,float:cJ,array:fJ,object:hJ,enum:vJ,pattern:pJ,date:gJ,url:x0,hex:x0,email:x0,required:mJ,any:yJ};function VE(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var UE=VE(),Qp=function(){function e(r){this.rules=null,this._messages=UE,this.define(r)}var t=e.prototype;return t.define=function(n){var i=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(a){var s=n[a];i.rules[a]=Array.isArray(s)?s:[s]})},t.messages=function(n){return n&&(this._messages=MN(VE(),n)),this._messages},t.validate=function(n,i,a){var s=this;i===void 0&&(i={}),a===void 0&&(a=function(){});var o=n,l=i,u=a;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,o),Promise.resolve(o);function c(p){var g=[],m={};function y(_){if(Array.isArray(_)){var x;g=(x=g).concat.apply(x,_)}else g.push(_)}for(var b=0;b<p.length;b++)y(p[b]);g.length?(m=WE(g),u(g,m)):u(null,o)}if(l.messages){var f=this.messages();f===UE&&(f=VE()),MN(f,l.messages),l.messages=f}else l.messages=this.messages();var h={},d=l.keys||Object.keys(this.rules);d.forEach(function(p){var g=s.rules[p],m=o[p];g.forEach(function(y){var b=y;typeof b.transform=="function"&&(o===n&&(o=yl({},o)),m=o[p]=b.transform(m)),typeof b=="function"?b={validator:b}:b=yl({},b),b.validator=s.getValidationMethod(b),b.validator&&(b.field=p,b.fullField=b.fullField||p,b.type=s.getType(b),h[p]=h[p]||[],h[p].push({rule:b,value:m,source:o,field:p}))})});var v={};return XQ(h,l,function(p,g){var m=p.rule,y=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");y=y&&(m.required||!m.required&&p.value),m.field=p.field;function b(E,w){return yl({},w,{fullField:m.fullField+"."+E,fullFields:m.fullFields?[].concat(m.fullFields,[E]):[E]})}function _(E){E===void 0&&(E=[]);var w=Array.isArray(E)?E:[E];!l.suppressWarning&&w.length&&e.warning("async-validator:",w),w.length&&m.message!==void 0&&(w=[].concat(m.message));var S=w.map(TN(m,o));if(l.first&&S.length)return v[m.field]=1,g(S);if(!y)g(S);else{if(m.required&&!p.value)return m.message!==void 0?S=[].concat(m.message).map(TN(m,o)):l.error&&(S=[l.error(m,Ii(l.messages.required,m.field))]),g(S);var A={};m.defaultField&&Object.keys(p.value).map(function(C){A[C]=m.defaultField}),A=yl({},A,p.rule.fields);var P={};Object.keys(A).forEach(function(C){var L=A[C],I=Array.isArray(L)?L:[L];P[C]=I.map(b.bind(null,C))});var O=new e(P);O.messages(l.messages),p.rule.options&&(p.rule.options.messages=l.messages,p.rule.options.error=l.error),O.validate(p.value,p.rule.options||l,function(C){var L=[];S&&S.length&&L.push.apply(L,S),C&&C.length&&L.push.apply(L,C),g(L.length?L:null)})}}var x;if(m.asyncValidator)x=m.asyncValidator(m,p.value,_,p.source,l);else if(m.validator){try{x=m.validator(m,p.value,_,p.source,l)}catch(E){console.error?.(E),l.suppressValidatorError||setTimeout(function(){throw E},0),_(E.message)}x===!0?_():x===!1?_(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||(m.fullField||m.field)+" fails"):x instanceof Array?_(x):x instanceof Error&&_(x.message)}x&&x.then&&x.then(function(){return _()},function(E){return _(E)})},function(p){c(p)},o)},t.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!ff.hasOwnProperty(n.type))throw new Error(Ii("Unknown rule type %s",n.type));return n.type||"string"},t.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var i=Object.keys(n),a=i.indexOf("message");return a!==-1&&i.splice(a,1),i.length===1&&i[0]==="required"?ff.required:ff[this.getType(n)]||void 0},e}();Qp.register=function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");ff[t]=r};Qp.warning=VQ;Qp.messages=UE;Qp.validators=ff;function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}function bJ(e,t){if(Lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lB(e){var t=bJ(e,"string");return Lo(t)=="symbol"?t:t+""}function Me(e,t,r){return(t=lB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lB(n.key),n)}}function se(e,t,r){return t&&PN(e.prototype,t),r&&PN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function wJ(e){if(Array.isArray(e))return HE(e)}function xJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dk(e,t){if(e){if(typeof e=="string")return HE(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?HE(e,t):void 0}}function EJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function it(e){return wJ(e)||xJ(e)||dk(e)||EJ()}function Gu(e){return Gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gu(e)}function uB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uB=function(){return!!e})()}function _J(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kJ(e,t){if(t&&(Lo(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _J(e)}function Ye(e,t,r){return t=Gu(t),kJ(e,uB()?Reflect.construct(t,r||[],Gu(e).constructor):t.apply(e,r))}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},YE(e,t)}function Xe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function SJ(e){if(Array.isArray(e))return e}function TJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function MJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Je(e,t){return SJ(e)||TJ(e,t)||dk(e,t)||MJ()}var E0={exports:{}},ON;function NJ(){return ON||(ON=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new i(c,f||l,h),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],d]:l._events[v].push(d):(l._events[v]=d,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,v=new Array(d);h<d;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(u){var c=r?r+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,h,d,v){var p=r?r+u:u;if(!this._events[p])return!1;var g=this._events[p],m=arguments.length,y,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,f),!0;case 4:return g.fn.call(g.context,c,f,h),!0;case 5:return g.fn.call(g.context,c,f,h,d),!0;case 6:return g.fn.call(g.context,c,f,h,d,v),!0}for(b=1,y=new Array(m-1);b<m;b++)y[b-1]=arguments[b];g.fn.apply(g.context,y)}else{var _=g.length,x;for(b=0;b<_;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),m){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,c);break;case 3:g[b].fn.call(g[b].context,c,f);break;case 4:g[b].fn.call(g[b].context,c,f,h);break;default:if(!y)for(x=1,y=new Array(m-1);x<m;x++)y[x-1]=arguments[x];g[b].fn.apply(g[b].context,y)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,h){var d=r?r+u:u;if(!this._events[d])return this;if(!c)return s(this,d),this;var v=this._events[d];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&s(this,d);else{for(var p=0,g=[],m=v.length;p<m;p++)(v[p].fn!==c||h&&!v[p].once||f&&v[p].context!==f)&&g.push(v[p]);g.length?this._events[d]=g.length===1?g[0]:g:s(this,d)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(E0)),E0.exports}var AJ=NJ();const Jp=Vp(AJ);var cr=1e-6,Zr=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function vk(){var e=new Zr(9);return Zr!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function cB(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function fB(e,t,r,n,i,a,s,o,l){var u=new Zr(9);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=i,u[5]=a,u[6]=s,u[7]=o,u[8]=l,u}function gt(){var e=new Zr(16);return Zr!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function hB(e){var t=new Zr(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Qs(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function dB(e,t,r,n,i,a,s,o,l,u,c,f,h,d,v,p){var g=new Zr(16);return g[0]=e,g[1]=t,g[2]=r,g[3]=n,g[4]=i,g[5]=a,g[6]=s,g[7]=o,g[8]=l,g[9]=u,g[10]=c,g[11]=f,g[12]=h,g[13]=d,g[14]=v,g[15]=p,g}function Df(e,t,r,n,i,a,s,o,l,u,c,f,h,d,v,p,g){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=a,e[5]=s,e[6]=o,e[7]=l,e[8]=u,e[9]=c,e[10]=f,e[11]=h,e[12]=d,e[13]=v,e[14]=p,e[15]=g,e}function qi(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pk(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],a=t[6],s=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=i,e[13]=s,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function fn(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],l=t[6],u=t[7],c=t[8],f=t[9],h=t[10],d=t[11],v=t[12],p=t[13],g=t[14],m=t[15],y=r*o-n*s,b=r*l-i*s,_=r*u-a*s,x=n*l-i*o,E=n*u-a*o,w=i*u-a*l,S=c*p-f*v,A=c*g-h*v,P=c*m-d*v,O=f*g-h*p,C=f*m-d*p,L=h*m-d*g,I=y*L-b*C+_*O+x*P-E*A+w*S;return I?(I=1/I,e[0]=(o*L-l*C+u*O)*I,e[1]=(i*C-n*L-a*O)*I,e[2]=(p*w-g*E+m*x)*I,e[3]=(h*E-f*w-d*x)*I,e[4]=(l*P-s*L-u*A)*I,e[5]=(r*L-i*P+a*A)*I,e[6]=(g*_-v*w-m*b)*I,e[7]=(c*w-h*_+d*b)*I,e[8]=(s*C-o*P+u*S)*I,e[9]=(n*P-r*C-a*S)*I,e[10]=(v*E-p*_+m*y)*I,e[11]=(f*_-c*E-d*y)*I,e[12]=(o*A-s*O-l*S)*I,e[13]=(r*O-n*A+i*S)*I,e[14]=(p*b-v*x-g*y)*I,e[15]=(c*x-f*b+h*y)*I,e):null}function PJ(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],l=t[6],u=t[7],c=t[8],f=t[9],h=t[10],d=t[11],v=t[12],p=t[13],g=t[14],m=t[15];return e[0]=o*(h*m-d*g)-f*(l*m-u*g)+p*(l*d-u*h),e[1]=-(n*(h*m-d*g)-f*(i*m-a*g)+p*(i*d-a*h)),e[2]=n*(l*m-u*g)-o*(i*m-a*g)+p*(i*u-a*l),e[3]=-(n*(l*d-u*h)-o*(i*d-a*h)+f*(i*u-a*l)),e[4]=-(s*(h*m-d*g)-c*(l*m-u*g)+v*(l*d-u*h)),e[5]=r*(h*m-d*g)-c*(i*m-a*g)+v*(i*d-a*h),e[6]=-(r*(l*m-u*g)-s*(i*m-a*g)+v*(i*u-a*l)),e[7]=r*(l*d-u*h)-s*(i*d-a*h)+c*(i*u-a*l),e[8]=s*(f*m-d*p)-c*(o*m-u*p)+v*(o*d-u*f),e[9]=-(r*(f*m-d*p)-c*(n*m-a*p)+v*(n*d-a*f)),e[10]=r*(o*m-u*p)-s*(n*m-a*p)+v*(n*u-a*o),e[11]=-(r*(o*d-u*f)-s*(n*d-a*f)+c*(n*u-a*o)),e[12]=-(s*(f*g-h*p)-c*(o*g-l*p)+v*(o*h-l*f)),e[13]=r*(f*g-h*p)-c*(n*g-i*p)+v*(n*h-i*f),e[14]=-(r*(o*g-l*p)-s*(n*g-i*p)+v*(n*l-i*o)),e[15]=r*(o*h-l*f)-s*(n*h-i*f)+c*(n*l-i*o),e}function gk(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],s=e[5],o=e[6],l=e[7],u=e[8],c=e[9],f=e[10],h=e[11],d=e[12],v=e[13],p=e[14],g=e[15],m=t*s-r*a,y=t*o-n*a,b=t*l-i*a,_=r*o-n*s,x=r*l-i*s,E=n*l-i*o,w=u*v-c*d,S=u*p-f*d,A=u*g-h*d,P=c*p-f*v,O=c*g-h*v,C=f*g-h*p;return m*C-y*O+b*P+_*A-x*S+E*w}function Nr(e,t,r){var n=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=t[9],d=t[10],v=t[11],p=t[12],g=t[13],m=t[14],y=t[15],b=r[0],_=r[1],x=r[2],E=r[3];return e[0]=b*n+_*o+x*f+E*p,e[1]=b*i+_*l+x*h+E*g,e[2]=b*a+_*u+x*d+E*m,e[3]=b*s+_*c+x*v+E*y,b=r[4],_=r[5],x=r[6],E=r[7],e[4]=b*n+_*o+x*f+E*p,e[5]=b*i+_*l+x*h+E*g,e[6]=b*a+_*u+x*d+E*m,e[7]=b*s+_*c+x*v+E*y,b=r[8],_=r[9],x=r[10],E=r[11],e[8]=b*n+_*o+x*f+E*p,e[9]=b*i+_*l+x*h+E*g,e[10]=b*a+_*u+x*d+E*m,e[11]=b*s+_*c+x*v+E*y,b=r[12],_=r[13],x=r[14],E=r[15],e[12]=b*n+_*o+x*f+E*p,e[13]=b*i+_*l+x*h+E*g,e[14]=b*a+_*u+x*d+E*m,e[15]=b*s+_*c+x*v+E*y,e}function Vs(e,t,r){var n=r[0],i=r[1],a=r[2],s,o,l,u,c,f,h,d,v,p,g,m;return t===e?(e[12]=t[0]*n+t[4]*i+t[8]*a+t[12],e[13]=t[1]*n+t[5]*i+t[9]*a+t[13],e[14]=t[2]*n+t[6]*i+t[10]*a+t[14],e[15]=t[3]*n+t[7]*i+t[11]*a+t[15]):(s=t[0],o=t[1],l=t[2],u=t[3],c=t[4],f=t[5],h=t[6],d=t[7],v=t[8],p=t[9],g=t[10],m=t[11],e[0]=s,e[1]=o,e[2]=l,e[3]=u,e[4]=c,e[5]=f,e[6]=h,e[7]=d,e[8]=v,e[9]=p,e[10]=g,e[11]=m,e[12]=s*n+c*i+v*a+t[12],e[13]=o*n+f*i+p*a+t[13],e[14]=l*n+h*i+g*a+t[14],e[15]=u*n+d*i+m*a+t[15]),e}function vB(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function OJ(e,t,r,n){var i=n[0],a=n[1],s=n[2],o=Math.hypot(i,a,s),l,u,c,f,h,d,v,p,g,m,y,b,_,x,E,w,S,A,P,O,C,L,I,F;return o<cr?null:(o=1/o,i*=o,a*=o,s*=o,l=Math.sin(r),u=Math.cos(r),c=1-u,f=t[0],h=t[1],d=t[2],v=t[3],p=t[4],g=t[5],m=t[6],y=t[7],b=t[8],_=t[9],x=t[10],E=t[11],w=i*i*c+u,S=a*i*c+s*l,A=s*i*c-a*l,P=i*a*c-s*l,O=a*a*c+u,C=s*a*c+i*l,L=i*s*c+a*l,I=a*s*c-i*l,F=s*s*c+u,e[0]=f*w+p*S+b*A,e[1]=h*w+g*S+_*A,e[2]=d*w+m*S+x*A,e[3]=v*w+y*S+E*A,e[4]=f*P+p*O+b*C,e[5]=h*P+g*O+_*C,e[6]=d*P+m*O+x*C,e[7]=v*P+y*O+E*C,e[8]=f*L+p*I+b*F,e[9]=h*L+g*I+_*F,e[10]=d*L+m*I+x*F,e[11]=v*L+y*I+E*F,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function mk(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],s=t[5],o=t[6],l=t[7],u=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*n,e[5]=s*i+c*n,e[6]=o*i+f*n,e[7]=l*i+h*n,e[8]=u*i-a*n,e[9]=c*i-s*n,e[10]=f*i-o*n,e[11]=h*i-l*n,e}function yk(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],s=t[1],o=t[2],l=t[3],u=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*n,e[1]=s*i-c*n,e[2]=o*i-f*n,e[3]=l*i-h*n,e[8]=a*n+u*i,e[9]=s*n+c*i,e[10]=o*n+f*i,e[11]=l*n+h*i,e}function CJ(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],s=t[1],o=t[2],l=t[3],u=t[4],c=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*n,e[1]=s*i+c*n,e[2]=o*i+f*n,e[3]=l*i+h*n,e[4]=u*i-a*n,e[5]=c*i-s*n,e[6]=f*i-o*n,e[7]=h*i-l*n,e}function Qn(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function ea(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bk(e,t,r){var n=r[0],i=r[1],a=r[2],s=Math.hypot(n,i,a),o,l,u;return s<cr?null:(s=1/s,n*=s,i*=s,a*=s,o=Math.sin(t),l=Math.cos(t),u=1-l,e[0]=n*n*u+l,e[1]=i*n*u+a*o,e[2]=a*n*u-i*o,e[3]=0,e[4]=n*i*u-a*o,e[5]=i*i*u+l,e[6]=a*i*u+n*o,e[7]=0,e[8]=n*a*u+i*o,e[9]=i*a*u-n*o,e[10]=a*a*u+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function wk(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function xk(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ff(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pB(e,t,r){var n=t[0],i=t[1],a=t[2],s=t[3],o=n+n,l=i+i,u=a+a,c=n*o,f=n*l,h=n*u,d=i*l,v=i*u,p=a*u,g=s*o,m=s*l,y=s*u;return e[0]=1-(d+p),e[1]=f+y,e[2]=h-m,e[3]=0,e[4]=f-y,e[5]=1-(c+p),e[6]=v+g,e[7]=0,e[8]=h+m,e[9]=v-g,e[10]=1-(c+d),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function RJ(e,t){var r=new Zr(3),n=-t[0],i=-t[1],a=-t[2],s=t[3],o=t[4],l=t[5],u=t[6],c=t[7],f=n*n+i*i+a*a+s*s;return f>0?(r[0]=(o*s+c*n+l*a-u*i)*2/f,r[1]=(l*s+c*i+u*n-o*a)*2/f,r[2]=(u*s+c*a+o*i-l*n)*2/f):(r[0]=(o*s+c*n+l*a-u*i)*2,r[1]=(l*s+c*i+u*n-o*a)*2,r[2]=(u*s+c*a+o*i-l*n)*2),pB(e,t,r),e}function Il(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function ps(e,t){var r=t[0],n=t[1],i=t[2],a=t[4],s=t[5],o=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.hypot(r,n,i),e[1]=Math.hypot(a,s,o),e[2]=Math.hypot(l,u,c),e}function Dl(e,t){var r=new Zr(3);ps(r,t);var n=1/r[0],i=1/r[1],a=1/r[2],s=t[0]*n,o=t[1]*i,l=t[2]*a,u=t[4]*n,c=t[5]*i,f=t[6]*a,h=t[8]*n,d=t[9]*i,v=t[10]*a,p=s+c+v,g=0;return p>0?(g=Math.sqrt(p+1)*2,e[3]=.25*g,e[0]=(f-d)/g,e[1]=(h-l)/g,e[2]=(o-u)/g):s>c&&s>v?(g=Math.sqrt(1+s-c-v)*2,e[3]=(f-d)/g,e[0]=.25*g,e[1]=(o+u)/g,e[2]=(h+l)/g):c>v?(g=Math.sqrt(1+c-s-v)*2,e[3]=(h-l)/g,e[0]=(o+u)/g,e[1]=.25*g,e[2]=(f+d)/g):(g=Math.sqrt(1+v-s-c)*2,e[3]=(o-u)/g,e[0]=(h+l)/g,e[1]=(f+d)/g,e[2]=.25*g),e}function LJ(e,t,r,n){var i=t[0],a=t[1],s=t[2],o=t[3],l=i+i,u=a+a,c=s+s,f=i*l,h=i*u,d=i*c,v=a*u,p=a*c,g=s*c,m=o*l,y=o*u,b=o*c,_=n[0],x=n[1],E=n[2];return e[0]=(1-(v+g))*_,e[1]=(h+b)*_,e[2]=(d-y)*_,e[3]=0,e[4]=(h-b)*x,e[5]=(1-(f+g))*x,e[6]=(p+m)*x,e[7]=0,e[8]=(d+y)*E,e[9]=(p-m)*E,e[10]=(1-(f+v))*E,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Us(e,t,r,n,i){var a=t[0],s=t[1],o=t[2],l=t[3],u=a+a,c=s+s,f=o+o,h=a*u,d=a*c,v=a*f,p=s*c,g=s*f,m=o*f,y=l*u,b=l*c,_=l*f,x=n[0],E=n[1],w=n[2],S=i[0],A=i[1],P=i[2],O=(1-(p+m))*x,C=(d+_)*x,L=(v-b)*x,I=(d-_)*E,F=(1-(h+m))*E,U=(g+y)*E,G=(v+b)*w,z=(g-y)*w,Z=(1-(h+p))*w;return e[0]=O,e[1]=C,e[2]=L,e[3]=0,e[4]=I,e[5]=F,e[6]=U,e[7]=0,e[8]=G,e[9]=z,e[10]=Z,e[11]=0,e[12]=r[0]+S-(O*S+I*A+G*P),e[13]=r[1]+A-(C*S+F*A+z*P),e[14]=r[2]+P-(L*S+U*A+Z*P),e[15]=1,e}function eg(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=r+r,o=n+n,l=i+i,u=r*s,c=n*s,f=n*o,h=i*s,d=i*o,v=i*l,p=a*s,g=a*o,m=a*l;return e[0]=1-f-v,e[1]=c+m,e[2]=h-g,e[3]=0,e[4]=c-m,e[5]=1-u-v,e[6]=d+p,e[7]=0,e[8]=h+g,e[9]=d-p,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function IJ(e,t,r,n,i,a,s){var o=1/(r-t),l=1/(i-n),u=1/(a-s);return e[0]=a*2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a*2*l,e[6]=0,e[7]=0,e[8]=(r+t)*o,e[9]=(i+n)*l,e[10]=(s+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*a*2*u,e[15]=0,e}function gB(e,t,r,n,i){var a=1/Math.tan(t/2),s;return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(s=1/(n-i),e[10]=(i+n)*s,e[14]=2*i*n*s):(e[10]=-1,e[14]=-2*n),e}var DJ=gB;function FJ(e,t,r,n,i){var a=1/Math.tan(t/2),s;return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(s=1/(n-i),e[10]=i*s,e[14]=i*n*s):(e[10]=-1,e[14]=-n),e}function $J(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),l=2/(s+o),u=2/(i+a);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-((s-o)*l*.5),e[9]=(i-a)*u*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function mB(e,t,r,n,i,a,s){var o=1/(t-r),l=1/(n-i),u=1/(a-s);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*o,e[13]=(i+n)*l,e[14]=(s+a)*u,e[15]=1,e}var Ek=mB;function _k(e,t,r,n,i,a,s){var o=1/(t-r),l=1/(n-i),u=1/(a-s);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=u,e[11]=0,e[12]=(t+r)*o,e[13]=(i+n)*l,e[14]=a*u,e[15]=1,e}function kk(e,t,r,n){var i,a,s,o,l,u,c,f,h,d,v=t[0],p=t[1],g=t[2],m=n[0],y=n[1],b=n[2],_=r[0],x=r[1],E=r[2];return Math.abs(v-_)<cr&&Math.abs(p-x)<cr&&Math.abs(g-E)<cr?qi(e):(c=v-_,f=p-x,h=g-E,d=1/Math.hypot(c,f,h),c*=d,f*=d,h*=d,i=y*h-b*f,a=b*c-m*h,s=m*f-y*c,d=Math.hypot(i,a,s),d?(d=1/d,i*=d,a*=d,s*=d):(i=0,a=0,s=0),o=f*s-h*a,l=h*i-c*s,u=c*a-f*i,d=Math.hypot(o,l,u),d?(d=1/d,o*=d,l*=d,u*=d):(o=0,l=0,u=0),e[0]=i,e[1]=o,e[2]=c,e[3]=0,e[4]=a,e[5]=l,e[6]=f,e[7]=0,e[8]=s,e[9]=u,e[10]=h,e[11]=0,e[12]=-(i*v+a*p+s*g),e[13]=-(o*v+l*p+u*g),e[14]=-(c*v+f*p+h*g),e[15]=1,e)}function BJ(e,t,r,n){var i=t[0],a=t[1],s=t[2],o=n[0],l=n[1],u=n[2],c=i-r[0],f=a-r[1],h=s-r[2],d=c*c+f*f+h*h;d>0&&(d=1/Math.sqrt(d),c*=d,f*=d,h*=d);var v=l*h-u*f,p=u*c-o*h,g=o*f-l*c;return d=v*v+p*p+g*g,d>0&&(d=1/Math.sqrt(d),v*=d,p*=d,g*=d),e[0]=v,e[1]=p,e[2]=g,e[3]=0,e[4]=f*g-h*p,e[5]=h*v-c*g,e[6]=c*p-f*v,e[7]=0,e[8]=c,e[9]=f,e[10]=h,e[11]=0,e[12]=i,e[13]=a,e[14]=s,e[15]=1,e}function zJ(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function GJ(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function qJ(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function yB(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function jJ(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function WJ(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function XE(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function VJ(e,t){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],v=e[12],p=e[13],g=e[14],m=e[15],y=t[0],b=t[1],_=t[2],x=t[3],E=t[4],w=t[5],S=t[6],A=t[7],P=t[8],O=t[9],C=t[10],L=t[11],I=t[12],F=t[13],U=t[14],G=t[15];return Math.abs(r-y)<=cr*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(n-b)<=cr*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-_)<=cr*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(a-x)<=cr*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-E)<=cr*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(o-w)<=cr*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(l-S)<=cr*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(u-A)<=cr*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(c-P)<=cr*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(f-O)<=cr*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(h-C)<=cr*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(d-L)<=cr*Math.max(1,Math.abs(d),Math.abs(L))&&Math.abs(v-I)<=cr*Math.max(1,Math.abs(v),Math.abs(I))&&Math.abs(p-F)<=cr*Math.max(1,Math.abs(p),Math.abs(F))&&Math.abs(g-U)<=cr*Math.max(1,Math.abs(g),Math.abs(U))&&Math.abs(m-G)<=cr*Math.max(1,Math.abs(m),Math.abs(G))}var Sk=Nr,UJ=yB;const bB=Object.freeze(Object.defineProperty({__proto__:null,add:qJ,adjoint:PJ,clone:hB,copy:Qs,create:gt,determinant:gk,equals:VJ,exactEquals:XE,frob:GJ,fromQuat:eg,fromQuat2:RJ,fromRotation:bk,fromRotationTranslation:pB,fromRotationTranslationScale:LJ,fromRotationTranslationScaleOrigin:Us,fromScaling:ea,fromTranslation:Qn,fromValues:dB,fromXRotation:wk,fromYRotation:xk,fromZRotation:Ff,frustum:IJ,getRotation:Dl,getScaling:ps,getTranslation:Il,identity:qi,invert:fn,lookAt:kk,mul:Sk,multiply:Nr,multiplyScalar:jJ,multiplyScalarAndAdd:WJ,ortho:Ek,orthoNO:mB,orthoZO:_k,perspective:DJ,perspectiveFromFieldOfView:$J,perspectiveNO:gB,perspectiveZO:FJ,rotate:OJ,rotateX:mk,rotateY:yk,rotateZ:CJ,scale:vB,set:Df,str:zJ,sub:UJ,subtract:yB,targetTo:BJ,translate:Vs,transpose:pk},Symbol.toStringTag,{value:"Module"}));function at(){var e=new Zr(3);return Zr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function ns(e){var t=new Zr(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function En(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function ft(e,t,r){var n=new Zr(3);return n[0]=e,n[1]=t,n[2]=r,n}function Xr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Jt(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function Fi(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function $f(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function wB(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function xB(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function EB(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function qu(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function HJ(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.hypot(r,n,i)}function $i(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function kn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function hf(e,t,r){var n=t[0],i=t[1],a=t[2],s=r[0],o=r[1],l=r[2];return e[0]=i*l-a*o,e[1]=a*s-n*l,e[2]=n*o-i*s,e}function Fv(e,t,r,n){var i=t[0],a=t[1],s=t[2];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=s+n*(r[2]-s),e}function zr(e,t,r){var n=t[0],i=t[1],a=t[2],s=r[3]*n+r[7]*i+r[11]*a+r[15];return s=s||1,e[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/s,e[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/s,e[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/s,e}function _B(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=n*r[0]+i*r[3]+a*r[6],e[1]=n*r[1]+i*r[4]+a*r[7],e[2]=n*r[2]+i*r[5]+a*r[8],e}function kB(e,t,r){var n=r[0],i=r[1],a=r[2],s=r[3],o=t[0],l=t[1],u=t[2],c=i*u-a*l,f=a*o-n*u,h=n*l-i*o,d=i*h-a*f,v=a*c-n*h,p=n*f-i*c,g=s*2;return c*=g,f*=g,h*=g,d*=2,v*=2,p*=2,e[0]=o+c+d,e[1]=l+f+v,e[2]=u+h+p,e}function as(e,t){var r=e[0],n=e[1],i=e[2],a=t[0],s=t[1],o=t[2];return Math.abs(r-a)<=cr*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=cr*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-o)<=cr*Math.max(1,Math.abs(i),Math.abs(o))}var SB=$f,CN=HJ,Tk=En;(function(){var e=at();return function(t,r,n,i,a,s){var o,l;for(r||(r=3),n||(n=0),i?l=Math.min(i*r+n,t.length):l=t.length,o=n;o<l;o+=r)e[0]=t[o],e[1]=t[o+1],e[2]=t[o+2],a(e,e,s),t[o]=e[0],t[o+1]=e[1],t[o+2]=e[2];return t}})();function an(){var e=new Zr(4);return Zr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Gs(e,t,r,n){var i=new Zr(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function YJ(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function XJ(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function KJ(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=r*r+n*n+i*i+a*a;return s>0&&(s=1/Math.sqrt(s)),e[0]=r*s,e[1]=n*s,e[2]=i*s,e[3]=a*s,e}function hn(e,t,r){var n=t[0],i=t[1],a=t[2],s=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*s,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*s,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*s,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*s,e}(function(){var e=an();return function(t,r,n,i,a,s){var o,l;for(r||(r=4),n||(n=0),i?l=Math.min(i*r+n,t.length):l=t.length,o=n;o<l;o+=r)e[0]=t[o],e[1]=t[o+1],e[2]=t[o+2],e[3]=t[o+3],a(e,e,s),t[o]=e[0],t[o+1]=e[1],t[o+2]=e[2],t[o+3]=e[3];return t}})();function $t(){var e=new Zr(4);return Zr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function ta(e,t,r){r=r*.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function Bi(e,t,r){var n=t[0],i=t[1],a=t[2],s=t[3],o=r[0],l=r[1],u=r[2],c=r[3];return e[0]=n*c+s*o+i*u-a*l,e[1]=i*c+s*l+a*o-n*u,e[2]=a*c+s*u+n*l-i*o,e[3]=s*c-n*o-i*l-a*u,e}function _0(e,t,r,n){var i=t[0],a=t[1],s=t[2],o=t[3],l=r[0],u=r[1],c=r[2],f=r[3],h,d,v,p,g;return d=i*l+a*u+s*c+o*f,d<0&&(d=-d,l=-l,u=-u,c=-c,f=-f),1-d>cr?(h=Math.acos(d),v=Math.sin(h),p=Math.sin((1-n)*h)/v,g=Math.sin(n*h)/v):(p=1-n,g=n),e[0]=p*i+g*l,e[1]=p*a+g*u,e[2]=p*s+g*c,e[3]=p*o+g*f,e}function xu(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=r*r+n*n+i*i+a*a,o=s?1/s:0;return e[0]=-r*o,e[1]=-n*o,e[2]=-i*o,e[3]=a*o,e}function ZJ(e,t){var r=t[0]+t[4]+t[8],n;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var a=(i+1)%3,s=(i+2)%3;n=Math.sqrt(t[i*3+i]-t[a*3+a]-t[s*3+s]+1),e[i]=.5*n,n=.5/n,e[3]=(t[a*3+s]-t[s*3+a])*n,e[a]=(t[a*3+i]+t[i*3+a])*n,e[s]=(t[s*3+i]+t[i*3+s])*n}return e}function Eo(e,t,r,n){var i=.5*Math.PI/180;t*=i,r*=i,n*=i;var a=Math.sin(t),s=Math.cos(t),o=Math.sin(r),l=Math.cos(r),u=Math.sin(n),c=Math.cos(n);return e[0]=a*l*c-s*o*u,e[1]=s*o*c+a*l*u,e[2]=s*l*u-a*o*c,e[3]=s*l*c+a*o*u,e}var TB=Gs,_o=YJ,$v=XJ,Bv=Bi,ju=KJ;(function(){var e=at(),t=ft(1,0,0),r=ft(0,1,0);return function(n,i,a){var s=kn(i,a);return s<-.999999?(hf(e,t,i),Tk(e)<1e-6&&hf(e,r,i),$i(e,e),ta(n,e,Math.PI),n):s>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(hf(e,i,a),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+s,ju(n,n))}})();(function(){var e=$t(),t=$t();return function(r,n,i,a,s,o){return _0(e,n,s,o),_0(t,i,a,o),_0(r,e,t,2*o*(1-o)),r}})();(function(){var e=vk();return function(t,r,n,i){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],ju(t,ZJ(t,e))}})();function uh(){var e=new Zr(2);return Zr!=Float32Array&&(e[0]=0,e[1]=0),e}function MB(e,t){return e[0]=t[0],e[1]=t[1],e}function NB(e,t,r){return e[0]=t,e[1]=r,e}function QJ(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function JJ(e,t){return e[0]*t[0]+e[1]*t[1]}function eee(e,t){return e[0]===t[0]&&e[1]===t[1]}(function(){var e=uh();return function(t,r,n,i,a,s){var o,l;for(r||(r=2),n||(n=0),i?l=Math.min(i*r+n,t.length):l=t.length,o=n;o<l;o+=r)e[0]=t[o],e[1]=t[o+1],a(e,e,s),t[o]=e[0],t[o+1]=e[1];return t}})();var Bf=function(e){return e!==null&&typeof e!="function"&&isFinite(e.length)},tee=function(e,t){return Bf(e)?e.indexOf(t)>-1:!1},ree=function(e,t){if(!Bf(e))return e;for(var r=[],n=0;n<e.length;n++){var i=e[n];t(i,n)&&r.push(i)}return r},gxe=function(e,t){return t===void 0&&(t=[]),ree(e,function(r){return!tee(t,r)})};function Gt(e){return typeof e=="function"}function Ze(e){return e==null}function xi(e){return Array.isArray(e)}const gs=function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"};function AB(e,t){if(e){var r;if(xi(e))for(var n=0,i=e.length;n<i&&(r=t(e[n],n),r!==!1);n++);else if(gs(e)){for(var a in e)if(e.hasOwnProperty(a)&&(r=t(e[a],a),r===!1))break}}}var KE=function(e){return typeof e=="object"&&e!==null},nee={}.toString,PB=function(e,t){return nee.call(e)==="[object "+t+"]"},Wu=function(e){if(!KE(e)||!PB(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},iee=function(e){if(!xi(e))return[];for(var t=[],r=0;r<e.length;r++)t=t.concat(e[r]);return t};function Vu(e){if(!Array.isArray(e))return-1/0;var t=e.length;if(!t)return-1/0;for(var r=e[0],n=1;n<t;n++)r=Math.max(r,e[n]);return r}const Uu=function(e){if(xi(e))return e.reduce(function(t,r){return Math.min(t,r)},e[0])};var aee=function(e,t,r){if(!xi(e)&&!Wu(e))return e;var n=r;return AB(e,function(i,a){n=t(n,i,a)}),n};function At(e){return typeof e=="string"}function mxe(e,t){t===void 0&&(t=new Map);var r=[];if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var a=e[n];t.has(a)||(r.push(a),t.set(a,!0))}return r}var see=Object.prototype.hasOwnProperty;function yxe(e,t){if(!t||!xi(e))return{};for(var r={},n=Gt(t)?t:function(o){return o[t]},i,a=0;a<e.length;a++){var s=e[a];i=n(s),see.call(r,i)?r[i].push(s):r[i]=[s]}return r}var dr=function(e,t,r){return e<t?t:e>r?r:e};function rt(e){return typeof e=="number"}var oee=1e-5;function Eu(e,t,r){return r===void 0&&(r=oee),e===t||Math.abs(e-t)<r}const lee=function(e,t){if(xi(e)){for(var r,n=-1/0,i=0;i<e.length;i++){var a=e[i],s=Gt(t)?t(a):a[t];s>n&&(r=a,n=s)}return r}},uee=function(e,t){if(xi(e)){for(var r,n=1/0,i=0;i<e.length;i++){var a=e[i],s=Gt(t)?t(a):a[t];s<n&&(r=a,n=s)}return r}};var tg=function(e,t){return(e%t+t)%t};const OB=function(e){return Ze(e)?"":e.toString()};var bxe=function(e){var t=OB(e);return t.charAt(0).toLowerCase()+t.substring(1)};function cee(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(r,n){return r.charAt(0)==="\\"?r.slice(1):t[n]===void 0?"":t[n]})}var wxe=function(e){var t=OB(e);return t.charAt(0).toUpperCase()+t.substring(1)},fee={}.toString,hee=function(e){return fee.call(e).replace(/^\[object /,"").replace(/]$/,"")},zv=function(e){return PB(e,"Boolean")};function xxe(e){return e instanceof Date}function dee(e){return e===null}var vee=Object.prototype,pee=function(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||vee;return e===r},ct=function(e){return e===void 0};function gee(e){return e instanceof Element||e instanceof Document}function RN(e,t){for(var r in t)t.hasOwnProperty(r)&&r!=="constructor"&&t[r]!==void 0&&(e[r]=t[r])}function mee(e,t,r,n){return t&&RN(e,t),r&&RN(e,r),e}var Fl=function(e){if(typeof e!="object"||e===null)return e;var t;if(xi(e)){t=[];for(var r=0,n=e.length;r<n;r++)typeof e[r]=="object"&&e[r]!=null?t[r]=Fl(e[r]):t[r]=e[r]}else{t={};for(var i in e)typeof e[i]=="object"&&e[i]!=null?t[i]=Fl(e[i]):t[i]=e[i]}return t};function yee(e,t,r){var n;return function(){var i=this,a=arguments,s=function(){n=null,e.apply(i,a)};clearTimeout(n),n=setTimeout(s,t)}}function bee(e){var t,r,n,i=e||1;function a(o,l){++t>i&&(n=r,s(1),++t),r[o]=l}function s(o){t=0,r=Object.create(null),o||(n=Object.create(null))}return s(),{clear:s,has:function(o){return r[o]!==void 0||n[o]!==void 0},get:function(o){var l=r[o];if(l!==void 0)return l;if((l=n[o])!==void 0)return a(o,l),l},set:function(o,l){r[o]!==void 0?r[o]=l:a(o,l)}}}var k0=new Map;function wee(e,t,r){r===void 0&&(r=128);var n=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=t?t.apply(this,i):i[0];k0.has(e)||k0.set(e,bee(r));var o=k0.get(e);if(o.has(s))return o.get(s);var l=e.apply(this,i);return o.set(s,l),l};return n}var xee=5;function Eee(e,t){if(Object.hasOwn)return Object.hasOwn(e,t);if(e==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)}function CB(e,t,r,n){r=r||0,n=n||xee;for(var i in t)if(Eee(t,i)){var a=t[i];a!==null&&Wu(a)?(Wu(e[i])||(e[i]={}),r<n?CB(e[i],a,r+1,n):e[i]=t[i]):xi(a)?(e[i]=[],e[i]=e[i].concat(a)):a!==void 0&&(e[i]=a)}}var ms=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n+=1)CB(e,t[n]);return e},_ee=Object.prototype.hasOwnProperty;function Exe(e){if(Ze(e))return!0;if(Bf(e))return!e.length;var t=hee(e);if(t==="Map"||t==="Set")return!e.size;if(pee(e))return!Object.keys(e).length;for(var r in e)if(_ee.call(e,r))return!1;return!0}var ZE=function(e,t){if(e===t)return!0;if(!e||!t||At(e)||At(t))return!1;if(Bf(e)||Bf(t)){if(e.length!==t.length)return!1;for(var r=!0,n=0;n<e.length&&(r=ZE(e[n],t[n]),!!r);n++);return r}if(KE(e)||KE(t)){var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var r=!0,n=0;n<i.length&&(r=ZE(e[i[n]],t[i[n]]),!!r);n++);return r}return!1};const Gv=function(e,t,r){for(var n=0,i=At(t)?t.split("."):t;e&&n<i.length;)e=e[i[n++]];return e===void 0||n<i.length?r:e},kee=function(e,t,r){var n=e,i=At(t)?t.split("."):t;return i.forEach(function(a,s){s<i.length-1?(gs(n[a])||(n[a]=rt(i[s+1])?[]:{}),n=n[a]):n[a]=r}),e};var See=Object.prototype.hasOwnProperty;const LN=function(e,t){if(e===null||!Wu(e))return{};var r={};return AB(t,function(n){See.call(e,n)&&(r[n]=e[n])}),r},Tee=function(e,t){return aee(e,function(r,n,i){return t.includes(i)||(r[i]=n),r},{})},_xe=function(e,t,r){var n,i,a,s,o=0;r||(r={});var l=function(){o=r.leading===!1?0:Date.now(),n=null,s=e.apply(i,a),n||(i=a=null)},u=function(){var c=Date.now();!o&&r.leading===!1&&(o=c);var f=t-(c-o);return i=this,a=arguments,f<=0||f>t?(n&&(clearTimeout(n),n=null),o=c,s=e.apply(i,a),n||(i=a=null)):!n&&r.trailing!==!1&&(n=setTimeout(l,f)),s};return u.cancel=function(){clearTimeout(n),o=0,n=i=a=null},u};var Hh={};const kxe=function(e){return e=e||"g",Hh[e]?Hh[e]+=1:Hh[e]=1,e+Hh[e]},S0=function(){},QE=function(e){return e};var JE=function(e,t){return JE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},JE(e,t)};function Et(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");JE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ke=function(){return ke=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ke.apply(this,arguments)};function xr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function _t(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}function ch(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function Mee(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function et(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function T0(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var RB={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function Nee(e,t,r){if(e[r].length>7){e[r].shift();for(var n=e[r],i=r;n.length;)t[r]="A",e.splice(i+=1,0,["C"].concat(n.splice(0,6)));e.splice(r,1)}}var df={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function LB(e){return Array.isArray(e)&&e.every(function(t){var r=t[0].toLowerCase();return df[r]===t.length-1&&"achlmqstvz".includes(r)})}function IB(e){return LB(e)&&e.every(function(t){var r=t[0];return r===r.toUpperCase()})}function DB(e){return IB(e)&&e.every(function(t){var r=t[0];return"ACLMQZ".includes(r)})}function IN(e){for(var t=e.pathValue[e.segmentStart],r=t.toLowerCase(),n=e.data;n.length>=df[r]&&(r==="m"&&n.length>2?(e.segments.push([t].concat(n.splice(0,2))),r="l",t=t==="m"?"l":"L"):e.segments.push([t].concat(n.splice(0,df[r]))),!!df[r]););}function Aee(e){var t=e.index,r=e.pathValue,n=r.charCodeAt(t);if(n===48){e.param=0,e.index+=1;return}if(n===49){e.param=1,e.index+=1;return}e.err='[path-util]: invalid Arc flag "'.concat(r[t],'", expecting 0 or 1 at index ').concat(t)}function Pee(e){return e>=48&&e<=57||e===43||e===45||e===46}function nu(e){return e>=48&&e<=57}function Oee(e){var t=e.max,r=e.pathValue,n=e.index,i=n,a=!1,s=!1,o=!1,l=!1,u;if(i>=t){e.err="[path-util]: Invalid path value at index ".concat(i,', "pathValue" is missing param');return}if(u=r.charCodeAt(i),(u===43||u===45)&&(i+=1,u=r.charCodeAt(i)),!nu(u)&&u!==46){e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(r[i],'" is not a number');return}if(u!==46){if(a=u===48,i+=1,u=r.charCodeAt(i),a&&i<t&&u&&nu(u)){e.err="[path-util]: Invalid path value at index ".concat(n,', "').concat(r[n],'" illegal number');return}for(;i<t&&nu(r.charCodeAt(i));)i+=1,s=!0;u=r.charCodeAt(i)}if(u===46){for(l=!0,i+=1;nu(r.charCodeAt(i));)i+=1,o=!0;u=r.charCodeAt(i)}if(u===101||u===69){if(l&&!s&&!o){e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(r[i],'" invalid float exponent');return}if(i+=1,u=r.charCodeAt(i),(u===43||u===45)&&(i+=1),i<t&&nu(r.charCodeAt(i)))for(;i<t&&nu(r.charCodeAt(i));)i+=1;else{e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(r[i],'" invalid integer exponent');return}}e.index=i,e.param=+e.pathValue.slice(n,i)}function Cee(e){var t=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&t.includes(e)}function nv(e){for(var t=e.pathValue,r=e.max;e.index<r&&Cee(t.charCodeAt(e.index));)e.index+=1}function Ree(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function Lee(e){return(e|32)===97}function Iee(e){var t=e.max,r=e.pathValue,n=e.index,i=r.charCodeAt(n),a=df[r[n].toLowerCase()];if(e.segmentStart=n,!Ree(i)){e.err='[path-util]: Invalid path value "'.concat(r[n],'" is not a path command');return}if(e.index+=1,nv(e),e.data=[],!a){IN(e);return}for(;;){for(var s=a;s>0;s-=1){if(Lee(i)&&(s===3||s===4)?Aee(e):Oee(e),e.err.length)return;e.data.push(e.param),nv(e),e.index<t&&r.charCodeAt(e.index)===44&&(e.index+=1,nv(e))}if(e.index>=e.max||!Pee(r.charCodeAt(e.index)))break}IN(e)}var Dee=function(){function e(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return e}();function Fee(e){if(LB(e))return[].concat(e);var t=new Dee(e);for(nv(t);t.index<t.max&&!t.err.length;)Iee(t);return t.err?t.err:t.segments}function $ee(e){if(IB(e))return[].concat(e);var t=Fee(e),r=0,n=0,i=0,a=0;return t.map(function(s){var o=s.slice(1).map(Number),l=s[0],u=l.toUpperCase();if(l==="M")return r=o[0],n=o[1],i=r,a=n,["M",r,n];var c;if(l!==u)switch(u){case"A":c=[u,o[0],o[1],o[2],o[3],o[4],o[5]+r,o[6]+n];break;case"V":c=[u,o[0]+n];break;case"H":c=[u,o[0]+r];break;default:{var f=o.map(function(d,v){return d+(v%2?n:r)});c=[u].concat(f)}}else c=[u].concat(o);var h=c.length;switch(u){case"Z":r=i,n=a;break;case"H":r=c[1];break;case"V":n=c[1];break;default:r=c[h-2],n=c[h-1],u==="M"&&(i=r,a=n)}return c})}function Bee(e,t){var r=e[0],n=t.x1,i=t.y1,a=t.x2,s=t.y2,o=e.slice(1).map(Number),l=e;if("TQ".includes(r)||(t.qx=null,t.qy=null),r==="H")l=["L",e[1],i];else if(r==="V")l=["L",n,e[1]];else if(r==="S"){var u=n*2-a,c=i*2-s;t.x1=u,t.y1=c,l=["C",u,c].concat(o)}else if(r==="T"){var f=n*2-t.qx,h=i*2-t.qy;t.qx=f,t.qy=h,l=["Q",f,h].concat(o)}else if(r==="Q"){var d=o[0],v=o[1];t.qx=d,t.qy=v}return l}function Hu(e){if(DB(e))return[].concat(e);for(var t=$ee(e),r=ke({},RB),n=0;n<t.length;n+=1){t[n]=Bee(t[n],r);var i=t[n],a=i.length;r.x1=+i[a-2],r.y1=+i[a-1],r.x2=+i[a-4]||r.x1,r.y2=+i[a-3]||r.y1}return t}function zee(e){return DB(e)&&e.every(function(t){var r=t[0];return"MC".includes(r)})}function Yh(e,t,r){var n=e*Math.cos(r)-t*Math.sin(r),i=e*Math.sin(r)+t*Math.cos(r);return{x:n,y:i}}function Mk(e,t,r,n,i,a,s,o,l,u){var c=e,f=t,h=r,d=n,v=o,p=l,g=Math.PI*120/180,m=Math.PI/180*(+i||0),y=[],b,_,x,E,w;if(u)_=u[0],x=u[1],E=u[2],w=u[3];else{b=Yh(c,f,-m),c=b.x,f=b.y,b=Yh(v,p,-m),v=b.x,p=b.y;var S=(c-v)/2,A=(f-p)/2,P=S*S/(h*h)+A*A/(d*d);P>1&&(P=Math.sqrt(P),h*=P,d*=P);var O=h*h,C=d*d,L=(a===s?-1:1)*Math.sqrt(Math.abs((O*C-O*A*A-C*S*S)/(O*A*A+C*S*S)));E=L*h*A/d+(c+v)/2,w=L*-d*S/h+(f+p)/2,_=Math.asin(((f-w)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),x=Math.asin(((p-w)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),_=c<E?Math.PI-_:_,x=v<E?Math.PI-x:x,_<0&&(_=Math.PI*2+_),x<0&&(x=Math.PI*2+x),s&&_>x&&(_-=Math.PI*2),!s&&x>_&&(x-=Math.PI*2)}var I=x-_;if(Math.abs(I)>g){var F=x,U=v,G=p;x=_+g*(s&&x>_?1:-1),v=E+h*Math.cos(x),p=w+d*Math.sin(x),y=Mk(v,p,h,d,i,0,s,U,G,[x,F,E,w])}I=x-_;var z=Math.cos(_),Z=Math.sin(_),ge=Math.cos(x),xe=Math.sin(x),ve=Math.tan(I/4),je=4/3*h*ve,te=4/3*d*ve,Y=[c,f],fe=[c+je*Z,f-te*z],Q=[v+je*xe,p-te*ge],oe=[v,p];if(fe[0]=2*Y[0]-fe[0],fe[1]=2*Y[1]-fe[1],u)return fe.concat(Q,oe,y);y=fe.concat(Q,oe,y);for(var ye=[],we=0,Ae=y.length;we<Ae;we+=1)ye[we]=we%2?Yh(y[we-1],y[we],m).y:Yh(y[we],y[we+1],m).x;return ye}function Gee(e,t,r,n,i,a){var s=.3333333333333333,o=2/3;return[s*e+o*r,s*t+o*n,s*i+o*r,s*a+o*n,i,a]}function mo(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return[n+(a-n)*r,i+(s-i)*r]}var DN=function(e,t,r,n){var i=.5,a=mo([e,t],[r,n],i);return et(et([],a,!0),[r,n,r,n],!1)};function qee(e,t){var r=e[0],n=e.slice(1).map(Number),i=n[0],a=n[1],s,o=t.x1,l=t.y1,u=t.x,c=t.y;switch("TQ".includes(r)||(t.qx=null,t.qy=null),r){case"M":return t.x=i,t.y=a,e;case"A":return s=[o,l].concat(n),["C"].concat(Mk(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9]));case"Q":return t.qx=i,t.qy=a,s=[o,l].concat(n),["C"].concat(Gee(s[0],s[1],s[2],s[3],s[4],s[5]));case"L":return["C"].concat(DN(o,l,i,a));case"Z":return o===u&&l===c?["C",o,l,u,c,u,c]:["C"].concat(DN(o,l,u,c))}return e}function zf(e,t){if(t===void 0&&(t=!1),zee(e)){var r=[].concat(e);return t?[r,[]]:r}for(var n=Hu(e),i=ke({},RB),a=[],s="",o=n.length,l,u,c=[],f=0;f<o;f+=1){n[f]&&(s=n[f][0]),a[f]=s;var h=qee(n[f],i);n[f]=h,Nee(n,a,f),o=n.length,s==="Z"&&c.push(f),l=n[f],u=l.length,i.x1=+l[u-2],i.y1=+l[u-1],i.x2=+l[u-4]||i.x1,i.y2=+l[u-3]||i.y1}return t?[n,c]:n}function FB(e){return e.map(function(t){return Array.isArray(t)?[].concat(t):t})}function $B(e){var t=e.slice(1).map(function(r,n,i){return n?i[n-1].slice(-2).concat(r.slice(1)):e[0].slice(1).concat(r.slice(1))}).map(function(r){return r.map(function(n,i){return r[r.length-i-2*(1-i%2)]})}).reverse();return[["M"].concat(t[0].slice(0,2))].concat(t.map(function(r){return["C"].concat(r.slice(2))}))}function si(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function e2(e,t,r,n,i){var a=si([e,t],[r,n]),s={x:0,y:0};if(typeof i=="number")if(i<=0)s={x:e,y:t};else if(i>=a)s={x:r,y:n};else{var o=mo([e,t],[r,n],i/a),l=o[0],u=o[1];s={x:l,y:u}}return{length:a,point:s,min:{x:Math.min(e,r),y:Math.min(t,n)},max:{x:Math.max(e,r),y:Math.max(t,n)}}}function FN(e,t){var r=e.x,n=e.y,i=t.x,a=t.y,s=r*i+n*a,o=Math.sqrt((Math.pow(r,2)+Math.pow(n,2))*(Math.pow(i,2)+Math.pow(a,2))),l=r*a-n*i<0?-1:1,u=l*Math.acos(s/o);return u}function jee(e,t,r,n,i,a,s,o,l,u){var c=Math.abs,f=Math.sin,h=Math.cos,d=Math.sqrt,v=Math.PI,p=c(r),g=c(n),m=(i%360+360)%360,y=m*(v/180);if(e===o&&t===l)return{x:e,y:t};if(p===0||g===0)return e2(e,t,o,l,u).point;var b=(e-o)/2,_=(t-l)/2,x={x:h(y)*b+f(y)*_,y:-f(y)*b+h(y)*_},E=Math.pow(x.x,2)/Math.pow(p,2)+Math.pow(x.y,2)/Math.pow(g,2);E>1&&(p*=d(E),g*=d(E));var w=Math.pow(p,2)*Math.pow(g,2)-Math.pow(p,2)*Math.pow(x.y,2)-Math.pow(g,2)*Math.pow(x.x,2),S=Math.pow(p,2)*Math.pow(x.y,2)+Math.pow(g,2)*Math.pow(x.x,2),A=w/S;A=A<0?0:A;var P=(a!==s?1:-1)*d(A),O={x:P*(p*x.y/g),y:P*(-(g*x.x)/p)},C={x:h(y)*O.x-f(y)*O.y+(e+o)/2,y:f(y)*O.x+h(y)*O.y+(t+l)/2},L={x:(x.x-O.x)/p,y:(x.y-O.y)/g},I=FN({x:1,y:0},L),F={x:(-x.x-O.x)/p,y:(-x.y-O.y)/g},U=FN(L,F);!s&&U>0?U-=2*v:s&&U<0&&(U+=2*v),U%=2*v;var G=I+U*u,z=p*h(G),Z=g*f(G),ge={x:h(y)*z-f(y)*Z+C.x,y:f(y)*z+h(y)*Z+C.y};return ge}function Wee(e,t,r,n,i,a,s,o,l,u,c){var f,h=c.bbox,d=h===void 0?!0:h,v=c.length,p=v===void 0?!0:v,g=c.sampleSize,m=g===void 0?30:g,y=typeof u=="number",b=e,_=t,x=0,E=[b,_,x],w=[b,_],S=0,A={x:0,y:0},P=[{x:b,y:_}];y&&u<=0&&(A={x:b,y:_});for(var O=0;O<=m;O+=1){if(S=O/m,f=jee(e,t,r,n,i,a,s,o,l,S),b=f.x,_=f.y,d&&P.push({x:b,y:_}),p&&(x+=si(w,[b,_])),w=[b,_],y&&x>=u&&u>E[2]){var C=(x-u)/(x-E[2]);A={x:w[0]*(1-C)+E[0]*C,y:w[1]*(1-C)+E[1]*C}}E=[b,_,x]}return y&&u>=x&&(A={x:o,y:l}),{length:x,point:A,min:{x:Math.min.apply(null,P.map(function(L){return L.x})),y:Math.min.apply(null,P.map(function(L){return L.y}))},max:{x:Math.max.apply(null,P.map(function(L){return L.x})),y:Math.max.apply(null,P.map(function(L){return L.y}))}}}function Vee(e,t,r,n,i,a,s,o,l){var u=1-l;return{x:Math.pow(u,3)*e+3*Math.pow(u,2)*l*r+3*u*Math.pow(l,2)*i+Math.pow(l,3)*s,y:Math.pow(u,3)*t+3*Math.pow(u,2)*l*n+3*u*Math.pow(l,2)*a+Math.pow(l,3)*o}}function BB(e,t,r,n,i,a,s,o,l,u){var c,f=u.bbox,h=f===void 0?!0:f,d=u.length,v=d===void 0?!0:d,p=u.sampleSize,g=p===void 0?10:p,m=typeof l=="number",y=e,b=t,_=0,x=[y,b,_],E=[y,b],w=0,S={x:0,y:0},A=[{x:y,y:b}];m&&l<=0&&(S={x:y,y:b});for(var P=0;P<=g;P+=1){if(w=P/g,c=Vee(e,t,r,n,i,a,s,o,w),y=c.x,b=c.y,h&&A.push({x:y,y:b}),v&&(_+=si(E,[y,b])),E=[y,b],m&&_>=l&&l>x[2]){var O=(_-l)/(_-x[2]);S={x:E[0]*(1-O)+x[0]*O,y:E[1]*(1-O)+x[1]*O}}x=[y,b,_]}return m&&l>=_&&(S={x:s,y:o}),{length:_,point:S,min:{x:Math.min.apply(null,A.map(function(C){return C.x})),y:Math.min.apply(null,A.map(function(C){return C.y}))},max:{x:Math.max.apply(null,A.map(function(C){return C.x})),y:Math.max.apply(null,A.map(function(C){return C.y}))}}}function Uee(e,t,r,n,i,a,s){var o=1-s;return{x:Math.pow(o,2)*e+2*o*s*r+Math.pow(s,2)*i,y:Math.pow(o,2)*t+2*o*s*n+Math.pow(s,2)*a}}function Hee(e,t,r,n,i,a,s,o){var l,u=o.bbox,c=u===void 0?!0:u,f=o.length,h=f===void 0?!0:f,d=o.sampleSize,v=d===void 0?10:d,p=typeof s=="number",g=e,m=t,y=0,b=[g,m,y],_=[g,m],x=0,E={x:0,y:0},w=[{x:g,y:m}];p&&s<=0&&(E={x:g,y:m});for(var S=0;S<=v;S+=1){if(x=S/v,l=Uee(e,t,r,n,i,a,x),g=l.x,m=l.y,c&&w.push({x:g,y:m}),h&&(y+=si(_,[g,m])),_=[g,m],p&&y>=s&&s>b[2]){var A=(y-s)/(y-b[2]);E={x:_[0]*(1-A)+b[0]*A,y:_[1]*(1-A)+b[1]*A}}b=[g,m,y]}return p&&s>=y&&(E={x:i,y:a}),{length:y,point:E,min:{x:Math.min.apply(null,w.map(function(P){return P.x})),y:Math.min.apply(null,w.map(function(P){return P.y}))},max:{x:Math.max.apply(null,w.map(function(P){return P.x})),y:Math.max.apply(null,w.map(function(P){return P.y}))}}}function zB(e,t,r){for(var n,i,a,s,o,l,u=Hu(e),c=typeof t=="number",f,h=[],d,v=0,p=0,g=0,m=0,y,b=[],_=[],x=0,E={x:0,y:0},w=E,S=E,A=E,P=0,O=0,C=u.length;O<C;O+=1)y=u[O],d=y[0],f=d==="M",h=f?h:[v,p].concat(y.slice(1)),f?(g=y[1],m=y[2],E={x:g,y:m},w=E,x=0,c&&t<.001&&(A=E)):d==="L"?(n=e2(h[0],h[1],h[2],h[3],(t||0)-P),x=n.length,E=n.min,w=n.max,S=n.point):d==="A"?(i=Wee(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],(t||0)-P,r||{}),x=i.length,E=i.min,w=i.max,S=i.point):d==="C"?(a=BB(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],(t||0)-P,r||{}),x=a.length,E=a.min,w=a.max,S=a.point):d==="Q"?(s=Hee(h[0],h[1],h[2],h[3],h[4],h[5],(t||0)-P,r||{}),x=s.length,E=s.min,w=s.max,S=s.point):d==="Z"&&(h=[v,p,g,m],o=e2(h[0],h[1],h[2],h[3],(t||0)-P),x=o.length,E=o.min,w=o.max,S=o.point),c&&P<t&&P+x>=t&&(A=S),_.push(w),b.push(E),P+=x,l=d!=="Z"?y.slice(-2):[g,m],v=l[0],p=l[1];return c&&t>=P&&(A={x:v,y:p}),{length:P,point:A,min:{x:Math.min.apply(null,b.map(function(L){return L.x})),y:Math.min.apply(null,b.map(function(L){return L.y}))},max:{x:Math.max.apply(null,_.map(function(L){return L.x})),y:Math.max.apply(null,_.map(function(L){return L.y}))}}}function GB(e,t){return zB(e,void 0,ke(ke({},t),{bbox:!1,length:!0})).length}function Yee(e){var t=e.length,r=t-1;return e.map(function(n,i){return e.map(function(a,s){var o=i+s,l;return s===0||e[o]&&e[o][0]==="M"?(l=e[o],["M"].concat(l.slice(-2))):(o>=t&&(o-=r),e[o])})})}function qB(e,t){var r=e.length-1,n=[],i=0,a=0,s=Yee(e);return s.forEach(function(o,l){e.slice(1).forEach(function(u,c){a+=si(e[(l+c)%r].slice(-2),t[c%r].slice(-2))}),n[l]=a,a=0}),i=n.indexOf(Math.min.apply(null,n)),s[i]}function Xee(e,t,r,n,i,a,s,o){return 3*((o-t)*(r+i)-(s-e)*(n+a)+n*(e-i)-r*(t-a)+o*(i+e/3)-s*(a+t/3))/20}function Kee(e){var t=0,r=0,n=0;return zf(e).map(function(i){var a;switch(i[0]){case"M":return t=i[1],r=i[2],0;default:var s=i.slice(1),o=s[0],l=s[1],u=s[2],c=s[3],f=s[4],h=s[5];return n=Xee(t,r,o,l,u,c,f,h),a=i.slice(-2),t=a[0],r=a[1],n}}).reduce(function(i,a){return i+a},0)}function qv(e){return Kee(e)>=0}function jB(e,t,r){return zB(e,t,ke(ke({},r),{bbox:!1,length:!0})).point}function Zee(e,t){t===void 0&&(t=.5);var r=e.slice(0,2),n=e.slice(2,4),i=e.slice(4,6),a=e.slice(6,8),s=mo(r,n,t),o=mo(n,i,t),l=mo(i,a,t),u=mo(s,o,t),c=mo(o,l,t),f=mo(u,c,t);return[["C"].concat(s,u,f),["C"].concat(c,l,a)]}function $N(e){return e.map(function(t,r,n){var i=r&&n[r-1].slice(-2).concat(t.slice(1)),a=r?BB(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0,s;return r?s=a?Zee(i):[t,t]:s=[t],{s:t,ss:s,l:a}})}function Nk(e,t,r){var n=$N(e),i=$N(t),a=n.length,s=i.length,o=n.filter(function(g){return g.l}).length,l=i.filter(function(g){return g.l}).length,u=n.filter(function(g){return g.l}).reduce(function(g,m){var y=m.l;return g+y},0)/o||0,c=i.filter(function(g){return g.l}).reduce(function(g,m){var y=m.l;return g+y},0)/l||0,f=r||Math.max(a,s),h=[u,c],d=[f-a,f-s],v=0,p=[n,i].map(function(g,m){return g.l===f?g.map(function(y){return y.s}):g.map(function(y,b){return v=b&&d[m]&&y.l>=h[m],d[m]-=v?1:0,v?y.ss:[y.s]}).flat()});return p[0].length===p[1].length?p:Nk(p[0],p[1],f)}function BN(e){var t=document.createElement("div");t.innerHTML=e;var r=t.childNodes[0];return r&&t.contains(r)&&t.removeChild(r),r}function Qee(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Gu(e))!==null;);return e}function t2(){return t2=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Qee(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},t2.apply(null,arguments)}function jv(e,t,r,n){var i=t2(Gu(e.prototype),t,r);return typeof i=="function"?function(a){return i.apply(r,a)}:i}/*!
 * @antv/g-math
 * @description Geometry util
 * @version 3.0.1
 * @date 5/9/2025, 8:18:51 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function Hs(e,t,r,n){var i=e-r,a=t-n;return Math.sqrt(i*i+a*a)}function WB(e,t){var r=Math.min.apply(Math,it(e)),n=Math.min.apply(Math,it(t)),i=Math.max.apply(Math,it(e)),a=Math.max.apply(Math,it(t));return{x:r,y:n,width:i-r,height:a-n}}function Jee(e,t,r){return Math.atan(-t/e*Math.tan(r))}function ete(e,t,r){return Math.atan(t/(e*Math.tan(r)))}function tte(e,t,r,n,i,a){return r*Math.cos(i)*Math.cos(a)-n*Math.sin(i)*Math.sin(a)+e}function rte(e,t,r,n,i,a){return r*Math.sin(i)*Math.cos(a)+n*Math.cos(i)*Math.sin(a)+t}function VB(e,t,r,n,i,a,s){for(var o=Jee(r,n,i),l=1/0,u=-1/0,c=[a,s],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var h=o+f;a<s?a<h&&h<s&&c.push(h):s<h&&h<a&&c.push(h)}for(var d=0;d<c.length;d++){var v=tte(e,t,r,n,i,c[d]);v<l&&(l=v),v>u&&(u=v)}for(var p=ete(r,n,i),g=1/0,m=-1/0,y=[a,s],b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var _=p+b;a<s?a<_&&_<s&&y.push(_):s<_&&_<a&&y.push(_)}for(var x=0;x<y.length;x++){var E=rte(e,t,r,n,i,y[x]);E<g&&(g=E),E>m&&(m=E)}return{x:l,y:g,width:u-l,height:m-g}}var nte=1e-4;function UB(e,t,r,n,i,a){var s=-1,o=1/0,l=[r,n],u=20;a&&a>200&&(u=a/10);for(var c=1/u,f=c/10,h=0;h<=u;h++){var d=h*c,v=[i.apply(void 0,it(e.concat([d]))),i.apply(void 0,it(t.concat([d])))],p=Hs(l[0],l[1],v[0],v[1]);p<o&&(s=d,o=p)}if(s===0)return{x:e[0],y:t[0]};if(s===1){var g=e.length;return{x:e[g-1],y:t[g-1]}}o=1/0;for(var m=0;m<32&&!(f<nte);m++){var y=s-f,b=s+f,_=[i.apply(void 0,it(e.concat([y]))),i.apply(void 0,it(t.concat([y])))],x=Hs(l[0],l[1],_[0],_[1]);if(y>=0&&x<o)s=y,o=x;else{var E=[i.apply(void 0,it(e.concat([b]))),i.apply(void 0,it(t.concat([b])))],w=Hs(l[0],l[1],E[0],E[1]);b<=1&&w<o?(s=b,o=w):f*=.5}}return{x:i.apply(void 0,it(e.concat([s]))),y:i.apply(void 0,it(t.concat([s])))}}function rg(e,t,r,n){return Hs(e,t,r,n)}function ng(e,t,r,n,i){return{x:(1-i)*e+i*r,y:(1-i)*t+i*n}}function ite(e,t,r,n,i,a){var s=[r-e,n-t];if(eee(s,[0,0]))return Math.sqrt((i-e)*(i-e)+(a-t)*(a-t));var o=[-s[1],s[0]];QJ(o,o);var l=[i-e,a-t];return Math.abs(JJ(l,o))}function r2(e,t,r,n,i){var a=1-i;return a*a*a*e+3*t*i*a*a+3*r*i*i*a+n*i*i*i}function zN(e,t,r,n){var i=-3*e+9*t-9*r+3*n,a=6*e-12*t+6*r,s=3*t-3*e,o=[],l,u,c;if(Eu(i,0))Eu(a,0)||(l=-s/a,l>=0&&l<=1&&o.push(l));else{var f=a*a-4*i*s;Eu(f,0)?o.push(-a/(2*i)):f>0&&(c=Math.sqrt(f),l=(-a+c)/(2*i),u=(-a-c)/(2*i),l>=0&&l<=1&&o.push(l),u>=0&&u<=1&&o.push(u))}return o}function HB(e,t,r,n,i,a,s,o){for(var l=[e,s],u=[t,o],c=zN(e,r,i,s),f=zN(t,n,a,o),h=0;h<c.length;h++)l.push(r2(e,r,i,s,c[h]));for(var d=0;d<f.length;d++)u.push(r2(t,n,a,o,f[d]));return WB(l,u)}function ate(e,t,r,n,i,a,s,o,l,u,c){return UB([e,r,i,s],[t,n,a,o],l,u,r2,c)}function GN(e,t,r,n,i,a,s,o,l,u,c){var f=ate(e,t,r,n,i,a,s,o,l,u,c);return Hs(f.x,f.y,l,u)}function ste(e){if(e.length<2)return 0;for(var t=0,r=0;r<e.length-1;r++){var n=e[r],i=e[r+1];t+=Hs(n[0],n[1],i[0],i[1])}return t}function YB(e){return ste(e)}function n2(e,t,r,n){var i=1-n;return i*i*e+2*n*i*t+n*n*r}function qN(e,t,r){var n=e+r-2*t;if(Eu(n,0))return[.5];var i=(e-t)/n;return i<=1&&i>=0?[i]:[]}function XB(e,t,r,n,i,a){var s=qN(e,r,i)[0],o=qN(t,n,a)[0],l=[e,i],u=[t,a];return s!==void 0&&l.push(n2(e,r,i,s)),o!==void 0&&u.push(n2(t,n,a,o)),WB(l,u)}function ote(e,t,r,n,i,a,s,o){return UB([e,r,i],[t,n,a],s,o,n2)}function lte(e,t,r,n,i,a,s,o){var l=ote(e,t,r,n,i,a,s,o);return Hs(l.x,l.y,s,o)}function Sn(){Sn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function l(P,O,C,L){return Object.defineProperty(P,O,{value:C,enumerable:!L,configurable:!L,writable:!L})}try{l({},"")}catch{l=function(C,L,I){return C[L]=I}}function u(P,O,C,L){var I=O&&O.prototype instanceof h?O:h,F=Object.create(I.prototype);return l(F,"_invoke",function(U,G,z){var Z=1;return function(ge,xe){if(Z===3)throw Error("Generator is already running");if(Z===4){if(ge==="throw")throw xe;return{value:e,done:!0}}for(z.method=ge,z.arg=xe;;){var ve=z.delegate;if(ve){var je=x(ve,z);if(je){if(je===f)continue;return je}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(Z===1)throw Z=4,z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);Z=3;var te=c(U,G,z);if(te.type==="normal"){if(Z=z.done?4:2,te.arg===f)continue;return{value:te.arg,done:z.done}}te.type==="throw"&&(Z=4,z.method="throw",z.arg=te.arg)}}}(P,C,new S(L||[])),!0),F}function c(P,O,C){try{return{type:"normal",arg:P.call(O,C)}}catch(L){return{type:"throw",arg:L}}}t.wrap=u;var f={};function h(){}function d(){}function v(){}var p={};l(p,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(A([])));m&&m!==r&&n.call(m,a)&&(p=m);var y=v.prototype=h.prototype=Object.create(p);function b(P){["next","throw","return"].forEach(function(O){l(P,O,function(C){return this._invoke(O,C)})})}function _(P,O){function C(I,F,U,G){var z=c(P[I],P,F);if(z.type!=="throw"){var Z=z.arg,ge=Z.value;return ge&&Lo(ge)=="object"&&n.call(ge,"__await")?O.resolve(ge.__await).then(function(xe){C("next",xe,U,G)},function(xe){C("throw",xe,U,G)}):O.resolve(ge).then(function(xe){Z.value=xe,U(Z)},function(xe){return C("throw",xe,U,G)})}G(z.arg)}var L;l(this,"_invoke",function(I,F){function U(){return new O(function(G,z){C(I,F,G,z)})}return L=L?L.then(U,U):U()},!0)}function x(P,O){var C=O.method,L=P.i[C];if(L===e)return O.delegate=null,C==="throw"&&P.i.return&&(O.method="return",O.arg=e,x(P,O),O.method==="throw")||C!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+C+"' method")),f;var I=c(L,P.i,O.arg);if(I.type==="throw")return O.method="throw",O.arg=I.arg,O.delegate=null,f;var F=I.arg;return F?F.done?(O[P.r]=F.value,O.next=P.n,O.method!=="return"&&(O.method="next",O.arg=e),O.delegate=null,f):F:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,f)}function E(P){this.tryEntries.push(P)}function w(P){var O=P[4]||{};O.type="normal",O.arg=e,P[4]=O}function S(P){this.tryEntries=[[-1]],P.forEach(E,this),this.reset(!0)}function A(P){if(P!=null){var O=P[a];if(O)return O.call(P);if(typeof P.next=="function")return P;if(!isNaN(P.length)){var C=-1,L=function I(){for(;++C<P.length;)if(n.call(P,C))return I.value=P[C],I.done=!1,I;return I.value=e,I.done=!0,I};return L.next=L}}throw new TypeError(Lo(P)+" is not iterable")}return d.prototype=v,l(y,"constructor",v),l(v,"constructor",d),d.displayName=l(v,o,"GeneratorFunction"),t.isGeneratorFunction=function(P){var O=typeof P=="function"&&P.constructor;return!!O&&(O===d||(O.displayName||O.name)==="GeneratorFunction")},t.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,v):(P.__proto__=v,l(P,o,"GeneratorFunction")),P.prototype=Object.create(y),P},t.awrap=function(P){return{__await:P}},b(_.prototype),l(_.prototype,s,function(){return this}),t.AsyncIterator=_,t.async=function(P,O,C,L,I){I===void 0&&(I=Promise);var F=new _(u(P,O,C,L),I);return t.isGeneratorFunction(O)?F:F.next().then(function(U){return U.done?U.value:F.next()})},b(y),l(y,o,"Generator"),l(y,a,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),t.keys=function(P){var O=Object(P),C=[];for(var L in O)C.unshift(L);return function I(){for(;C.length;)if((L=C.pop())in O)return I.value=L,I.done=!1,I;return I.done=!0,I}},t.values=A,S.prototype={constructor:S,reset:function(O){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!O)for(var C in this)C.charAt(0)==="t"&&n.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=e)},stop:function(){this.done=!0;var O=this.tryEntries[0][4];if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var C=this;function L(ge){U.type="throw",U.arg=O,C.next=ge}for(var I=C.tryEntries.length-1;I>=0;--I){var F=this.tryEntries[I],U=F[4],G=this.prev,z=F[1],Z=F[2];if(F[0]===-1)return L("end"),!1;if(!z&&!Z)throw Error("try statement without catch or finally");if(F[0]!=null&&F[0]<=G){if(G<z)return this.method="next",this.arg=e,L(z),!0;if(G<Z)return L(Z),!1}}},abrupt:function(O,C){for(var L=this.tryEntries.length-1;L>=0;--L){var I=this.tryEntries[L];if(I[0]>-1&&I[0]<=this.prev&&this.prev<I[2]){var F=I;break}}F&&(O==="break"||O==="continue")&&F[0]<=C&&C<=F[2]&&(F=null);var U=F?F[4]:{};return U.type=O,U.arg=C,F?(this.method="next",this.next=F[2],f):this.complete(U)},complete:function(O,C){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&C&&(this.next=C),f},finish:function(O){for(var C=this.tryEntries.length-1;C>=0;--C){var L=this.tryEntries[C];if(L[2]===O)return this.complete(L[4],L[3]),w(L),f}},catch:function(O){for(var C=this.tryEntries.length-1;C>=0;--C){var L=this.tryEntries[C];if(L[0]===O){var I=L[4];if(I.type==="throw"){var F=I.arg;w(L)}return F}}throw Error("illegal catch attempt")},delegateYield:function(O,C,L){return this.delegate={i:A(O),r:C,n:L},this.method==="next"&&(this.arg=e),f}},t}function jN(e,t,r,n,i,a,s){try{var o=e[a](s),l=o.value}catch(u){return void r(u)}o.done?t(l):Promise.resolve(l).then(n,i)}function Io(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(l){jN(a,n,i,s,o,"next",l)}function o(l){jN(a,n,i,s,o,"throw",l)}s(void 0)})}}function Ci(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=dk(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw a}}}}function ute(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ei(e,t){if(e==null)return{};var r,n,i=ute(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}/*!
 * @antv/g-lite
 * @description A core module for rendering engine implements DOM API.
 * @version 2.3.2
 * @date 7/30/2025, 1:34:19 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var cte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},KB={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(cte,function(){function r(x,E,w,S,A){n(x,E,w||0,S||x.length-1,A||a)}function n(x,E,w,S,A){for(;S>w;){if(S-w>600){var P=S-w+1,O=E-w+1,C=Math.log(P),L=.5*Math.exp(2*C/3),I=.5*Math.sqrt(C*L*(P-L)/P)*(O-P/2<0?-1:1),F=Math.max(w,Math.floor(E-O*L/P+I)),U=Math.min(S,Math.floor(E+(P-O)*L/P+I));n(x,E,F,U,A)}var G=x[E],z=w,Z=S;for(i(x,w,E),A(x[S],G)>0&&i(x,w,S);z<Z;){for(i(x,z,Z),z++,Z--;A(x[z],G)<0;)z++;for(;A(x[Z],G)>0;)Z--}A(x[w],G)===0?i(x,w,Z):(Z++,i(x,Z,S)),Z<=E&&(w=Z+1),E<=Z&&(S=Z-1)}}function i(x,E,w){var S=x[E];x[E]=x[w],x[w]=S}function a(x,E){return x<E?-1:x>E?1:0}var s=function(E){E===void 0&&(E=9),this._maxEntries=Math.max(4,E),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(E){var w=this.data,S=[];if(!y(E,w))return S;for(var A=this.toBBox,P=[];w;){for(var O=0;O<w.children.length;O++){var C=w.children[O],L=w.leaf?A(C):C;y(E,L)&&(w.leaf?S.push(C):m(E,L)?this._all(C,S):P.push(C))}w=P.pop()}return S},s.prototype.collides=function(E){var w=this.data;if(!y(E,w))return!1;for(var S=[];w;){for(var A=0;A<w.children.length;A++){var P=w.children[A],O=w.leaf?this.toBBox(P):P;if(y(E,O)){if(w.leaf||m(E,O))return!0;S.push(P)}}w=S.pop()}return!1},s.prototype.load=function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var w=0;w<E.length;w++)this.insert(E[w]);return this}var S=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=S;else if(this.data.height===S.height)this._splitRoot(this.data,S);else{if(this.data.height<S.height){var A=this.data;this.data=S,S=A}this._insert(S,this.data.height-S.height-1,!0)}return this},s.prototype.insert=function(E){return E&&this._insert(E,this.data.height-1),this},s.prototype.clear=function(){return this.data=b([]),this},s.prototype.remove=function(E,w){if(!E)return this;for(var S=this.data,A=this.toBBox(E),P=[],O=[],C,L,I;S||P.length;){if(S||(S=P.pop(),L=P[P.length-1],C=O.pop(),I=!0),S.leaf){var F=o(E,S.children,w);if(F!==-1)return S.children.splice(F,1),P.push(S),this._condense(P),this}!I&&!S.leaf&&m(S,A)?(P.push(S),O.push(C),C=0,L=S,S=S.children[0]):L?(C++,S=L.children[C],I=!1):S=null}return this},s.prototype.toBBox=function(E){return E},s.prototype.compareMinX=function(E,w){return E.minX-w.minX},s.prototype.compareMinY=function(E,w){return E.minY-w.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(E){return this.data=E,this},s.prototype._all=function(E,w){for(var S=[];E;)E.leaf?w.push.apply(w,E.children):S.push.apply(S,E.children),E=S.pop();return w},s.prototype._build=function(E,w,S,A){var P=S-w+1,O=this._maxEntries,C;if(P<=O)return C=b(E.slice(w,S+1)),l(C,this.toBBox),C;A||(A=Math.ceil(Math.log(P)/Math.log(O)),O=Math.ceil(P/Math.pow(O,A-1))),C=b([]),C.leaf=!1,C.height=A;var L=Math.ceil(P/O),I=L*Math.ceil(Math.sqrt(O));_(E,w,S,I,this.compareMinX);for(var F=w;F<=S;F+=I){var U=Math.min(F+I-1,S);_(E,F,U,L,this.compareMinY);for(var G=F;G<=U;G+=L){var z=Math.min(G+L-1,U);C.children.push(this._build(E,G,z,A-1))}}return l(C,this.toBBox),C},s.prototype._chooseSubtree=function(E,w,S,A){for(;A.push(w),!(w.leaf||A.length-1===S);){for(var P=1/0,O=1/0,C=void 0,L=0;L<w.children.length;L++){var I=w.children[L],F=d(I),U=p(E,I)-F;U<O?(O=U,P=F<P?F:P,C=I):U===O&&F<P&&(P=F,C=I)}w=C||w.children[0]}return w},s.prototype._insert=function(E,w,S){var A=S?E:this.toBBox(E),P=[],O=this._chooseSubtree(A,this.data,w,P);for(O.children.push(E),c(O,A);w>=0&&P[w].children.length>this._maxEntries;)this._split(P,w),w--;this._adjustParentBBoxes(A,P,w)},s.prototype._split=function(E,w){var S=E[w],A=S.children.length,P=this._minEntries;this._chooseSplitAxis(S,P,A);var O=this._chooseSplitIndex(S,P,A),C=b(S.children.splice(O,S.children.length-O));C.height=S.height,C.leaf=S.leaf,l(S,this.toBBox),l(C,this.toBBox),w?E[w-1].children.push(C):this._splitRoot(S,C)},s.prototype._splitRoot=function(E,w){this.data=b([E,w]),this.data.height=E.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(E,w,S){for(var A,P=1/0,O=1/0,C=w;C<=S-w;C++){var L=u(E,0,C,this.toBBox),I=u(E,C,S,this.toBBox),F=g(L,I),U=d(L)+d(I);F<P?(P=F,A=C,O=U<O?U:O):F===P&&U<O&&(O=U,A=C)}return A||S-w},s.prototype._chooseSplitAxis=function(E,w,S){var A=E.leaf?this.compareMinX:f,P=E.leaf?this.compareMinY:h,O=this._allDistMargin(E,w,S,A),C=this._allDistMargin(E,w,S,P);O<C&&E.children.sort(A)},s.prototype._allDistMargin=function(E,w,S,A){E.children.sort(A);for(var P=this.toBBox,O=u(E,0,w,P),C=u(E,S-w,S,P),L=v(O)+v(C),I=w;I<S-w;I++){var F=E.children[I];c(O,E.leaf?P(F):F),L+=v(O)}for(var U=S-w-1;U>=w;U--){var G=E.children[U];c(C,E.leaf?P(G):G),L+=v(C)}return L},s.prototype._adjustParentBBoxes=function(E,w,S){for(var A=S;A>=0;A--)c(w[A],E)},s.prototype._condense=function(E){for(var w=E.length-1,S=void 0;w>=0;w--)E[w].children.length===0?w>0?(S=E[w-1].children,S.splice(S.indexOf(E[w]),1)):this.clear():l(E[w],this.toBBox)};function o(x,E,w){if(!w)return E.indexOf(x);for(var S=0;S<E.length;S++)if(w(x,E[S]))return S;return-1}function l(x,E){u(x,0,x.children.length,E,x)}function u(x,E,w,S,A){A||(A=b(null)),A.minX=1/0,A.minY=1/0,A.maxX=-1/0,A.maxY=-1/0;for(var P=E;P<w;P++){var O=x.children[P];c(A,x.leaf?S(O):O)}return A}function c(x,E){return x.minX=Math.min(x.minX,E.minX),x.minY=Math.min(x.minY,E.minY),x.maxX=Math.max(x.maxX,E.maxX),x.maxY=Math.max(x.maxY,E.maxY),x}function f(x,E){return x.minX-E.minX}function h(x,E){return x.minY-E.minY}function d(x){return(x.maxX-x.minX)*(x.maxY-x.minY)}function v(x){return x.maxX-x.minX+(x.maxY-x.minY)}function p(x,E){return(Math.max(E.maxX,x.maxX)-Math.min(E.minX,x.minX))*(Math.max(E.maxY,x.maxY)-Math.min(E.minY,x.minY))}function g(x,E){var w=Math.max(x.minX,E.minX),S=Math.max(x.minY,E.minY),A=Math.min(x.maxX,E.maxX),P=Math.min(x.maxY,E.maxY);return Math.max(0,A-w)*Math.max(0,P-S)}function m(x,E){return x.minX<=E.minX&&x.minY<=E.minY&&E.maxX<=x.maxX&&E.maxY<=x.maxY}function y(x,E){return E.minX<=x.maxX&&E.minY<=x.maxY&&E.maxX>=x.minX&&E.maxY>=x.minY}function b(x){return{children:x,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(x,E,w,S,A){for(var P=[E,w];P.length;)if(w=P.pop(),E=P.pop(),!(w-E<=S)){var O=E+Math.ceil((w-E)/S/2)*S;r(x,O,E,w,A),P.push(E,O,O,w)}}return s})})(KB);var fte=KB.exports,Ue=function(e){return e.GROUP="g",e.FRAGMENT="fragment",e.CIRCLE="circle",e.ELLIPSE="ellipse",e.IMAGE="image",e.RECT="rect",e.LINE="line",e.POLYLINE="polyline",e.POLYGON="polygon",e.TEXT="text",e.PATH="path",e.HTML="html",e.MESH="mesh",e}({}),M0=function(e){return e[e.ZERO=0]="ZERO",e[e.NEGATIVE_ONE=1]="NEGATIVE_ONE",e}({}),N0=Fi,iu=Xr,hte=EB,dte=xB,WN=qu,A0=SB,Yn=function(){function e(){ae(this,e),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return se(e,[{key:"update",value:function(r,n){iu(this.center,r),iu(this.halfExtents,n),A0(this.min,this.center,this.halfExtents),N0(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(r,n){N0(this.center,n,r),WN(this.center,this.center,.5),A0(this.halfExtents,n,r),WN(this.halfExtents,this.halfExtents,.5),iu(this.min,r),iu(this.max,n)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(r){if(!e.isEmpty(r)){if(e.isEmpty(this)){this.setMinMax(r.getMin(),r.getMax());return}var n=this.center,i=n[0],a=n[1],s=n[2],o=this.halfExtents,l=o[0],u=o[1],c=o[2],f=i-l,h=i+l,d=a-u,v=a+u,p=s-c,g=s+c,m=r.center,y=m[0],b=m[1],_=m[2],x=r.halfExtents,E=x[0],w=x[1],S=x[2],A=y-E,P=y+E,O=b-w,C=b+w,L=_-S,I=_+S;A<f&&(f=A),P>h&&(h=P),O<d&&(d=O),C>v&&(v=C),L<p&&(p=L),I>g&&(g=I),n[0]=(f+h)*.5,n[1]=(d+v)*.5,n[2]=(p+g)*.5,o[0]=(h-f)*.5,o[1]=(v-d)*.5,o[2]=(g-p)*.5,this.min[0]=f,this.min[1]=d,this.min[2]=p,this.max[0]=h,this.max[1]=v,this.max[2]=g}}},{key:"setFromTransformedAABB",value:function(r,n){var i=this.center,a=this.halfExtents,s=r.center,o=r.halfExtents,l=n[0],u=n[4],c=n[8],f=n[1],h=n[5],d=n[9],v=n[2],p=n[6],g=n[10],m=Math.abs(l),y=Math.abs(u),b=Math.abs(c),_=Math.abs(f),x=Math.abs(h),E=Math.abs(d),w=Math.abs(v),S=Math.abs(p),A=Math.abs(g);i[0]=n[12]+l*s[0]+u*s[1]+c*s[2],i[1]=n[13]+f*s[0]+h*s[1]+d*s[2],i[2]=n[14]+v*s[0]+p*s[1]+g*s[2],a[0]=m*o[0]+y*o[1]+b*o[2],a[1]=_*o[0]+x*o[1]+E*o[2],a[2]=w*o[0]+S*o[1]+A*o[2],A0(this.min,i,a),N0(this.max,i,a)}},{key:"intersects",value:function(r){var n=this.getMax(),i=this.getMin(),a=r.getMax(),s=r.getMin();return i[0]<=a[0]&&n[0]>=s[0]&&i[1]<=a[1]&&n[1]>=s[1]&&i[2]<=a[2]&&n[2]>=s[2]}},{key:"intersection",value:function(r){if(!this.intersects(r))return null;var n=new e,i=hte([0,0,0],this.getMin(),r.getMin()),a=dte([0,0,0],this.getMax(),r.getMax());return n.setMinMax(i,a),n}},{key:"getNegativeFarPoint",value:function(r){return r.pnVertexFlag===273?iu([0,0,0],this.min):r.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:r.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:r.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:r.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:r.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:r.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(r){return r.pnVertexFlag===273?iu([0,0,0],this.max):r.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:r.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:r.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:r.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:r.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:r.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(r){return!r||r.halfExtents[0]===0&&r.halfExtents[1]===0&&r.halfExtents[2]===0}}])}(),vte=function(){function e(t,r){ae(this,e),this.distance=t||0,this.normal=r||ft(0,1,0),this.updatePNVertexFlag()}return se(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(r){return kn(r,this.normal)-this.distance}},{key:"normalize",value:function(){var r=1/Tk(this.normal);qu(this.normal,this.normal,r),this.distance*=r}},{key:"intersectsLine",value:function(r,n,i){var a=this.distanceToPoint(r),s=this.distanceToPoint(n),o=a/(a-s),l=o>=0&&o<=1;return l&&i&&Fv(i,r,n,o),l}}])}(),au=function(e){return e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE",e}({}),pte=function(){function e(t){if(ae(this,e),this.planes=[],t)this.planes=t;else for(var r=0;r<6;r++)this.planes.push(new vte)}return se(e,[{key:"extractFromVPMatrix",value:function(r){var n=Je(r,16),i=n[0],a=n[1],s=n[2],o=n[3],l=n[4],u=n[5],c=n[6],f=n[7],h=n[8],d=n[9],v=n[10],p=n[11],g=n[12],m=n[13],y=n[14],b=n[15];Jt(this.planes[0].normal,o-i,f-l,p-h),this.planes[0].distance=b-g,Jt(this.planes[1].normal,o+i,f+l,p+h),this.planes[1].distance=b+g,Jt(this.planes[2].normal,o+a,f+u,p+d),this.planes[2].distance=b+m,Jt(this.planes[3].normal,o-a,f-u,p-d),this.planes[3].distance=b-m,Jt(this.planes[4].normal,o-s,f-c,p-v),this.planes[4].distance=b-y,Jt(this.planes[5].normal,o+s,f+c,p+v),this.planes[5].distance=b+y,this.planes.forEach(function(_){_.normalize(),_.updatePNVertexFlag()})}}])}(),zn=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ae(this,e),this.x=0,this.y=0,this.x=t,this.y=r}return se(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(r){this.x=r.x,this.y=r.y}}])}(),Yu=function(){function e(t,r,n,i){ae(this,e),this.x=t,this.y=r,this.width=n,this.height=i,this.left=t,this.right=t+n,this.top=r,this.bottom=r+i}return se(e,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(r){return new e(r.x,r.y,r.width,r.height)}},{key:"applyTransform",value:function(r,n){var i=Gs(r.x,r.y,0,1),a=Gs(r.x+r.width,r.y,0,1),s=Gs(r.x,r.y+r.height,0,1),o=Gs(r.x+r.width,r.y+r.height,0,1),l=an(),u=an(),c=an(),f=an();hn(l,i,n),hn(u,a,n),hn(c,s,n),hn(f,o,n);var h=Math.min(l[0],u[0],c[0],f[0]),d=Math.min(l[1],u[1],c[1],f[1]),v=Math.max(l[0],u[0],c[0],f[0]),p=Math.max(l[1],u[1],c[1],f[1]);return e.fromRect({x:h,y:d,width:v-h,height:p-d})}}])}(),Yt="Method not implemented.",su="Use document.documentElement instead.",gte="Cannot append a destroyed element.";function _u(e){return e===void 0?0:e>360||e<-360?e%360:e}var P0=at();function Xn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(e)&&e.length===3?n?ns(e):Xr(P0,e):rt(e)?n?ft(e,t,r):Jt(P0,e,t,r):n?ft(e[0],e[1]||t,e[2]||r):Jt(P0,e[0],e[1]||t,e[2]||r)}var mte=Math.PI/180;function Qt(e){return e*mte}var yte=180/Math.PI;function Ki(e){return e*yte}function bte(e){return 360*e}var Wv=Math.PI/2;function wte(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=r*r,o=n*n,l=i*i,u=a*a,c=s+o+l+u,f=r*a-n*i;return f>.499995*c?(e[0]=Wv,e[1]=2*Math.atan2(n,r),e[2]=0):f<-.499995*c?(e[0]=-Wv,e[1]=2*Math.atan2(n,r),e[2]=0):(e[0]=Math.asin(2*(r*i-a*n)),e[1]=Math.atan2(2*(r*a+n*i),1-2*(l+u)),e[2]=Math.atan2(2*(r*n+i*a),1-2*(o+l))),e}function xte(e,t){var r,n,i=ps(at(),t),a=Je(i,3),s=a[0],o=a[1],l=a[2],u=Math.asin(-t[2]/s);return u<Wv?u>-Wv?(r=Math.atan2(t[6]/o,t[10]/l),n=Math.atan2(t[1]/s,t[0]/s)):(n=0,r=-Math.atan2(t[4]/o,t[5]/o)):(n=0,r=Math.atan2(t[4]/o,t[5]/o)),e[0]=r,e[1]=u,e[2]=n,e}function O0(e,t){return t.length===16?xte(e,t):wte(e,t)}function Ete(e,t,r,n,i){var a=Math.cos(e),s=Math.sin(e);return fB(n*a,i*s,0,-n*s,i*a,0,t,r,1)}function _te(e,t,r,n,i,a,s){var o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,l=2*a,u=r-t,c=n-i,f=l/u,h=l/c,d=(r+t)/u,v=(n+i)/c,p,g,m=s-a,y=s*a;return o?(p=-s/m,g=-y/m):(p=-(s+a)/m,g=-2*y/m),e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=d,e[9]=v,e[10]=p,e[11]=-1,e[12]=0,e[13]=0,e[14]=g,e[15]=0,e}function VN(e){var t=e[0],r=e[1],n=e[3],i=e[4],a=Math.sqrt(t*t+r*r),s=Math.sqrt(n*n+i*i),o=t*i-r*n;if(o<0&&(t<i?a=-a:s=-s),a){var l=1/a;t*=l,r*=l}if(s){var u=1/s;n*=u,i*=u}var c=Math.atan2(r,t),f=Ki(c);return[e[6],e[7],a,s,f]}var Ha=gt(),va=gt(),kc=an(),ht=[at(),at(),at()],UN=at();function kte(e,t,r,n,i,a){if(!Ste(Ha,e)||(Qs(va,Ha),va[3]=0,va[7]=0,va[11]=0,va[15]=1,Math.abs(gk(va))<1e-8))return!1;var s=Ha[3],o=Ha[7],l=Ha[11],u=Ha[12],c=Ha[13],f=Ha[14],h=Ha[15];if(s!==0||o!==0||l!==0){kc[0]=s,kc[1]=o,kc[2]=l,kc[3]=h;var d=fn(va,va);if(!d)return!1;pk(va,va),hn(i,kc,va)}else i[0]=i[1]=i[2]=0,i[3]=1;if(t[0]=u,t[1]=c,t[2]=f,Tte(ht,Ha),r[0]=En(ht[0]),$i(ht[0],ht[0]),n[0]=kn(ht[0],ht[1]),C0(ht[1],ht[1],ht[0],1,-n[0]),r[1]=En(ht[1]),$i(ht[1],ht[1]),n[0]/=r[1],n[1]=kn(ht[0],ht[2]),C0(ht[2],ht[2],ht[0],1,-n[1]),n[2]=kn(ht[1],ht[2]),C0(ht[2],ht[2],ht[1],1,-n[2]),r[2]=En(ht[2]),$i(ht[2],ht[2]),n[1]/=r[2],n[2]/=r[2],hf(UN,ht[1],ht[2]),kn(ht[0],UN)<0)for(var v=0;v<3;v++)r[v]*=-1,ht[v][0]*=-1,ht[v][1]*=-1,ht[v][2]*=-1;return a[0]=.5*Math.sqrt(Math.max(1+ht[0][0]-ht[1][1]-ht[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-ht[0][0]+ht[1][1]-ht[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-ht[0][0]-ht[1][1]+ht[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+ht[0][0]+ht[1][1]+ht[2][2],0)),ht[2][1]>ht[1][2]&&(a[0]=-a[0]),ht[0][2]>ht[2][0]&&(a[1]=-a[1]),ht[1][0]>ht[0][1]&&(a[2]=-a[2]),!0}function Ste(e,t){var r=t[15];if(r===0)return!1;for(var n=1/r,i=0;i<16;i++)e[i]=t[i]*n;return!0}function Tte(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}function C0(e,t,r,n,i){e[0]=t[0]*n+r[0]*i,e[1]=t[1]*n+r[1]*i,e[2]=t[2]*n+r[2]*i}var Ht=function(e){return e[e.ORBITING=0]="ORBITING",e[e.EXPLORING=1]="EXPLORING",e[e.TRACKING=2]="TRACKING",e}({}),i2=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROTATIONAL=1]="ROTATIONAL",e[e.TRANSLATIONAL=2]="TRANSLATIONAL",e[e.CINEMATIC=3]="CINEMATIC",e}({}),Xi=function(e){return e[e.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",e[e.PERSPECTIVE=1]="PERSPECTIVE",e}({}),ZB={UPDATED:"updated"},HN=2e-4,QB=function(){function e(){ae(this,e),this.clipSpaceNearZ=M0.NEGATIVE_ONE,this.eventEmitter=new Jp,this.matrix=gt(),this.right=ft(1,0,0),this.up=ft(0,1,0),this.forward=ft(0,0,1),this.position=ft(0,0,1),this.focalPoint=ft(0,0,0),this.distanceVector=ft(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=gt(),this.projectionMatrixInverse=gt(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Ht.EXPLORING,this.trackingMode=i2.DEFAULT,this.projectionMode=Xi.PERSPECTIVE,this.frustum=new pte,this.orthoMatrix=gt()}return se(e,[{key:"isOrtho",value:function(){return this.projectionMode===Xi.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(r){this.enableUpdate=r}},{key:"setType",value:function(r,n){return this.type=r,this.type===Ht.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Ht.TRACKING&&n!==void 0&&this.setTrackingMode(n),this}},{key:"setProjectionMode",value:function(r){return this.projectionMode=r,this}},{key:"setTrackingMode",value:function(r){if(this.type!==Ht.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=r,this}},{key:"setWorldRotation",value:function(r){return this.rotateWorld=r,this._getAngles(),this}},{key:"getViewTransform",value:function(){return fn(gt(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(r,n){var i=Qn(gt(),[r,n,0]);this.jitteredProjectionMatrix=Nr(gt(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(r){return this.matrix=r,this._update(),this}},{key:"setProjectionMatrix",value:function(r){this.projectionMatrix=r}},{key:"setFov",value:function(r){return this.setPerspective(this.near,this.far,r,this.aspect),this}},{key:"setAspect",value:function(r){return this.setPerspective(this.near,this.far,this.fov,r),this}},{key:"setNear",value:function(r){return this.projectionMode===Xi.PERSPECTIVE?this.setPerspective(r,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,r,this.far),this}},{key:"setFar",value:function(r){return this.projectionMode===Xi.PERSPECTIVE?this.setPerspective(this.near,r,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,r),this}},{key:"setViewOffset",value:function(r,n,i,a,s,o){return this.aspect=r/n,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=a,this.view.width=s,this.view.height=o,this.projectionMode===Xi.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Xi.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(r){return this.zoom=r,this.projectionMode===Xi.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===Xi.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(r,n){var i=this.canvas.viewport2Canvas({x:n[0],y:n[1]}),a=i.x,s=i.y,o=this.roll;this.rotate(0,0,-o),this.setPosition(a,s),this.setFocalPoint(a,s),this.setZoom(r),this.rotate(0,0,o);var l=this.canvas.viewport2Canvas({x:n[0],y:n[1]}),u=l.x,c=l.y,f=ft(u-a,c-s,0),h=kn(f,this.right)/En(this.right),d=kn(f,this.up)/En(this.up),v=this.getPosition(),p=Je(v,2),g=p[0],m=p[1],y=this.getFocalPoint(),b=Je(y,2),_=b[0],x=b[1];return this.setPosition(g-h,m-d),this.setFocalPoint(_-h,x-d),this}},{key:"setPerspective",value:function(r,n,i,a){var s;this.projectionMode=Xi.PERSPECTIVE,this.fov=i,this.near=r,this.far=n,this.aspect=a;var o=this.near*Math.tan(Qt(.5*this.fov))/this.zoom,l=2*o,u=this.aspect*l,c=-.5*u;if((s=this.view)!==null&&s!==void 0&&s.enabled){var f=this.view.fullWidth,h=this.view.fullHeight;c+=this.view.offsetX*u/f,o-=this.view.offsetY*l/h,u*=this.view.width/f,l*=this.view.height/h}return _te(this.projectionMatrix,c,c+u,o-l,o,r,this.far,this.clipSpaceNearZ===M0.ZERO),fn(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(r,n,i,a,s,o){var l;this.projectionMode=Xi.ORTHOGRAPHIC,this.rright=n,this.left=r,this.top=i,this.bottom=a,this.near=s,this.far=o;var u=(this.rright-this.left)/(2*this.zoom),c=(this.top-this.bottom)/(2*this.zoom),f=(this.rright+this.left)/2,h=(this.top+this.bottom)/2,d=f-u,v=f+u,p=h+c,g=h-c;if((l=this.view)!==null&&l!==void 0&&l.enabled){var m=(this.rright-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;d+=m*this.view.offsetX,v=d+m*this.view.width,p-=y*this.view.offsetY,g=p-y*this.view.height}return this.clipSpaceNearZ===M0.NEGATIVE_ONE?Ek(this.projectionMatrix,d,v,p,g,s,o):_k(this.projectionMatrix,d,v,p,g,s,o),fn(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],a=Xn(r,n,i);return this._setPosition(a),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],a=ft(0,1,0);if(this.focalPoint=Xn(r,n,i),this.trackingMode===i2.CINEMATIC){var s=$f(at(),this.focalPoint,this.position);r=s[0],n=s[1],i=s[2];var o=En(s),l=Ki(Math.asin(n/o)),u=90+Ki(Math.atan2(i,r)),c=gt();yk(c,c,Qt(u)),mk(c,c,Qt(l)),a=zr(at(),[0,1,0],c)}return fn(this.matrix,kk(gt(),this.position,this.focalPoint,a)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(r){if(this.distance===r||r<0)return this;this.distance=r,this.distance<HN&&(this.distance=HN),this.dollyingStep=this.distance/100;var n=at();r=this.distance;var i=this.forward,a=this.focalPoint;return n[0]=r*i[0]+a[0],n[1]=r*i[1]+a[1],n[2]=r*i[2]+a[2],this._setPosition(n),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(r){return this.maxDistance=r,this}},{key:"setMinDistance",value:function(r){return this.minDistance=r,this}},{key:"setAzimuth",value:function(r){return this.azimuth=_u(r),this.computeMatrix(),this._getAxes(),this.type===Ht.ORBITING||this.type===Ht.EXPLORING?this._getPosition():this.type===Ht.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(r){return this.elevation=_u(r),this.computeMatrix(),this._getAxes(),this.type===Ht.ORBITING||this.type===Ht.EXPLORING?this._getPosition():this.type===Ht.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(r){return this.roll=_u(r),this.computeMatrix(),this._getAxes(),this.type===Ht.ORBITING||this.type===Ht.EXPLORING?this._getPosition():this.type===Ht.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var r=ta($t(),[0,0,1],Qt(this.roll));qi(this.matrix);var n=ta($t(),[1,0,0],Qt((this.rotateWorld&&this.type!==Ht.TRACKING||this.type===Ht.TRACKING?1:-1)*this.elevation)),i=ta($t(),[0,1,0],Qt((this.rotateWorld&&this.type!==Ht.TRACKING||this.type===Ht.TRACKING?1:-1)*this.azimuth)),a=Bi($t(),i,n);a=Bi($t(),a,r);var s=eg(gt(),a);this.type===Ht.ORBITING||this.type===Ht.EXPLORING?(Vs(this.matrix,this.matrix,this.focalPoint),Nr(this.matrix,this.matrix,s),Vs(this.matrix,this.matrix,[0,0,this.distance])):this.type===Ht.TRACKING&&(Vs(this.matrix,this.matrix,this.position),Nr(this.matrix,this.matrix,s))}},{key:"_setPosition",value:function(r,n,i){this.position=Xn(r,n,i);var a=this.matrix;a[12]=this.position[0],a[13]=this.position[1],a[14]=this.position[2],a[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){Xr(this.right,Xn(hn(an(),[1,0,0,0],this.matrix))),Xr(this.up,Xn(hn(an(),[0,1,0,0],this.matrix))),Xr(this.forward,Xn(hn(an(),[0,0,1,0],this.matrix))),$i(this.right,this.right),$i(this.up,this.up),$i(this.forward,this.forward)}},{key:"_getAngles",value:function(){var r=this.distanceVector[0],n=this.distanceVector[1],i=this.distanceVector[2],a=En(this.distanceVector);if(a===0){this.elevation=0,this.azimuth=0;return}this.type===Ht.TRACKING?(this.elevation=Ki(Math.asin(n/a)),this.azimuth=Ki(Math.atan2(-r,-i))):this.rotateWorld?(this.elevation=Ki(Math.asin(n/a)),this.azimuth=Ki(Math.atan2(-r,-i))):(this.elevation=-Ki(Math.asin(n/a)),this.azimuth=-Ki(Math.atan2(-r,-i)))}},{key:"_getPosition",value:function(){Xr(this.position,Xn(hn(an(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){_B(this.distanceVector,[0,0,-this.distance],cB(vk(),this.matrix)),Fi(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=$f(at(),this.focalPoint,this.position),this.distance=En(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===Xi.ORTHOGRAPHIC){var r=this.position,n=ta($t(),[0,0,1],-this.roll*Math.PI/180);Us(this.orthoMatrix,n,ft((this.rright-this.left)/2-r[0],(this.top-this.bottom)/2-r[1],0),ft(this.zoom,this.zoom,1),r)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var r=this.getViewTransform(),n=Nr(gt(),this.getPerspective(),r);this.getFrustum().extractFromVPMatrix(n),this.eventEmitter.emit(ZB.UPDATED)}}},{key:"rotate",value:function(r,n,i){throw new Error(Yt)}},{key:"pan",value:function(r,n){throw new Error(Yt)}},{key:"dolly",value:function(r){throw new Error(Yt)}},{key:"createLandmark",value:function(r,n){throw new Error(Yt)}},{key:"gotoLandmark",value:function(r,n){throw new Error(Yt)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(Yt)}}])}(),Mte=function(e){return e[e.Standard=0]="Standard",e}({}),Vv=function(e){return e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",e}({}),Nte=at(),Sc=gt(),Ate=$t();function YN(e){if(e.localDirtyFlag){var t=e.localSkew[0]!==0||e.localSkew[1]!==0;if(t){Us(e.localTransform,e.localRotation,e.localPosition,ft(1,1,1),e.origin),(e.localSkew[0]!==0||e.localSkew[1]!==0)&&(qi(Sc),Sc[4]=Math.tan(e.localSkew[0]),Sc[1]=Math.tan(e.localSkew[1]),Nr(e.localTransform,e.localTransform,Sc));var r=Us(Sc,$v(Ate,0,0,0,1),Jt(Nte,1,1,1),e.localScale,e.origin);Nr(e.localTransform,e.localTransform,r)}else{var n=e.localTransform,i=e.localPosition,a=e.localRotation,s=e.localScale,o=e.origin,l=i[0]!==0||i[1]!==0||i[2]!==0,u=a[3]!==1||a[0]!==0||a[1]!==0||a[2]!==0,c=s[0]!==1||s[1]!==1||s[2]!==1,f=o[0]!==0||o[1]!==0||o[2]!==0;!u&&!c&&!f?l?Qn(n,i):qi(n):Us(n,a,i,s,o)}e.localDirtyFlag=!1}}function Pte(e,t){e.dirtyFlag&&(t?Nr(e.worldTransform,t.worldTransform,e.localTransform):Qs(e.worldTransform,e.localTransform),e.dirtyFlag=!1)}var JB={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Yu(0,0,0,0)},De=function(e){return e.COORDINATE="<coordinate>",e.COLOR="<color>",e.PAINT="<paint>",e.NUMBER="<number>",e.ANGLE="<angle>",e.OPACITY_VALUE="<opacity-value>",e.SHADOW_BLUR="<shadow-blur>",e.LENGTH="<length>",e.PERCENTAGE="<percentage>",e.LENGTH_PERCENTAGE="<length> | <percentage>",e.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",e.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",e.LIST_OF_POINTS="<list-of-points>",e.PATH="<path>",e.FILTER="<filter>",e.Z_INDEX="<z-index>",e.OFFSET_DISTANCE="<offset-distance>",e.DEFINED_PATH="<defined-path>",e.MARKER="<marker>",e.TRANSFORM="<transform>",e.TRANSFORM_ORIGIN="<transform-origin>",e.TEXT="<text>",e.TEXT_TRANSFORM="<text-transform>",e}({});function Ak(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function e4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fh(){}var Gf=.7,Uv=1/Gf,ku="\\s*([+-]?\\d+)\\s*",qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ote=/^#([0-9a-f]{3,8})$/,Cte=new RegExp(`^rgb\\(${ku},${ku},${ku}\\)$`),Rte=new RegExp(`^rgb\\(${cs},${cs},${cs}\\)$`),Lte=new RegExp(`^rgba\\(${ku},${ku},${ku},${qf}\\)$`),Ite=new RegExp(`^rgba\\(${cs},${cs},${cs},${qf}\\)$`),Dte=new RegExp(`^hsl\\(${qf},${cs},${cs}\\)$`),Fte=new RegExp(`^hsla\\(${qf},${cs},${cs},${qf}\\)$`),XN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ak(fh,ig,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:KN,formatHex:KN,formatHex8:$te,formatHsl:Bte,formatRgb:ZN,toString:ZN});function KN(){return this.rgb().formatHex()}function $te(){return this.rgb().formatHex8()}function Bte(){return t4(this).formatHsl()}function ZN(){return this.rgb().formatRgb()}function ig(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Ote.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?QN(t):r===3?new fi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Xh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Xh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Cte.exec(e))?new fi(t[1],t[2],t[3],1):(t=Rte.exec(e))?new fi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Lte.exec(e))?Xh(t[1],t[2],t[3],t[4]):(t=Ite.exec(e))?Xh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Dte.exec(e))?tA(t[1],t[2]/100,t[3]/100,1):(t=Fte.exec(e))?tA(t[1],t[2]/100,t[3]/100,t[4]):XN.hasOwnProperty(e)?QN(XN[e]):e==="transparent"?new fi(NaN,NaN,NaN,0):null}function QN(e){return new fi(e>>16&255,e>>8&255,e&255,1)}function Xh(e,t,r,n){return n<=0&&(e=t=r=NaN),new fi(e,t,r,n)}function zte(e){return e instanceof fh||(e=ig(e)),e?(e=e.rgb(),new fi(e.r,e.g,e.b,e.opacity)):new fi}function Gte(e,t,r,n){return arguments.length===1?zte(e):new fi(e,t,r,n??1)}function fi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ak(fi,Gte,e4(fh,{brighter(e){return e=e==null?Uv:Math.pow(Uv,e),new fi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gf:Math.pow(Gf,e),new fi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fi(Tl(this.r),Tl(this.g),Tl(this.b),Hv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JN,formatHex:JN,formatHex8:qte,formatRgb:eA,toString:eA}));function JN(){return`#${bl(this.r)}${bl(this.g)}${bl(this.b)}`}function qte(){return`#${bl(this.r)}${bl(this.g)}${bl(this.b)}${bl((isNaN(this.opacity)?1:this.opacity)*255)}`}function eA(){const e=Hv(this.opacity);return`${e===1?"rgb(":"rgba("}${Tl(this.r)}, ${Tl(this.g)}, ${Tl(this.b)}${e===1?")":`, ${e})`}`}function Hv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bl(e){return e=Tl(e),(e<16?"0":"")+e.toString(16)}function tA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ka(e,t,r,n)}function t4(e){if(e instanceof ka)return new ka(e.h,e.s,e.l,e.opacity);if(e instanceof fh||(e=ig(e)),!e)return new ka;if(e instanceof ka)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ka(s,o,l,e.opacity)}function jte(e,t,r,n){return arguments.length===1?t4(e):new ka(e,t,r,n??1)}function ka(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ak(ka,jte,e4(fh,{brighter(e){return e=e==null?Uv:Math.pow(Uv,e),new ka(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gf:Math.pow(Gf,e),new ka(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new fi(R0(e>=240?e-240:e+120,i,n),R0(e,i,n),R0(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ka(rA(this.h),Kh(this.s),Kh(this.l),Hv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hv(this.opacity);return`${e===1?"hsl(":"hsla("}${rA(this.h)}, ${Kh(this.s)*100}%, ${Kh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rA(e){return e=(e||0)%360,e<0?e+360:e}function Kh(e){return Math.max(0,Math.min(1,e||0))}function R0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function qr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var r=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=t?t.apply(this,a):a[0],l=r.cache;if(l.has(o))return l.get(o);var u=e.apply(this,a);return r.cache=l.set(o,u)||l,u};return r.cache=new(qr.Cache||Map),qr.cacheList.push(r.cache),r}qr.Cache=Map;qr.cacheList=[];qr.clearCache=function(){qr.cacheList.forEach(function(e){return e.clear()})};var ze=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kNumber=1]="kNumber",e[e.kPercentage=2]="kPercentage",e[e.kEms=3]="kEms",e[e.kPixels=4]="kPixels",e[e.kRems=5]="kRems",e[e.kDegrees=6]="kDegrees",e[e.kRadians=7]="kRadians",e[e.kGradians=8]="kGradians",e[e.kTurns=9]="kTurns",e[e.kMilliseconds=10]="kMilliseconds",e[e.kSeconds=11]="kSeconds",e[e.kInteger=12]="kInteger",e}({}),Ea=function(e){return e[e.kUNumber=0]="kUNumber",e[e.kUPercent=1]="kUPercent",e[e.kULength=2]="kULength",e[e.kUAngle=3]="kUAngle",e[e.kUTime=4]="kUTime",e[e.kUOther=5]="kUOther",e}({}),Wte=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),Vte=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),Ute=[{name:"em",unit_type:ze.kEms},{name:"px",unit_type:ze.kPixels},{name:"deg",unit_type:ze.kDegrees},{name:"rad",unit_type:ze.kRadians},{name:"grad",unit_type:ze.kGradians},{name:"ms",unit_type:ze.kMilliseconds},{name:"s",unit_type:ze.kSeconds},{name:"rem",unit_type:ze.kRems},{name:"turn",unit_type:ze.kTurns}],Xu=function(e){return e[e.kUnknownType=0]="kUnknownType",e[e.kUnparsedType=1]="kUnparsedType",e[e.kKeywordType=2]="kKeywordType",e[e.kUnitType=3]="kUnitType",e[e.kSumType=4]="kSumType",e[e.kProductType=5]="kProductType",e[e.kNegateType=6]="kNegateType",e[e.kInvertType=7]="kInvertType",e[e.kMinType=8]="kMinType",e[e.kMaxType=9]="kMaxType",e[e.kClampType=10]="kClampType",e[e.kTransformType=11]="kTransformType",e[e.kPositionType=12]="kPositionType",e[e.kURLImageType=13]="kURLImageType",e[e.kColorType=14]="kColorType",e[e.kUnsupportedColorType=15]="kUnsupportedColorType",e}({}),Hte=function(t){return Ute.find(function(r){return r.name===t}).unit_type},Yte=function(t){return t?t==="number"?ze.kNumber:t==="percent"||t==="%"?ze.kPercentage:Hte(t):ze.kUnknown},Xte=function(t){switch(t){case ze.kNumber:case ze.kInteger:return Ea.kUNumber;case ze.kPercentage:return Ea.kUPercent;case ze.kPixels:return Ea.kULength;case ze.kMilliseconds:case ze.kSeconds:return Ea.kUTime;case ze.kDegrees:case ze.kRadians:case ze.kGradians:case ze.kTurns:return Ea.kUAngle;default:return Ea.kUOther}},Kte=function(t){switch(t){case Ea.kUNumber:return ze.kNumber;case Ea.kULength:return ze.kPixels;case Ea.kUPercent:return ze.kPercentage;case Ea.kUTime:return ze.kSeconds;case Ea.kUAngle:return ze.kDegrees;default:return ze.kUnknown}},nA=function(t){var r=1;switch(t){case ze.kPixels:case ze.kDegrees:case ze.kSeconds:break;case ze.kMilliseconds:r=.001;break;case ze.kRadians:r=180/Math.PI;break;case ze.kGradians:r=.9;break;case ze.kTurns:r=360;break}return r},a2=function(t){switch(t){case ze.kNumber:case ze.kInteger:return"";case ze.kPercentage:return"%";case ze.kEms:return"em";case ze.kRems:return"rem";case ze.kPixels:return"px";case ze.kDegrees:return"deg";case ze.kRadians:return"rad";case ze.kGradians:return"grad";case ze.kMilliseconds:return"ms";case ze.kSeconds:return"s";case ze.kTurns:return"turn"}return""},ag=function(){function e(){ae(this,e)}return se(e,[{key:"toString",value:function(){return this.buildCSSText(Wte.kNo,Vte.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=Xu.kUnitType&&this.getType()<=Xu.kClampType}}],[{key:"isAngle",value:function(r){return r===ze.kDegrees||r===ze.kRadians||r===ze.kGradians||r===ze.kTurns}},{key:"isLength",value:function(r){return r>=ze.kEms&&r<ze.kDegrees}},{key:"isRelativeUnit",value:function(r){return r===ze.kPercentage||r===ze.kEms||r===ze.kRems}},{key:"isTime",value:function(r){return r===ze.kSeconds||r===ze.kMilliseconds}}])}(),Zte=function(e){function t(r){var n;return ae(this,t),n=Ye(this,t),n.colorSpace=r,n}return Xe(t,e),se(t,[{key:"getType",value:function(){return Xu.kColorType}},{key:"to",value:function(n){return this}}])}(ag),Zh=function(e){return e[e.Constant=0]="Constant",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient",e}({}),Qh=function(e){function t(r,n){var i;return ae(this,t),i=Ye(this,t),i.type=r,i.value=n,i}return Xe(t,e),se(t,[{key:"clone",value:function(){return new t(this.type,this.value)}},{key:"buildCSSText",value:function(n,i,a){return a}},{key:"getType",value:function(){return Xu.kColorType}}])}(ag),Ba=function(e){function t(r){var n;return ae(this,t),n=Ye(this,t),n.value=r,n}return Xe(t,e),se(t,[{key:"clone",value:function(){return new t(this.value)}},{key:"getType",value:function(){return Xu.kKeywordType}},{key:"buildCSSText",value:function(n,i,a){return a+this.value}}])}(ag),Qte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n="";return Number.isFinite(t)?n="NaN":t>0?n="infinity":n="-infinity",n+=r},s2=function(t){return Kte(Xte(t))},mn=function(e){function t(r){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ze.kNumber;ae(this,t),n=Ye(this,t);var a;return typeof i=="string"?a=Yte(i):a=i,n.unit=a,n.value=r,n}return Xe(t,e),se(t,[{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"equals",value:function(n){var i=n;return this.value===i.value&&this.unit===i.unit}},{key:"getType",value:function(){return Xu.kUnitType}},{key:"convertTo",value:function(n){if(this.unit===n)return new t(this.value,this.unit);var i=s2(this.unit);if(i!==s2(n)||i===ze.kUnknown)return null;var a=nA(this.unit)/nA(n);return new t(this.value*a,n)}},{key:"buildCSSText",value:function(n,i,a){var s;switch(this.unit){case ze.kUnknown:break;case ze.kInteger:s=Number(this.value).toFixed(0);break;case ze.kNumber:case ze.kPercentage:case ze.kEms:case ze.kRems:case ze.kPixels:case ze.kDegrees:case ze.kRadians:case ze.kGradians:case ze.kMilliseconds:case ze.kSeconds:case ze.kTurns:{var o=-999999,l=999999,u=this.value,c=a2(this.unit);if(u<o||u>l){var f=a2(this.unit);!Number.isFinite(u)||Number.isNaN(u)?s=Qte(u,f):s=u+(f||"")}else s="".concat(u).concat(c)}}return a+=s,a}}])}(ag),ya=new mn(0,"px");new mn(1,"px");var $l=new mn(0,"deg"),Pk=function(e){function t(r,n,i){var a,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return ae(this,t),a=Ye(this,t,["rgb"]),a.r=r,a.g=n,a.b=i,a.alpha=s,a.isNone=o,a}return Xe(t,e),se(t,[{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(n,i,a){return"".concat(a,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(Zte),iA=new Ba("unset"),Jte=new Ba("initial"),ere=new Ba("inherit"),L0={"":iA,unset:iA,initial:Jte,inherit:ere},tre=function(t){return L0[t]||(L0[t]=new Ba(t)),L0[t]},r4=new Pk(0,0,0,0,!0),n4=new Pk(0,0,0,0),rre=qr(function(e,t,r,n){return new Pk(e,t,r,n)},function(e,t,r,n){return"rgba(".concat(e,",").concat(t,",").concat(r,",").concat(n,")")}),vr=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ze.kNumber;return new mn(t,r)};new mn(50,"%");function nre(e){var t=e.type,r=e.value;return t==="hex"?"#".concat(r):t==="literal"?r:t==="rgb"?"rgb(".concat(r.join(","),")"):"rgba(".concat(r.join(","),")")}var ire=function(){var e={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function r(G){throw new Error("".concat(t,": ").concat(G))}function n(){var G=i();return t.length>0&&r("Invalid input not EOF"),G}function i(){return b(a)}function a(){return s("linear-gradient",e.linearGradient,l)||s("repeating-linear-gradient",e.repeatingLinearGradient,l)||s("radial-gradient",e.radialGradient,f)||s("repeating-radial-gradient",e.repeatingRadialGradient,f)||s("conic-gradient",e.conicGradient,f)}function s(G,z,Z){return o(z,function(ge){var xe=Z();return xe&&(F(e.comma)||r("Missing comma before color stops")),{type:G,orientation:xe,colorStops:b(_)}})}function o(G,z){var Z=F(G);if(Z){F(e.startCall)||r("Missing (");var ge=z(Z);return F(e.endCall)||r("Missing )"),ge}}function l(){return u()||c()}function u(){return I("directional",e.sideOrCorner,1)}function c(){return I("angular",e.angleValue,1)}function f(){var G,z=h(),Z;return z&&(G=[],G.push(z),Z=t,F(e.comma)&&(z=h(),z?G.push(z):t=Z)),G}function h(){var G=d()||v();if(G)G.at=g();else{var z=p();if(z){G=z;var Z=g();Z&&(G.at=Z)}else{var ge=m();ge&&(G={type:"default-radial",at:ge})}}return G}function d(){var G=I("shape",/^(circle)/i,0);return G&&(G.style=L()||p()),G}function v(){var G=I("shape",/^(ellipse)/i,0);return G&&(G.style=O()||p()),G}function p(){return I("extent-keyword",e.extentKeywords,1)}function g(){if(I("position",/^at/,0)){var G=m();return G||r("Missing positioning value"),G}}function m(){var G=y();if(G.x||G.y)return{type:"position",value:G}}function y(){return{x:O(),y:O()}}function b(G){var z=G(),Z=[];if(z)for(Z.push(z);F(e.comma);)z=G(),z?Z.push(z):r("One extra comma");return Z}function _(){var G=x();return G||r("Expected color definition"),G.length=O(),G}function x(){return w()||A()||S()||E()}function E(){return I("literal",e.literalColor,0)}function w(){return I("hex",e.hexColor,1)}function S(){return o(e.rgbColor,function(){return{type:"rgb",value:b(P)}})}function A(){return o(e.rgbaColor,function(){return{type:"rgba",value:b(P)}})}function P(){return F(e.number)[1]}function O(){return I("%",e.percentageValue,1)||C()||L()}function C(){return I("position-keyword",e.positionKeywords,1)}function L(){return I("px",e.pixelValue,1)||I("em",e.emValue,1)}function I(G,z,Z){var ge=F(z);if(ge)return{type:G,value:ge[Z]}}function F(G){var z=/^[\n\r\t\s]+/.exec(t);z&&U(z[0].length);var Z=G.exec(t);return Z&&U(Z[0].length),Z}function U(G){t=t.substring(G)}return function(G){return t=G,n()}}(),are=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,sre=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,ore=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,i4=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function lre(e){var t,r=e.length;if(e[r-1].length=(t=e[r-1].length)!==null&&t!==void 0?t:{type:"%",value:"100"},r>1){var n;e[0].length=(n=e[0].length)!==null&&n!==void 0?n:{type:"%",value:"0"}}for(var i=0,a=Number(e[0].length.value),s=1;s<r;s++){var o,l=(o=e[s].length)===null||o===void 0?void 0:o.value;if(!Ze(l)&&!Ze(a)){for(var u=1;u<s-i;u++)e[i+u].length={type:"%",value:"".concat(a+(Number(l)-a)*u/(s-i))};i=s,a=Number(l)}}}var ure={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},cre=qr(function(e){var t;return e.type==="angular"?t=Number(e.value):t=ure[e.value]||0,vr(t,"deg")}),fre=qr(function(e){var t=50,r=50,n="%",i="%";if(e?.type==="position"){var a=e.value,s=a.x,o=a.y;s?.type==="position-keyword"&&(s.value==="left"?t=0:s.value==="center"?t=50:s.value==="right"?t=100:s.value==="top"?r=0:s.value==="bottom"&&(r=100)),o?.type==="position-keyword"&&(o.value==="left"?t=0:o.value==="center"?r=50:o.value==="right"?t=100:o.value==="top"?r=0:o.value==="bottom"&&(r=100)),(s?.type==="px"||s?.type==="%"||s?.type==="em")&&(n=s?.type,t=Number(s.value)),(o?.type==="px"||o?.type==="%"||o?.type==="em")&&(i=o?.type,r=Number(o.value))}return{cx:vr(t,n),cy:vr(r,i)}}),hre=qr(function(e){if(e.indexOf("linear")>-1||e.indexOf("radial")>-1){var t=ire(e);return t.map(function(o){var l=o.type,u=o.orientation,c=o.colorStops;lre(c);var f=c.map(function(b){return{offset:vr(Number(b.length.value),"%"),color:nre(b)}});if(l==="linear-gradient")return new Qh(Zh.LinearGradient,{angle:u?cre(u):$l,steps:f});if(l==="radial-gradient"&&(u||(u=[{type:"shape",value:"circle"}]),u[0].type==="shape"&&u[0].value==="circle")){var h=fre(u[0].at),d=h.cx,v=h.cy,p;if(u[0].style){var g=u[0].style,m=g.type,y=g.value;m==="extent-keyword"?p=tre(y):p=vr(y,m)}return new Qh(Zh.RadialGradient,{cx:d,cy:v,size:p,steps:f})}})}var r=e[0];if(e[1]==="("||e[2]==="("){if(r==="l"){var n=are.exec(e);if(n){var i,a=((i=n[2].match(i4))===null||i===void 0?void 0:i.map(function(o){return o.split(":")}))||[];return[new Qh(Zh.LinearGradient,{angle:vr(parseFloat(n[1]),"deg"),steps:a.map(function(o){var l=Je(o,2),u=l[0],c=l[1];return{offset:vr(Number(u)*100,"%"),color:c}})})]}}else if(r==="r"){var s=dre(e);if(s)if(At(s))e=s;else return[new Qh(Zh.RadialGradient,s)]}else if(r==="p")return vre(e)}});function dre(e){var t=sre.exec(e);if(t){var r,n=((r=t[4].match(i4))===null||r===void 0?void 0:r.map(function(i){return i.split(":")}))||[];return{cx:vr(50,"%"),cy:vr(50,"%"),steps:n.map(function(i){var a=Je(i,2),s=a[0],o=a[1];return{offset:vr(Number(s)*100,"%"),color:o}})}}return null}function vre(e){var t=ore.exec(e);if(t){var r=t[1],n=t[2];switch(r){case"a":r="repeat";break;case"x":r="repeat-x";break;case"y":r="repeat-y";break;case"n":r="no-repeat";break;default:r="no-repeat"}return{image:n,repetition:r}}return null}function pre(e){return e&&!!e.image}function aA(e){return e&&!Ze(e.r)&&!Ze(e.g)&&!Ze(e.b)}var vf=qr(function(e){if(pre(e))return tt({repetition:"repeat"},e);if(Ze(e)&&(e=""),e==="transparent")return n4;if(e==="currentColor")e="black";else if(e==="none")return r4;var t=hre(e);if(t)return t;var r=ig(e),n=[0,0,0,0];return r!==null&&(n[0]=r.r||0,n[1]=r.g||0,n[2]=r.b||0,n[3]=r.opacity),rre.apply(void 0,n)});function gre(e,t){if(!(!aA(e)||!aA(t)))return[[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],function(r){var n=r.slice();if(n[3])for(var i=0;i<3;i++)n[i]=Math.round(dr(n[i],0,255));return n[3]=dr(n[3],0,1),"rgba(".concat(n.join(","),")")}]}function hh(e,t){if(Ze(t))return vr(0,"px");if(t="".concat(t).trim().toLowerCase(),isFinite(Number(t))){if("px".search(e)>=0)return vr(Number(t),"px");if("deg".search(e)>=0)return vr(Number(t),"deg")}var r=[];t=t.replace(e,function(i){return r.push(i),"U".concat(i)});var n="U(".concat(e.source,")");return r.map(function(i){return vr(Number(t.replace(new RegExp("U".concat(i),"g"),"").replace(new RegExp(n,"g"),"*0")),i)})[0]}var a4=function(t){return hh(new RegExp("px","g"),t)},mre=qr(a4),yre=function(t){return hh(new RegExp("%","g"),t)};qr(yre);var s4=function(t){return rt(t)||isFinite(Number(t))?vr(Number(t)||0,"px"):hh(new RegExp("px|%|em|rem","g"),t)},o2=qr(s4),o4=function(t){return hh(new RegExp("deg|rad|grad|turn","g"),t)},bre=qr(o4);function wre(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a="",s=e.value||0,o=t.value||0,l=s2(e.unit),u=e.convertTo(l),c=t.convertTo(l);return u&&c?(s=u.value,o=c.value,a=a2(e.unit)):(mn.isLength(e.unit)||mn.isLength(t.unit))&&(s=Ai(e,i,r),o=Ai(t,i,r),a="px"),[s,o,function(f){return f+a}]}function oi(e){var t=0;return e.unit===ze.kDegrees?t=e.value:e.unit===ze.kRadians?t=Ki(Number(e.value)):e.unit===ze.kTurns?t=bte(Number(e.value)):e.value&&(t=e.value),t}function sA(e,t){var r;return Array.isArray(e)?r=e.map(function(n){return Number(n)}):At(e)?r=e.split(" ").map(function(n){return Number(n)}):rt(e)&&(r=[e]),t===2?r.length===1?[r[0],r[0]]:[r[0],r[1]]:t===4?r.length===1?[r[0],r[0],r[0],r[0]]:r.length===2?[r[0],r[1],r[0],r[1]]:r.length===3?[r[0],r[1],r[2],r[1]]:[r[0],r[1],r[2],r[3]]:t==="even"&&r.length%2===1?[].concat(it(r),it(r)):r}function Ai(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.unit===ze.kPixels)return Number(e.value);if(e.unit===ze.kPercentage&&r){var i=r.nodeName===Ue.GROUP?r.getLocalBounds():r.getGeometryBounds();return(n?i.min[t]:0)+e.value/100*i.halfExtents[t]*2}return 0}var xre=function(t){return hh(/deg|rad|grad|turn|px|%/g,t)},Ere=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function _re(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(e=e.toLowerCase().trim(),e==="none")return[];for(var t=/\s*([\w-]+)\(([^)]*)\)/g,r=[],n,i=0;n=t.exec(e);){if(n.index!==i)return[];if(i=n.index+n[0].length,Ere.indexOf(n[1])>-1&&r.push({name:n[1],params:n[2].split(" ").map(function(a){return xre(a)||vf(a)})}),t.lastIndex===e.length)return r}return[]}function l4(e){return e.toString()}var u4=function(t){return typeof t=="number"?vr(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?vr(Number(t)):vr(0)},l2=qr(u4);qr(function(e){return At(e)?e.split(" ").map(l2):e.map(l2)});function Ok(e,t){return[e,t,l4]}function Ck(e,t){return function(r,n){return[r,n,function(i){return l4(dr(i,e,t))}]}}function c4(e,t){if(e.length===t.length)return[e,t,function(r){return r}]}function oA(e){return e.parsedStyle.d.totalLength===0&&(e.parsedStyle.d.totalLength=GB(e.parsedStyle.d.absolutePath)),e.parsedStyle.d.totalLength}function kre(e){return e.parsedStyle.points.totalLength===0&&(e.parsedStyle.points.totalLength=YB(e.parsedStyle.points.points)),e.parsedStyle.points.totalLength}function Sre(e){for(var t=0;t<e.length;t++){var r=e[t-1],n=e[t],i=n[0];if(i==="M"&&r){var a=r[0],s=[n[1],n[2]],o=void 0;a==="L"||a==="M"?o=[r[1],r[2]]:(a==="C"||a==="A"||a==="Q")&&(o=[r[r.length-2],r[r.length-1]]),o&&Yv(s,o)&&(e.splice(t,1),t--)}}}function Tre(e){for(var t=!1,r=e.length,n=0;n<r;n++){var i=e[n],a=i[0];if(a==="C"||a==="A"||a==="Q"){t=!0;break}}return t}function Mre(e){for(var t=[],r=[],n=[],i=0;i<e.length;i++){var a=e[i],s=a[0];s==="M"?(n.length&&(r.push(n),n=[]),n.push([a[1],a[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([a[1],a[2]])}return n.length>0&&r.push(n),{polygons:t,polylines:r}}function Yv(e,t){return e[0]===t[0]&&e[1]===t[1]}function Nre(e,t){for(var r=[],n=[],i=[],a=0;a<e.length;a++){var s=e[a],o=s.currentPoint,l=s.params,u=s.prePoint,c=void 0;switch(s.command){case"Q":c=XB(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=HB(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=s.arcParams;c=VB(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:r.push(o[0]),n.push(o[1]);break}c&&(s.box=c,r.push(c.x,c.x+c.width),n.push(c.y,c.y+c.height))}r=r.filter(function(_){return!Number.isNaN(_)&&_!==1/0&&_!==-1/0}),n=n.filter(function(_){return!Number.isNaN(_)&&_!==1/0&&_!==-1/0});var h=Uu(r),d=Uu(n),v=Vu(r),p=Vu(n);if(i.length===0)return{x:h,y:d,width:v-h,height:p-d};for(var g=0;g<i.length;g++){var m=i[g],y=m.currentPoint,b=void 0;y[0]===h?(b=Jh(m,t),h-=b.xExtra):y[0]===v&&(b=Jh(m,t),v+=b.xExtra),y[1]===d?(b=Jh(m,t),d-=b.yExtra):y[1]===p&&(b=Jh(m,t),p+=b.yExtra)}return{x:h,y:d,width:v-h,height:p-d}}function Jh(e,t){var r=e.prePoint,n=e.currentPoint,i=e.nextPoint,a=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),o=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),l=Math.acos((a+s-o)/(2*Math.sqrt(a)*Math.sqrt(s)));if(!l||Math.sin(l)===0||Eu(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-n[1],i[0]-n[0])),c=Math.abs(Math.atan2(i[0]-n[0],i[1]-n[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var f={xExtra:Math.cos(l/2-u)*(t/2*(1/Math.sin(l/2)))-t/2||0,yExtra:Math.cos(c-l/2)*(t/2*(1/Math.sin(l/2)))-t/2||0};return f}function lA(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}var uA=function(t,r){var n=t.x*r.x+t.y*r.y,i=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(r.x,2)+Math.pow(r.y,2))),a=t.x*r.y-t.y*r.x<0?-1:1,s=a*Math.acos(n/i);return s},cA=function(t,r,n,i,a,s,o,l){r=Math.abs(r),n=Math.abs(n),i=tg(i,360);var u=Qt(i);if(t.x===o.x&&t.y===o.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(r===0||n===0)return{x:0,y:0,ellipticalArcAngle:0};var c=(t.x-o.x)/2,f=(t.y-o.y)/2,h={x:Math.cos(u)*c+Math.sin(u)*f,y:-Math.sin(u)*c+Math.cos(u)*f},d=Math.pow(h.x,2)/Math.pow(r,2)+Math.pow(h.y,2)/Math.pow(n,2);d>1&&(r*=Math.sqrt(d),n*=Math.sqrt(d));var v=Math.pow(r,2)*Math.pow(n,2)-Math.pow(r,2)*Math.pow(h.y,2)-Math.pow(n,2)*Math.pow(h.x,2),p=Math.pow(r,2)*Math.pow(h.y,2)+Math.pow(n,2)*Math.pow(h.x,2),g=v/p;g=g<0?0:g;var m=(a!==s?1:-1)*Math.sqrt(g),y={x:m*(r*h.y/n),y:m*(-(n*h.x)/r)},b={x:Math.cos(u)*y.x-Math.sin(u)*y.y+(t.x+o.x)/2,y:Math.sin(u)*y.x+Math.cos(u)*y.y+(t.y+o.y)/2},_={x:(h.x-y.x)/r,y:(h.y-y.y)/n},x=uA({x:1,y:0},_),E={x:(-h.x-y.x)/r,y:(-h.y-y.y)/n},w=uA(_,E);!s&&w>0?w-=2*Math.PI:s&&w<0&&(w+=2*Math.PI),w%=2*Math.PI;var S=x+w*l,A=r*Math.cos(S),P=n*Math.sin(S),O={x:Math.cos(u)*A-Math.sin(u)*P+b.x,y:Math.sin(u)*A+Math.cos(u)*P+b.y,ellipticalArcStartAngle:x,ellipticalArcEndAngle:x+w,ellipticalArcAngle:S,ellipticalArcCenter:b,resultantRx:r,resultantRy:n};return O};function Are(e){for(var t=[],r=null,n=null,i=null,a=0,s=e.length,o=0;o<s;o++){var l=e[o];n=e[o+1];var u=l[0],c={command:u,prePoint:r,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(u){case"M":i=[l[1],l[2]],a=o;break;case"A":var f=Pre(r,l);c.arcParams=f;break}if(u==="Z")r=i,n=e[a+1];else{var h=l.length;r=[l[h-2],l[h-1]]}n&&n[0]==="Z"&&(n=e[a],t[a]&&(t[a].prePoint=r)),c.currentPoint=r,t[a]&&Yv(r,t[a].currentPoint)&&(t[a].prePoint=c.prePoint);var d=n?[n[n.length-2],n[n.length-1]]:null;c.nextPoint=d;var v=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[v[0]-r[0],v[1]-r[1]],c.endTangent=[r[0]-v[0],r[1]-v[1]];else if(u==="Q"){var p=[l[1],l[2]];c.startTangent=[v[0]-p[0],v[1]-p[1]],c.endTangent=[r[0]-p[0],r[1]-p[1]]}else if(u==="T"){var g=t[o-1],m=lA(g.currentPoint,v);g.command==="Q"?(c.command="Q",c.startTangent=[v[0]-m[0],v[1]-m[1]],c.endTangent=[r[0]-m[0],r[1]-m[1]]):(c.command="TL",c.startTangent=[v[0]-r[0],v[1]-r[1]],c.endTangent=[r[0]-v[0],r[1]-v[1]])}else if(u==="C"){var y=[l[1],l[2]],b=[l[3],l[4]];c.startTangent=[v[0]-y[0],v[1]-y[1]],c.endTangent=[r[0]-b[0],r[1]-b[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[y[0]-b[0],y[1]-b[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[b[0]-y[0],b[1]-y[1]])}else if(u==="S"){var _=t[o-1],x=lA(_.currentPoint,v),E=[l[1],l[2]];_.command==="C"?(c.command="C",c.startTangent=[v[0]-x[0],v[1]-x[1]],c.endTangent=[r[0]-E[0],r[1]-E[1]]):(c.command="SQ",c.startTangent=[v[0]-E[0],v[1]-E[1]],c.endTangent=[r[0]-E[0],r[1]-E[1]])}else if(u==="A"){var w=fA(c,0),S=w.x,A=w.y,P=fA(c,1,!1),O=P.x,C=P.y;c.startTangent=[S,A],c.endTangent=[O,C]}t.push(c)}return t}function fA(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.arcParams,i=n.rx,a=i===void 0?0:i,s=n.ry,o=s===void 0?0:s,l=n.xRotation,u=n.arcFlag,c=n.sweepFlag,f=cA({x:e.prePoint[0],y:e.prePoint[1]},a,o,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},t),h=cA({x:e.prePoint[0],y:e.prePoint[1]},a,o,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},r?t+.005:t-.005),d=h.x-f.x,v=h.y-f.y,p=Math.sqrt(d*d+v*v);return{x:-d/p,y:-v/p}}function ed(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function u2(e,t){return ed(e)*ed(t)?(e[0]*t[0]+e[1]*t[1])/(ed(e)*ed(t)):1}function hA(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(u2(e,t))}function Pre(e,t){var r=t[1],n=t[2],i=tg(Qt(t[3]),Math.PI*2),a=t[4],s=t[5],o=e[0],l=e[1],u=t[6],c=t[7],f=Math.cos(i)*(o-u)/2+Math.sin(i)*(l-c)/2,h=-1*Math.sin(i)*(o-u)/2+Math.cos(i)*(l-c)/2,d=f*f/(r*r)+h*h/(n*n);d>1&&(r*=Math.sqrt(d),n*=Math.sqrt(d));var v=r*r*(h*h)+n*n*(f*f),p=v?Math.sqrt((r*r*(n*n)-v)/v):1;a===s&&(p*=-1),isNaN(p)&&(p=0);var g=n?p*r*h/n:0,m=r?p*-n*f/r:0,y=(o+u)/2+Math.cos(i)*g-Math.sin(i)*m,b=(l+c)/2+Math.sin(i)*g+Math.cos(i)*m,_=[(f-g)/r,(h-m)/n],x=[(-1*f-g)/r,(-1*h-m)/n],E=hA([1,0],_),w=hA(_,x);return u2(_,x)<=-1&&(w=Math.PI),u2(_,x)>=1&&(w=0),s===0&&w>0&&(w-=2*Math.PI),s===1&&w<0&&(w+=2*Math.PI),{cx:y,cy:b,rx:Yv(e,[u,c])?0:r,ry:Yv(e,[u,c])?0:n,startAngle:E,endAngle:E+w,xRotation:i,arcFlag:a,sweepFlag:s}}var f4=function(t){if(t===""||Array.isArray(t)&&t.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var r;try{r=Hu(t)}catch{r=Hu(""),console.error("[g]: Invalid SVG Path definition: ".concat(t))}Sre(r);var n=Tre(r),i=Mre(r),a=i.polygons,s=i.polylines,o=Are(r),l=Nre(o,0),u=l.x,c=l.y,f=l.width,h=l.height;return{absolutePath:r,hasArc:n,segments:o,polygons:a,polylines:s,totalLength:0,rect:{x:Number.isFinite(u)?u:0,y:Number.isFinite(c)?c:0,width:Number.isFinite(f)?f:0,height:Number.isFinite(h)?h:0}}},Ore=qr(f4);function h4(e){return At(e)?Ore(e):f4(e)}function Cre(e,t,r){var n=e.curve,i=t.curve;(!n||n.length===0)&&(n=zf(e.absolutePath,!1),e.curve=n),(!i||i.length===0)&&(i=zf(t.absolutePath,!1),t.curve=i);var a=[n,i];n.length!==i.length&&(a=Nk(n,i));var s=qv(a[0])!==qv(a[1])?$B(a[0]):FB(a[0]);return[s,qB(a[1],s),function(o){return o}]}function Rre(e,t){var r;return At(e)?r=e.split(" ").map(function(n){var i=n.split(","),a=Je(i,2),s=a[0],o=a[1];return[Number(s),Number(o)]}):r=e,{points:r,totalLength:0,segments:[]}}function Lre(e,t){return[e.points,t.points,function(r){return r}]}var kr=null,Su=/\s*(\w+)\(([^)]*)\)/g;function ni(e){return function(t){var r=0;return e.map(function(n){return n===kr?t[r++]:n})}}function Jo(e){return e}var jf={matrix:["NNNNNN",[kr,kr,0,0,kr,kr,0,0,0,0,1,0,kr,kr,0,1],Jo],matrix3d:["NNNNNNNNNNNNNNNN",Jo],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",ni([kr,kr,new mn(1)]),Jo],scaleX:["N",ni([kr,new mn(1),new mn(1)]),ni([kr,new mn(1)])],scaleY:["N",ni([new mn(1),kr,new mn(1)]),ni([new mn(1),kr])],scaleZ:["N",ni([new mn(1),new mn(1),kr])],scale3d:["NNN",Jo],skew:["Aa",null,Jo],skewX:["A",null,ni([kr,$l])],skewY:["A",null,ni([$l,kr])],translate:["Tt",ni([kr,kr,ya]),Jo],translateX:["T",ni([kr,ya,ya]),ni([kr,ya])],translateY:["T",ni([ya,kr,ya]),ni([ya,kr])],translateZ:["L",ni([ya,ya,kr])],translate3d:["TTL",Jo]};function d4(e){for(var t=[],r=e.length,n=0;n<r;n++){var i=e[n],a=i[0],s=i.slice(1);a==="translate"||a==="skew"?s.length===1&&s.push(0):a==="scale"&&s.length===1&&s.push(s[0]);var o=jf[a];if(!o)return[];var l=s.map(function(u){return vr(u)});t.push({t:a,d:l})}return t}function Ire(e){if(Array.isArray(e))return d4(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],r,n=0;for(Su.lastIndex=0;r=Su.exec(e);){if(r.index!==n)return[];n=r.index+r[0].length;var i=r[1],a=jf[i];if(!a)return[];var s=r[2].split(","),o=a[0];if(o.length<s.length)return[];for(var l=[],u=0;u<o.length;u++){var c=s[u],f=o[u],h=void 0;if(c?h={A:function(v){return v.trim()==="0"?$l:bre(v)},N:l2,T:o2,L:mre}[f.toUpperCase()](c):h={a:$l,n:l[0],t:ya}[f],h===void 0)return[];l.push(h)}if(t.push({t:i,d:l}),Su.lastIndex===e.length)return t}return[]}function Dre(e){if(Array.isArray(e))return d4(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],r,n=0;for(Su.lastIndex=0;r=Su.exec(e);){if(r.index!==n)return[];n=r.index+r[0].length;var i=r[1],a=jf[i];if(!a)return[];var s=r[2].split(","),o=a[0];if(o.length<s.length)return[];for(var l=[],u=0;u<o.length;u++){var c=s[u],f=o[u],h=void 0;if(c?h={A:function(v){return v.trim()==="0"?$l:o4(v)},N:u4,T:s4,L:a4}[f.toUpperCase()](c):h={a:$l,n:l[0],t:ya}[f],h===void 0)return[];l.push(h)}if(t.push({t:i,d:l}),Su.lastIndex===e.length)return t}return[]}function Fre(e){var t,r,n,i;switch(e.t){case"rotateX":return i=Qt(oi(e.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotateY":return i=Qt(oi(e.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotateZ":return i=Qt(oi(e.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":t=e.d[0].value,r=e.d[1].value,n=e.d[2].value,i=Qt(oi(e.d[3]));var a=t*t+r*r+n*n;if(a===0)t=1,r=0,n=0;else if(a!==1){var s=Math.sqrt(a);t/=s,r/=s,n/=s}var o=Math.sin(i/2),l=o*Math.cos(i/2),u=o*o;return[1-2*(r*r+n*n)*u,2*(t*r*u+n*l),2*(t*n*u-r*l),0,2*(t*r*u-n*l),1-2*(t*t+n*n)*u,2*(r*n*u+t*l),0,2*(t*n*u+r*l),2*(r*n*u-t*l),1-2*(t*t+r*r)*u,0,0,0,0,1];case"scale":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[e.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,e.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,e.d[0].value,0,0,0,0,1];case"scale3d":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,e.d[2].value,0,0,0,0,1];case"skew":var c=Qt(oi(e.d[0])),f=Qt(oi(e.d[1]));return[1,Math.tan(f),0,0,Math.tan(c),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return i=Qt(oi(e.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return i=Qt(oi(e.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return t=Ai(e.d[0],0,null)||0,r=Ai(e.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,r,0,1];case"translateX":return t=Ai(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,0,0,1];case"translateY":return r=Ai(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,r,0,1];case"translateZ":return n=Ai(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,n,1];case"translate3d":return t=Ai(e.d[0],0,null)||0,r=Ai(e.d[1],0,null)||0,n=Ai(e.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,r,n,1];case"perspective":var h=Ai(e.d[0],0,null)||0,d=h?-1/h:0;return[1,0,0,0,0,1,0,0,0,0,1,d,0,0,0,1];case"matrix":return[e.d[0].value,e.d[1].value,0,0,e.d[2].value,e.d[3].value,0,0,0,0,1,0,e.d[4].value,e.d[5].value,0,1];case"matrix3d":return e.d.map(function(v){return v.value})}}function $re(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function Bre(e){return e.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(Fre).reduce($re)}function dA(e){var t=[0,0,0],r=[1,1,1],n=[0,0,0],i=[0,0,0,1],a=[0,0,0,1];return kte(Bre(e),t,r,n,i,a),[[t,r,n,a,i]]}var zre=function(){function e(n,i){for(var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],s=0;s<4;s++)for(var o=0;o<4;o++)for(var l=0;l<4;l++)a[s][o]+=i[s][l]*n[l][o];return a}function t(n){return n[0][2]===0&&n[0][3]===0&&n[1][2]===0&&n[1][3]===0&&n[2][0]===0&&n[2][1]===0&&n[2][2]===1&&n[2][3]===0&&n[3][2]===0&&n[3][3]===1}function r(n,i,a,s,o){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],u=0;u<4;u++)l[u][3]=o[u];for(var c=0;c<3;c++)for(var f=0;f<3;f++)l[3][c]+=n[f]*l[f][c];var h=s[0],d=s[1],v=s[2],p=s[3],g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];g[0][0]=1-2*(d*d+v*v),g[0][1]=2*(h*d-v*p),g[0][2]=2*(h*v+d*p),g[1][0]=2*(h*d+v*p),g[1][1]=1-2*(h*h+v*v),g[1][2]=2*(d*v-h*p),g[2][0]=2*(h*v-d*p),g[2][1]=2*(d*v+h*p),g[2][2]=1-2*(h*h+d*d),l=e(l,g);var m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];a[2]&&(m[2][1]=a[2],l=e(l,m)),a[1]&&(m[2][1]=0,m[2][0]=a[0],l=e(l,m)),a[0]&&(m[2][0]=0,m[1][0]=a[0],l=e(l,m));for(var y=0;y<3;y++)for(var b=0;b<3;b++)l[y][b]*=i[y];return t(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}return r}();function Gre(e){return e.toFixed(6).replace(".000000","")}function I0(e,t){var r,n;return e.decompositionPair!==t&&(e.decompositionPair=t,r=dA(e)),t.decompositionPair!==e&&(t.decompositionPair=e,n=dA(t)),r[0]===null||n[0]===null?[[!1],[!0],function(i){return i?t[0].d:e[0].d}]:(r[0].push(0),n[0].push(1),[r,n,function(i){var a=jre(r[0][3],n[0][3],i[5]),s=zre(i[0],i[1],i[2],a,i[4]),o=s.map(Gre).join(",");return o}])}function qre(e,t){for(var r=0,n=0;n<e.length;n++)r+=e[n]*t[n];return r}function jre(e,t,r){var n=qre(e,t);n=dr(n,-1,1);var i=[];if(n===1)i=e;else for(var a=Math.acos(n),s=Math.sin(r*a)*1/Math.sqrt(1-n*n),o=0;o<4;o++)i.push(e[o]*(Math.cos(r*a)-n*s)+t[o]*s);return i}function D0(e){return e.replace(/[XY]/,"")}function F0(e){return e.replace(/(X|Y|Z|3d)?$/,"3d")}var Wre=function(t,r){return t==="perspective"&&r==="perspective"||(t==="matrix"||t==="matrix3d")&&(r==="matrix"||r==="matrix3d")};function Vre(e,t,r){var n=!1;if(!e.length||!t.length){e.length||(n=!0,e=t,t=[]);for(var i=function(){var O=e[a],C=O.t,L=O.d,I=C.substring(0,5)==="scale"?1:0;t.push({t:C,d:L.map(function(F){return typeof F=="number"?vr(I):vr(I,F.unit)})})},a=0;a<e.length;a++)i()}var s=[],o=[],l=[];if(e.length!==t.length){var u=I0(e,t);s=[u[0]],o=[u[1]],l=[["matrix",[u[2]]]]}else for(var c=0;c<e.length;c++){var f=e[c].t,h=t[c].t,d=e[c].d,v=t[c].d,p=jf[f],g=jf[h],m=void 0;if(Wre(f,h)){var y=I0([e[c]],[t[c]]);s.push(y[0]),o.push(y[1]),l.push(["matrix",[y[2]]]);continue}else if(f===h)m=f;else if(p[2]&&g[2]&&D0(f)===D0(h))m=D0(f),d=p[2](d),v=g[2](v);else if(p[1]&&g[1]&&F0(f)===F0(h))m=F0(f),d=p[1](d),v=g[1](v);else{var b=I0(e,t);s=[b[0]],o=[b[1]],l=[["matrix",[b[2]]]];break}for(var _=[],x=[],E=[],w=0;w<d.length;w++){var S=wre(d[w],v[w],r,!1,w);_[w]=S[0],x[w]=S[1],E.push(S[2])}s.push(_),o.push(x),l.push([m,E])}if(n){var A=s;s=o,o=A}return[s,o,function(P){return P.map(function(O,C){var L=O.map(function(I,F){return l[C][1][F](I)}).join(",");return l[C][0]==="matrix"&&L.split(",").length===16&&(l[C][0]="matrix3d"),l[C][0]==="matrix3d"&&L.split(",").length===6&&(l[C][0]="matrix"),"".concat(l[C][0],"(").concat(L,")")}).join(" ")}]}var Ure=qr(function(e){if(At(e)){if(e==="text-anchor")return[vr(0,"px"),vr(0,"px")];var t=e.split(" ");return t.length===1&&(t[0]==="top"||t[0]==="bottom"?(t[1]=t[0],t[0]="center"):t[1]="center"),t.length!==2?null:[o2(vA(t[0])),o2(vA(t[1]))]}return[vr(e[0]||0,"px"),vr(e[1]||0,"px")]});function vA(e){return e==="center"?"50%":e==="left"||e==="top"?"0%":e==="right"||e==="bottom"?"100%":e}var Rk=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:De.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:De.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:De.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:De.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:De.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:De.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:De.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:De.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:De.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:De.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:De.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:De.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:De.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:De.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:De.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:De.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:De.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:De.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:De.FILTER},{n:"clipPath",syntax:De.DEFINED_PATH},{n:"textPath",syntax:De.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:De.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:De.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:De.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:De.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:De.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:De.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:De.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:De.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:De.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:De.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:De.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:De.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:De.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:De.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:De.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:De.COORDINATE},{n:"y1",int:!0,l:!0,syntax:De.COORDINATE},{n:"z1",int:!0,l:!0,syntax:De.COORDINATE},{n:"x2",int:!0,l:!0,syntax:De.COORDINATE},{n:"y2",int:!0,l:!0,syntax:De.COORDINATE},{n:"z2",int:!0,l:!0,syntax:De.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:De.PATH,p:50},{n:"points",int:!0,l:!0,syntax:De.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:De.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:De.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:De.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:De.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:De.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:De.NUMBER,d:function(t){return t===Ue.PATH||t===Ue.POLYGON||t===Ue.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:De.MARKER},{n:"markerEnd",syntax:De.MARKER},{n:"markerMid",syntax:De.MARKER},{n:"markerStartOffset",syntax:De.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:De.LENGTH,l:!0,int:!0,d:"0"}],Hre=new Set(Rk.filter(function(e){return!!e.l}).map(function(e){return e.n})),v4={},Yre=function(){function e(t){var r=this;ae(this,e),this.runtime=t,Rk.forEach(function(n){r.registerMetadata(n)})}return se(e,[{key:"registerMetadata",value:function(r){[r.n].concat(it(r.a||[])).forEach(function(n){v4[n]=r})}},{key:"getPropertySyntax",value:function(r){return this.runtime.CSSPropertySyntaxFactory[r]}},{key:"processProperties",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{forceUpdateGeometry:!1};Object.assign(r.attributes,n);var a=r.parsedStyle.clipPath,s=r.parsedStyle.offsetPath;Xre(r,n);var o=!!i.forceUpdateGeometry;if(!o){for(var l in n)if(Hre.has(l)){o=!0;break}}var u=p4(r);u.has("fill")&&n.fill&&(r.parsedStyle.fill=vf(n.fill)),u.has("stroke")&&n.stroke&&(r.parsedStyle.stroke=vf(n.stroke)),u.has("shadowColor")&&n.shadowColor&&(r.parsedStyle.shadowColor=vf(n.shadowColor)),u.has("filter")&&n.filter&&(r.parsedStyle.filter=_re(n.filter)),u.has("radius")&&!Ze(n.radius)&&(r.parsedStyle.radius=sA(n.radius,4)),u.has("lineDash")&&!Ze(n.lineDash)&&(r.parsedStyle.lineDash=sA(n.lineDash,"even")),u.has("points")&&n.points&&(r.parsedStyle.points=Rre(n.points)),u.has("d")&&n.d===""&&(r.parsedStyle.d=tt({},JB)),u.has("d")&&n.d&&(r.parsedStyle.d=h4(n.d)),u.has("textTransform")&&n.textTransform&&this.runtime.CSSPropertySyntaxFactory[De.TEXT_TRANSFORM].calculator(null,null,{value:n.textTransform},r,null),u.has("clipPath")&&!ct(n.clipPath)&&this.runtime.CSSPropertySyntaxFactory[De.DEFINED_PATH].calculator("clipPath",a,n.clipPath,r,this.runtime),u.has("offsetPath")&&n.offsetPath&&this.runtime.CSSPropertySyntaxFactory[De.DEFINED_PATH].calculator("offsetPath",s,n.offsetPath,r,this.runtime),u.has("transform")&&n.transform&&(r.parsedStyle.transform=Ire(n.transform)),u.has("transformOrigin")&&n.transformOrigin&&(r.parsedStyle.transformOrigin=Ure(n.transformOrigin)),u.has("markerStart")&&n.markerStart&&(r.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[De.MARKER].calculator(null,n.markerStart,n.markerStart,null,null)),u.has("markerEnd")&&n.markerEnd&&(r.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[De.MARKER].calculator(null,n.markerEnd,n.markerEnd,null,null)),u.has("markerMid")&&n.markerMid&&(r.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[De.MARKER].calculator("",n.markerMid,n.markerMid,null,null)),u.has("zIndex")&&!Ze(n.zIndex)&&this.runtime.CSSPropertySyntaxFactory[De.Z_INDEX].postProcessor(r),u.has("offsetDistance")&&!Ze(n.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[De.OFFSET_DISTANCE].postProcessor(r),u.has("transform")&&n.transform&&this.runtime.CSSPropertySyntaxFactory[De.TRANSFORM].postProcessor(r),u.has("transformOrigin")&&n.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[De.TRANSFORM_ORIGIN].postProcessor(r),o&&(r.geometry.dirty=!0,r.dirty(!0,!0),i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtyToRoot(r))}},{key:"updateGeometry",value:function(r){var n=r.nodeName,i=this.runtime.geometryUpdaterFactory[n];if(i){var a=r.geometry;a.contentBounds||(a.contentBounds=new Yn),a.renderBounds||(a.renderBounds=new Yn);var s=r.parsedStyle,o=i.update(s,r),l=o.cx,u=l===void 0?0:l,c=o.cy,f=c===void 0?0:c,h=o.cz,d=h===void 0?0:h,v=o.hwidth,p=v===void 0?0:v,g=o.hheight,m=g===void 0?0:g,y=o.hdepth,b=y===void 0?0:y,_=[Math.abs(p),Math.abs(m),b],x=s.stroke,E=s.lineWidth,w=E===void 0?1:E,S=s.increasedLineWidthForHitTesting,A=S===void 0?0:S,P=s.shadowType,O=P===void 0?"outer":P,C=s.shadowColor,L=s.filter,I=L===void 0?[]:L,F=s.transformOrigin,U=[u,f,d];a.contentBounds.update(U,_);var G=n===Ue.POLYLINE||n===Ue.POLYGON||n===Ue.PATH?Math.SQRT2:.5,z=x&&!x.isNone;if(z){var Z=((w||0)+(A||0))*G;_[0]+=Z,_[1]+=Z}if(a.renderBounds.update(U,_),C&&O&&O!=="inner"){var ge=a.renderBounds,xe=ge.min,ve=ge.max,je=s.shadowBlur,te=s.shadowOffsetX,Y=s.shadowOffsetY,fe=je||0,Q=te||0,oe=Y||0,ye=xe[0]-fe+Q,we=ve[0]+fe+Q,Ae=xe[1]-fe+oe,H=ve[1]+fe+oe;xe[0]=Math.min(xe[0],ye),ve[0]=Math.max(ve[0],we),xe[1]=Math.min(xe[1],Ae),ve[1]=Math.max(ve[1],H),a.renderBounds.setMinMax(xe,ve)}I.forEach(function(pe){var V=pe.name,q=pe.params;if(V==="blur"){var ne=q[0].value;a.renderBounds.update(a.renderBounds.center,Fi(a.renderBounds.halfExtents,a.renderBounds.halfExtents,[ne,ne,0]))}else if(V==="drop-shadow"){var ue=q[0].value,Oe=q[1].value,be=q[2].value,re=a.renderBounds,he=re.min,Be=re.max,nt=he[0]-be+ue,lt=Be[0]+be+ue,Zt=he[1]-be+Oe,qt=Be[1]+be+Oe;he[0]=Math.min(he[0],nt),Be[0]=Math.max(Be[0],lt),he[1]=Math.min(he[1],Zt),Be[1]=Math.max(Be[1],qt),a.renderBounds.setMinMax(he,Be)}}),r.geometry.dirty=!1;var K=p<0,ce=m<0,de=(K?-1:1)*(F?Ai(F[0],0,r,!0):0),_e=(ce?-1:1)*(F?Ai(F[1],1,r,!0):0);(de||_e)&&r.setOrigin(de,_e)}}},{key:"updateSizeAttenuation",value:function(r,n){r.style.isSizeAttenuation?(r.style.rawLineWidth||(r.style.rawLineWidth=r.style.lineWidth),r.style.lineWidth=(r.style.rawLineWidth||1)/n,r.nodeName===Ue.CIRCLE&&(r.style.rawR||(r.style.rawR=r.style.r),r.style.r=(r.style.rawR||1)/n)):(r.style.rawLineWidth&&(r.style.lineWidth=r.style.rawLineWidth,delete r.style.rawLineWidth),r.nodeName===Ue.CIRCLE&&r.style.rawR&&(r.style.r=r.style.rawR,delete r.style.rawR))}}])}();function Xre(e,t){var r=p4(e);for(var n in t)r.has(n)&&(e.parsedStyle[n]=t[n])}function p4(e){return e.constructor.PARSED_STYLE_LIST}var Kre=function(){function e(){ae(this,e),this.mixer=Ok}return se(e,[{key:"calculator",value:function(r,n,i,a){return oi(i)}}])}(),Zre=function(){function e(){ae(this,e)}return se(e,[{key:"calculator",value:function(r,n,i,a,s){return i instanceof Ba&&(i=null),s.sceneGraphService.updateDisplayObjectDependency(r,n,i,a),r==="clipPath"&&a.forEach(function(o){o.childNodes.length===0&&s.sceneGraphService.dirtyToRoot(o)}),i}}])}(),Qre=function(){function e(){ae(this,e),this.parser=vf,this.mixer=gre}return se(e,[{key:"calculator",value:function(r,n,i,a){return i instanceof Ba?i.value==="none"?r4:n4:i}}])}(),Jre=function(){function e(){ae(this,e)}return se(e,[{key:"calculator",value:function(r,n,i){return i instanceof Ba?[]:i}}])}();function pA(e){var t=e.parsedStyle,r=t.fontSize;return Ze(r)?null:r}var c2=function(){function e(){ae(this,e),this.mixer=Ok}return se(e,[{key:"calculator",value:function(r,n,i,a,s){if(rt(i))return i;if(mn.isRelativeUnit(i.unit)){if(i.unit===ze.kPercentage)return 0;if(i.unit===ze.kEms){if(a.parentNode){var o=pA(a.parentNode);if(o)return o*=i.value,o}return 0}if(i.unit===ze.kRems){var l;if(a!=null&&(l=a.ownerDocument)!==null&&l!==void 0&&l.documentElement){var u=pA(a.ownerDocument.documentElement);if(u)return u*=i.value,u}return 0}}else return i.value}}])}(),ene=function(){function e(){ae(this,e),this.mixer=c4}return se(e,[{key:"calculator",value:function(r,n,i){return i.map(function(a){return a.value})}}])}(),tne=function(){function e(){ae(this,e),this.mixer=c4}return se(e,[{key:"calculator",value:function(r,n,i){return i.map(function(a){return a.value})}}])}(),rne=function(){function e(){ae(this,e)}return se(e,[{key:"calculator",value:function(r,n,i,a){var s;i instanceof Ba&&(i=null);var o=(s=i)===null||s===void 0?void 0:s.cloneNode(!0);return o&&(o.style.isMarker=!0),o}}])}(),nne=function(){function e(){ae(this,e),this.mixer=Ok}return se(e,[{key:"calculator",value:function(r,n,i){return i.value}}])}(),ine=function(){function e(){ae(this,e),this.mixer=Ck(0,1)}return se(e,[{key:"calculator",value:function(r,n,i){return i.value}},{key:"postProcessor",value:function(r){var n=r.parsedStyle,i=n.offsetPath,a=n.offsetDistance;if(i){var s=i.nodeName;if(s===Ue.LINE||s===Ue.PATH||s===Ue.POLYLINE){var o=i.getPoint(a);o&&r.setLocalPosition(o.x,o.y)}}}}])}(),ane=function(){function e(){ae(this,e),this.mixer=Ck(0,1)}return se(e,[{key:"calculator",value:function(r,n,i){return i.value}}])}(),sne=function(){function e(){ae(this,e),this.parser=h4,this.mixer=Cre}return se(e,[{key:"calculator",value:function(r,n,i){return i instanceof Ba&&i.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Yu(0,0,0,0)}:i}}])}(),one=se(function e(){ae(this,e),this.mixer=Lre}),lne=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.mixer=Ck(0,1/0),r}return Xe(t,e),se(t)}(c2),une=function(){function e(){ae(this,e)}return se(e,[{key:"calculator",value:function(r,n,i,a){return i instanceof Ba?i.value==="unset"?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(r){r.nodeValue="".concat(r.parsedStyle.text)||""}}])}(),cne=function(){function e(){ae(this,e)}return se(e,[{key:"calculator",value:function(r,n,i,a){var s=a.getAttribute("text");if(s){var o=s;i.value==="capitalize"?o=s.charAt(0).toUpperCase()+s.slice(1):i.value==="lowercase"?o=s.toLowerCase():i.value==="uppercase"&&(o=s.toUpperCase()),a.parsedStyle.text=o}return i.value}}])}(),$0=new WeakMap;function fne(e,t,r){if(e){var n=typeof e=="string"?document.getElementById(e):e;$0.has(n)&&$0.get(n).destroy(r),$0.set(n,t)}}var g4=typeof window<"u"&&typeof window.document<"u";function hne(e){return!!e.getAttribute}function dne(e,t){for(var r=0,n=e.length;r<n;){var i=r+n>>>1;m4(e[i],t)<0?r=i+1:n=i}return r}function m4(e,t){var r=Number(e.parsedStyle.zIndex||0),n=Number(t.parsedStyle.zIndex||0);if(r===n){var i=e.parentNode;if(i){var a=i.childNodes||[];return a.indexOf(e)-a.indexOf(t)}}return r-n}function vne(e){var t=e;do{var r,n=(r=t.parsedStyle)===null||r===void 0?void 0:r.clipPath;if(n)return t;t=t.parentElement}while(t!==null);return null}function y4(e,t){if(g4)return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}function pne(e){var t=y4(e,"width");return t==="auto"?e.offsetWidth:parseFloat(t)}function gne(e){var t=y4(e,"height");return t==="auto"?e.offsetHeight:parseFloat(t)}var mne=1,yne={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},f2=typeof performance=="object"&&performance.now?performance:Date;function Xv(e){return e.nodeName===Ue.FRAGMENT?!0:e.getRootNode().nodeName===Ue.FRAGMENT}var bne=1,wne=function(){return bne++},fs=typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:{},xne=Date.now(),Ene=function(){return fs.performance&&typeof fs.performance.now=="function"?fs.performance.now():Date.now()-xne},zc={},gA=Date.now(),_ne=function(t){if(typeof t!="function")throw new TypeError("".concat(t," is not a function"));var r=Date.now(),n=r-gA,i=n>16?0:16-n,a=wne();return zc[a]=t,Object.keys(zc).length>1||setTimeout(function(){gA=r;var s=zc;zc={},Object.keys(s).forEach(function(o){return s[o](Ene())})},i),a},kne=function(t){delete zc[t]},Sne=["","webkit","moz","ms","o"],b4=function(t){return typeof t!="string"?_ne:t===""?fs.requestAnimationFrame:fs["".concat(t,"RequestAnimationFrame")]},Tne=function(t){return typeof t!="string"?kne:t===""?fs.cancelAnimationFrame:fs["".concat(t,"CancelAnimationFrame")]||fs["".concat(t,"CancelRequestAnimationFrame")]},Mne=function(t,r){for(var n=0;t[n]!==void 0;){if(r(t[n]))return t[n];n+=1}},w4=Mne(Sne,function(e){return!!b4(e)}),Lk=b4(w4),x4=Tne(w4);fs.requestAnimationFrame=Lk;fs.cancelAnimationFrame=x4;var Nne=function(){function e(){ae(this,e),this.callbacks=[]}return se(e,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(r,n){this.callbacks.push(n)}},{key:"promise",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Promise.all(this.callbacks.map(function(a){return a.apply(void 0,n)}))}}])}(),Ane=function(){function e(){ae(this,e),this.callbacks=[]}return se(e,[{key:"tapPromise",value:function(r,n){this.callbacks.push(n)}},{key:"promise",value:function(){var t=Io(Sn().mark(function n(){var i,a,s,o,l=arguments;return Sn().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.callbacks.length){u.next=6;break}return u.next=1,(i=this.callbacks)[0].apply(i,l);case 1:a=u.sent,s=0;case 2:if(!(s<this.callbacks.length-1)){u.next=5;break}return o=this.callbacks[s],u.next=3,o(a);case 3:a=u.sent;case 4:s++,u.next=2;break;case 5:return u.abrupt("return",a);case 6:return u.abrupt("return",null);case 7:case"end":return u.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()}])}(),Vn=function(){function e(){ae(this,e),this.callbacks=[]}return se(e,[{key:"tap",value:function(r,n){this.callbacks.push(n)}},{key:"call",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=arguments;this.callbacks.forEach(function(s){s.apply(void 0,a)})}}])}(),B0=function(){function e(){ae(this,e),this.callbacks=[]}return se(e,[{key:"tap",value:function(r,n){this.callbacks.push(n)}},{key:"call",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];if(this.callbacks.length){for(var a=arguments,s=this.callbacks[0].apply(void 0,a),o=0;o<this.callbacks.length-1;o++){var l=this.callbacks[o];s=l(s)}return s}return null}}])}(),Pne=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],One=/([\"\'])[^\'\"]+\1/;function mA(e){var t=e.fontSize,r=t===void 0?16:t,n=e.fontFamily,i=n===void 0?"sans-serif":n,a=e.fontStyle,s=a===void 0?"normal":a,o=e.fontVariant,l=o===void 0?"normal":o,u=e.fontWeight,c=u===void 0?"normal":u;return{fontSize:r,fontFamily:i,fontStyle:s,fontVariant:l,fontWeight:c}}var yA=qr(function(t){for(var r=mA(t),n=r.fontSize,i=r.fontFamily,a=r.fontStyle,s=r.fontVariant,o=r.fontWeight,l=rt(n)&&"".concat(n,"px")||"16px",u=i.split(","),c=u.length-1;c>=0;c--){var f=u[c].trim();!One.test(f)&&Pne.indexOf(f)<0&&(f='"'.concat(f,'"')),u[c]=f}return"".concat(a," ").concat(s," ").concat(o," ").concat(l," ").concat(u.join(","))},function(e){var t=mA(e),r=t.fontSize,n=t.fontFamily,i=t.fontStyle,a=t.fontVariant,s=t.fontWeight;return"".concat(i,"_").concat(a,"_").concat(s,"_").concat(r,"_").concat(n)}),Cne=1e-6,Tc=function(t){return Math.max(t,Cne)};function z0(e,t,r){return qi(e),e[4]=Math.tan(t),e[1]=Math.tan(r),e}var $r=gt(),Rne=gt(),Lne={scale:function(t){ea($r,[t[0].value,t[1].value,1].map(function(r){return Tc(r)}))},scaleX:function(t){ea($r,[t[0].value,1,1].map(function(r){return Tc(r)}))},scaleY:function(t){ea($r,[1,t[0].value,1].map(function(r){return Tc(r)}))},scaleZ:function(t){ea($r,[1,1,t[0].value].map(function(r){return Tc(r)}))},scale3d:function(t){ea($r,[t[0].value,t[1].value,t[2].value].map(function(r){return Tc(r)}))},translate:function(t){Qn($r,[t[0].value,t[1].value,0])},translateX:function(t){Qn($r,[t[0].value,0,0])},translateY:function(t){Qn($r,[0,t[0].value,0])},translateZ:function(t){Qn($r,[0,0,t[0].value])},translate3d:function(t){Qn($r,[t[0].value,t[1].value,t[2].value])},rotate:function(t){Ff($r,Qt(oi(t[0])))},rotateX:function(t){wk($r,Qt(oi(t[0])))},rotateY:function(t){xk($r,Qt(oi(t[0])))},rotateZ:function(t){Ff($r,Qt(oi(t[0])))},rotate3d:function(t){bk($r,Qt(oi(t[3])),[t[0].value,t[1].value,t[2].value])},skew:function(t){z0($r,Qt(t[0].value),Qt(t[1].value))},skewX:function(t){z0($r,Qt(t[0].value),0)},skewY:function(t){z0($r,0,Qt(t[0].value))},matrix:function(t){Df($r,t[0].value,t[1].value,0,0,t[2].value,t[3].value,0,0,0,0,1,0,t[4].value,t[5].value,0,1)},matrix3d:function(t){Df.apply(bB,[$r].concat(it(t.map(function(r){return r.value}))))}},Ine=ft(1,1,1),Dne=at(),bA={translate:function(t,r){Ne.sceneGraphService.setLocalScale(t,Ine,!1),Ne.sceneGraphService.setLocalEulerAngles(t,Dne,void 0,void 0,!1),Ne.sceneGraphService.setLocalPosition(t,[r[0].value,r[1].value,0],!1),Ne.sceneGraphService.dirtyLocalTransform(t,t.transformable)}};function Fne(e,t){if(e.length){if(e.length===1&&bA[e[0].t]){bA[e[0].t](t,e[0].d);return}for(var r=qi(Rne),n=0;n<e.length;n++){var i=e[n],a=i.t,s=i.d,o=Lne[a];o&&(o(s),Sk(r,r,$r))}t.setLocalTransform(r)}else t.resetLocalTransform();return t.getLocalTransform()}var $ne=function(){function e(){ae(this,e),this.parser=Dre,this.mixer=Vre}return se(e,[{key:"calculator",value:function(r,n,i,a){return i instanceof Ba?[]:i}},{key:"postProcessor",value:function(r){Fne(r.parsedStyle.transform,r)}}])}(),Bne=function(){function e(){ae(this,e)}return se(e,[{key:"postProcessor",value:function(r){var n=r.parsedStyle.transformOrigin;n[0].unit===ze.kPixels&&n[1].unit===ze.kPixels?r.setOrigin(n[0].value,n[1].value):r.getGeometryBounds()}}])}(),zne=function(){function e(){ae(this,e)}return se(e,[{key:"calculator",value:function(r,n,i,a){return i.value}},{key:"postProcessor",value:function(r){if(r.parentNode){var n=r.parentNode,i=n.renderable,a=n.sortable;i&&n.dirty(),a&&(a.dirty=!0,a.dirtyReason=Vv.Z_INDEX_CHANGED)}}}])}(),Gne=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r,n){var i=r.cx,a=i===void 0?0:i,s=r.cy,o=s===void 0?0:s,l=r.r,u=l===void 0?0:l;return{cx:a,cy:o,hwidth:u,hheight:u}}}])}(),qne=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r,n){var i=r.cx,a=i===void 0?0:i,s=r.cy,o=s===void 0?0:s,l=r.rx,u=l===void 0?0:l,c=r.ry,f=c===void 0?0:c;return{cx:a,cy:o,hwidth:u,hheight:f}}}])}(),jne=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r){var n=r.x1,i=r.y1,a=r.x2,s=r.y2,o=Math.min(n,a),l=Math.max(n,a),u=Math.min(i,s),c=Math.max(i,s),f=l-o,h=c-u,d=f/2,v=h/2;return{cx:o+d,cy:u+v,hwidth:d,hheight:v}}}])}(),Wne=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r){var n=r.d,i=n.rect,a=i.x,s=i.y,o=i.width,l=i.height,u=o/2,c=l/2;return{cx:a+u,cy:s+c,hwidth:u,hheight:c}}}])}(),Vne=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r){if(r.points&&xi(r.points.points)){var n=r.points.points,i=Math.min.apply(Math,it(n.map(function(h){return h[0]}))),a=Math.max.apply(Math,it(n.map(function(h){return h[0]}))),s=Math.min.apply(Math,it(n.map(function(h){return h[1]}))),o=Math.max.apply(Math,it(n.map(function(h){return h[1]}))),l=a-i,u=o-s,c=l/2,f=u/2;return{cx:i+c,cy:s+f,hwidth:c,hheight:f}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Une=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r,n){var i=r.x,a=i===void 0?0:i,s=r.y,o=s===void 0?0:s,l=r.src,u=r.width,c=u===void 0?0:u,f=r.height,h=f===void 0?0:f,d=c,v=h;return l&&!At(l)&&(d||(d=l.width,r.width=d),v||(v=l.height,r.height=v)),{cx:a+d/2,cy:o+v/2,hwidth:d/2,hheight:v/2}}}])}(),Hne=function(){function e(t){ae(this,e),this.globalRuntime=t}return se(e,[{key:"isReadyToMeasure",value:function(r,n){var i=r.text;return i}},{key:"update",value:function(r,n){var i,a=r.text,s=r.textAlign,o=s===void 0?"start":s,l=r.lineWidth,u=l===void 0?1:l,c=r.textBaseline,f=c===void 0?"alphabetic":c,h=r.dx,d=h===void 0?0:h,v=r.dy,p=v===void 0?0:v,g=r.x,m=g===void 0?0:g,y=r.y,b=y===void 0?0:y;if(!this.isReadyToMeasure(r,n))return r.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var _=(n==null||(i=n.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0?void 0:i.getConfig())||{},x=_.offscreenCanvas,E=this.globalRuntime.textService.measureText(a,r,x);r.metrics=E;var w=E.width,S=E.height,A=w/2,P=S/2,O=m+A;o==="center"||o==="middle"?O+=u/2-A:(o==="right"||o==="end")&&(O+=u-A*2);var C=b-P;return f==="middle"?C+=P:f==="top"||f==="hanging"?C+=P*2:f==="alphabetic"||(f==="bottom"||f==="ideographic")&&(C+=0),d&&(O+=d),p&&(C+=p),{cx:O,cy:C,hwidth:A,hheight:P}}}])}(),Yne=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r,n){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Xne=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r,n){var i=r.x,a=i===void 0?0:i,s=r.y,o=s===void 0?0:s,l=r.width,u=l===void 0?0:l,c=r.height,f=c===void 0?0:c;return{cx:a+u/2,cy:o+f/2,hwidth:u/2,hheight:f/2}}}])}(),sg=function(){function e(t){ae(this,e),this.eventPhase=e.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new zn,this.page=new zn,this.canvas=new zn,this.viewport=new zn,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}return se(e,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(Yt)}}])}(),E4=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.client=new zn,r.movement=new zn,r.offset=new zn,r.global=new zn,r.screen=new zn,r}return Xe(t,e),se(t,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(n){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(n)}},{key:"initMouseEvent",value:function(){throw new Error(Yt)}}])}(sg),h2=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.width=0,r.height=0,r.isPrimary=!1,r}return Xe(t,e),se(t,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(E4),d2=function(e){function t(){return ae(this,t),Ye(this,t,arguments)}return Xe(t,e),se(t,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(E4),nn=function(e){function t(r,n){var i;return ae(this,t),i=Ye(this,t,[null]),i.type=r,i.detail=n,Object.assign(i,n),i}return Xe(t,e),se(t)}(sg),_4=function(){function e(){ae(this,e),this.emitter=new Jp}return se(e,[{key:"on",value:function(r,n,i){return this.addEventListener(r,n,i),this}},{key:"addEventListener",value:function(r,n,i){var a=!1,s=!1;if(zv(i))a=i;else if(i){var o=i.capture;a=o===void 0?!1:o;var l=i.once;s=l===void 0?!1:l}a&&(r+="capture"),n=Gt(n)?n:n.handleEvent;var u=Gt(n)?void 0:n;return s?this.emitter.once(r,n,u):this.emitter.on(r,n,u),this}},{key:"off",value:function(r,n,i){return r?this.removeEventListener(r,n,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var r;(r=this.emitter)===null||r===void 0||r.removeAllListeners()}},{key:"removeEventListener",value:function(r,n,i){var a;if(!this.emitter)return this;var s=zv(i)?i:i?.capture;s&&(r+="capture"),n=Gt(n)?n:(a=n)===null||a===void 0?void 0:a.handleEvent;var o=Gt(n)?void 0:n;return this.emitter.off(r,n,o),this}},{key:"emit",value:function(r,n){this.dispatchEvent(new nn(r,n))}},{key:"dispatchEventToSelf",value:function(r){r.target||(r.target=this),r.currentTarget=this,this.emitter.emit(r.type,r)}},{key:"dispatchEvent",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;if(i)return this.dispatchEventToSelf(r),!0;var a;if(this.document)a=this;else if(this.defaultView)a=this.defaultView;else{var s;a=(s=this.ownerDocument)===null||s===void 0?void 0:s.defaultView}if(a){if(r.manager=a.getEventService(),!r.manager)return!1;r.defaultPrevented=!1,r.path?r.path.length=0:r.page=[],n||(r.target=this),r.manager.dispatchEvent(r,r.type,n)}else this.dispatchEventToSelf(r);return!r.defaultPrevented}}])}(),Tr=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.shadow=!1,r.ownerDocument=null,r.isConnected=!1,r.baseURI="",r.childNodes=[],r.nodeType=0,r.nodeName="",r.nodeValue=null,r.parentNode=null,r.destroyed=!1,r}return Xe(t,e),se(t,[{key:"textContent",get:function(){var n="";this.nodeName===Ue.TEXT&&(n+=this.style.text);var i=Ci(this.childNodes),a;try{for(i.s();!(a=i.n()).done;){var s=a.value;s.nodeName===Ue.TEXT?n+=s.nodeValue:n+=s.textContent}}catch(o){i.e(o)}finally{i.f()}return n},set:function(n){var i=this;this.childNodes.slice().forEach(function(a){i.removeChild(a)}),this.nodeName===Ue.TEXT&&(this.style.text="".concat(n))}},{key:"getRootNode",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(n):n.composed&&this.host?this.host.getRootNode(n):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(n){throw new Error(Yt)}},{key:"lookupNamespaceURI",value:function(n){throw new Error(Yt)}},{key:"lookupPrefix",value:function(n){throw new Error(Yt)}},{key:"normalize",value:function(){throw new Error(Yt)}},{key:"isEqualNode",value:function(n){return this===n}},{key:"isSameNode",value:function(n){return this.isEqualNode(n)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(n){if(n===this)return 0;for(var i=n,a=this,s=[i],o=[a];(l=i.parentNode)!==null&&l!==void 0?l:a.parentNode;){var l;i=i.parentNode?(s.push(i.parentNode),i.parentNode):i,a=a.parentNode?(o.push(a.parentNode),a.parentNode):a}if(i!==a)return t.DOCUMENT_POSITION_DISCONNECTED|t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|t.DOCUMENT_POSITION_PRECEDING;var u=s.length>o.length?s:o,c=u===s?o:s;if(u[u.length-c.length]===c[0])return u===s?t.DOCUMENT_POSITION_CONTAINED_BY|t.DOCUMENT_POSITION_FOLLOWING:t.DOCUMENT_POSITION_CONTAINS|t.DOCUMENT_POSITION_PRECEDING;for(var f=u.length-c.length,h=c.length-1;h>=0;h--){var d=c[h],v=u[f+h];if(v!==d){var p=d.parentNode.childNodes;return p.indexOf(d)<p.indexOf(v)?c===s?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING:u===s?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING}}return t.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(n){return this.contains(n)}},{key:"contains",value:function(n){for(var i=n;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(n){for(var i=this;n>0&&i;)i=i.parentNode,n--;return i}},{key:"forEach",value:function(n){for(var i=[this];i.length>0;){var a=i.pop(),s=n(a);if(s===!1)break;for(var o=a.childNodes.length-1;o>=0;o--)i.push(a.childNodes[o])}}}],[{key:"isNode",value:function(n){return!!n.childNodes}}])}(_4);Tr.DOCUMENT_POSITION_DISCONNECTED=1;Tr.DOCUMENT_POSITION_PRECEDING=2;Tr.DOCUMENT_POSITION_FOLLOWING=4;Tr.DOCUMENT_POSITION_CONTAINS=8;Tr.DOCUMENT_POSITION_CONTAINED_BY=16;Tr.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var Kne=2048,Zne=function(){function e(t,r){var n=this;ae(this,e),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=gt(),this.tmpVec3=at(),this.onPointerDown=function(i){var a=n.createPointerEvent(i);if(n.dispatchEvent(a,"pointerdown"),a.pointerType==="touch")n.dispatchEvent(a,"touchstart");else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;n.dispatchEvent(a,s?"rightdown":"mousedown")}var o=n.trackingData(i.pointerId);o.pressTargetsByButton[i.button]=a.composedPath(),n.freeEvent(a)},this.onPointerUp=function(i){var a=f2.now(),s=n.createPointerEvent(i,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0);if(n.dispatchEvent(s,"pointerup"),s.pointerType==="touch")n.dispatchEvent(s,"touchend");else if(s.pointerType==="mouse"||s.pointerType==="pen"){var o=s.button===2;n.dispatchEvent(s,o?"rightup":"mouseup")}var l=n.trackingData(i.pointerId),u=n.findMountedTarget(l.pressTargetsByButton[i.button]),c=u;if(u&&!s.composedPath().includes(u)){for(var f=u;f&&!s.composedPath().includes(f);){if(s.currentTarget=f,n.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch")n.notifyTarget(s,"touchendoutside");else if(s.pointerType==="mouse"||s.pointerType==="pen"){var h=s.button===2;n.notifyTarget(s,h?"rightupoutside":"mouseupoutside")}Tr.isNode(f)&&(f=f.parentNode)}delete l.pressTargetsByButton[i.button],c=f}if(c){var d,v=n.clonePointerEvent(s,"click");v.target=c,v.path=[],l.clicksByButton[i.button]||(l.clicksByButton[i.button]={clickCount:0,target:v.target,timeStamp:a});var p=n.context.renderingContext.root.ownerDocument.defaultView,g=l.clicksByButton[i.button];g.target===v.target&&a-g.timeStamp<p.getConfig().dblClickSpeed?++g.clickCount:g.clickCount=1,g.target=v.target,g.timeStamp=a,v.detail=g.clickCount,(d=s.detail)!==null&&d!==void 0&&d.preventClick||(!n.context.config.useNativeClickEvent&&(v.pointerType==="mouse"||v.pointerType==="touch")&&n.dispatchEvent(v,"click"),n.dispatchEvent(v,"pointertap")),n.freeEvent(v)}n.freeEvent(s)},this.onPointerMove=function(i){var a=n.createPointerEvent(i,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0),s=a.pointerType==="mouse"||a.pointerType==="pen",o=n.trackingData(i.pointerId),l=n.findMountedTarget(o.overTargets);if(o.overTargets&&l!==a.target){var u=i.type==="mousemove"?"mouseout":"pointerout",c=n.createPointerEvent(i,u,l||void 0);if(n.dispatchEvent(c,"pointerout"),s&&n.dispatchEvent(c,"mouseout"),!a.composedPath().includes(l)){var f=n.createPointerEvent(i,"pointerleave",l||void 0);for(f.eventPhase=f.AT_TARGET;f.target&&!a.composedPath().includes(f.target);)f.currentTarget=f.target,n.notifyTarget(f),s&&n.notifyTarget(f,"mouseleave"),Tr.isNode(f.target)&&(f.target=f.target.parentNode);n.freeEvent(f)}n.freeEvent(c)}if(l!==a.target){var h=i.type==="mousemove"?"mouseover":"pointerover",d=n.clonePointerEvent(a,h);n.dispatchEvent(d,"pointerover"),s&&n.dispatchEvent(d,"mouseover");for(var v=l&&Tr.isNode(l)&&l.parentNode;v&&v!==(Tr.isNode(n.rootTarget)&&n.rootTarget.parentNode)&&v!==a.target;)v=v.parentNode;var p=!v||v===(Tr.isNode(n.rootTarget)&&n.rootTarget.parentNode);if(p){var g=n.clonePointerEvent(a,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==l&&g.target!==(Tr.isNode(n.rootTarget)&&n.rootTarget.parentNode);)g.currentTarget=g.target,n.notifyTarget(g),s&&n.notifyTarget(g,"mouseenter"),Tr.isNode(g.target)&&(g.target=g.target.parentNode);n.freeEvent(g)}n.freeEvent(d)}n.dispatchEvent(a,"pointermove"),a.pointerType==="touch"&&n.dispatchEvent(a,"touchmove"),s&&(n.dispatchEvent(a,"mousemove"),n.cursor=n.getCursor(a.target)),o.overTargets=a.composedPath(),n.freeEvent(a)},this.onPointerOut=function(i){var a=n.trackingData(i.pointerId);if(a.overTargets){var s=i.pointerType==="mouse"||i.pointerType==="pen",o=n.findMountedTarget(a.overTargets),l=n.createPointerEvent(i,"pointerout",o||void 0);n.dispatchEvent(l),s&&n.dispatchEvent(l,"mouseout");var u=n.createPointerEvent(i,"pointerleave",o||void 0);for(u.eventPhase=u.AT_TARGET;u.target&&u.target!==(Tr.isNode(n.rootTarget)&&n.rootTarget.parentNode);)u.currentTarget=u.target,n.notifyTarget(u),s&&n.notifyTarget(u,"mouseleave"),Tr.isNode(u.target)&&(u.target=u.target.parentNode);a.overTargets=null,n.freeEvent(l),n.freeEvent(u)}n.cursor=null},this.onPointerOver=function(i){var a=n.trackingData(i.pointerId),s=n.createPointerEvent(i),o=s.pointerType==="mouse"||s.pointerType==="pen";n.dispatchEvent(s,"pointerover"),o&&n.dispatchEvent(s,"mouseover"),s.pointerType==="mouse"&&(n.cursor=n.getCursor(s.target));var l=n.clonePointerEvent(s,"pointerenter");for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==(Tr.isNode(n.rootTarget)&&n.rootTarget.parentNode);)l.currentTarget=l.target,n.notifyTarget(l),o&&n.notifyTarget(l,"mouseenter"),Tr.isNode(l.target)&&(l.target=l.target.parentNode);a.overTargets=s.composedPath(),n.freeEvent(s),n.freeEvent(l)},this.onPointerUpOutside=function(i){var a=n.trackingData(i.pointerId),s=n.findMountedTarget(a.pressTargetsByButton[i.button]),o=n.createPointerEvent(i);if(s){for(var l=s;l;)o.currentTarget=l,n.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch"||(o.pointerType==="mouse"||o.pointerType==="pen")&&n.notifyTarget(o,o.button===2?"rightupoutside":"mouseupoutside"),Tr.isNode(l)&&(l=l.parentNode);delete a.pressTargetsByButton[i.button]}n.freeEvent(o)},this.onWheel=function(i){var a=n.createWheelEvent(i);n.dispatchEvent(a),n.freeEvent(a)},this.onClick=function(i){if(n.context.config.useNativeClickEvent){var a=n.createPointerEvent(i);n.dispatchEvent(a),n.freeEvent(a)}},this.onPointerCancel=function(i){var a=n.createPointerEvent(i,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0);n.dispatchEvent(a),n.freeEvent(a)},this.globalRuntime=t,this.context=r}return se(e,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var r=this.context.contextService.getBoundingClientRect(),n=1,i=1,a=this.context.contextService.getDomElement();if(a&&r){var s=a.offsetWidth,o=a.offsetHeight;s&&o&&(n=r.width/s,i=r.height/o)}return{scaleX:n,scaleY:i,bbox:r}}},{key:"client2Viewport",value:function(r){var n=this.getScale(),i=n.scaleX,a=n.scaleY,s=n.bbox;return new zn((r.x-(s?.left||0))/i,(r.y-(s?.top||0))/a)}},{key:"viewport2Client",value:function(r){var n=this.getScale(),i=n.scaleX,a=n.scaleY,s=n.bbox;return new zn((r.x+(s?.left||0))*i,(r.y+(s?.top||0))*a)}},{key:"viewport2Canvas",value:function(r){var n=r.x,i=r.y,a=this.rootTarget.defaultView,s=a.getCamera(),o=this.context.config,l=o.width,u=o.height,c=s.getPerspectiveInverse(),f=s.getWorldTransform(),h=Nr(this.tmpMatrix,f,c),d=Jt(this.tmpVec3,n/l*2-1,(1-i/u)*2-1,0);return zr(d,d,h),new zn(d[0],d[1])}},{key:"canvas2Viewport",value:function(r){var n=this.rootTarget.defaultView,i=n.getCamera(),a=i.getPerspective(),s=i.getViewTransform(),o=Nr(this.tmpMatrix,a,s),l=Jt(this.tmpVec3,r.x,r.y,0);zr(this.tmpVec3,this.tmpVec3,o);var u=this.context.config,c=u.width,f=u.height;return new zn((l[0]+1)/2*c,(1-(l[1]+1)/2)*f)}},{key:"setPickHandler",value:function(r){this.pickHandler=r}},{key:"addEventMapping",value:function(r,n){this.mappingTable[r]||(this.mappingTable[r]=[]),this.mappingTable[r].push({fn:n,priority:0}),this.mappingTable[r].sort(function(i,a){return i.priority-a.priority})}},{key:"mapEvent",value:function(r){if(this.rootTarget){var n=this.mappingTable[r.type];if(n)for(var i=0,a=n.length;i<a;i++)n[i].fn(r);else console.warn("[EventService]: Event mapping not defined for ".concat(r.type))}}},{key:"dispatchEvent",value:function(r,n,i){if(!i)r.propagationStopped=!1,r.propagationImmediatelyStopped=!1,this.propagate(r,n);else{r.eventPhase=r.AT_TARGET;var a=this.rootTarget.defaultView||null;r.currentTarget=a,this.notifyListeners(r,n)}}},{key:"propagate",value:function(r,n){if(r.target){var i=r.composedPath();r.eventPhase=r.CAPTURING_PHASE;for(var a=i.length-1;a>=1;a--)if(r.currentTarget=i[a],this.notifyTarget(r,n),r.propagationStopped||r.propagationImmediatelyStopped)return;if(r.eventPhase=r.AT_TARGET,r.currentTarget=r.target,this.notifyTarget(r,n),!(r.propagationStopped||r.propagationImmediatelyStopped)){var s=i.indexOf(r.currentTarget);r.eventPhase=r.BUBBLING_PHASE;for(var o=s+1;o<i.length;o++)if(r.currentTarget=i[o],this.notifyTarget(r,n),r.propagationStopped||r.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(r){var n=[r],i=this.rootTarget.defaultView||null;if(i&&i===r)return n.unshift(i.document),n;for(var a=0;a<Kne&&r!==this.rootTarget;a++)Tr.isNode(r)&&r.parentNode&&(n.push(r.parentNode),r=r.parentNode);return i&&n.push(i),n}},{key:"hitTest",value:function(r){var n=r.viewportX,i=r.viewportY,a=this.context.config,s=a.width,o=a.height,l=a.disableHitTesting;return n<0||i<0||n>s||i>o?null:!l&&this.pickHandler(r)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(r,n){var i,a=n?.target;if((i=a)!==null&&i!==void 0&&i.shadowRoot&&(a=n.composedPath()[0]),a){if(a===r)return!0;if(r&&r.contains)return r.contains(a)}return n!=null&&n.composedPath?n.composedPath().indexOf(r)>-1:!1}},{key:"getExistedHTML",value:function(r){if(r.nativeEvent.composedPath)for(var n=0,i=r.nativeEvent.composedPath();n<i.length;n++){var a=i[n],s=this.nativeHTMLMap.get(a);if(s)return s}return null}},{key:"pickTarget",value:function(r){return this.hitTest({clientX:r.clientX,clientY:r.clientY,viewportX:r.viewportX,viewportY:r.viewportY,x:r.canvasX,y:r.canvasY})}},{key:"createPointerEvent",value:function(r,n,i,a){var s=this.allocateEvent(h2);this.copyPointerData(r,s),this.copyMouseData(r,s),this.copyData(r,s),s.nativeEvent=r.nativeEvent,s.originalEvent=r;var o=this.getExistedHTML(s),l=this.context.contextService.getDomElement();return s.target=i??(o||this.isNativeEventFromCanvas(l,s.nativeEvent)&&this.pickTarget(s)||a),typeof n=="string"&&(s.type=n),s}},{key:"createWheelEvent",value:function(r){var n=this.allocateEvent(d2);this.copyWheelData(r,n),this.copyMouseData(r,n),this.copyData(r,n),n.nativeEvent=r.nativeEvent,n.originalEvent=r;var i=this.getExistedHTML(n),a=this.context.contextService.getDomElement();return n.target=i||this.isNativeEventFromCanvas(a,n.nativeEvent)&&this.pickTarget(n),n}},{key:"trackingData",value:function(r){return this.mappingState.trackingData[r]||(this.mappingState.trackingData[r]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[r]}},{key:"cloneWheelEvent",value:function(r){var n=this.allocateEvent(d2);return n.nativeEvent=r.nativeEvent,n.originalEvent=r.originalEvent,this.copyWheelData(r,n),this.copyMouseData(r,n),this.copyData(r,n),n.target=r.target,n.path=r.composedPath().slice(),n.type=r.type,n}},{key:"clonePointerEvent",value:function(r,n){var i=this.allocateEvent(h2);return i.nativeEvent=r.nativeEvent,i.originalEvent=r.originalEvent,this.copyPointerData(r,i),this.copyMouseData(r,i),this.copyData(r,i),i.target=r.target,i.path=r.composedPath().slice(),i.type=n??i.type,i}},{key:"copyPointerData",value:function(r,n){n.pointerId=r.pointerId,n.width=r.width,n.height=r.height,n.isPrimary=r.isPrimary,n.pointerType=r.pointerType,n.pressure=r.pressure,n.tangentialPressure=r.tangentialPressure,n.tiltX=r.tiltX,n.tiltY=r.tiltY,n.twist=r.twist}},{key:"copyMouseData",value:function(r,n){n.altKey=r.altKey,n.button=r.button,n.buttons=r.buttons,n.ctrlKey=r.ctrlKey,n.metaKey=r.metaKey,n.shiftKey=r.shiftKey,n.client.copyFrom(r.client),n.movement.copyFrom(r.movement),n.canvas.copyFrom(r.canvas),n.screen.copyFrom(r.screen),n.global.copyFrom(r.global),n.offset.copyFrom(r.offset)}},{key:"copyWheelData",value:function(r,n){n.deltaMode=r.deltaMode,n.deltaX=r.deltaX,n.deltaY=r.deltaY,n.deltaZ=r.deltaZ}},{key:"copyData",value:function(r,n){n.isTrusted=r.isTrusted,n.timeStamp=f2.now(),n.type=r.type,n.detail=r.detail,n.view=r.view,n.page.copyFrom(r.page),n.viewport.copyFrom(r.viewport)}},{key:"allocateEvent",value:function(r){this.eventPool.has(r)||this.eventPool.set(r,[]);var n=this.eventPool.get(r).pop()||new r(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=[],n.target=null,n}},{key:"freeEvent",value:function(r){if(r.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var n=r.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(r)}},{key:"notifyTarget",value:function(r,n){n=n??r.type;var i=r.eventPhase===r.CAPTURING_PHASE||r.eventPhase===r.AT_TARGET?"".concat(n,"capture"):n;this.notifyListeners(r,i),r.eventPhase===r.AT_TARGET&&this.notifyListeners(r,n)}},{key:"notifyListeners",value:function(r,n){var i=r.currentTarget.emitter,a=i._events[n];if(a)if("fn"in a)a.once&&i.removeListener(n,a.fn,void 0,!0),a.fn.call(r.currentTarget||a.context,r);else for(var s=0;s<a.length&&!r.propagationImmediatelyStopped;s++)a[s].once&&i.removeListener(n,a[s].fn,void 0,!0),a[s].fn.call(r.currentTarget||a[s].context,r)}},{key:"findMountedTarget",value:function(r){if(!r)return null;for(var n=r[r.length-1],i=r.length-2;i>=0;i--){var a=r[i];if(a===this.rootTarget||Tr.isNode(a)&&a.parentNode===n)n=r[i];else break}return n}},{key:"getCursor",value:function(r){for(var n=r;n;){var i=hne(n)&&n.getAttribute("cursor");if(i)return i;n=Tr.isNode(n)&&n.parentNode}}}])}(),Qne=function(){function e(){ae(this,e)}return se(e,[{key:"getOrCreateCanvas",value:function(r,n){if(this.canvas)return this.canvas;if(r||Ne.offscreenCanvas)this.canvas=r||Ne.offscreenCanvas,this.context=this.canvas.getContext("2d",tt({willReadFrequently:!0},n));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",tt({willReadFrequently:!0},n)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",tt({willReadFrequently:!0},n))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(r,n){return this.context?this.context:(this.getOrCreateCanvas(r,n),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])}(),iv=function(e){return e[e.CAMERA_CHANGED=0]="CAMERA_CHANGED",e[e.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",e[e.NONE=2]="NONE",e}({}),Jne=function(){function e(t,r){ae(this,e),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new Vn,initAsync:new Nne,dirtycheck:new B0,cull:new B0,beginFrame:new Vn,beforeRender:new Vn,render:new Vn,afterRender:new Vn,endFrame:new Vn,destroy:new Vn,pick:new Ane,pickSync:new B0,pointerDown:new Vn,pointerUp:new Vn,pointerMove:new Vn,pointerOut:new Vn,pointerOver:new Vn,pointerWheel:new Vn,pointerCancel:new Vn,click:new Vn},this.globalRuntime=t,this.context=r}return se(e,[{key:"init",value:function(r){var n=this,i=tt(tt({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(a){a.apply(i,n.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,r()):this.hooks.initAsync.promise().then(function(){n.inited=!0,r()}).catch(function(a){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var r=this.context.config.renderer,n=r.getConfig(),i=n.enableDirtyRectangleRendering;return!i||this.context.renderingContext.renderReasons.has(iv.CAMERA_CHANGED)}},{key:"render",value:function(r,n,i){var a=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var s=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(s.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),s.renderReasons.size&&this.inited){s.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var o=s.renderReasons.size===1&&s.renderReasons.has(iv.CAMERA_CHANGED),l=!r.disableRenderHooks||!o;l&&this.renderDisplayObject(s.root,r,s),this.hooks.beginFrame.call(n),l&&s.renderListCurrentFrame.forEach(function(u){a.hooks.beforeRender.call(u),a.hooks.render.call(u),a.hooks.afterRender.call(u)}),this.hooks.endFrame.call(n),s.renderListCurrentFrame=[],s.renderReasons.clear(),i()}}},{key:"renderDisplayObject",value:function(r,n,i){var a=this,s=n.renderer.getConfig(),o=s.enableDirtyCheck,l=s.enableCulling;function u(p){var g=p.renderable,m=p.sortable,y=o?g.dirty||i.dirtyRectangleRenderingDisabled?p:null:p,b=null;y&&(b=l?a.hooks.cull.call(y,a.context.camera):y,b&&(a.stats.rendered+=1,i.renderListCurrentFrame.push(b))),p.dirty(!1),m.renderOrder=a.zIndexCounter,a.zIndexCounter+=1,a.stats.total+=1,m.dirty&&(a.sort(p,m),m.dirty=!1,m.dirtyChildren=[],m.dirtyReason=void 0)}for(var c=[r];c.length>0;){var f,h=c.pop();u(h);for(var d=((f=h.sortable)===null||f===void 0||(f=f.sorted)===null||f===void 0?void 0:f.length)>0?h.sortable.sorted:h.childNodes,v=d.length-1;v>=0;v--)c.push(d[v])}}},{key:"sort",value:function(r,n){var i,a;(n==null||(i=n.sorted)===null||i===void 0?void 0:i.length)>0&&n.dirtyReason!==Vv.Z_INDEX_CHANGED?n.dirtyChildren.forEach(function(s){var o=n.sorted.indexOf(s);o>-1&&n.sorted.splice(o,1);var l=r.childNodes.indexOf(s);if(l>-1)if(n.sorted.length===0)n.sorted.push(s);else{var u=dne(n.sorted,s);n.sorted.splice(u,0,s)}}):n.sorted=r.childNodes.slice().sort(m4),((a=n.sorted)===null||a===void 0?void 0:a.length)>0&&r.childNodes.filter(function(s){return s.parsedStyle.zIndex}).length===0&&(n.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(iv.DISPLAY_OBJECT_CHANGED)}}])}(),eie=/\[\s*(.*)=(.*)\s*\]/,tie=function(){function e(){ae(this,e)}return se(e,[{key:"selectOne",value:function(r,n){var i=this;if(r.startsWith("."))return n.find(function(l){return(l?.classList||[]).indexOf(i.getIdOrClassname(r))>-1});if(r.startsWith("#"))return n.find(function(l){return l.id===i.getIdOrClassname(r)});if(r.startsWith("[")){var a=this.getAttribute(r),s=a.name,o=a.value;return s?n.find(function(l){return n!==l&&(s==="name"?l.name===o:i.attributeToString(l,s)===o)}):null}return n.find(function(l){return n!==l&&l.nodeName===r})}},{key:"selectAll",value:function(r,n){var i=this;if(r.startsWith("."))return n.findAll(function(l){return n!==l&&(l?.classList||[]).indexOf(i.getIdOrClassname(r))>-1});if(r.startsWith("#"))return n.findAll(function(l){return n!==l&&l.id===i.getIdOrClassname(r)});if(r.startsWith("[")){var a=this.getAttribute(r),s=a.name,o=a.value;return s?n.findAll(function(l){return n!==l&&(s==="name"?l.name===o:i.attributeToString(l,s)===o)}):[]}return n.findAll(function(l){return n!==l&&l.nodeName===r})}},{key:"is",value:function(r,n){if(r.startsWith("."))return n.className===this.getIdOrClassname(r);if(r.startsWith("#"))return n.id===this.getIdOrClassname(r);if(r.startsWith("[")){var i=this.getAttribute(r),a=i.name,s=i.value;return a==="name"?n.name===s:this.attributeToString(n,a)===s}return n.nodeName===r}},{key:"getIdOrClassname",value:function(r){return r.substring(1)}},{key:"getAttribute",value:function(r){var n=r.match(eie),i="",a="";return n&&n.length>2&&(i=n[1].replace(/"/g,""),a=n[2].replace(/"/g,"")),{name:i,value:a}}},{key:"attributeToString",value:function(r,n){if(!r.getAttribute)return"";var i=r.getAttribute(n);return Ze(i)?"":i.toString?i.toString():""}}])}(),Rr=function(e){return e.ATTR_MODIFIED="DOMAttrModified",e.INSERTED="DOMNodeInserted",e.MOUNTED="DOMNodeInsertedIntoDocument",e.REMOVED="removed",e.UNMOUNTED="DOMNodeRemovedFromDocument",e.REPARENT="reparent",e.DESTROY="destroy",e.BOUNDS_CHANGED="bounds-changed",e.CULLED="culled",e}({}),ys=function(e){function t(r,n,i,a,s,o,l,u){var c;return ae(this,t),c=Ye(this,t,[null]),c.relatedNode=n,c.prevValue=i,c.newValue=a,c.attrName=s,c.attrChange=o,c.prevParsedValue=l,c.newParsedValue=u,c.type=r,c}return Xe(t,e),se(t)}(sg);ys.ADDITION=2;ys.MODIFICATION=1;ys.REMOVAL=3;var rie=new ys(Rr.REPARENT,null,"","","",0,"",""),nie=uh(),td=at(),iie=ft(1,1,1),aie=gt(),sie=uh(),el=at(),oie=gt(),tl=$t(),lie=at(),uie=$t(),cie=at(),Mc=at(),rl=at(),rd=gt(),wA=$t(),xA=$t(),nd=$t(),id={affectChildren:!0},fie=function(){function e(t){ae(this,e),this.pendingEvents=new Map,this.boundsChangedEvent=new nn(Rr.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=t}return se(e,[{key:"matches",value:function(r,n){return this.runtime.sceneGraphSelector.is(r,n)}},{key:"querySelector",value:function(r,n){return this.runtime.sceneGraphSelector.selectOne(r,n)}},{key:"querySelectorAll",value:function(r,n){return this.runtime.sceneGraphSelector.selectAll(r,n)}},{key:"attach",value:function(r,n,i){var a,s=!1;r.parentNode&&(s=r.parentNode!==n,this.detach(r));var o=r.nodeName===Ue.FRAGMENT,l=Xv(n);r.parentNode=n;var u=o?r.childNodes:[r];rt(i)?u.forEach(function(p){n.childNodes.splice(i,0,p),p.parentNode=n}):u.forEach(function(p){n.childNodes.push(p),p.parentNode=n});var c=n,f=c.sortable;if((f!=null&&(a=f.sorted)!==null&&a!==void 0&&a.length||f.dirty||r.parsedStyle.zIndex)&&(f.dirtyChildren.indexOf(r)===-1&&f.dirtyChildren.push(r),f.dirty=!0,f.dirtyReason=Vv.ADDED),!l){if(o)this.dirtifyFragment(r);else{var h=r.transformable;h&&this.dirtyWorldTransform(r,h)}if(s){var d,v=((d=n.ownerDocument)===null||d===void 0||(d=d.defaultView)===null||d===void 0||(d=d.getConfig())===null||d===void 0||(d=d.future)===null||d===void 0?void 0:d.experimentalCancelEventPropagation)===!0;r.dispatchEvent(rie,v,v)}}}},{key:"detach",value:function(r){var n,i;if(r.parentNode){var a=r.transformable,s=r.parentNode,o=s.sortable;(o!=null&&(n=o.sorted)!==null&&n!==void 0&&n.length||(i=r.style)!==null&&i!==void 0&&i.zIndex)&&(o.dirtyChildren.indexOf(r)===-1&&o.dirtyChildren.push(r),o.dirty=!0,o.dirtyReason=Vv.REMOVED);var l=r.parentNode.childNodes.indexOf(r);l>-1&&r.parentNode.childNodes.splice(l,1),a&&this.dirtyWorldTransform(r,a),r.parentNode=null}}},{key:"getLocalPosition",value:function(r){return r.transformable.localPosition}},{key:"getLocalRotation",value:function(r){return r.transformable.localRotation}},{key:"getLocalScale",value:function(r){return r.transformable.localScale}},{key:"getLocalSkew",value:function(r){return r.transformable.localSkew}},{key:"getLocalTransform",value:function(r){var n=r.transformable;return YN(n),n.localTransform}},{key:"setLocalPosition",value:function(r,n){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=r.transformable;Mc[0]=n[0],Mc[1]=n[1],Mc[2]=(i=n[2])!==null&&i!==void 0?i:0,!as(s.localPosition,Mc)&&(Xr(s.localPosition,Mc),a&&this.dirtyLocalTransform(r,s))}},{key:"translateLocal",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=ft(n,i,a));var s=r.transformable;as(n,td)||(kB(n,n,s.localRotation),Fi(s.localPosition,s.localPosition,n),this.dirtyLocalTransform(r,s))}},{key:"setLocalRotation",value:function(r,n,i,a,s){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof n=="number"&&(n=$v(tl,n,i,a,s));var l=r.transformable;_o(l.localRotation,n),o&&this.dirtyLocalTransform(r,l)}},{key:"rotateLocal",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=ft(n,i,a));var s=r.transformable;Eo(xA,n[0],n[1],n[2]),Bv(s.localRotation,s.localRotation,xA),this.dirtyLocalTransform(r,s)}},{key:"setLocalScale",value:function(r,n){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=r.transformable;Jt(el,n[0],n[1],(i=n[2])!==null&&i!==void 0?i:s.localScale[2]),!as(el,s.localScale)&&(Xr(s.localScale,el),a&&this.dirtyLocalTransform(r,s))}},{key:"scaleLocal",value:function(r,n){var i,a=r.transformable;wB(a.localScale,a.localScale,Jt(el,n[0],n[1],(i=n[2])!==null&&i!==void 0?i:1)),this.dirtyLocalTransform(r,a)}},{key:"setLocalSkew",value:function(r,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof n=="number"&&(n=NB(sie,n,i));var s=r.transformable;MB(s.localSkew,n),a&&this.dirtyLocalTransform(r,s)}},{key:"setLocalEulerAngles",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof n=="number"&&(n=ft(n,i,a));var o=r.transformable;Eo(o.localRotation,n[0],n[1],n[2]),s&&this.dirtyLocalTransform(r,o)}},{key:"setLocalTransform",value:function(r,n){var i=Il(lie,n),a=Dl(uie,n),s=ps(cie,n);this.setLocalScale(r,s,!1),this.setLocalPosition(r,i,!1),this.setLocalRotation(r,a,void 0,void 0,void 0,!1),this.dirtyLocalTransform(r,r.transformable)}},{key:"resetLocalTransform",value:function(r){this.setLocalScale(r,iie,!1),this.setLocalPosition(r,td,!1),this.setLocalEulerAngles(r,td,void 0,void 0,!1),this.setLocalSkew(r,nie,void 0,!1),this.dirtyLocalTransform(r,r.transformable)}},{key:"getPosition",value:function(r){var n=r.transformable;return Il(n.position,this.getWorldTransform(r,n))}},{key:"getRotation",value:function(r){var n=r.transformable;return Dl(n.rotation,this.getWorldTransform(r,n))}},{key:"getScale",value:function(r){var n=r.transformable;return ps(n.scaling,this.getWorldTransform(r,n))}},{key:"getOrigin",value:function(r){return r.getGeometryBounds(),r.transformable.origin}},{key:"getWorldTransform",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.transformable;return!n.localDirtyFlag&&!n.dirtyFlag||(r.parentNode&&r.parentNode.transformable&&this.getWorldTransform(r.parentNode),this.internalUpdateTransform(r)),n.worldTransform}},{key:"setPosition",value:function(r,n){var i,a=r.transformable;if(rl[0]=n[0],rl[1]=n[1],rl[2]=(i=n[2])!==null&&i!==void 0?i:0,!as(this.getPosition(r),rl)){if(Xr(a.position,rl),r.parentNode===null||!r.parentNode.transformable)Xr(a.localPosition,rl);else{var s=r.parentNode.transformable;Qs(rd,s.worldTransform),fn(rd,rd),zr(a.localPosition,rl,rd)}this.dirtyLocalTransform(r,a)}}},{key:"translate",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=Jt(el,n,i,a)),!as(n,td)&&(Fi(el,this.getPosition(r),n),this.setPosition(r,el))}},{key:"setRotation",value:function(r,n,i,a,s){var o=r.transformable;if(typeof n=="number"&&(n=TB(n,i,a,s)),r.parentNode===null||!r.parentNode.transformable)this.setLocalRotation(r,n);else{var l=this.getRotation(r.parentNode);_o(tl,l),xu(tl,tl),Bi(o.localRotation,tl,n),ju(o.localRotation,o.localRotation),this.dirtyLocalTransform(r,o)}}},{key:"rotate",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=ft(n,i,a));var s=r.transformable;if(r.parentNode===null||!r.parentNode.transformable)this.rotateLocal(r,n);else{var o=tl;Eo(o,n[0],n[1],n[2]);var l=this.getRotation(r),u=this.getRotation(r.parentNode);_o(nd,u),xu(nd,nd),Bi(o,nd,o),Bi(s.localRotation,o,l),ju(s.localRotation,s.localRotation),this.dirtyLocalTransform(r,s)}}},{key:"setOrigin",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=[n,i,a]);var s=r.transformable;if(!(n[0]===s.origin[0]&&n[1]===s.origin[1]&&n[2]===s.origin[2])){var o=s.origin;o[0]=n[0],o[1]=n[1],o[2]=n[2]||0,this.dirtyLocalTransform(r,s)}}},{key:"setEulerAngles",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=ft(n,i,a));var s=r.transformable;if(r.parentNode===null||!r.parentNode.transformable)this.setLocalEulerAngles(r,n);else{Eo(s.localRotation,n[0],n[1],n[2]);var o=this.getRotation(r.parentNode);_o(wA,xu(tl,o)),Bv(s.localRotation,s.localRotation,wA),this.dirtyLocalTransform(r,s)}}},{key:"getTransformedGeometryBounds",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0,a=this.getGeometryBounds(r,n);if(!Yn.isEmpty(a)){var s=i||new Yn;return s.setFromTransformedAABB(a,this.getWorldTransform(r)),s}return null}},{key:"getGeometryBounds",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=r,a=i.geometry;a.dirty&&Ne.styleValueRegistry.updateGeometry(r);var s=n?a.renderBounds:a.contentBounds||null;return s||new Yn}},{key:"getBounds",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=r,s=a.renderable;if(!s.boundsDirty&&!i&&s.bounds)return s.bounds;if(!s.renderBoundsDirty&&i&&s.renderBounds)return s.renderBounds;var o=i?s.renderBounds:s.bounds,l=this.getTransformedGeometryBounds(r,i,o),u=r.childNodes;if(u.forEach(function(h){var d=n.getBounds(h,i);d&&(l?l.add(d):(l=o||new Yn,l.update(d.center,d.halfExtents)))}),l||(l=new Yn),i){var c=vne(r);if(c){var f=c.parsedStyle.clipPath.getBounds(i);l?f&&(l=f.intersection(l)):l.update(f.center,f.halfExtents)}}return i?(s.renderBounds=l,s.renderBoundsDirty=!1):(s.bounds=l,s.boundsDirty=!1),l}},{key:"getLocalBounds",value:function(r){if(r.parentNode){var n=aie;r.parentNode.transformable&&(n=fn(oie,this.getWorldTransform(r.parentNode)));var i=this.getBounds(r);if(!Yn.isEmpty(i)){var a=new Yn;return a.setFromTransformedAABB(i,n),a}}return this.getBounds(r)}},{key:"getBoundingClientRect",value:function(r){var n,i,a=this.getGeometryBounds(r);Yn.isEmpty(a)||(i=new Yn,i.setFromTransformedAABB(a,this.getWorldTransform(r)));var s=(n=r.ownerDocument)===null||n===void 0||(n=n.defaultView)===null||n===void 0?void 0:n.getContextService().getBoundingClientRect();if(i){var o=i.getMin(),l=Je(o,2),u=l[0],c=l[1],f=i.getMax(),h=Je(f,2),d=h[0],v=h[1];return new Yu(u+(s?.left||0),c+(s?.top||0),d-u,v-c)}return new Yu(s?.left||0,s?.top||0,0,0)}},{key:"internalUpdateTransform",value:function(r){var n,i=(n=r.parentNode)===null||n===void 0?void 0:n.transformable;YN(r.transformable),Pte(r.transformable,i)}},{key:"internalUpdateElement",value:function(r,n){var i,a,s,o,l=((i=r.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig())===null||i===void 0||(i=i.future)===null||i===void 0?void 0:i.experimentalAttributeUpdateOptimization)===!0,u=n[n.length-1],c=u?.transformDirty||((a=r.transformable)===null||a===void 0?void 0:a.localDirtyFlag);if(r.transformable){var f;(f=r.transformable).dirtyFlag||(f.dirtyFlag=c)}if(this.internalUpdateTransform(r),c){var h;(h=r.dirty)===null||h===void 0||h.call(r,!0,!0)}var d=((s=r.renderable)===null||s===void 0?void 0:s.boundsDirty)||((o=r.renderable)===null||o===void 0?void 0:o.renderBoundsDirty);if((c||d)&&u?.shapeUpdated===!1&&l)for(var v=n.length-1;v>=0;){var p,g,m=n[v];if(m.shapeUpdated)break;(p=(g=m.node).dirty)===null||p===void 0||p.call(g,!0,!0),m.shapeUpdated=!0,v-=1}return c}},{key:"syncHierarchy",value:function(r){for(var n,i,a=[r],s=r.parentNode?[{node:r.parentNode,transformDirty:((n=r.parentNode.transformable)===null||n===void 0?void 0:n.localDirtyFlag)||((i=r.parentNode.transformable)===null||i===void 0?void 0:i.dirtyFlag),shapeUpdated:!1}]:[];a.length>0;){for(var o=a.pop(),l=s[s.length-1];s.length>0&&o.parentNode!==l.node;)l=s.pop();var u=this.internalUpdateElement(o,s);if(o.childNodes.length>0){for(var c=o.childNodes.length-1;c>=0;c--)a.push(o.childNodes[c]);s.push({node:o,transformDirty:u,shapeUpdated:!1})}}}},{key:"dirtyLocalTransform",value:function(r,n){Xv(r)||n.localDirtyFlag||(n.localDirtyFlag=!0,n.dirtyFlag||this.dirtyWorldTransform(r,n))}},{key:"dirtyWorldTransform",value:function(r,n){this.dirtifyWorldInternal(r,n),this.dirtyToRoot(r,!0)}},{key:"dirtifyWorldInternal",value:function(r,n){var i,a=this,s=((i=r.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig())===null||i===void 0||(i=i.future)===null||i===void 0?void 0:i.experimentalAttributeUpdateOptimization)===!0;n.dirtyFlag||(n.dirtyFlag=!0,r.dirty(!0,!0),s||r.childNodes.forEach(function(o){var l=o.transformable;a.dirtifyWorldInternal(o,l)}))}},{key:"dirtyToRoot",value:function(r){for(var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=r,s=((n=r.ownerDocument)===null||n===void 0||(n=n.defaultView)===null||n===void 0||(n=n.getConfig())===null||n===void 0||(n=n.future)===null||n===void 0?void 0:n.experimentalAttributeUpdateOptimization)===!0;a;){var o,l;if((o=(l=a).dirty)===null||o===void 0||o.call(l,!0,!0),s)break;a=a.parentNode}i&&r.forEach(function(u){var c;(c=u.dirty)===null||c===void 0||c.call(u,!0,!0)}),this.informDependentDisplayObjects(r),this.pendingEvents.set(r,i)}},{key:"dirtifyFragment",value:function(r){var n,i,a=r.transformable;a&&(a.dirtyFlag=!0,a.localDirtyFlag=!0),(n=(i=r).dirty)===null||n===void 0||n.call(i,!0,!0);for(var s=r.childNodes.length,o=0;o<s;o++)this.dirtifyFragment(r.childNodes[o]);r.nodeName===Ue.FRAGMENT&&this.pendingEvents.set(r,!1)}},{key:"triggerPendingEvents",value:function(){var r=this,n=new Set,i,a,s=function(l,u){if(!(!l.isConnected||n.has(l)||l.nodeName===Ue.FRAGMENT)){if(r.boundsChangedEvent.detail=u,r.boundsChangedEvent.target=l,l.isMutationObserved)l.dispatchEvent(r.boundsChangedEvent);else{if(i===void 0){var c;i=((c=l.ownerDocument.defaultView)===null||c===void 0||(c=c.getConfig())===null||c===void 0||(c=c.future)===null||c===void 0?void 0:c.experimentalCancelEventPropagation)===!0}l.ownerDocument.defaultView.dispatchEvent(r.boundsChangedEvent,!0,i)}n.add(l)}};this.pendingEvents.forEach(function(o,l){if(l.nodeName!==Ue.FRAGMENT){if(a===void 0){var u;a=((u=l.ownerDocument)===null||u===void 0||(u=u.defaultView)===null||u===void 0||(u=u.getConfig())===null||u===void 0||(u=u.future)===null||u===void 0?void 0:u.experimentalAttributeUpdateOptimization)===!0}id.affectChildren=o,a?s(l,id):o?l.forEach(function(c){s(c,id)}):s(l,id)}}),n.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"updateDisplayObjectDependency",value:function(r,n,i,a){if(n&&n!==i){var s=this.displayObjectDependencyMap.get(n);if(s&&s[r]){var o=s[r].indexOf(a);s[r].splice(o,1)}}if(i){var l=this.displayObjectDependencyMap.get(i);l||(this.displayObjectDependencyMap.set(i,{}),l=this.displayObjectDependencyMap.get(i)),l[r]||(l[r]=[]),l[r].push(a)}}},{key:"informDependentDisplayObjects",value:function(r){var n,i=this,a=this.displayObjectDependencyMap.get(r);if(a){var s=(n=r.ownerDocument)===null||n===void 0||(n=n.defaultView)===null||n===void 0||(n=n.getConfig())===null||n===void 0||(n=n.future)===null||n===void 0?void 0:n.experimentalCancelEventPropagation;Object.keys(a).forEach(function(o){a[o].forEach(function(l){i.dirtyToRoot(l,!0),l.dispatchEvent(new ys(Rr.ATTR_MODIFIED,l,i,i,o,ys.MODIFICATION,i,i),s,s),l.isCustomElement&&l.isConnected&&l.attributeChangedCallback&&l.attributeChangedCallback(o,i,i)})})}}}])}(),EA=function(){function e(t){if(ae(this,e),t<=0)throw new Error("LRU capacity must be a positive number.");this.capacity=t,this.cache=new Map}return se(e,[{key:"get",value:function(r){if(this.cache.has(r)){var n=this.cache.get(r);return this.cache.delete(r),this.cache.set(r,n),n}}},{key:"put",value:function(r,n){if(this.cache.has(r)&&this.cache.delete(r),this.cache.set(r,n),this.cache.size>this.capacity){var i=this.cache.keys().next().value;this.cache.delete(i)}}},{key:"len",value:function(){return this.cache.size}},{key:"clear",value:function(){this.cache.clear()}}])}(),nl={MetricsString:"|ÉqÅ",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},_A=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,hie=/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/,die=/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/,vie=/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/,pie=/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/,gie=/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/,mie=/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/,yie=/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/,bie=/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/,wie=new RegExp("".concat(hie.source,"|").concat(vie.source,"|").concat(gie.source,"|").concat(yie.source)),xie=new RegExp("".concat(die.source,"|").concat(pie.source,"|").concat(mie.source,"|").concat(bie.source)),Eie=function(){function e(t){var r=this;ae(this,e),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(n,i){return r.isBreakingSpace(i)?!1:!!(n&&(xie.exec(i)||wie.exec(n)))},this.trimByKinsokuShorui=function(n){var i=it(n),a=i[i.length-2];if(!a)return n;var s=a[a.length-1];return i[i.length-2]=a.slice(0,-1),i[i.length-1]=s+i[i.length-1],i},this.runtime=t,this.charWidthCache=new EA(100)}return se(e,[{key:"measureFont",value:function(r,n){if(this.fontMetricsCache[r])return this.fontMetricsCache[r];var i={ascent:0,descent:0,fontSize:0},a=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(n),s=this.runtime.offscreenCanvasCreator.getOrCreateContext(n,{willReadFrequently:!0});s.font=r;var o=nl.MetricsString+nl.BaselineSymbol,l=Math.ceil(s.measureText(o).width),u=Math.ceil(s.measureText(nl.BaselineSymbol).width),c=nl.HeightMultiplier*u;u=u*nl.BaselineMultiplier|0,a.width=l,a.height=c,s.fillStyle="#f00",s.fillRect(0,0,l,c),s.font=r,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(o,0,u);var f=s.getImageData(0,0,l||1,c||1).data,h=f.length,d=l*4,v=0,p=0,g=!1;for(v=0;v<u;++v){for(var m=0;m<d;m+=4)if(f[p+m]!==255){g=!0;break}if(!g)p+=d;else break}for(i.ascent=u-v,p=h-d,g=!1,v=c;v>u;--v){for(var y=0;y<d;y+=4)if(f[p+y]!==255){g=!0;break}if(!g)p-=d;else break}return i.descent=v-u,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[r]=i,i}},{key:"measureText",value:function(r,n,i){var a=n.fontSize,s=a===void 0?16:a,o=n.wordWrap,l=o===void 0?!1:o,u=n.lineHeight,c=n.lineWidth,f=c===void 0?1:c,h=n.textBaseline,d=h===void 0?"alphabetic":h,v=n.textAlign,p=v===void 0?"start":v,g=n.letterSpacing,m=g===void 0?0:g,y=n.textPath;n.textPathSide,n.textPathStartOffset;var b=n.leading,_=b===void 0?0:b,x=yA(n),E=this.measureFont(x,i);E.fontSize===0&&(E.fontSize=s,E.ascent=s);var w=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);w.font=x,n.isOverflowing=!1;var S=l?this.wordWrap(r,n,i):r,A=S.split(/(?:\r\n|\r|\n)/),P=new Array(A.length),O=0;if(y){y.getTotalLength();for(var C=0;C<A.length;C++)w.measureText(A[C]).width+(A[C].length-1)*m}else{for(var L=0;L<A.length;L++){var I=w.measureText(A[L]).width+(A[L].length-1)*m;P[L]=I,O=Math.max(O,I)}var F=O+f,U=u||E.fontSize+f,G=Math.max(U,E.fontSize+f)+(A.length-1)*(U+_);U+=_;var z=0;return d==="middle"?z=-G/2:d==="bottom"||d==="alphabetic"||d==="ideographic"?z=-G:(d==="top"||d==="hanging")&&(z=0),{font:x,width:F,height:G,lines:A,lineWidths:P,lineHeight:U,maxLineWidth:O,fontProperties:E,lineMetrics:P.map(function(Z,ge){var xe=0;return p==="center"||p==="middle"?xe-=Z/2:(p==="right"||p==="end")&&(xe-=Z),new Yu(xe-f/2,z+ge*U,Z+f,U)})}}}},{key:"wordWrap",value:function(r,n,i){var a=this,s=Array.from(r);if(s.length===0)return"";var o=this,l=n.wordWrapWidth,u=l===void 0?0:l,c=n.letterSpacing,f=c===void 0?0:c,h=n.maxLines,d=h===void 0?1/0:h,v=n.textOverflow,p=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),g=u+f,m="";v==="ellipsis"?m="...":v&&v!=="clip"&&(m=v);var y=[""],b=0,_=0,x=-1,E=yA(n),w=this.charWidthCache.get(E);w||(w=new EA(500),this.charWidthCache.put(E,w));var S=function(Z){return a.getFromCache(Z,f,w,p)},A=S(m);function P(z,Z,ge,xe){for(;S(z)<xe&&Z<s.length-1&&!o.isNewline(s[Z+1]);)Z+=1,z+=s[Z];for(;S(z)>xe&&Z>=ge;)Z-=1,z=z.slice(0,-1);return{lineTxt:z,txtLastCharIndex:Z}}function O(z,Z){if(!(A<=0||A>g)){if(!y[z]){y[z]=m;return}var ge=P(y[z],Z,x+1,g-A);y[z]=ge.lineTxt+m}}for(var C=0;C<s.length;C++){var L=s[C],I=s[C-1],F=s[C+1],U=S(L);if(this.isNewline(L)){if(b+1>=d){C<s.length-1&&O(b,C-1),n.isOverflowing=!0;break}x=C-1,b+=1,_=0,y[b]="";continue}if(U>g){O(b,C-1),n.isOverflowing=!0;break}if(_>0&&_+U>g){var G=P(y[b],C-1,x+1,g);if(G.txtLastCharIndex!==C-1){if(y[b]=G.lineTxt,G.txtLastCharIndex===s.length-1)break;C=G.txtLastCharIndex+1,L=s[C],I=s[C-1],F=s[C+1],U=S(L)}if(b+1>=d){O(b,C-1),n.isOverflowing=!0;break}if(x=C-1,b+=1,_=0,y[b]="",this.isBreakingSpace(L))continue;this.canBreakInLastChar(L)||(y=this.trimToBreakable(y),_=this.sumTextWidthByCache(y[b]||"",S)),this.shouldBreakByKinsokuShorui(L,F)&&(y=this.trimByKinsokuShorui(y),_+=S(I||""))}_+=U,y[b]+=L}return y.join(`
`)}},{key:"isBreakingSpace",value:function(r){return typeof r!="string"?!1:nl.BreakingSpaces.indexOf(r.charCodeAt(0))>=0}},{key:"isNewline",value:function(r){return typeof r!="string"?!1:nl.Newlines.indexOf(r.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(r){var n=it(r),i=n[n.length-2],a=this.findBreakableIndex(i);if(a===-1||!i)return n;var s=i.slice(a,a+1),o=this.isBreakingSpace(s),l=a+1,u=a+(o?0:1);return n[n.length-1]+=i.slice(l,i.length),n[n.length-2]=i.slice(0,u),n}},{key:"canBreakInLastChar",value:function(r){return!(r&&_A.test(r))}},{key:"sumTextWidthByCache",value:function(r,n){return r.split("").reduce(function(i,a){return i+n(a)},0)}},{key:"findBreakableIndex",value:function(r){for(var n=r.length-1;n>=0;n--)if(!_A.test(r[n]))return n;return-1}},{key:"getFromCache",value:function(r,n,i,a){var s=i.get(r);if(typeof s!="number"){var o=r.length*n,l=a.measureText(r);s=l.width+o,i.put(r,s)}return s}},{key:"clearCache",value:function(){this.fontMetricsCache={},this.charWidthCache.clear()}}])}(),Ne={},_ie=function(e){var t=new Une,r=new Vne;return e={},Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(e,Ue.FRAGMENT,null),Ue.CIRCLE,new Gne),Ue.ELLIPSE,new qne),Ue.RECT,t),Ue.IMAGE,t),Ue.GROUP,new Yne),Ue.LINE,new jne),Ue.TEXT,new Hne(Ne)),Ue.POLYLINE,r),Ue.POLYGON,r),Me(Me(Me(e,Ue.PATH,new Wne),Ue.HTML,new Xne),Ue.MESH,null)}(),kie=function(e){var t=new Qre,r=new c2;return e={},Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(e,De.PERCENTAGE,null),De.NUMBER,new nne),De.ANGLE,new Kre),De.DEFINED_PATH,new Zre),De.PAINT,t),De.COLOR,t),De.FILTER,new Jre),De.LENGTH,r),De.LENGTH_PERCENTAGE,r),De.LENGTH_PERCENTAGE_12,new ene),Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(e,De.LENGTH_PERCENTAGE_14,new tne),De.COORDINATE,new c2),De.OFFSET_DISTANCE,new ine),De.OPACITY_VALUE,new ane),De.PATH,new sne),De.LIST_OF_POINTS,new one),De.SHADOW_BLUR,new lne),De.TEXT,new une),De.TEXT_TRANSFORM,new cne),De.TRANSFORM,new $ne),Me(Me(Me(e,De.TRANSFORM_ORIGIN,new Bne),De.Z_INDEX,new zne),De.MARKER,new rne)}(),Sie=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};Ne.CameraContribution=QB;Ne.AnimationTimeline=null;Ne.EasingFunction=null;Ne.offscreenCanvasCreator=new Qne;Ne.sceneGraphSelector=new tie;Ne.sceneGraphService=new fie(Ne);Ne.textService=new Eie(Ne);Ne.geometryUpdaterFactory=_ie;Ne.CSSPropertySyntaxFactory=kie;Ne.styleValueRegistry=new Yre(Ne);Ne.layoutRegistry=null;Ne.globalThis=Sie();Ne.enableStyleSyntax=!0;Ne.enableSizeAttenuation=!1;var Tie=0,v2=new ys(Rr.INSERTED,null,"","","",0,"",""),p2=new ys(Rr.REMOVED,null,"","","",0,"",""),k4=new nn(Rr.DESTROY),Mie=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.entity=Tie++,r.transformable={dirtyFlag:!1,localDirtyFlag:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},r.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},r.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},r.cullable={strategy:Mte.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},r.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},r.rBushNode={aabb:void 0},r.namespaceURI="g",r.scrollLeft=0,r.scrollTop=0,r.clientTop=0,r.clientLeft=0,r.style={},r.computedStyle={},r.parsedStyle={},r.attributes={},r}return Xe(t,e),se(t,[{key:"dirty",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.renderable.dirty=n,i&&(this.renderable.boundsDirty=n,this.renderable.renderBoundsDirty=n)}},{key:"className",get:function(){return this.getAttribute("class")||""},set:function(n){this.setAttribute("class",n)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(n){return n!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var n=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[n+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var n=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[n-1]||null}return null}},{key:"cloneNode",value:function(n){throw new Error(Yt)}},{key:"appendChild",value:function(n,i){var a;if(n.destroyed)throw new Error(gte);return Ne.sceneGraphService.attach(n,this,i),(a=this.ownerDocument)!==null&&a!==void 0&&a.defaultView&&(!Xv(this)&&n.nodeName===Ue.FRAGMENT?this.ownerDocument.defaultView.mountFragment(n):this.ownerDocument.defaultView.mountChildren(n)),this.isMutationObserved&&(v2.relatedNode=this,n.dispatchEvent(v2)),n}},{key:"insertBefore",value:function(n,i){if(!i)this.appendChild(n);else{n.parentElement&&n.parentElement.removeChild(n);var a=this.childNodes.indexOf(i);a===-1?this.appendChild(n):this.appendChild(n,a)}return n}},{key:"replaceChild",value:function(n,i){var a=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(n,a),i}},{key:"removeChild",value:function(n){var i,a,s=((i=this.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;return p2.relatedNode=this,n.dispatchEvent(p2,s,s),(a=n.ownerDocument)!==null&&a!==void 0&&a.defaultView&&n.ownerDocument.defaultView.unmountChildren(n),Ne.sceneGraphService.detach(n),n}},{key:"removeChildren",value:function(){for(var n=this.childNodes.length-1;n>=0;n--){var i=this.childNodes[n];this.removeChild(i)}}},{key:"destroyChildren",value:function(){for(var n=this.childNodes.length-1;n>=0;n--){var i=this.childNodes[n];i.childNodes.length>0&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(n){return Ne.sceneGraphService.matches(n,this)}},{key:"getElementById",value:function(n){return Ne.sceneGraphService.querySelector("#".concat(n),this)}},{key:"getElementsByName",value:function(n){return Ne.sceneGraphService.querySelectorAll('[name="'.concat(n,'"]'),this)}},{key:"getElementsByClassName",value:function(n){return Ne.sceneGraphService.querySelectorAll(".".concat(n),this)}},{key:"getElementsByTagName",value:function(n){return Ne.sceneGraphService.querySelectorAll(n,this)}},{key:"querySelector",value:function(n){return Ne.sceneGraphService.querySelector(n,this)}},{key:"querySelectorAll",value:function(n){return Ne.sceneGraphService.querySelectorAll(n,this)}},{key:"closest",value:function(n){var i=this;do{if(Ne.sceneGraphService.matches(n,i))return i;i=i.parentElement}while(i!==null);return null}},{key:"find",value:function(n){var i=this,a=null;return this.forEach(function(s){return s!==i&&n(s)?(a=s,!1):!0}),a}},{key:"findAll",value:function(n){var i=this,a=[];return this.forEach(function(s){s!==i&&n(s)&&a.push(s)}),a}},{key:"after",value:function(){var n=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];s.forEach(function(l,u){var c;return(c=n.parentNode)===null||c===void 0?void 0:c.appendChild(l,i+u+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var n,i=this.parentNode.childNodes.indexOf(this),a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var l=s[0],u=s.slice(1);this.parentNode.appendChild(l,i),(n=l).after.apply(n,it(u))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.forEach(function(o){return n.appendChild(o)})}},{key:"prepend",value:function(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.forEach(function(o,l){return n.appendChild(o,l)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){var n,i=((n=this.ownerDocument)===null||n===void 0||(n=n.defaultView)===null||n===void 0||(n=n.getConfig().future)===null||n===void 0?void 0:n.experimentalCancelEventPropagation)===!0;this.destroyChildren(),this.dispatchEvent(k4,i,i),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return Ne.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return Ne.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return Ne.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return Ne.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return Ne.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(n){if(typeof n!="symbol"){var i=this.attributes[n];return i}}},{key:"hasAttribute",value:function(n){return this.getAttributeNames().includes(n)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(n){this.setAttribute(n,null),delete this.attributes[n]}},{key:"setAttribute",value:function(n,i,a,s){this.attributes[n]=i}},{key:"getAttributeNS",value:function(n,i){throw new Error(Yt)}},{key:"getAttributeNode",value:function(n){throw new Error(Yt)}},{key:"getAttributeNodeNS",value:function(n,i){throw new Error(Yt)}},{key:"hasAttributeNS",value:function(n,i){throw new Error(Yt)}},{key:"removeAttributeNS",value:function(n,i){throw new Error(Yt)}},{key:"removeAttributeNode",value:function(n){throw new Error(Yt)}},{key:"setAttributeNS",value:function(n,i,a){throw new Error(Yt)}},{key:"setAttributeNode",value:function(n){throw new Error(Yt)}},{key:"setAttributeNodeNS",value:function(n){throw new Error(Yt)}},{key:"toggleAttribute",value:function(n,i){throw new Error(Yt)}}])}(Tr);function ar(e){return!!(e!=null&&e.nodeName)}var Nie=Ne.globalThis.Proxy?Ne.globalThis.Proxy:function(){},es=new ys(Rr.ATTR_MODIFIED,null,null,null,null,ys.MODIFICATION,null,null),Nc=at(),Aie=$t(),mr=function(e){function t(r){var n;return ae(this,t),n=Ye(this,t),n.isCustomElement=!1,n.isMutationObserved=!1,n.activeAnimations=[],n.config=r,n.id=r.id||"",n.name=r.name||"",(r.className||r.class)&&(n.className=r.className||r.class),n.nodeName=r.type||Ue.GROUP,r.initialParsedStyle&&Object.assign(n.parsedStyle,r.initialParsedStyle),n.initAttributes(r.style),Ne.enableStyleSyntax&&(n.style=new Nie({setProperty:function(a,s){n.setAttribute(a,s)},getPropertyValue:function(a){return n.getAttribute(a)},removeProperty:function(a){n.removeAttribute(a)},item:function(){return""}},{get:function(a,s){return a[s]!==void 0?a[s]:n.getAttribute(s)},set:function(a,s,o){return n.setAttribute(s,o),!0}})),n}return Xe(t,e),se(t,[{key:"destroy",value:function(){jv(t,"destroy",this)([]),this.getAnimations().forEach(function(n){n.cancel()})}},{key:"cloneNode",value:function(n,i){var a=tt({},this.attributes);for(var s in a){var o=a[s];ar(o)&&s!=="clipPath"&&s!=="offsetPath"&&s!=="textPath"&&(a[s]=o.cloneNode(n)),i&&(a[s]=i(s,o))}var l=new this.constructor(tt(tt({},this.config),{},{style:a}));return l.setLocalTransform(this.getLocalTransform()),n&&this.children.forEach(function(u){if(!u.style.isMarker){var c=u.cloneNode(n);l.appendChild(c)}}),l}},{key:"initAttributes",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={forceUpdateGeometry:!0};Ne.styleValueRegistry.processProperties(this,n,i),this.dirty()}},{key:"setAttribute",value:function(n,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;ct(i)||(a||i!==this.attributes[n])&&(this.internalSetAttribute(n,i,{memoize:s}),jv(t,"setAttribute",this)([n,i]))}},{key:"internalSetAttribute",value:function(n,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.attributes[n],o=this.parsedStyle[n];Ne.styleValueRegistry.processProperties(this,Me({},n,i),a),this.dirty();var l=this.parsedStyle[n];if(this.isConnected)if(es.relatedNode=this,es.prevValue=s,es.newValue=i,es.attrName=n,es.prevParsedValue=o,es.newParsedValue=l,this.isMutationObserved)this.dispatchEvent(es);else{var u,c=((u=this.ownerDocument.defaultView.getConfig().future)===null||u===void 0?void 0:u.experimentalCancelEventPropagation)===!0;es.target=this,this.ownerDocument.defaultView.dispatchEvent(es,!0,c)}if(this.isCustomElement&&this.isConnected||!this.isCustomElement){var f,h;(f=(h=this).attributeChangedCallback)===null||f===void 0||f.call(h,n,s,i,o,l)}}},{key:"getBBox",value:function(){var n=this.getBounds(),i=n.getMin(),a=Je(i,2),s=a[0],o=a[1],l=n.getMax(),u=Je(l,2),c=u[0],f=u[1];return new Yu(s,o,c-s,f-o)}},{key:"setOrigin",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.setOrigin(this,Xn(n,i,a,!1)),this}},{key:"getOrigin",value:function(){return Ne.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.setPosition(this,Xn(n,i,a,!1)),this}},{key:"setLocalPosition",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.setLocalPosition(this,Xn(n,i,a,!1)),this}},{key:"translate",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.translate(this,Xn(n,i,a,!1)),this}},{key:"translateLocal",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ne.sceneGraphService.translateLocal(this,Xn(n,i,a,!1)),this}},{key:"getPosition",value:function(){return Ne.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return Ne.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(n,i,a){return this.scaleLocal(n,i,a)}},{key:"scaleLocal",value:function(n,i,a){return typeof n=="number"&&(i=i||n,a=a||n,n=Xn(n,i,a,!1)),Ne.sceneGraphService.scaleLocal(this,n),this}},{key:"setLocalScale",value:function(n,i,a){return typeof n=="number"&&(i=i||n,a=a||n,n=Xn(n,i,a,!1)),Ne.sceneGraphService.setLocalScale(this,n),this}},{key:"getLocalScale",value:function(){return Ne.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return Ne.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var n=O0(Nc,Ne.sceneGraphService.getWorldTransform(this)),i=Je(n,3),a=i[2];return Ki(a)}},{key:"getLocalEulerAngles",value:function(){var n=O0(Nc,Ne.sceneGraphService.getLocalRotation(this)),i=Je(n,3),a=i[2];return Ki(a)}},{key:"setEulerAngles",value:function(n){return Ne.sceneGraphService.setEulerAngles(this,0,0,n),this}},{key:"setLocalEulerAngles",value:function(n){return Ne.sceneGraphService.setLocalEulerAngles(this,0,0,n),this}},{key:"rotateLocal",value:function(n,i,a){return Ze(i)&&Ze(a)?Ne.sceneGraphService.rotateLocal(this,0,0,n):Ne.sceneGraphService.rotateLocal(this,n,i,a),this}},{key:"rotate",value:function(n,i,a){return Ze(i)&&Ze(a)?Ne.sceneGraphService.rotate(this,0,0,n):Ne.sceneGraphService.rotate(this,n,i,a),this}},{key:"setRotation",value:function(n,i,a,s){return Ne.sceneGraphService.setRotation(this,n,i,a,s),this}},{key:"setLocalRotation",value:function(n,i,a,s){return Ne.sceneGraphService.setLocalRotation(this,n,i,a,s),this}},{key:"setLocalSkew",value:function(n,i){return Ne.sceneGraphService.setLocalSkew(this,n,i),this}},{key:"getRotation",value:function(){return Ne.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return Ne.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return Ne.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return Ne.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return Ne.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(n){return Ne.sceneGraphService.setLocalTransform(this,n),this}},{key:"resetLocalTransform",value:function(){Ne.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(n,i){var a,s=(a=this.ownerDocument)===null||a===void 0?void 0:a.timeline;return s?s.play(this,n,i):null}},{key:"isVisible",value:function(){var n;return((n=this.parsedStyle)===null||n===void 0?void 0:n.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(n){this.style.pointerEvents=n?"auto":"none"}},{key:"isInteractive",value:function(){var n;return((n=this.parsedStyle)===null||n===void 0?void 0:n.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,it(this.parentNode.children.map(function(n){return Number(n.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,it(this.parentNode.children.map(function(n){return Number(n.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=a[0],l=a[1];return o?gs(o)?(Object.keys(o).forEach(function(u){n.setAttribute(u,o[u])}),this):a.length===2?(this.setAttribute(o,l),this):this.attributes[o]:this.attributes}},{key:"getMatrix",value:function(n){var i=n||this.getWorldTransform(),a=Il(Nc,i),s=Je(a,2),o=s[0],l=s[1],u=ps(Nc,i),c=Je(u,2),f=c[0],h=c[1],d=Dl(Aie,i),v=O0(Nc,d),p=Je(v,3),g=p[0],m=p[2];return Ete(g||m,o,l,f,h)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(n){var i=VN(n),a=Je(i,5),s=a[0],o=a[1],l=a[2],u=a[3],c=a[4];this.setEulerAngles(c).setPosition(s,o).setLocalScale(l,u)}},{key:"setLocalMatrix",value:function(n){var i=VN(n),a=Je(i,5),s=a[0],o=a[1],l=a[2],u=a[3],c=a[4];this.setLocalEulerAngles(c).setLocalPosition(s,o).setLocalScale(l,u)}},{key:"show",value:function(){this.forEach(function(n){n.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(n){n.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(n){return this.children[n]||null}},{key:"add",value:function(n,i){return this.appendChild(n,i)}},{key:"set",value:function(n,i){this.config[n]=i}},{key:"get",value:function(n){return this.config[n]}},{key:"moveTo",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(n,i,a),this}},{key:"move",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(n,i,a),this}},{key:"setZIndex",value:function(n){return this.style.zIndex=n,this}}])}(Mie);mr.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var Ku=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ae(this,t),Ye(this,t,[tt({type:Ue.CIRCLE},r)])}return Xe(t,e),se(t)}(mr);Ku.PARSED_STYLE_LIST=new Set([].concat(it(mr.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var Pie=["style"],S4=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=Ei(n,Pie);return ae(this,t),r=Ye(this,t,[tt({style:i},a)]),r.isCustomElement=!0,r}return Xe(t,e),se(t)}(mr);S4.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Ik=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ae(this,t),Ye(this,t,[tt({type:Ue.ELLIPSE},r)])}return Xe(t,e),se(t)}(mr);Ik.PARSED_STYLE_LIST=new Set([].concat(it(mr.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var Oie=function(e){function t(){return ae(this,t),Ye(this,t,[{type:Ue.FRAGMENT}])}return Xe(t,e),se(t)}(mr);Oie.PARSED_STYLE_LIST=new Set(["class","className"]);var Nn=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ae(this,t),Ye(this,t,[tt({type:Ue.GROUP},r)])}return Xe(t,e),se(t)}(mr);Nn.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Cie=["style"],og=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=Ei(n,Cie);return ae(this,t),r=Ye(this,t,[tt({type:Ue.HTML,style:i},a)]),r.cullable.enable=!1,r}return Xe(t,e),se(t,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var n=fn(gt(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!Yn.isEmpty(i)){var a=new Yn;return a.setFromTransformedAABB(i,n),a}}return this.getBounds()}}])}(mr);og.PARSED_STYLE_LIST=new Set([].concat(it(mr.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var Dk=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ae(this,t),Ye(this,t,[tt({type:Ue.IMAGE},r)])}return Xe(t,e),se(t)}(mr);Dk.PARSED_STYLE_LIST=new Set([].concat(it(mr.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var Rie=["style"],lg=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=Ei(n,Rie);ae(this,t),r=Ye(this,t,[tt({type:Ue.LINE,style:tt({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},i)},a)]),r.markerStartAngle=0,r.markerEndAngle=0;var s=r.parsedStyle,o=s.markerStart,l=s.markerEnd;return o&&ar(o)&&(r.markerStartAngle=o.getLocalEulerAngles(),r.appendChild(o)),l&&ar(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return Xe(t,e),se(t,[{key:"attributeChangedCallback",value:function(n,i,a,s,o){n==="x1"||n==="y1"||n==="x2"||n==="y2"||n==="markerStartOffset"||n==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):n==="markerStart"?(s&&ar(s)&&(this.markerStartAngle=0,s.remove()),o&&ar(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):n==="markerEnd"&&(s&&ar(s)&&(this.markerEndAngle=0,s.remove()),o&&ar(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1)))}},{key:"transformMarker",value:function(n){var i=this.parsedStyle,a=i.markerStart,s=i.markerEnd,o=i.markerStartOffset,l=i.markerEndOffset,u=i.x1,c=i.x2,f=i.y1,h=i.y2,d=n?a:s;if(!(!d||!ar(d))){var v=0,p,g,m,y,b,_;n?(m=u,y=f,p=c-u,g=h-f,b=o||0,_=this.markerStartAngle):(m=c,y=h,p=u-c,g=f-h,b=l||0,_=this.markerEndAngle),v=Math.atan2(g,p),d.setLocalEulerAngles(v*180/Math.PI+_),d.setLocalPosition(m+Math.cos(v)*b,y+Math.sin(v)*b)}}},{key:"getPoint",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle,s=a.x1,o=a.y1,l=a.x2,u=a.y2,c=ng(s,o,l,u,n),f=c.x,h=c.y,d=zr(at(),ft(f,h,0),i?this.getWorldTransform():this.getLocalTransform());return new zn(d[0],d[1])}},{key:"getPointAtLength",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(n/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var n=this.parsedStyle,i=n.x1,a=n.y1,s=n.x2,o=n.y2;return rg(i,a,s,o)}}])}(mr);lg.PARSED_STYLE_LIST=new Set([].concat(it(mr.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var Lie=["style"],dh=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=Ei(n,Lie);ae(this,t),r=Ye(this,t,[tt({type:Ue.PATH,style:i,initialParsedStyle:{miterLimit:4,d:tt({},JB)}},a)]),r.markerStartAngle=0,r.markerEndAngle=0,r.markerMidList=[];var s=r.parsedStyle,o=s.markerStart,l=s.markerEnd,u=s.markerMid;return o&&ar(o)&&(r.markerStartAngle=o.getLocalEulerAngles(),r.appendChild(o)),u&&ar(u)&&r.placeMarkerMid(u),l&&ar(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return Xe(t,e),se(t,[{key:"attributeChangedCallback",value:function(n,i,a,s,o){n==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):n==="markerStartOffset"||n==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):n==="markerStart"?(s&&ar(s)&&(this.markerStartAngle=0,s.remove()),o&&ar(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):n==="markerEnd"?(s&&ar(s)&&(this.markerEndAngle=0,s.remove()),o&&ar(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):n==="markerMid"&&this.placeMarkerMid(o)}},{key:"transformMarker",value:function(n){var i=this.parsedStyle,a=i.markerStart,s=i.markerEnd,o=i.markerStartOffset,l=i.markerEndOffset,u=n?a:s;if(!(!u||!ar(u))){var c=0,f,h,d,v,p,g;if(n){var m=this.getStartTangent(),y=Je(m,2),b=y[0],_=y[1];d=_[0],v=_[1],f=b[0]-_[0],h=b[1]-_[1],p=o||0,g=this.markerStartAngle}else{var x=this.getEndTangent(),E=Je(x,2),w=E[0],S=E[1];d=S[0],v=S[1],f=w[0]-S[0],h=w[1]-S[1],p=l||0,g=this.markerEndAngle}c=Math.atan2(h,f),u.setLocalEulerAngles(c*180/Math.PI+g),u.setLocalPosition(d+Math.cos(c)*p,v+Math.sin(c)*p)}}},{key:"placeMarkerMid",value:function(n){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(c){c.remove()}),n&&ar(n))for(var a=1;a<i.length-1;a++){var s=Je(i[a].currentPoint,2),o=s[0],l=s[1],u=a===1?n:n.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(o,l)}}},{key:"getTotalLength",value:function(){return oA(this)}},{key:"getPointAtLength",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.d.absolutePath,s=jB(a,n),o=s.x,l=s.y,u=zr(at(),ft(o,l,0),i?this.getWorldTransform():this.getLocalTransform());return new zn(u[0],u[1])}},{key:"getPoint",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(n*oA(this),i)}},{key:"getStartTangent",value:function(){var n=this.parsedStyle.d.segments,i=[];if(n.length>1){var a=n[0].currentPoint,s=n[1].currentPoint,o=n[1].startTangent;i=[],o?(i.push([a[0]-o[0],a[1]-o[1]]),i.push([a[0],a[1]])):(i.push([s[0],s[1]]),i.push([a[0],a[1]]))}return i}},{key:"getEndTangent",value:function(){var n=this.parsedStyle.d.segments,i=n.length,a=[];if(i>1){var s=n[i-2].currentPoint,o=n[i-1].currentPoint,l=n[i-1].endTangent;a=[],l?(a.push([o[0]-l[0],o[1]-l[1]]),a.push([o[0],o[1]])):(a.push([s[0],s[1]]),a.push([o[0],o[1]]))}return a}}])}(mr);dh.PARSED_STYLE_LIST=new Set([].concat(it(mr.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var Iie=["style"],vh=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=Ei(n,Iie);ae(this,t),r=Ye(this,t,[tt({type:Ue.POLYGON,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},a)]),r.markerStartAngle=0,r.markerEndAngle=0,r.markerMidList=[];var s=r.parsedStyle,o=s.markerStart,l=s.markerEnd,u=s.markerMid;return o&&ar(o)&&(r.markerStartAngle=o.getLocalEulerAngles(),r.appendChild(o)),u&&ar(u)&&r.placeMarkerMid(u),l&&ar(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return Xe(t,e),se(t,[{key:"attributeChangedCallback",value:function(n,i,a,s,o){n==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):n==="markerStartOffset"||n==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):n==="markerStart"?(s&&ar(s)&&(this.markerStartAngle=0,s.remove()),o&&ar(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):n==="markerEnd"?(s&&ar(s)&&(this.markerEndAngle=0,s.remove()),o&&ar(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):n==="markerMid"&&this.placeMarkerMid(o)}},{key:"transformMarker",value:function(n){var i=this.parsedStyle,a=i.markerStart,s=i.markerEnd,o=i.markerStartOffset,l=i.markerEndOffset,u=i.points,c=u||{},f=c.points,h=n?a:s;if(!(!h||!ar(h)||!f)){var d=0,v,p,g,m,y,b;if(g=f[0][0],m=f[0][1],n)v=f[1][0]-f[0][0],p=f[1][1]-f[0][1],y=o||0,b=this.markerStartAngle;else{var _=f.length;this.parsedStyle.isClosed?(v=f[_-1][0]-f[0][0],p=f[_-1][1]-f[0][1]):(g=f[_-1][0],m=f[_-1][1],v=f[_-2][0]-f[_-1][0],p=f[_-2][1]-f[_-1][1]),y=l||0,b=this.markerEndAngle}d=Math.atan2(p,v),h.setLocalEulerAngles(d*180/Math.PI+b),h.setLocalPosition(g+Math.cos(d)*y,m+Math.sin(d)*y)}}},{key:"placeMarkerMid",value:function(n){var i=this.parsedStyle.points,a=i||{},s=a.points;if(this.markerMidList.forEach(function(f){f.remove()}),this.markerMidList=[],n&&ar(n)&&s)for(var o=1;o<(this.parsedStyle.isClosed?s.length:s.length-1);o++){var l=s[o][0],u=s[o][1],c=o===1?n:n.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(l,u)}}}])}(mr);vh.PARSED_STYLE_LIST=new Set([].concat(it(mr.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var Die=["style"],Fk=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.style,i=Ei(r,Die);return ae(this,t),Ye(this,t,[tt({type:Ue.POLYLINE,style:n,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i)])}return Xe(t,e),se(t,[{key:"getTotalLength",value:function(){return kre(this)}},{key:"getPointAtLength",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(n/this.getTotalLength(),i)}},{key:"getPoint",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var s=[],o=0,l,u,c=this.getTotalLength();a.forEach(function(m,y){a[y+1]&&(l=[0,0],l[0]=o/c,u=rg(m[0],m[1],a[y+1][0],a[y+1][1]),o+=u,l[1]=o/c,s.push(l))}),this.parsedStyle.points.segments=s}var f=0,h=0;this.parsedStyle.points.segments.forEach(function(m,y){n>=m[0]&&n<=m[1]&&(f=(n-m[0])/(m[1]-m[0]),h=y)});var d=ng(a[h][0],a[h][1],a[h+1][0],a[h+1][1],f),v=d.x,p=d.y,g=zr(at(),ft(v,p,0),i?this.getWorldTransform():this.getLocalTransform());return new zn(g[0],g[1])}},{key:"getStartTangent",value:function(){var n=this.parsedStyle.points.points,i=[];return i.push([n[1][0],n[1][1]]),i.push([n[0][0],n[0][1]]),i}},{key:"getEndTangent",value:function(){var n=this.parsedStyle.points.points,i=n.length-1,a=[];return a.push([n[i-1][0],n[i-1][1]]),a.push([n[i][0],n[i][1]]),a}}])}(vh);Fk.PARSED_STYLE_LIST=new Set([].concat(it(vh.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var Do=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ae(this,t),Ye(this,t,[tt({type:Ue.RECT},r)])}return Xe(t,e),se(t)}(mr);Do.PARSED_STYLE_LIST=new Set([].concat(it(mr.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var Fie=["style"],ug=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.style,i=Ei(r,Fie);return ae(this,t),Ye(this,t,[tt({type:Ue.TEXT,style:tt({fill:"black"},n)},i)])}return Xe(t,e),se(t,[{key:"getComputedTextLength",value:function(){var n;return this.getGeometryBounds(),((n=this.parsedStyle.metrics)===null||n===void 0?void 0:n.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var n;return this.getGeometryBounds(),((n=this.parsedStyle.metrics)===null||n===void 0?void 0:n.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(mr);ug.PARSED_STYLE_LIST=new Set([].concat(it(mr.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var $ie=function(){function e(){ae(this,e),this.registry={},this.define(Ue.CIRCLE,Ku),this.define(Ue.ELLIPSE,Ik),this.define(Ue.RECT,Do),this.define(Ue.IMAGE,Dk),this.define(Ue.LINE,lg),this.define(Ue.GROUP,Nn),this.define(Ue.PATH,dh),this.define(Ue.POLYGON,vh),this.define(Ue.POLYLINE,Fk),this.define(Ue.TEXT,ug),this.define(Ue.HTML,og)}return se(e,[{key:"define",value:function(r,n){this.registry[r]=n}},{key:"get",value:function(r){return this.registry[r]}}])}(),Bie=function(e){function t(){var r;ae(this,t),r=Ye(this,t),r.defaultView=null,r.ownerDocument=null,r.nodeName="document";try{r.timeline=new Ne.AnimationTimeline(r)}catch{}var n={};return Rk.forEach(function(i){var a=i.n,s=i.inh,o=i.d;s&&o&&(n[a]=Gt(o)?o(Ue.GROUP):o)}),r.documentElement=new Nn({id:"g-root",style:n}),r.documentElement.ownerDocument=r,r.documentElement.parentNode=r,r.childNodes=[r.documentElement],r}return Xe(t,e),se(t,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(n,i){if(n==="svg")return this.documentElement;var a=this.defaultView.customElements.get(n);a||(console.warn("Unsupported tagName: ",n),a=n==="tspan"?ug:Nn);var s=new a(i);return s.ownerDocument=this,s}},{key:"createElementNS",value:function(n,i,a){return this.createElement(i,a)}},{key:"cloneNode",value:function(n){throw new Error(Yt)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch{}}},{key:"elementsFromBBox",value:function(n,i,a,s){var o=this.defaultView.context.rBushRoot,l=o.search({minX:n,minY:i,maxX:a,maxY:s}),u=[];return l.forEach(function(c){var f=c.displayObject,h=f.parsedStyle.pointerEvents,d=h===void 0?"auto":h,v=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(d);(!v||v&&f.isVisible())&&!f.isCulled()&&f.isInteractive()&&u.push(f)}),u.sort(function(c,f){return f.sortable.renderOrder-c.sortable.renderOrder}),u}},{key:"elementFromPointSync",value:function(n,i){var a=this.defaultView.canvas2Viewport({x:n,y:i}),s=a.x,o=a.y,l=this.defaultView.getConfig(),u=l.width,c=l.height;if(s<0||o<0||s>u||o>c)return null;var f=this.defaultView.viewport2Client({x:s,y:o}),h=f.x,d=f.y,v=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:n,y:i,viewportX:s,viewportY:o,clientX:h,clientY:d},picked:[]}),p=v.picked;return p&&p[0]||this.documentElement}},{key:"elementFromPoint",value:function(){var r=Io(Sn().mark(function i(a,s){var o,l,u,c,f,h,d,v,p,g,m;return Sn().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(o=this.defaultView.canvas2Viewport({x:a,y:s}),l=o.x,u=o.y,c=this.defaultView.getConfig(),f=c.width,h=c.height,!(l<0||u<0||l>f||u>h)){y.next=1;break}return y.abrupt("return",null);case 1:return d=this.defaultView.viewport2Client({x:l,y:u}),v=d.x,p=d.y,y.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:a,y:s,viewportX:l,viewportY:u,clientX:v,clientY:p},picked:[]});case 2:return g=y.sent,m=g.picked,y.abrupt("return",m&&m[0]||this.documentElement);case 3:case"end":return y.stop()}},i,this)}));function n(i,a){return r.apply(this,arguments)}return n}()},{key:"elementsFromPointSync",value:function(n,i){var a=this.defaultView.canvas2Viewport({x:n,y:i}),s=a.x,o=a.y,l=this.defaultView.getConfig(),u=l.width,c=l.height;if(s<0||o<0||s>u||o>c)return[];var f=this.defaultView.viewport2Client({x:s,y:o}),h=f.x,d=f.y,v=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:n,y:i,viewportX:s,viewportY:o,clientX:h,clientY:d},picked:[]}),p=v.picked;return p[p.length-1]!==this.documentElement&&p.push(this.documentElement),p}},{key:"elementsFromPoint",value:function(){var r=Io(Sn().mark(function i(a,s){var o,l,u,c,f,h,d,v,p,g,m;return Sn().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(o=this.defaultView.canvas2Viewport({x:a,y:s}),l=o.x,u=o.y,c=this.defaultView.getConfig(),f=c.width,h=c.height,!(l<0||u<0||l>f||u>h)){y.next=1;break}return y.abrupt("return",[]);case 1:return d=this.defaultView.viewport2Client({x:l,y:u}),v=d.x,p=d.y,y.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:a,y:s,viewportX:l,viewportY:u,clientX:v,clientY:p},picked:[]});case 2:return g=y.sent,m=g.picked,m[m.length-1]!==this.documentElement&&m.push(this.documentElement),y.abrupt("return",m);case 3:case"end":return y.stop()}},i,this)}));function n(i,a){return r.apply(this,arguments)}return n}()},{key:"appendChild",value:function(n,i){throw new Error(su)}},{key:"insertBefore",value:function(n,i){throw new Error(su)}},{key:"removeChild",value:function(n,i){throw new Error(su)}},{key:"replaceChild",value:function(n,i,a){throw new Error(su)}},{key:"append",value:function(){throw new Error(su)}},{key:"prepend",value:function(){throw new Error(su)}},{key:"getElementById",value:function(n){return this.documentElement.getElementById(n)}},{key:"getElementsByName",value:function(n){return this.documentElement.getElementsByName(n)}},{key:"getElementsByTagName",value:function(n){return this.documentElement.getElementsByTagName(n)}},{key:"getElementsByClassName",value:function(n){return this.documentElement.getElementsByClassName(n)}},{key:"querySelector",value:function(n){return this.documentElement.querySelector(n)}},{key:"querySelectorAll",value:function(n){return this.documentElement.querySelectorAll(n)}},{key:"find",value:function(n){return this.documentElement.find(n)}},{key:"findAll",value:function(n){return this.documentElement.findAll(n)}}])}(Tr),T4=function(){function e(t){ae(this,e),this.strategies=t}return se(e,[{key:"apply",value:function(r){var n=r.config,i=r.camera,a=r.renderingService,s=r.renderingContext,o=this.strategies;a.hooks.cull.tap(e.tag,function(l){if(l){var u,c=l.cullable;if(o.length===0?c.visible=s.unculledEntities.indexOf(l.entity)>-1:c.visible=o.every(function(h){return h.isVisible(i,l)}),!l.isCulled()&&l.isVisible())return l;var f=((u=n.future)===null||u===void 0?void 0:u.experimentalCancelEventPropagation)===!0;return l.dispatchEvent(new nn(Rr.CULLED),f,f),null}return l}),a.hooks.afterRender.tap(e.tag,function(l){l.cullable.visibilityPlaneMask=-1})}}])}();T4.tag="Culling";var M4=function(){function e(){var t=this;ae(this,e),this.autoPreventDefault=!1,this.rootPointerEvent=new h2(null),this.rootWheelEvent=new d2(null),this.onPointerMove=function(r){var n,i=(n=t.context.renderingContext.root)===null||n===void 0||(n=n.ownerDocument)===null||n===void 0?void 0:n.defaultView;if(!(i.supportsTouchEvents&&r.pointerType==="touch")){var a=t.normalizeToPointerEvent(r,i),s=Ci(a),o;try{for(s.s();!(o=s.n()).done;){var l=o.value,u=t.bootstrapEvent(t.rootPointerEvent,l,i,r);t.context.eventService.mapEvent(u)}}catch(c){s.e(c)}finally{s.f()}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(r){var n,i=(n=t.context.renderingContext.root)===null||n===void 0||(n=n.ownerDocument)===null||n===void 0?void 0:n.defaultView,a=t.normalizeToPointerEvent(r,i),s=Ci(a),o;try{for(s.s();!(o=s.n()).done;){var l=o.value,u=t.bootstrapEvent(t.rootPointerEvent,l,i,r);t.context.eventService.mapEvent(u)}}catch(c){s.e(c)}finally{s.f()}t.setCursor(t.context.eventService.cursor)}}return se(e,[{key:"apply",value:function(r){var n=this;this.context=r;var i=r.renderingService,a=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(s){var o=n.context.renderingService.hooks.pickSync.call({position:s,picked:[],topmost:!0}),l=o.picked;return l[0]||null}),i.hooks.pointerWheel.tap(e.tag,function(s){var o=n.normalizeWheelEvent(s);n.context.eventService.mapEvent(o)}),i.hooks.pointerDown.tap(e.tag,function(s){if(!(a.supportsTouchEvents&&s.pointerType==="touch")){var o=n.normalizeToPointerEvent(s,a);if(n.autoPreventDefault&&o[0].isNormalized){var l=s.cancelable||!("cancelable"in s);l&&s.preventDefault()}var u=Ci(o),c;try{for(u.s();!(c=u.n()).done;){var f=c.value,h=n.bootstrapEvent(n.rootPointerEvent,f,a,s);n.context.eventService.mapEvent(h)}}catch(d){u.e(d)}finally{u.f()}n.setCursor(n.context.eventService.cursor)}}),i.hooks.pointerUp.tap(e.tag,function(s){if(!(a.supportsTouchEvents&&s.pointerType==="touch")){var o=n.context.contextService.getDomElement(),l=n.context.eventService.isNativeEventFromCanvas(o,s),u=l?"":"outside",c=n.normalizeToPointerEvent(s,a),f=Ci(c),h;try{for(f.s();!(h=f.n()).done;){var d=h.value,v=n.bootstrapEvent(n.rootPointerEvent,d,a,s);v.type+=u,n.context.eventService.mapEvent(v)}}catch(p){f.e(p)}finally{f.f()}n.setCursor(n.context.eventService.cursor)}}),i.hooks.pointerMove.tap(e.tag,this.onPointerMove),i.hooks.pointerOver.tap(e.tag,this.onPointerMove),i.hooks.pointerOut.tap(e.tag,this.onPointerMove),i.hooks.click.tap(e.tag,this.onClick),i.hooks.pointerCancel.tap(e.tag,function(s){var o=n.normalizeToPointerEvent(s,a),l=Ci(o),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,f=n.bootstrapEvent(n.rootPointerEvent,c,a,s);n.context.eventService.mapEvent(f)}}catch(h){l.e(h)}finally{l.f()}n.setCursor(n.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(r,n,i,a){r.view=i,r.originalEvent=null,r.nativeEvent=a,r.pointerId=n.pointerId,r.width=n.width,r.height=n.height,r.isPrimary=n.isPrimary,r.pointerType=n.pointerType,r.pressure=n.pressure,r.tangentialPressure=n.tangentialPressure,r.tiltX=n.tiltX,r.tiltY=n.tiltY,r.twist=n.twist,this.transferMouseData(r,n);var s=this.context.eventService.client2Viewport({x:n.clientX,y:n.clientY}),o=s.x,l=s.y;r.viewport.x=o,r.viewport.y=l;var u=this.context.eventService.viewport2Canvas(r.viewport),c=u.x,f=u.y;return r.canvas.x=c,r.canvas.y=f,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.isTrusted=a.isTrusted,r.type==="pointerleave"&&(r.type="pointerout"),r.type.startsWith("mouse")&&(r.type=r.type.replace("mouse","pointer")),r.type.startsWith("touch")&&(r.type=yne[r.type]||r.type),r}},{key:"normalizeWheelEvent",value:function(r){var n=this.rootWheelEvent;this.transferMouseData(n,r),n.deltaMode=r.deltaMode,n.deltaX=r.deltaX,n.deltaY=r.deltaY,n.deltaZ=r.deltaZ;var i=this.context.eventService.client2Viewport({x:r.clientX,y:r.clientY}),a=i.x,s=i.y;n.viewport.x=a,n.viewport.y=s;var o=this.context.eventService.viewport2Canvas(n.viewport),l=o.x,u=o.y;return n.canvas.x=l,n.canvas.y=u,n.global.copyFrom(n.canvas),n.offset.copyFrom(n.canvas),n.nativeEvent=r,n.type=r.type,n}},{key:"transferMouseData",value:function(r,n){r.isTrusted=n.isTrusted,r.srcElement=n.srcElement,r.timeStamp=f2.now(),r.type=n.type,r.altKey=n.altKey,r.metaKey=n.metaKey,r.shiftKey=n.shiftKey,r.ctrlKey=n.ctrlKey,r.button=n.button,r.buttons=n.buttons,r.client.x=n.clientX,r.client.y=n.clientY,r.movement.x=n.movementX,r.movement.y=n.movementY,r.page.x=n.pageX,r.page.y=n.pageY,r.screen.x=n.screenX,r.screen.y=n.screenY,r.relatedTarget=null}},{key:"setCursor",value:function(r){this.context.contextService.applyCursorStyle(r||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(r,n){var i=[];if(n.isTouchEvent(r))for(var a=0;a<r.changedTouches.length;a++){var s=r.changedTouches[a];ct(s.button)&&(s.button=0),ct(s.buttons)&&(s.buttons=1),ct(s.isPrimary)&&(s.isPrimary=r.touches.length===1&&r.type==="touchstart"),ct(s.width)&&(s.width=s.radiusX||1),ct(s.height)&&(s.height=s.radiusY||1),ct(s.tiltX)&&(s.tiltX=0),ct(s.tiltY)&&(s.tiltY=0),ct(s.pointerType)&&(s.pointerType="touch"),ct(s.pointerId)&&(s.pointerId=s.identifier||0),ct(s.pressure)&&(s.pressure=s.force||.5),ct(s.twist)&&(s.twist=0),ct(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,s.type=r.type,i.push(s)}else if(n.isMouseEvent(r)){var o=r;ct(o.isPrimary)&&(o.isPrimary=!0),ct(o.width)&&(o.width=1),ct(o.height)&&(o.height=1),ct(o.tiltX)&&(o.tiltX=0),ct(o.tiltY)&&(o.tiltY=0),ct(o.pointerType)&&(o.pointerType="mouse"),ct(o.pointerId)&&(o.pointerId=mne),ct(o.pressure)&&(o.pressure=.5),ct(o.twist)&&(o.twist=0),ct(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,i.push(o)}else i.push(r);return i}}])}();M4.tag="Event";var zie=[Ue.CIRCLE,Ue.ELLIPSE,Ue.IMAGE,Ue.RECT,Ue.LINE,Ue.POLYLINE,Ue.POLYGON,Ue.TEXT,Ue.PATH,Ue.HTML],Gie=function(){function e(){ae(this,e)}return se(e,[{key:"isVisible",value:function(r,n){var i,a=n.cullable;if(!a.enable)return!0;var s=n.getRenderBounds();if(Yn.isEmpty(s))return!1;var o=r.getFrustum(),l=(i=n.parentNode)===null||i===void 0||(i=i.cullable)===null||i===void 0?void 0:i.visibilityPlaneMask;return a.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(n,s,l||au.INDETERMINATE,o.planes),a.visible=a.visibilityPlaneMask!==au.OUTSIDE,a.visible}},{key:"computeVisibilityWithPlaneMask",value:function(r,n,i,a){if(i===au.OUTSIDE||i===au.INSIDE)return i;for(var s=au.INSIDE,o=zie.indexOf(r.nodeName)>-1,l=0,u=a.length;l<u;++l){var c=1<<l;if((i&c)!==0&&!(o&&(l===4||l===5))){var f=a[l],h=f.normal,d=f.distance;if(kn(h,n.getPositiveFarPoint(a[l]))+d<0)return au.OUTSIDE;kn(h,n.getNegativeFarPoint(a[l]))+d<0&&(s|=c)}}return s}}])}(),N4=function(){function e(){ae(this,e),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return se(e,[{key:"apply",value:function(r){var n=this,i,a,s=r.config,o=r.renderingService,l=r.renderingContext,u=r.rBushRoot,c=l.root.ownerDocument.defaultView;this.rBush=u;var f=function(y){o.dirtify()},h=function(y){n.syncTasks.set(y.target,y.detail.affectChildren),o.dirtify()},d=function(y){var b=y.target;Ne.enableSizeAttenuation&&Ne.styleValueRegistry.updateSizeAttenuation(b,c.getCamera().getZoom())},v=function(y){var b=y.target,_=b.rBushNode;_!=null&&_.aabb&&n.rBush.remove(_.aabb),n.syncTasks.delete(b),Ne.sceneGraphService.dirtyToRoot(b),o.dirtify()};o.hooks.init.tap(e.tag,function(){c.addEventListener(Rr.MOUNTED,d),c.addEventListener(Rr.UNMOUNTED,v),c.addEventListener(Rr.ATTR_MODIFIED,f),c.addEventListener(Rr.BOUNDS_CHANGED,h)}),o.hooks.destroy.tap(e.tag,function(){c.removeEventListener(Rr.MOUNTED,d),c.removeEventListener(Rr.UNMOUNTED,v),c.removeEventListener(Rr.ATTR_MODIFIED,f),c.removeEventListener(Rr.BOUNDS_CHANGED,h),n.syncTasks.clear()});var p=(i=Ne.globalThis.requestIdleCallback)!==null&&i!==void 0?i:Lk.bind(Ne.globalThis),g=((a=s.future)===null||a===void 0?void 0:a.experimentalRICSyncRTree)===!0;o.hooks.endFrame.tap(e.tag,function(){n.isFirstTimeRendering?(n.isFirstTimeRendering=!1,n.syncing=!0,p(function(){n.syncRTree(!0),n.isFirstTimeRenderingFinished=!0})):g&&Ne.globalThis.requestIdleCallback&&Ne.globalThis.cancelIdleCallback?(Ne.globalThis.cancelIdleCallback(n.ricSyncRTreeId),n.ricSyncRTreeId=Ne.globalThis.requestIdleCallback(function(){return n.syncRTree()})):n.syncRTree()})}},{key:"syncNode",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r.isConnected){var i=r.rBushNode;i.aabb&&this.rBush.remove(i.aabb);var a=r.getRenderBounds();if(a){var s=r.renderable;n&&(s.dirtyRenderBounds||(s.dirtyRenderBounds=new Yn),s.dirtyRenderBounds.update(a.center,a.halfExtents));var o=a.getMin(),l=Je(o,2),u=l[0],c=l[1],f=a.getMax(),h=Je(f,2),d=h[0],v=h[1];i.aabb||(i.aabb={}),i.aabb.displayObject=r,i.aabb.minX=u,i.aabb.minY=c,i.aabb.maxX=d,i.aabb.maxY=v}if(i.aabb&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.minX)&&!isNaN(i.aabb.minY))return i.aabb}}},{key:"syncRTree",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!n&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var i=[],a=new Set,s=function(l){if(!a.has(l)&&l.renderable){var u=r.syncNode(l,n);u&&(i.push(u),a.add(l))}};this.syncTasks.forEach(function(o,l){o&&l.forEach(s);for(var u=l;u;)s(u),u=u.parentElement}),this.rBush.load(i),i.length=0,this.syncing=!1}}}])}();N4.tag="Prepare";var Cs=function(e){return e.READY="ready",e.BEFORE_RENDER="beforerender",e.RERENDER="rerender",e.AFTER_RENDER="afterrender",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.RESIZE="resize",e.DIRTY_RECTANGLE="dirtyrectangle",e.RENDERER_CHANGED="rendererchanged",e}({}),kA=500,qie=.1,jie=1e3,ad=new nn(Rr.MOUNTED),sd=new nn(Rr.UNMOUNTED),G0=new nn(Cs.BEFORE_RENDER),SA=new nn(Cs.RERENDER),q0=new nn(Cs.AFTER_RENDER),Sxe=function(e){function t(r){var n;ae(this,t),n=Ye(this,t),n.Element=mr,n.inited=!1,n.context={};var i=r.container,a=r.canvas,s=r.renderer,o=r.width,l=r.height,u=r.background,c=r.cursor,f=r.supportsMutipleCanvasesInOneContainer,h=r.cleanUpOnDestroy,d=h===void 0?!0:h,v=r.offscreenCanvas,p=r.devicePixelRatio,g=r.requestAnimationFrame,m=r.cancelAnimationFrame,y=r.createImage,b=r.supportsTouchEvents,_=r.supportsPointerEvents,x=r.isTouchEvent,E=r.isMouseEvent,w=r.dblClickSpeed,S=o,A=l,P=p||g4&&window.devicePixelRatio||1;return P=P>=1?Math.ceil(P):1,a&&(S=o||pne(a)||a.width/P,A=l||gne(a)||a.height/P),n.customElements=new $ie,n.devicePixelRatio=P,n.requestAnimationFrame=g??Lk.bind(Ne.globalThis),n.cancelAnimationFrame=m??x4.bind(Ne.globalThis),n.createImage=y??function(){return new window.Image},n.supportsTouchEvents=b??"ontouchstart"in Ne.globalThis,n.supportsPointerEvents=_??!!Ne.globalThis.PointerEvent,n.isTouchEvent=x??function(O){return n.supportsTouchEvents&&O instanceof Ne.globalThis.TouchEvent},n.isMouseEvent=E??function(O){return!Ne.globalThis.MouseEvent||O instanceof Ne.globalThis.MouseEvent&&(!n.supportsPointerEvents||!(O instanceof Ne.globalThis.PointerEvent))},v&&(Ne.offscreenCanvas=v),n.document=new Bie,n.document.defaultView=n,f||fne(i,n,d),n.initRenderingContext(tt(tt({},r),{},{width:S,height:A,background:u??"transparent",cursor:c??"default",cleanUpOnDestroy:d,devicePixelRatio:P,requestAnimationFrame:n.requestAnimationFrame,cancelAnimationFrame:n.cancelAnimationFrame,createImage:n.createImage,supportsTouchEvents:n.supportsTouchEvents,supportsPointerEvents:n.supportsPointerEvents,isTouchEvent:n.isTouchEvent,isMouseEvent:n.isMouseEvent,dblClickSpeed:w??200})),n.initDefaultCamera(S,A,s.clipSpaceNearZ),n.initRenderer(s,!0),n}return Xe(t,e),se(t,[{key:"initRenderingContext",value:function(n){this.context.config=n,this.context.renderingContext={root:this.document.documentElement,unculledEntities:[],renderListCurrentFrame:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(n,i,a){var s=this,o=new Ne.CameraContribution;o.clipSpaceNearZ=a,o.setType(Ht.EXPLORING,i2.DEFAULT).setPosition(n/2,i/2,kA).setFocalPoint(n/2,i/2,0).setOrthographic(n/-2,n/2,i/2,i/-2,qie,jie),o.canvas=this,o.eventEmitter.on(ZB.UPDATED,function(){s.context.renderingContext.renderReasons.add(iv.CAMERA_CHANGED),Ne.enableSizeAttenuation&&s.getConfig().renderer.getConfig().enableSizeAttenuation&&s.updateSizeAttenuation()}),this.context.camera=o}},{key:"updateSizeAttenuation",value:function(){var n=this.getCamera().getZoom();this.document.documentElement.forEach(function(i){Ne.styleValueRegistry.updateSizeAttenuation(i,n)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var n=this;return this.readyPromise||(this.readyPromise=new Promise(function(i){n.resolveReadyPromise=function(){i(n)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=arguments.length>1?arguments[1]:void 0;qr.clearCache();var s=((n=this.getConfig().future)===null||n===void 0?void 0:n.experimentalCancelEventPropagation)===!0;a||this.dispatchEvent(new nn(Cs.BEFORE_DESTROY),s,s),this.frameId&&this.cancelAnimationFrame(this.frameId);var o=this.getRoot();i&&(this.unmountChildren(o),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),a||this.dispatchEvent(new nn(Cs.AFTER_DESTROY),s,s);var l=function(c){c.currentTarget=null,c.manager=null,c.target=null,c.relatedNode=null};l(ad),l(sd),l(G0),l(SA),l(q0),l(es),l(v2),l(p2),l(k4),Ne.textService.clearCache()}},{key:"changeSize",value:function(n,i){this.resize(n,i)}},{key:"resize",value:function(n,i){var a,s=this.context.config;s.width=n,s.height=i,this.getContextService().resize(n,i);var o=this.context.camera,l=o.getProjectionMode();o.setPosition(n/2,i/2,kA).setFocalPoint(n/2,i/2,0),l===Xi.ORTHOGRAPHIC?o.setOrthographic(n/-2,n/2,i/2,i/-2,o.getNear(),o.getFar()):o.setAspect(n/i);var u=((a=s.future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;this.dispatchEvent(new nn(Cs.RESIZE,{width:n,height:i}),u,u)}},{key:"appendChild",value:function(n,i){return this.document.documentElement.appendChild(n,i)}},{key:"insertBefore",value:function(n,i){return this.document.documentElement.insertBefore(n,i)}},{key:"removeChild",value:function(n){return this.document.documentElement.removeChild(n)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(n){var i,a=this;n&&(G0.detail=n,q0.detail=n);var s=((i=this.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;this.dispatchEvent(G0,s,s);var o=this.getRenderingService();o.render(this.getConfig(),n,function(){a.dispatchEvent(SA,s,s)}),this.dispatchEvent(q0,s,s)}},{key:"run",value:function(){var n=this,i=function(s,o){n.render(o),n.frameId=n.requestAnimationFrame(i)};i()}},{key:"initRenderer",value:function(n){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!n)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new fte,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new M4,new N4,new T4([new Gie])),this.loadRendererContainerModule(n),this.context.contextService=new this.context.ContextService(tt(tt({},Ne),this.context)),this.context.renderingService=new Jne(Ne,this.context),this.context.eventService=new Zne(Ne,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(n,a,!0)):this.context.contextService.initAsync().then(function(){i.initRenderingService(n,a)}).catch(function(s){console.error(s)})}},{key:"initRenderingService",value:function(n){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){var o;i.inited=!0;var l=((o=i.getConfig().future)===null||o===void 0?void 0:o.experimentalCancelEventPropagation)===!0;a?s?i.requestAnimationFrame(function(){i.dispatchEvent(new nn(Cs.READY),l,l)}):i.dispatchEvent(new nn(Cs.READY),l,l):i.dispatchEvent(new nn(Cs.RENDERER_CHANGED),l,l),i.readyPromise&&i.resolveReadyPromise(),a||i.getRoot().forEach(function(u){var c,f;(c=(f=u).dirty)===null||c===void 0||c.call(f,!0,!0)}),i.mountChildren(i.getRoot()),n.getConfig().enableAutoRendering&&i.run()})}},{key:"loadRendererContainerModule",value:function(n){var i=this,a=n.getPlugins();a.forEach(function(s){s.context=i.context,s.init(Ne)})}},{key:"setRenderer",value:function(n){var i=this.getConfig();if(i.renderer!==n){var a=i.renderer;i.renderer=n,this.destroy(!1,!0),it(a?.getPlugins()||[]).reverse().forEach(function(s){s.destroy(Ne)}),this.initRenderer(n)}}},{key:"setCursor",value:function(n){var i=this.getConfig();i.cursor=n,this.getContextService().applyCursorStyle(n)}},{key:"unmountChildren",value:function(n){var i=this;if(n.childNodes.forEach(function(o){i.unmountChildren(o)}),this.inited){if(n.isMutationObserved)n.dispatchEvent(sd);else{var a,s=((a=this.getConfig().future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;sd.target=n,this.dispatchEvent(sd,!0,s)}n!==this.document.documentElement&&(n.ownerDocument=null),n.isConnected=!1}n.isCustomElement&&n.disconnectedCallback&&n.disconnectedCallback()}},{key:"mountChildren",value:function(n){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xv(n);if(this.inited){if(!n.isConnected&&(n.ownerDocument=this.document,n.isConnected=!0,!a))if(n.isMutationObserved)n.dispatchEvent(ad);else{var s,o=((s=this.getConfig().future)===null||s===void 0?void 0:s.experimentalCancelEventPropagation)===!0;ad.target=n,this.dispatchEvent(ad,!0,o)}}else console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",n.nodeName);n.childNodes.forEach(function(l){i.mountChildren(l,a)}),n.isCustomElement&&n.connectedCallback&&n.connectedCallback()}},{key:"mountFragment",value:function(n){this.mountChildren(n,!1)}},{key:"client2Viewport",value:function(n){return this.getEventService().client2Viewport(n)}},{key:"viewport2Client",value:function(n){return this.getEventService().viewport2Client(n)}},{key:"viewport2Canvas",value:function(n){return this.getEventService().viewport2Canvas(n)}},{key:"canvas2Viewport",value:function(n){return this.getEventService().canvas2Viewport(n)}},{key:"getPointByClient",value:function(n,i){return this.client2Viewport({x:n,y:i})}},{key:"getClientByPoint",value:function(n,i){return this.viewport2Client({x:n,y:i})}}])}(_4);/*!
 * @antv/g-camera-api
 * @description A simple implementation of Camera API.
 * @version 2.0.41
 * @date 7/30/2025, 1:34:37 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Wie=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.landmarks=[],r}return Xe(t,e),se(t,[{key:"rotate",value:function(n,i,a){if(this.relElevation=_u(i),this.relAzimuth=_u(n),this.relRoll=_u(a),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===Ht.EXPLORING){var s=ta($t(),[1,0,0],Qt((this.rotateWorld?1:-1)*this.relElevation)),o=ta($t(),[0,1,0],Qt((this.rotateWorld?1:-1)*this.relAzimuth)),l=ta($t(),[0,0,1],Qt(this.relRoll)),u=Bi($t(),o,s);u=Bi($t(),u,l);var c=eg(gt(),u);Vs(this.matrix,this.matrix,[0,0,-this.distance]),Nr(this.matrix,this.matrix,c),Vs(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===Ht.ORBITING||this.type===Ht.EXPLORING?this._getPosition():this.type===Ht.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(n,i){var a=Xn(n,i,0),s=ns(this.position);return Fi(s,s,qu(at(),this.right,a[0])),Fi(s,s,qu(at(),this.up,a[1])),this._setPosition(s),this.triggerUpdate(),this}},{key:"dolly",value:function(n){var i=this.forward,a=ns(this.position),s=n*this.dollyingStep,o=this.distance+n*this.dollyingStep;return s=Math.max(Math.min(o,this.maxDistance),this.minDistance)-this.distance,a[0]+=s*i[0],a[1]+=s*i[1],a[2]+=s*i[2],this._setPosition(a),this.type===Ht.ORBITING||this.type===Ht.EXPLORING?this._getDistance():this.type===Ht.TRACKING&&Fi(this.focalPoint,a,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(n){var i,a,s,o,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=l.position,c=u===void 0?this.position:u,f=l.focalPoint,h=f===void 0?this.focalPoint:f,d=l.roll,v=l.zoom,p=new Ne.CameraContribution;p.setType(this.type,void 0),p.setPosition(c[0],(i=c[1])!==null&&i!==void 0?i:this.position[1],(a=c[2])!==null&&a!==void 0?a:this.position[2]),p.setFocalPoint(h[0],(s=h[1])!==null&&s!==void 0?s:this.focalPoint[1],(o=h[2])!==null&&o!==void 0?o:this.focalPoint[2]),p.setRoll(d??this.roll),p.setZoom(v??this.zoom);var g={name:n,matrix:hB(p.getWorldTransform()),right:ns(p.right),up:ns(p.up),forward:ns(p.forward),position:ns(p.getPosition()),focalPoint:ns(p.getFocalPoint()),distanceVector:ns(p.getDistanceVector()),distance:p.getDistance(),dollyingStep:p.getDollyingStep(),azimuth:p.getAzimuth(),elevation:p.getElevation(),roll:p.getRoll(),relAzimuth:p.relAzimuth,relElevation:p.relElevation,relRoll:p.relRoll,zoom:p.getZoom()};return this.landmarks.push(g),g}},{key:"gotoLandmark",value:function(n){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=At(n)?this.landmarks.find(function(O){return O.name===n}):n;if(s){var o=rt(a)?{duration:a}:a,l=o.easing,u=l===void 0?"linear":l,c=o.duration,f=c===void 0?100:c,h=o.easingFunction,d=h===void 0?void 0:h,v=o.onfinish,p=v===void 0?void 0:v,g=o.onframe,m=g===void 0?void 0:g,y=.01;this.cancelLandmarkAnimation();var b=s.position,_=s.focalPoint,x=s.zoom,E=s.roll,w=d||Ne.EasingFunction(u),S,A=function(){i.setFocalPoint(_),i.setPosition(b),i.setRoll(E),i.setZoom(x),i.computeMatrix(),i.triggerUpdate(),p?.()};if(f===0)return A();var P=function(C){S===void 0&&(S=C);var L=C-S;if(L>=f){A();return}var I=w(L/f),F=at(),U=at(),G=1,z=0;Fv(F,i.focalPoint,_,I),Fv(U,i.position,b,I),z=i.roll*(1-I)+E*I,G=i.zoom*(1-I)+x*I,i.setFocalPoint(F),i.setPosition(U),i.setRoll(z),i.setZoom(G);var Z=CN(F,_)+CN(U,b);if(Z<=y&&x===void 0&&E===void 0)return A();i.computeMatrix(),i.triggerUpdate(),L<f&&(m?.(I),i.landmarkAnimationID=i.canvas.requestAnimationFrame(P))};this.canvas.requestAnimationFrame(P)}}}])}(QB);Ne.CameraContribution=Wie;/*!
 * @antv/g-web-animations-api
 * @description A simple implementation of Web Animations API.
 * @version 2.1.28
 * @date 7/30/2025, 1:36:24 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var j0=function(e){function t(r,n,i,a){var s;return ae(this,t),s=Ye(this,t,[r]),s.currentTime=i,s.timelineTime=a,s.target=n,s.type="finish",s.bubbles=!1,s.currentTarget=n,s.defaultPrevented=!1,s.eventPhase=s.AT_TARGET,s.timeStamp=Date.now(),s.currentTime=i,s.timelineTime=a,s}return Xe(t,e),se(t)}(sg),Vie=0,Uie=function(){function e(t,r){var n;ae(this,e),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=t,t.animation=this,this.timeline=r,this.id="".concat(Vie++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((n=this.effect)===null||n===void 0?void 0:n.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return se(e,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var r=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(n,i){r.resolveReadyPromise=function(){n(r)},r.rejectReadyPromise=function(){i(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var r=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(n,i){r.resolveFinishedPromise=function(){n(r)},r.rejectFinishedPromise=function(){i(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(r){if(r=Number(r),!isNaN(r)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var n;this._startTime=Number((n=this.timeline)===null||n===void 0?void 0:n.currentTime)-r/this.playbackRate}this.currentTimePending=!1,this._currentTime!==r&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(r,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(r){if(r!==null){if(this.updatePromises(),r=Number(r),isNaN(r)||this._paused||this._idle)return;this._startTime=r,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(r){if(r!==this._playbackRate){this.updatePromises();var n=this.currentTime;this._playbackRate=r,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),n!==null&&(this.currentTime=n),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var r;if((r=this.effect.target)!==null&&r!==void 0&&r.destroyed)return this.readyPromise=void 0,this.finishedPromise=void 0,!1;var n=this.oldPlayState,i=this.pending?"pending":this.playState;return this.readyPromise&&i!==n&&(i==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):n==="pending"?this.resolveReadyPromise():i==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&i!==n&&(i==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):i==="finished"?this.resolveFinishedPromise():n==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=i,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var r=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var n=new j0(null,this,this.currentTime,null);setTimeout(function(){r.oncancel(n)})}}},{key:"reverse",value:function(){this.updatePromises();var r=this.currentTime;this.playbackRate*=-1,this.play(),r!==null&&(this.currentTime=r),this.updatePromises()}},{key:"updatePlaybackRate",value:function(r){this.playbackRate=r}},{key:"targetAnimations",value:function(){var r,n=(r=this.effect)===null||r===void 0?void 0:r.target;return n.getAnimations()}},{key:"markTarget",value:function(){var r=this.targetAnimations();r.indexOf(this)===-1&&r.push(this)}},{key:"unmarkTarget",value:function(){var r=this.targetAnimations(),n=r.indexOf(this);n!==-1&&r.splice(n,1)}},{key:"tick",value:function(r,n){!this._idle&&!this._paused&&(this._startTime===null?n&&(this.startTime=r-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((r-this._startTime)*this.playbackRate)),n&&(this.currentTimePending=!1,this.fireEvents(r))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(Yt)}},{key:"addEventListener",value:function(r,n,i){throw new Error(Yt)}},{key:"removeEventListener",value:function(r,n,i){throw new Error(Yt)}},{key:"dispatchEvent",value:function(r){throw new Error(Yt)}},{key:"commitStyles",value:function(){throw new Error(Yt)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var r;this._inEffect=!!((r=this.effect)!==null&&r!==void 0&&r.update(-1))}else{var n;this._inEffect=!!((n=this.effect)!==null&&n!==void 0&&n.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(r,n){r!==this._currentTime&&(this._currentTime=r,this._isFinished&&!n&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(r){var n=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var i=new j0(null,this,this.currentTime,r);setTimeout(function(){n.onfinish&&n.onfinish(i)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var a=new j0(null,this,this.currentTime,r);this.onframe(a)}this._finishedFlag=!1}}}])}(),Hie=4,Yie=.001,Xie=1e-7,Kie=10,Gc=11,od=1/(Gc-1),Zie=typeof Float32Array=="function",A4=function(t,r){return 1-3*r+3*t},P4=function(t,r){return 3*r-6*t},O4=function(t){return 3*t},Kv=function(t,r,n){return((A4(r,n)*t+P4(r,n))*t+O4(r))*t},C4=function(t,r,n){return 3*A4(r,n)*t*t+2*P4(r,n)*t+O4(r)},Qie=function(t,r,n,i,a){var s,o,l=0;do o=r+(n-r)/2,s=Kv(o,i,a)-t,s>0?n=o:r=o;while(Math.abs(s)>Xie&&++l<Kie);return o},Jie=function(t,r,n,i){for(var a=0;a<Hie;++a){var s=C4(r,n,i);if(s===0)return r;var o=Kv(r,n,i)-t;r-=o/s}return r},$k=function(t,r,n,i){if(!(t>=0&&t<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===r&&n===i)return function(l){return l};for(var a=Zie?new Float32Array(Gc):new Array(Gc),s=0;s<Gc;++s)a[s]=Kv(s*od,t,n);var o=function(u){for(var c=0,f=1,h=Gc-1;f!==h&&a[f]<=u;++f)c+=od;--f;var d=(u-a[f])/(a[f+1]-a[f]),v=c+d*od,p=C4(v,t,n);return p>=Yie?Jie(u,v,t,n):p===0?v:Qie(u,c,c+od,t,n)};return function(l){return l===0||l===1?l:Kv(o(l),r,i)}},eae=function(t){return t=t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())}),t.charAt(0)==="-"?t.substring(1):t},ld=function(t){return Math.pow(t,2)},ud=function(t){return Math.pow(t,3)},cd=function(t){return Math.pow(t,4)},fd=function(t){return Math.pow(t,5)},hd=function(t){return Math.pow(t,6)},dd=function(t){return 1-Math.cos(t*Math.PI/2)},vd=function(t){return 1-Math.sqrt(1-t*t)},pd=function(t){return t*t*(3*t-2)},gd=function(t){for(var r,n=4;t<((r=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((r*3-2)/22-t,2)},md=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=Je(r,2),i=n[0],a=i===void 0?1:i,s=n[1],o=s===void 0?.5:s,l=dr(Number(a),1,10),u=dr(Number(o),.1,2);return t===0||t===1?t:-l*Math.pow(2,10*(t-1))*Math.sin((t-1-u/(Math.PI*2)*Math.asin(1/l))*(Math.PI*2)/u)},Ac=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=Je(r,4),a=i[0],s=a===void 0?1:a,o=i[1],l=o===void 0?100:o,u=i[2],c=u===void 0?10:u,f=i[3],h=f===void 0?0:f;s=dr(s,.1,1e3),l=dr(l,.1,1e3),c=dr(c,.1,1e3),h=dr(h,.1,1e3);var d=Math.sqrt(l/s),v=c/(2*Math.sqrt(l*s)),p=v<1?d*Math.sqrt(1-v*v):0,g=1,m=v<1?(v*d+-h)/p:-h+d,y=n?n*t/1e3:t;return v<1?y=Math.exp(-y*v*d)*(g*Math.cos(p*y)+m*Math.sin(p*y)):y=(g+m*y)*Math.exp(-y*d),t===0||t===1?t:1-y},W0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=r,i=Je(n,2),a=i[0],s=a===void 0?10:a,o=i[1],l=o==="start"?Math.ceil:Math.floor;return l(dr(t,0,1)*s)/s},TA=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=Je(r,4),i=n[0],a=n[1],s=n[2],o=n[3];return $k(i,a,s,o)(t)},yd=$k(.42,0,1,1),Vi=function(t){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return 1-t(1-r,n,i)}},Ui=function(t){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return r<.5?t(r*2,n,i)/2:1-t(r*-2+2,n,i)/2}},Hi=function(t){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return r<.5?(1-t(1-r*2,n,i))/2:(t(r*2-1,n,i)+1)/2}},MA={steps:W0,"step-start":function(t){return W0(t,[1,"start"])},"step-end":function(t){return W0(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":TA,ease:function(t){return TA(t,[.25,.1,.25,1])},in:yd,out:Vi(yd),"in-out":Ui(yd),"out-in":Hi(yd),"in-quad":ld,"out-quad":Vi(ld),"in-out-quad":Ui(ld),"out-in-quad":Hi(ld),"in-cubic":ud,"out-cubic":Vi(ud),"in-out-cubic":Ui(ud),"out-in-cubic":Hi(ud),"in-quart":cd,"out-quart":Vi(cd),"in-out-quart":Ui(cd),"out-in-quart":Hi(cd),"in-quint":fd,"out-quint":Vi(fd),"in-out-quint":Ui(fd),"out-in-quint":Hi(fd),"in-expo":hd,"out-expo":Vi(hd),"in-out-expo":Ui(hd),"out-in-expo":Hi(hd),"in-sine":dd,"out-sine":Vi(dd),"in-out-sine":Ui(dd),"out-in-sine":Hi(dd),"in-circ":vd,"out-circ":Vi(vd),"in-out-circ":Ui(vd),"out-in-circ":Hi(vd),"in-back":pd,"out-back":Vi(pd),"in-out-back":Ui(pd),"out-in-back":Hi(pd),"in-bounce":gd,"out-bounce":Vi(gd),"in-out-bounce":Ui(gd),"out-in-bounce":Hi(gd),"in-elastic":md,"out-elastic":Vi(md),"in-out-elastic":Ui(md),"out-in-elastic":Hi(md),spring:Ac,"spring-in":Ac,"spring-out":Vi(Ac),"spring-in-out":Ui(Ac),"spring-out-in":Hi(Ac)},tae=function(t){return eae(t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},rae=function(t){return MA[tae(t)]||MA.linear},nae=function(t){return t},iae=1,aae=.5,NA=0;function AA(e,t){return function(r){if(r>=1)return 1;var n=1/e;return r+=t*n,r-r%n}}var bd="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",sae=new RegExp("cubic-bezier\\(".concat(bd,",").concat(bd,",").concat(bd,",").concat(bd,"\\)")),oae=/steps\(\s*(\d+)\s*\)/,lae=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function Bk(e){var t=sae.exec(e);if(t)return $k.apply(void 0,it(t.slice(1).map(Number)));var r=oae.exec(e);if(r)return AA(Number(r[1]),NA);var n=lae.exec(e);return n?AA(Number(n[1]),{start:iae,middle:aae,end:NA}[n[2]]):rae(e)}function uae(e){return Math.abs(cae(e)/(e.playbackRate||1))}function cae(e){var t;return e.duration===0||e.iterations===0?0:(e.duration==="auto"?0:Number(e.duration))*((t=e.iterations)!==null&&t!==void 0?t:1)}var R4=0,zk=1,cg=2,L4=3;function fae(e,t,r){if(t===null)return R4;var n=r.endTime;return t<Math.min(r.delay,n)?zk:t>=Math.min(r.delay+e+r.endDelay,n)?cg:L4}function hae(e,t,r,n,i){switch(n){case zk:return t==="backwards"||t==="both"?0:null;case L4:return r-i;case cg:return t==="forwards"||t==="both"?e:null;case R4:return null}}function dae(e,t,r,n,i){var a=i;return e===0?t!==zk&&(a+=r):a+=n/e,a}function vae(e,t,r,n,i,a){var s=e===1/0?t%1:e%1;return s===0&&r===cg&&n!==0&&(i!==0||a===0)&&(s=1),s}function pae(e,t,r,n){return e===cg&&t===1/0?1/0:r===1?Math.floor(n)-1:Math.floor(n)}function gae(e,t,r){var n=e;if(e!=="normal"&&e!=="reverse"){var i=t;e==="alternate-reverse"&&(i+=1),n="normal",i!==1/0&&i%2!==0&&(n="reverse")}return n==="normal"?r:1-r}function mae(e,t,r){var n=fae(e,t,r),i=hae(e,r.fill,t,n,r.delay);if(i===null)return null;var a=r.duration==="auto"?0:r.duration,s=dae(a,n,r.iterations,i,r.iterationStart),o=vae(s,r.iterationStart,n,r.iterations,i,a),l=pae(n,r.iterations,o,s),u=gae(r.direction,l,o);return r.currentIteration=l,r.progress=u,r.easingFunction(u)}function yae(e,t,r){var n=bae(e,t),i=wae(n,r);return function(a,s){if(s!==null)i.filter(function(l){return s>=l.applyFrom&&s<l.applyTo}).forEach(function(l){var u=s-l.startOffset,c=l.endOffset-l.startOffset,f=c===0?0:u/c;a.setAttribute(l.property,l.interpolation(f),!1,!1)});else for(var o in n)I4(o)&&a.setAttribute(o,null)}}function I4(e){return e!=="offset"&&e!=="easing"&&e!=="composite"&&e!=="computedOffset"}function bae(e,t){for(var r={},n=0;n<e.length;n++)for(var i in e[n])if(I4(i)){var a={offset:e[n].offset,computedOffset:e[n].computedOffset,easing:e[n].easing,easingFunction:Bk(e[n].easing)||t.easingFunction,value:e[n][i]};r[i]=r[i]||[],r[i].push(a)}return r}function wae(e,t){var r=[];for(var n in e)for(var i=e[n],a=0;a<i.length-1;a++){var s=a,o=a+1,l=i[s].computedOffset,u=i[o].computedOffset,c=l,f=u;a===0&&(c=-1/0,u===0&&(o=s)),a===i.length-2&&(f=1/0,l===1&&(s=o)),r.push({applyFrom:c,applyTo:f,startOffset:i[s].computedOffset,endOffset:i[o].computedOffset,easingFunction:i[s].easingFunction,property:n,interpolation:xae(n,i[s].value,i[o].value,t)})}return r.sort(function(h,d){return h.startOffset-d.startOffset}),r}var PA=function(t,r,n){return function(i){var a=D4(t,r,i);return rt(a)?a:n(a)}};function xae(e,t,r,n){var i=v4[e];if(i&&i.syntax&&i.int){var a=Ne.styleValueRegistry.getPropertySyntax(i.syntax);if(a){var s=a.parser,o=s?s(t,n):t,l=s?s(r,n):r,u=a.mixer(o,l,n);if(u){var c=PA.apply(void 0,it(u));return function(f){return f===0?t:f===1?r:c(f)}}}}return PA(!1,!0,function(f){return f?r:t})}function D4(e,t,r){if(typeof e=="number"&&typeof t=="number")return e*(1-r)+t*r;if(typeof e=="boolean"&&typeof t=="boolean"||typeof e=="string"&&typeof t=="string")return r<.5?e:t;if(Array.isArray(e)&&Array.isArray(t)){for(var n=e.length,i=t.length,a=Math.max(n,i),s=[],o=0;o<a;o++)s.push(D4(e[o<n?o:n-1],t[o<i?o:i-1],r));return s}throw new Error("Mismatched interpolation arguments ".concat(e,":").concat(t))}var Eae=function(){function e(){ae(this,e),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=nae,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return se(e,[{key:"easing",get:function(){return this._easing},set:function(r){this.easingFunction=Bk(r),this._easing=r}}])}();function _ae(e){var t=[];for(var r in e)if(!(r in["easing","offset","composite"])){var n=e[r];Array.isArray(n)||(n=[n]);for(var i=n.length,a=0;a<i;a++){if(!t[a]){var s={};"offset"in e&&(s.offset=Number(e.offset)),"easing"in e&&(s.easing=e.easing),"composite"in e&&(s.composite=e.composite),t[a]=s}n[a]!==void 0&&n[a]!==null&&(t[a][r]=n[a])}}return t.sort(function(o,l){return(o.computedOffset||0)-(l.computedOffset||0)}),t}function OA(e,t){if(e===null)return[];Array.isArray(e)||(e=_ae(e));for(var r=e.map(function(l){var u={};t!=null&&t.composite&&(u.composite="auto");for(var c in l){var f=l[c];if(c==="offset"){if(f!==null){if(f=Number(f),!isFinite(f))throw new Error("Keyframe offsets must be numbers.");if(f<0||f>1)throw new Error("Keyframe offsets must be between 0 and 1.");u.computedOffset=f}}else if(c==="composite"&&["replace","add","accumulate","auto"].indexOf(f)===-1)throw new Error("".concat(f," compositing is not supported"));u[c]=f}return u.offset===void 0&&(u.offset=null),u.easing===void 0&&(u.easing=t?.easing||"linear"),u.composite===void 0&&(u.composite="auto"),u}),n=!0,i=-1/0,a=0;a<r.length;a++){var s=r[a].offset;if(Ze(s))n=!1;else{if(s<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=s}}r=r.filter(function(l){return Number(l.offset)>=0&&Number(l.offset)<=1});function o(){var l,u=r,c=u.length;if(r[c-1].computedOffset=Number((l=r[c-1].offset)!==null&&l!==void 0?l:1),c>1){var f;r[0].computedOffset=Number((f=r[0].offset)!==null&&f!==void 0?f:0)}for(var h=0,d=Number(r[0].computedOffset),v=1;v<c;v++){var p=r[v].computedOffset;if(!Ze(p)&&!Ze(d)){for(var g=1;g<v-h;g++)r[h+g].computedOffset=d+(Number(p)-d)*g/(v-h);h=v,d=Number(p)}}}return n||o(),r}var kae="backwards|forwards|both|none".split("|"),Sae="reverse|alternate|alternate-reverse".split("|");function Tae(e,t){var r=new Eae;return typeof e=="number"&&!isNaN(e)?r.duration=e:e!==void 0&&Object.keys(e).forEach(function(n){if(e[n]!==void 0&&e[n]!==null&&e[n]!=="auto"){if((typeof r[n]=="number"||n==="duration")&&(typeof e[n]!="number"||isNaN(e[n]))||n==="fill"&&kae.indexOf(e[n])===-1||n==="direction"&&Sae.indexOf(e[n])===-1)return;r[n]=e[n]}}),r}function Mae(e,t){return e=Nae(e??{duration:"auto"}),Tae(e)}function Nae(e){return typeof e=="number"&&(isNaN(e)?e={duration:"auto"}:e={duration:e}),e}var Aae=function(){function e(t,r,n){var i=this;ae(this,e),this.composite="replace",this.iterationComposite="replace",this.target=t,this.timing=Mae(n),this.timing.effect=this,this.timing.activeDuration=uae(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=OA(r,this.timing),this.interpolations=yae(this.normalizedKeyframes,this.timing,this.target);var a=Ne.globalThis.Proxy;this.computedTiming=a?new a(this.timing,{get:function(o,l){return l==="duration"?o.duration==="auto"?0:o.duration:l==="fill"?o.fill==="auto"?"none":o.fill:l==="localTime"?i.animation&&i.animation.currentTime||null:l==="currentIteration"?!i.animation||i.animation.playState!=="running"?null:o.currentIteration||0:l==="progress"?!i.animation||i.animation.playState!=="running"?null:o.progress||0:o[l]},set:function(){return!0}}):this.timing}return se(e,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(r){return r===null?!1:(this.timeFraction=mae(this.timing.activeDuration,r,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(r){this.normalizedKeyframes=OA(r)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(r){var n=this;Object.keys(r||{}).forEach(function(i){n.timing[i]=r[i]})}}])}();function CA(e,t){return Number(e.id)-Number(t.id)}var Pae=function(){function e(t){var r=this;ae(this,e),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(n){r.currentTime=n,r.discardAnimations(),r.animations.length===0?r.timelineTicking=!1:r.requestAnimationFrame(r.webAnimationsNextTick)},this.processRafCallbacks=function(n){var i=r.rafCallbacks;r.rafCallbacks=[],n<Number(r.currentTime)&&(n=Number(r.currentTime)),r.animations.sort(CA),r.animations=r.tick(n,!0,r.animations)[0],i.forEach(function(a){a[1](n)}),r.applyPendingEffects()},this.document=t}return se(e,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(r,n,i){var a=new Aae(r,n,i),s=new Uie(a,this);return this.animations.push(s),this.restartWebAnimationsNextTick(),s.updatePromises(),s.play(),s.updatePromises(),s}},{key:"applyDirtiedAnimation",value:function(r){var n=this;if(!this.inTick){r.markTarget();var i=r.targetAnimations();i.sort(CA);var a=this.tick(Number(this.currentTime),!1,i.slice())[1];a.forEach(function(s){var o=n.animations.indexOf(s);o!==-1&&n.animations.splice(o,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(r){r?.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(r){return r.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(r){return r.playState!=="finished"&&r.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(r){var n=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([n,r]),n}},{key:"requestAnimationFrame",value:function(r){var n=this;return this.rAF(function(i){n.updateAnimationsPromises(),r(i),n.updateAnimationsPromises()})}},{key:"tick",value:function(r,n,i){var a=this,s,o;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=r,this.ticking=!1;var l=[],u=[],c=[],f=[];return i.forEach(function(h){h.tick(r,n),h._inEffect?(u.push(h.effect),h.markTarget()):(l.push(h.effect),h.unmarkTarget()),h._needsTick&&(a.ticking=!0);var d=h._inEffect||h._needsTick;h._inTimeline=d,d?c.push(h):f.push(h)}),(s=this.pendingEffects).push.apply(s,l),(o=this.pendingEffects).push.apply(o,u),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[c,f]}}])}();Ne.EasingFunction=Bk;Ne.AnimationTimeline=Pae;var Oae=function(t,r){return t===r},RA=function(){function e(t,r){r===void 0&&(r=null),this.value=t,this.next=r}return e.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},e}(),Cae=function(){function e(t){t===void 0&&(t=Oae),this.head=null,this.tail=null,this.compare=t}return e.prototype.prepend=function(t){var r=new RA(t,this.head);return this.head=r,this.tail||(this.tail=r),this},e.prototype.append=function(t){var r=new RA(t);return this.head?(this.tail.next=r,this.tail=r,this):(this.head=r,this.tail=r,this)},e.prototype.delete=function(t){if(!this.head)return null;for(var r=null;this.head&&this.compare(this.head.value,t);)r=this.head,this.head=this.head.next;var n=this.head;if(n!==null)for(;n.next;)this.compare(n.next.value,t)?(r=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),r},e.prototype.find=function(t){var r=t.value,n=r===void 0?void 0:r,i=t.callback,a=i===void 0?void 0:i;if(!this.head)return null;for(var s=this.head;s;){if(a&&a(s.value)||n!==void 0&&this.compare(s.value,n))return s;s=s.next}return null},e.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var r=this.head;r.next;)r.next.next?r=r.next:r.next=null;return this.tail=r,t},e.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},e.prototype.fromArray=function(t){var r=this;return t.forEach(function(n){return r.append(n)}),this},e.prototype.toArray=function(){for(var t=[],r=this.head;r;)t.push(r),r=r.next;return t},e.prototype.reverse=function(){for(var t=this.head,r=null,n=null;t;)n=t.next,t.next=r,r=t,t=n;this.tail=this.head,this.head=r},e.prototype.toString=function(t){return t===void 0&&(t=void 0),this.toArray().map(function(r){return r.toString(t)}).toString()},e}(),Rae=function(t,r,n){r===void 0&&(r=[]);var i=r.filter(function(l){return l.source===t||l.target===t});if(n==="target"){var a=function(u){return u.source===t};return i.filter(a).map(function(l){return l.target})}if(n==="source"){var s=function(u){return u.target===t};return i.filter(s).map(function(l){return l.source})}var o=function(u){return u.source===t?u.target:u.source};return i.map(o)},Lae=function(t,r){return r.filter(function(n){return n.source===t})},Iae=function(t,r){return r.filter(function(n){return n.source===t||n.target===t})},Dae=function(t){var r={},n=t.nodes,i=n===void 0?[]:n,a=t.edges,s=a===void 0?[]:a;return i.forEach(function(o){r[o.id]={degree:0,inDegree:0,outDegree:0}}),s.forEach(function(o){r[o.source].degree++,r[o.source].outDegree++,r[o.target].degree++,r[o.target].inDegree++}),r},Fae={}.toString,Gk=function(e,t){return Fae.call(e)==="[object "+t+"]"};const F4=function(e){return Gk(e,"Function")},$4=function(e){return Array.isArray?Array.isArray(e):Gk(e,"Array")},$ae=function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"};function Bae(e,t){if(e){var r;if($4(e))for(var n=0,i=e.length;n<i&&(r=t(e[n],n),r!==!1);n++);else if($ae(e)){for(var a in e)if(e.hasOwnProperty(a)&&(r=t(e[a],a),r===!1))break}}}const zae=function(e){return Gk(e,"String")};var Gae=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return Bae(e,function(r,n){F4(e)&&n==="prototype"||t.push(r)}),t};const qae=function(e,t){if(!F4(e))throw new TypeError("Expected a function");var r=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return s.set(a,o),o};return r.cache=new Map,r};var wd;qae(function(e,t){t===void 0&&(t={});var r=t.fontSize,n=t.fontFamily,i=t.fontWeight,a=t.fontStyle,s=t.fontVariant;return wd||(wd=document.createElement("canvas").getContext("2d")),wd.font=[a,s,i,r+"px",n].join(" "),wd.measureText(zae(e)?e:"").width},function(e,t){return t===void 0&&(t={}),Mee([e],Gae(t)).join("")});var jae=function(t,r,n){for(var i=1/0,a,s=0;s<r.length;s++){var o=r[s].id;!n[o]&&t[o]<=i&&(i=t[o],a=r[s])}return a},Wae=function(t,r,n,i){var a=t.nodes,s=a===void 0?[]:a,o=t.edges,l=o===void 0?[]:o,u={},c={},f={};s.forEach(function(y,b){var _=y.id;c[_]=1/0,_===r&&(c[_]=0)});for(var h=s.length,d=function(b){var _=jae(c,s,u),x=_.id;if(u[x]=!0,c[x]===1/0)return"continue";var E=[];n?E=Lae(x,l):E=Iae(x,l),E.forEach(function(w){var S=w.target,A=w.source,P=S===x?A:S,O=i&&w[i]?w[i]:1;c[P]>c[_.id]+O?(c[P]=c[_.id]+O,f[P]=[_.id]):c[P]===c[_.id]+O&&f[P].push(_.id)})},v=0;v<h;v++)d();f[r]=[r];var p={};for(var g in c)c[g]!==1/0&&B4(r,g,f,p);var m={};for(var g in p)m[g]=p[g][0];return{length:c,path:m,allPath:p}};function B4(e,t,r,n){if(e===t)return[e];if(n[t])return n[t];for(var i=[],a=0,s=r[t];a<s.length;a++){var o=s[a],l=B4(e,o,r,n);if(!l)return;for(var u=0,c=l;u<c.length;u++){var f=c[u];$4(f)?i.push(et(et([],f,!0),[t],!1)):i.push([f,t])}}return n[t]=i,n[t]}var Txe=function(t,r,n,i,a){var s=Wae(t,r,i,a),o=s.length,l=s.path,u=s.allPath;return{length:o[n],path:l[n],allPath:u[n]}},LA;(function(e){e.EuclideanDistance="euclideanDistance"})(LA||(LA={}));var Mxe=function(t,r,n){typeof r!="number"&&(r=1e-6),typeof n!="number"&&(n=.85);for(var i=1,a=0,s=1e3,o=t.nodes,l=o===void 0?[]:o,u=t.edges,c=u===void 0?[]:u,f=l.length,h,d={},v={},p=0;p<f;++p){var g=l[p],m=g.id;d[m]=1/f,v[m]=1/f}for(var y=Dae(t);s>0&&i>r;){a=0;for(var p=0;p<f;++p){var g=l[p],m=g.id;if(h=0,y[g.id].inDegree===0)d[m]=0;else{for(var b=Rae(m,c,"source"),_=0;_<b.length;++_){var x=b[_],E=y[x].outDegree;E>0&&(h+=v[x]/E)}d[m]=n*h,a+=d[m]}}a=(1-a)/f,i=0;for(var p=0;p<f;++p){var g=l[p],m=g.id;h=d[m]+a,i+=Math.abs(h-v[m]),v[m]=h}s-=1}return v};(function(){function e(t){t===void 0&&(t=10),this.linkedList=new Cae,this.maxStep=t}return Object.defineProperty(e.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},e.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},e.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},e.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},e.prototype.toArray=function(){return this.linkedList.toArray().map(function(t){return t.value})},e.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},e})();/*!
 * @antv/g-lite
 * @description A core module for rendering engine implements DOM API.
 * @version 2.2.19
 * @date 5/9/2025, 8:18:56 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Vae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Uae={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Vae,function(){function r(x,E,w,S,A){n(x,E,w||0,S||x.length-1,A||a)}function n(x,E,w,S,A){for(;S>w;){if(S-w>600){var P=S-w+1,O=E-w+1,C=Math.log(P),L=.5*Math.exp(2*C/3),I=.5*Math.sqrt(C*L*(P-L)/P)*(O-P/2<0?-1:1),F=Math.max(w,Math.floor(E-O*L/P+I)),U=Math.min(S,Math.floor(E+(P-O)*L/P+I));n(x,E,F,U,A)}var G=x[E],z=w,Z=S;for(i(x,w,E),A(x[S],G)>0&&i(x,w,S);z<Z;){for(i(x,z,Z),z++,Z--;A(x[z],G)<0;)z++;for(;A(x[Z],G)>0;)Z--}A(x[w],G)===0?i(x,w,Z):(Z++,i(x,Z,S)),Z<=E&&(w=Z+1),E<=Z&&(S=Z-1)}}function i(x,E,w){var S=x[E];x[E]=x[w],x[w]=S}function a(x,E){return x<E?-1:x>E?1:0}var s=function(E){E===void 0&&(E=9),this._maxEntries=Math.max(4,E),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(E){var w=this.data,S=[];if(!y(E,w))return S;for(var A=this.toBBox,P=[];w;){for(var O=0;O<w.children.length;O++){var C=w.children[O],L=w.leaf?A(C):C;y(E,L)&&(w.leaf?S.push(C):m(E,L)?this._all(C,S):P.push(C))}w=P.pop()}return S},s.prototype.collides=function(E){var w=this.data;if(!y(E,w))return!1;for(var S=[];w;){for(var A=0;A<w.children.length;A++){var P=w.children[A],O=w.leaf?this.toBBox(P):P;if(y(E,O)){if(w.leaf||m(E,O))return!0;S.push(P)}}w=S.pop()}return!1},s.prototype.load=function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var w=0;w<E.length;w++)this.insert(E[w]);return this}var S=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=S;else if(this.data.height===S.height)this._splitRoot(this.data,S);else{if(this.data.height<S.height){var A=this.data;this.data=S,S=A}this._insert(S,this.data.height-S.height-1,!0)}return this},s.prototype.insert=function(E){return E&&this._insert(E,this.data.height-1),this},s.prototype.clear=function(){return this.data=b([]),this},s.prototype.remove=function(E,w){if(!E)return this;for(var S=this.data,A=this.toBBox(E),P=[],O=[],C,L,I;S||P.length;){if(S||(S=P.pop(),L=P[P.length-1],C=O.pop(),I=!0),S.leaf){var F=o(E,S.children,w);if(F!==-1)return S.children.splice(F,1),P.push(S),this._condense(P),this}!I&&!S.leaf&&m(S,A)?(P.push(S),O.push(C),C=0,L=S,S=S.children[0]):L?(C++,S=L.children[C],I=!1):S=null}return this},s.prototype.toBBox=function(E){return E},s.prototype.compareMinX=function(E,w){return E.minX-w.minX},s.prototype.compareMinY=function(E,w){return E.minY-w.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(E){return this.data=E,this},s.prototype._all=function(E,w){for(var S=[];E;)E.leaf?w.push.apply(w,E.children):S.push.apply(S,E.children),E=S.pop();return w},s.prototype._build=function(E,w,S,A){var P=S-w+1,O=this._maxEntries,C;if(P<=O)return C=b(E.slice(w,S+1)),l(C,this.toBBox),C;A||(A=Math.ceil(Math.log(P)/Math.log(O)),O=Math.ceil(P/Math.pow(O,A-1))),C=b([]),C.leaf=!1,C.height=A;var L=Math.ceil(P/O),I=L*Math.ceil(Math.sqrt(O));_(E,w,S,I,this.compareMinX);for(var F=w;F<=S;F+=I){var U=Math.min(F+I-1,S);_(E,F,U,L,this.compareMinY);for(var G=F;G<=U;G+=L){var z=Math.min(G+L-1,U);C.children.push(this._build(E,G,z,A-1))}}return l(C,this.toBBox),C},s.prototype._chooseSubtree=function(E,w,S,A){for(;A.push(w),!(w.leaf||A.length-1===S);){for(var P=1/0,O=1/0,C=void 0,L=0;L<w.children.length;L++){var I=w.children[L],F=d(I),U=p(E,I)-F;U<O?(O=U,P=F<P?F:P,C=I):U===O&&F<P&&(P=F,C=I)}w=C||w.children[0]}return w},s.prototype._insert=function(E,w,S){var A=S?E:this.toBBox(E),P=[],O=this._chooseSubtree(A,this.data,w,P);for(O.children.push(E),c(O,A);w>=0&&P[w].children.length>this._maxEntries;)this._split(P,w),w--;this._adjustParentBBoxes(A,P,w)},s.prototype._split=function(E,w){var S=E[w],A=S.children.length,P=this._minEntries;this._chooseSplitAxis(S,P,A);var O=this._chooseSplitIndex(S,P,A),C=b(S.children.splice(O,S.children.length-O));C.height=S.height,C.leaf=S.leaf,l(S,this.toBBox),l(C,this.toBBox),w?E[w-1].children.push(C):this._splitRoot(S,C)},s.prototype._splitRoot=function(E,w){this.data=b([E,w]),this.data.height=E.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(E,w,S){for(var A,P=1/0,O=1/0,C=w;C<=S-w;C++){var L=u(E,0,C,this.toBBox),I=u(E,C,S,this.toBBox),F=g(L,I),U=d(L)+d(I);F<P?(P=F,A=C,O=U<O?U:O):F===P&&U<O&&(O=U,A=C)}return A||S-w},s.prototype._chooseSplitAxis=function(E,w,S){var A=E.leaf?this.compareMinX:f,P=E.leaf?this.compareMinY:h,O=this._allDistMargin(E,w,S,A),C=this._allDistMargin(E,w,S,P);O<C&&E.children.sort(A)},s.prototype._allDistMargin=function(E,w,S,A){E.children.sort(A);for(var P=this.toBBox,O=u(E,0,w,P),C=u(E,S-w,S,P),L=v(O)+v(C),I=w;I<S-w;I++){var F=E.children[I];c(O,E.leaf?P(F):F),L+=v(O)}for(var U=S-w-1;U>=w;U--){var G=E.children[U];c(C,E.leaf?P(G):G),L+=v(C)}return L},s.prototype._adjustParentBBoxes=function(E,w,S){for(var A=S;A>=0;A--)c(w[A],E)},s.prototype._condense=function(E){for(var w=E.length-1,S=void 0;w>=0;w--)E[w].children.length===0?w>0?(S=E[w-1].children,S.splice(S.indexOf(E[w]),1)):this.clear():l(E[w],this.toBBox)};function o(x,E,w){if(!w)return E.indexOf(x);for(var S=0;S<E.length;S++)if(w(x,E[S]))return S;return-1}function l(x,E){u(x,0,x.children.length,E,x)}function u(x,E,w,S,A){A||(A=b(null)),A.minX=1/0,A.minY=1/0,A.maxX=-1/0,A.maxY=-1/0;for(var P=E;P<w;P++){var O=x.children[P];c(A,x.leaf?S(O):O)}return A}function c(x,E){return x.minX=Math.min(x.minX,E.minX),x.minY=Math.min(x.minY,E.minY),x.maxX=Math.max(x.maxX,E.maxX),x.maxY=Math.max(x.maxY,E.maxY),x}function f(x,E){return x.minX-E.minX}function h(x,E){return x.minY-E.minY}function d(x){return(x.maxX-x.minX)*(x.maxY-x.minY)}function v(x){return x.maxX-x.minX+(x.maxY-x.minY)}function p(x,E){return(Math.max(E.maxX,x.maxX)-Math.min(E.minX,x.minX))*(Math.max(E.maxY,x.maxY)-Math.min(E.minY,x.minY))}function g(x,E){var w=Math.max(x.minX,E.minX),S=Math.max(x.minY,E.minY),A=Math.min(x.maxX,E.maxX),P=Math.min(x.maxY,E.maxY);return Math.max(0,A-w)*Math.max(0,P-S)}function m(x,E){return x.minX<=E.minX&&x.minY<=E.minY&&E.maxX<=x.maxX&&E.maxY<=x.maxY}function y(x,E){return E.minX<=x.maxX&&E.minY<=x.maxY&&E.maxX>=x.minX&&E.maxY>=x.minY}function b(x){return{children:x,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(x,E,w,S,A){for(var P=[E,w];P.length;)if(w=P.pop(),E=P.pop(),!(w-E<=S)){var O=E+Math.ceil((w-E)/S/2)*S;r(x,O,E,w,A),P.push(E,O,O,w)}}return s})})(Uae);var Se=function(e){return e.GROUP="g",e.FRAGMENT="fragment",e.CIRCLE="circle",e.ELLIPSE="ellipse",e.IMAGE="image",e.RECT="rect",e.LINE="line",e.POLYLINE="polyline",e.POLYGON="polygon",e.TEXT="text",e.PATH="path",e.HTML="html",e.MESH="mesh",e}({}),av=function(e){return e[e.ZERO=0]="ZERO",e[e.NEGATIVE_ONE=1]="NEGATIVE_ONE",e}({}),Uo=function(){function e(){ae(this,e),this.plugins=[]}return se(e,[{key:"addRenderingPlugin",value:function(r){this.plugins.push(r),this.context.renderingPlugins.push(r)}},{key:"removeAllRenderingPlugins",value:function(){var r=this;this.plugins.forEach(function(n){var i=r.context.renderingPlugins.indexOf(n);i>=0&&r.context.renderingPlugins.splice(i,1)})}}])}(),Hae=function(){function e(t){ae(this,e),this.clipSpaceNearZ=av.NEGATIVE_ONE,this.plugins=[],this.config=tt({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},t)}return se(e,[{key:"registerPlugin",value:function(r){var n=this.plugins.findIndex(function(i){return i===r});n===-1&&this.plugins.push(r)}},{key:"unregisterPlugin",value:function(r){var n=this.plugins.findIndex(function(i){return i===r});n>-1&&this.plugins.splice(n,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(r){return this.plugins.find(function(n){return n.name===r})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(r){Object.assign(this.config,r)}}])}(),V0=Fi,ou=Xr,Yae=EB,Xae=xB,IA=qu,U0=SB,rn=function(){function e(){ae(this,e),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return se(e,[{key:"update",value:function(r,n){ou(this.center,r),ou(this.halfExtents,n),U0(this.min,this.center,this.halfExtents),V0(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(r,n){V0(this.center,n,r),IA(this.center,this.center,.5),U0(this.halfExtents,n,r),IA(this.halfExtents,this.halfExtents,.5),ou(this.min,r),ou(this.max,n)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(r){if(!e.isEmpty(r)){if(e.isEmpty(this)){this.setMinMax(r.getMin(),r.getMax());return}var n=this.center,i=n[0],a=n[1],s=n[2],o=this.halfExtents,l=o[0],u=o[1],c=o[2],f=i-l,h=i+l,d=a-u,v=a+u,p=s-c,g=s+c,m=r.center,y=m[0],b=m[1],_=m[2],x=r.halfExtents,E=x[0],w=x[1],S=x[2],A=y-E,P=y+E,O=b-w,C=b+w,L=_-S,I=_+S;A<f&&(f=A),P>h&&(h=P),O<d&&(d=O),C>v&&(v=C),L<p&&(p=L),I>g&&(g=I),n[0]=(f+h)*.5,n[1]=(d+v)*.5,n[2]=(p+g)*.5,o[0]=(h-f)*.5,o[1]=(v-d)*.5,o[2]=(g-p)*.5,this.min[0]=f,this.min[1]=d,this.min[2]=p,this.max[0]=h,this.max[1]=v,this.max[2]=g}}},{key:"setFromTransformedAABB",value:function(r,n){var i=this.center,a=this.halfExtents,s=r.center,o=r.halfExtents,l=n[0],u=n[4],c=n[8],f=n[1],h=n[5],d=n[9],v=n[2],p=n[6],g=n[10],m=Math.abs(l),y=Math.abs(u),b=Math.abs(c),_=Math.abs(f),x=Math.abs(h),E=Math.abs(d),w=Math.abs(v),S=Math.abs(p),A=Math.abs(g);i[0]=n[12]+l*s[0]+u*s[1]+c*s[2],i[1]=n[13]+f*s[0]+h*s[1]+d*s[2],i[2]=n[14]+v*s[0]+p*s[1]+g*s[2],a[0]=m*o[0]+y*o[1]+b*o[2],a[1]=_*o[0]+x*o[1]+E*o[2],a[2]=w*o[0]+S*o[1]+A*o[2],U0(this.min,i,a),V0(this.max,i,a)}},{key:"intersects",value:function(r){var n=this.getMax(),i=this.getMin(),a=r.getMax(),s=r.getMin();return i[0]<=a[0]&&n[0]>=s[0]&&i[1]<=a[1]&&n[1]>=s[1]&&i[2]<=a[2]&&n[2]>=s[2]}},{key:"intersection",value:function(r){if(!this.intersects(r))return null;var n=new e,i=Yae([0,0,0],this.getMin(),r.getMin()),a=Xae([0,0,0],this.getMax(),r.getMax());return n.setMinMax(i,a),n}},{key:"getNegativeFarPoint",value:function(r){return r.pnVertexFlag===273?ou([0,0,0],this.min):r.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:r.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:r.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:r.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:r.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:r.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(r){return r.pnVertexFlag===273?ou([0,0,0],this.max):r.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:r.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:r.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:r.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:r.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:r.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(r){return!r||r.halfExtents[0]===0&&r.halfExtents[1]===0&&r.halfExtents[2]===0}}])}(),Kae=function(){function e(t,r){ae(this,e),this.distance=t||0,this.normal=r||ft(0,1,0),this.updatePNVertexFlag()}return se(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(r){return kn(r,this.normal)-this.distance}},{key:"normalize",value:function(){var r=1/Tk(this.normal);qu(this.normal,this.normal,r),this.distance*=r}},{key:"intersectsLine",value:function(r,n,i){var a=this.distanceToPoint(r),s=this.distanceToPoint(n),o=a/(a-s),l=o>=0&&o<=1;return l&&i&&Fv(i,r,n,o),l}}])}(),Zae=function(){function e(t){if(ae(this,e),this.planes=[],t)this.planes=t;else for(var r=0;r<6;r++)this.planes.push(new Kae)}return se(e,[{key:"extractFromVPMatrix",value:function(r){var n=Je(r,16),i=n[0],a=n[1],s=n[2],o=n[3],l=n[4],u=n[5],c=n[6],f=n[7],h=n[8],d=n[9],v=n[10],p=n[11],g=n[12],m=n[13],y=n[14],b=n[15];Jt(this.planes[0].normal,o-i,f-l,p-h),this.planes[0].distance=b-g,Jt(this.planes[1].normal,o+i,f+l,p+h),this.planes[1].distance=b+g,Jt(this.planes[2].normal,o+a,f+u,p+d),this.planes[2].distance=b+m,Jt(this.planes[3].normal,o-a,f-u,p-d),this.planes[3].distance=b-m,Jt(this.planes[4].normal,o-s,f-c,p-v),this.planes[4].distance=b-y,Jt(this.planes[5].normal,o+s,f+c,p+v),this.planes[5].distance=b+y,this.planes.forEach(function(_){_.normalize(),_.updatePNVertexFlag()})}}])}(),Ri=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ae(this,e),this.x=0,this.y=0,this.x=t,this.y=r}return se(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(r){this.x=r.x,this.y=r.y}}])}(),Zu=function(){function e(t,r,n,i){ae(this,e),this.x=t,this.y=r,this.width=n,this.height=i,this.left=t,this.right=t+n,this.top=r,this.bottom=r+i}return se(e,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(r){return new e(r.x,r.y,r.width,r.height)}},{key:"applyTransform",value:function(r,n){var i=Gs(r.x,r.y,0,1),a=Gs(r.x+r.width,r.y,0,1),s=Gs(r.x,r.y+r.height,0,1),o=Gs(r.x+r.width,r.y+r.height,0,1),l=an(),u=an(),c=an(),f=an();hn(l,i,n),hn(u,a,n),hn(c,s,n),hn(f,o,n);var h=Math.min(l[0],u[0],c[0],f[0]),d=Math.min(l[1],u[1],c[1],f[1]),v=Math.max(l[0],u[0],c[0],f[0]),p=Math.max(l[1],u[1],c[1],f[1]);return e.fromRect({x:h,y:d,width:v-h,height:p-d})}}])}(),Mr="Method not implemented.",Qae="Cannot append a destroyed element.";function H0(e){return e===void 0?0:e>360||e<-360?e%360:e}var Y0=at();function ui(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(e)&&e.length===3?n?ns(e):Xr(Y0,e):rt(e)?n?ft(e,t,r):Jt(Y0,e,t,r):n?ft(e[0],e[1]||t,e[2]||r):Jt(Y0,e[0],e[1]||t,e[2]||r)}var Jae=Math.PI/180;function sr(e){return e*Jae}var ese=180/Math.PI;function Zi(e){return e*ese}function tse(e){return 360*e}var Zv=Math.PI/2;function rse(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],s=r*r,o=n*n,l=i*i,u=a*a,c=s+o+l+u,f=r*a-n*i;return f>.499995*c?(e[0]=Zv,e[1]=2*Math.atan2(n,r),e[2]=0):f<-.499995*c?(e[0]=-Zv,e[1]=2*Math.atan2(n,r),e[2]=0):(e[0]=Math.asin(2*(r*i-a*n)),e[1]=Math.atan2(2*(r*a+n*i),1-2*(l+u)),e[2]=Math.atan2(2*(r*n+i*a),1-2*(o+l))),e}function nse(e,t){var r,n,i=ps(at(),t),a=Je(i,3),s=a[0],o=a[1],l=a[2],u=Math.asin(-t[2]/s);return u<Zv?u>-Zv?(r=Math.atan2(t[6]/o,t[10]/l),n=Math.atan2(t[1]/s,t[0]/s)):(n=0,r=-Math.atan2(t[4]/o,t[5]/o)):(n=0,r=Math.atan2(t[4]/o,t[5]/o)),e[0]=r,e[1]=u,e[2]=n,e}function X0(e,t){return t.length===16?nse(e,t):rse(e,t)}function ise(e,t,r,n,i){var a=Math.cos(e),s=Math.sin(e);return fB(n*a,i*s,0,-n*s,i*a,0,t,r,1)}function ase(e,t,r,n,i,a,s){var o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,l=2*a,u=r-t,c=n-i,f=l/u,h=l/c,d=(r+t)/u,v=(n+i)/c,p,g,m=s-a,y=s*a;return o?(p=-s/m,g=-y/m):(p=-(s+a)/m,g=-2*y/m),e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=d,e[9]=v,e[10]=p,e[11]=-1,e[12]=0,e[13]=0,e[14]=g,e[15]=0,e}function DA(e){var t=e[0],r=e[1],n=e[3],i=e[4],a=Math.sqrt(t*t+r*r),s=Math.sqrt(n*n+i*i),o=t*i-r*n;if(o<0&&(t<i?a=-a:s=-s),a){var l=1/a;t*=l,r*=l}if(s){var u=1/s;n*=u,i*=u}var c=Math.atan2(r,t),f=Zi(c);return[e[6],e[7],a,s,f]}var Ya=gt(),pa=gt(),Pc=an(),dt=[at(),at(),at()],FA=at();function sse(e,t,r,n,i,a){if(!ose(Ya,e)||(Qs(pa,Ya),pa[3]=0,pa[7]=0,pa[11]=0,pa[15]=1,Math.abs(gk(pa))<1e-8))return!1;var s=Ya[3],o=Ya[7],l=Ya[11],u=Ya[12],c=Ya[13],f=Ya[14],h=Ya[15];if(s!==0||o!==0||l!==0){Pc[0]=s,Pc[1]=o,Pc[2]=l,Pc[3]=h;var d=fn(pa,pa);if(!d)return!1;pk(pa,pa),hn(i,Pc,pa)}else i[0]=i[1]=i[2]=0,i[3]=1;if(t[0]=u,t[1]=c,t[2]=f,lse(dt,Ya),r[0]=En(dt[0]),$i(dt[0],dt[0]),n[0]=kn(dt[0],dt[1]),K0(dt[1],dt[1],dt[0],1,-n[0]),r[1]=En(dt[1]),$i(dt[1],dt[1]),n[0]/=r[1],n[1]=kn(dt[0],dt[2]),K0(dt[2],dt[2],dt[0],1,-n[1]),n[2]=kn(dt[1],dt[2]),K0(dt[2],dt[2],dt[1],1,-n[2]),r[2]=En(dt[2]),$i(dt[2],dt[2]),n[1]/=r[2],n[2]/=r[2],hf(FA,dt[1],dt[2]),kn(dt[0],FA)<0)for(var v=0;v<3;v++)r[v]*=-1,dt[v][0]*=-1,dt[v][1]*=-1,dt[v][2]*=-1;return a[0]=.5*Math.sqrt(Math.max(1+dt[0][0]-dt[1][1]-dt[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-dt[0][0]+dt[1][1]-dt[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-dt[0][0]-dt[1][1]+dt[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+dt[0][0]+dt[1][1]+dt[2][2],0)),dt[2][1]>dt[1][2]&&(a[0]=-a[0]),dt[0][2]>dt[2][0]&&(a[1]=-a[1]),dt[1][0]>dt[0][1]&&(a[2]=-a[2]),!0}function ose(e,t){var r=t[15];if(r===0)return!1;for(var n=1/r,i=0;i<16;i++)e[i]=t[i]*n;return!0}function lse(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}function K0(e,t,r,n,i){e[0]=t[0]*n+r[0]*i,e[1]=t[1]*n+r[1]*i,e[2]=t[2]*n+r[2]*i}var Dr=function(e){return e[e.ORBITING=0]="ORBITING",e[e.EXPLORING=1]="EXPLORING",e[e.TRACKING=2]="TRACKING",e}({}),$A=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROTATIONAL=1]="ROTATIONAL",e[e.TRANSLATIONAL=2]="TRANSLATIONAL",e[e.CINEMATIC=3]="CINEMATIC",e}({}),ga=function(e){return e[e.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",e[e.PERSPECTIVE=1]="PERSPECTIVE",e}({}),use={UPDATED:"updated"},BA=2e-4,cse=function(){function e(){ae(this,e),this.clipSpaceNearZ=av.NEGATIVE_ONE,this.eventEmitter=new Jp,this.matrix=gt(),this.right=ft(1,0,0),this.up=ft(0,1,0),this.forward=ft(0,0,1),this.position=ft(0,0,1),this.focalPoint=ft(0,0,0),this.distanceVector=ft(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=gt(),this.projectionMatrixInverse=gt(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Dr.EXPLORING,this.trackingMode=$A.DEFAULT,this.projectionMode=ga.PERSPECTIVE,this.frustum=new Zae,this.orthoMatrix=gt()}return se(e,[{key:"isOrtho",value:function(){return this.projectionMode===ga.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(r){this.enableUpdate=r}},{key:"setType",value:function(r,n){return this.type=r,this.type===Dr.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Dr.TRACKING&&n!==void 0&&this.setTrackingMode(n),this}},{key:"setProjectionMode",value:function(r){return this.projectionMode=r,this}},{key:"setTrackingMode",value:function(r){if(this.type!==Dr.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=r,this}},{key:"setWorldRotation",value:function(r){return this.rotateWorld=r,this._getAngles(),this}},{key:"getViewTransform",value:function(){return fn(gt(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(r,n){var i=Qn(gt(),[r,n,0]);this.jitteredProjectionMatrix=Nr(gt(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(r){return this.matrix=r,this._update(),this}},{key:"setProjectionMatrix",value:function(r){this.projectionMatrix=r}},{key:"setFov",value:function(r){return this.setPerspective(this.near,this.far,r,this.aspect),this}},{key:"setAspect",value:function(r){return this.setPerspective(this.near,this.far,this.fov,r),this}},{key:"setNear",value:function(r){return this.projectionMode===ga.PERSPECTIVE?this.setPerspective(r,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,r,this.far),this}},{key:"setFar",value:function(r){return this.projectionMode===ga.PERSPECTIVE?this.setPerspective(this.near,r,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,r),this}},{key:"setViewOffset",value:function(r,n,i,a,s,o){return this.aspect=r/n,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=a,this.view.width=s,this.view.height=o,this.projectionMode===ga.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===ga.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(r){return this.zoom=r,this.projectionMode===ga.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===ga.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(r,n){var i=this.canvas.viewport2Canvas({x:n[0],y:n[1]}),a=i.x,s=i.y,o=this.roll;this.rotate(0,0,-o),this.setPosition(a,s),this.setFocalPoint(a,s),this.setZoom(r),this.rotate(0,0,o);var l=this.canvas.viewport2Canvas({x:n[0],y:n[1]}),u=l.x,c=l.y,f=ft(u-a,c-s,0),h=kn(f,this.right)/En(this.right),d=kn(f,this.up)/En(this.up),v=this.getPosition(),p=Je(v,2),g=p[0],m=p[1],y=this.getFocalPoint(),b=Je(y,2),_=b[0],x=b[1];return this.setPosition(g-h,m-d),this.setFocalPoint(_-h,x-d),this}},{key:"setPerspective",value:function(r,n,i,a){var s;this.projectionMode=ga.PERSPECTIVE,this.fov=i,this.near=r,this.far=n,this.aspect=a;var o=this.near*Math.tan(sr(.5*this.fov))/this.zoom,l=2*o,u=this.aspect*l,c=-.5*u;if((s=this.view)!==null&&s!==void 0&&s.enabled){var f=this.view.fullWidth,h=this.view.fullHeight;c+=this.view.offsetX*u/f,o-=this.view.offsetY*l/h,u*=this.view.width/f,l*=this.view.height/h}return ase(this.projectionMatrix,c,c+u,o-l,o,r,this.far,this.clipSpaceNearZ===av.ZERO),fn(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(r,n,i,a,s,o){var l;this.projectionMode=ga.ORTHOGRAPHIC,this.rright=n,this.left=r,this.top=i,this.bottom=a,this.near=s,this.far=o;var u=(this.rright-this.left)/(2*this.zoom),c=(this.top-this.bottom)/(2*this.zoom),f=(this.rright+this.left)/2,h=(this.top+this.bottom)/2,d=f-u,v=f+u,p=h+c,g=h-c;if((l=this.view)!==null&&l!==void 0&&l.enabled){var m=(this.rright-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;d+=m*this.view.offsetX,v=d+m*this.view.width,p-=y*this.view.offsetY,g=p-y*this.view.height}return this.clipSpaceNearZ===av.NEGATIVE_ONE?Ek(this.projectionMatrix,d,v,p,g,s,o):_k(this.projectionMatrix,d,v,p,g,s,o),fn(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],a=ui(r,n,i);return this._setPosition(a),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],a=ft(0,1,0);if(this.focalPoint=ui(r,n,i),this.trackingMode===$A.CINEMATIC){var s=$f(at(),this.focalPoint,this.position);r=s[0],n=s[1],i=s[2];var o=En(s),l=Zi(Math.asin(n/o)),u=90+Zi(Math.atan2(i,r)),c=gt();yk(c,c,sr(u)),mk(c,c,sr(l)),a=zr(at(),[0,1,0],c)}return fn(this.matrix,kk(gt(),this.position,this.focalPoint,a)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(r){if(this.distance===r||r<0)return this;this.distance=r,this.distance<BA&&(this.distance=BA),this.dollyingStep=this.distance/100;var n=at();r=this.distance;var i=this.forward,a=this.focalPoint;return n[0]=r*i[0]+a[0],n[1]=r*i[1]+a[1],n[2]=r*i[2]+a[2],this._setPosition(n),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(r){return this.maxDistance=r,this}},{key:"setMinDistance",value:function(r){return this.minDistance=r,this}},{key:"setAzimuth",value:function(r){return this.azimuth=H0(r),this.computeMatrix(),this._getAxes(),this.type===Dr.ORBITING||this.type===Dr.EXPLORING?this._getPosition():this.type===Dr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(r){return this.elevation=H0(r),this.computeMatrix(),this._getAxes(),this.type===Dr.ORBITING||this.type===Dr.EXPLORING?this._getPosition():this.type===Dr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(r){return this.roll=H0(r),this.computeMatrix(),this._getAxes(),this.type===Dr.ORBITING||this.type===Dr.EXPLORING?this._getPosition():this.type===Dr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var r=ta($t(),[0,0,1],sr(this.roll));qi(this.matrix);var n=ta($t(),[1,0,0],sr((this.rotateWorld&&this.type!==Dr.TRACKING||this.type===Dr.TRACKING?1:-1)*this.elevation)),i=ta($t(),[0,1,0],sr((this.rotateWorld&&this.type!==Dr.TRACKING||this.type===Dr.TRACKING?1:-1)*this.azimuth)),a=Bi($t(),i,n);a=Bi($t(),a,r);var s=eg(gt(),a);this.type===Dr.ORBITING||this.type===Dr.EXPLORING?(Vs(this.matrix,this.matrix,this.focalPoint),Nr(this.matrix,this.matrix,s),Vs(this.matrix,this.matrix,[0,0,this.distance])):this.type===Dr.TRACKING&&(Vs(this.matrix,this.matrix,this.position),Nr(this.matrix,this.matrix,s))}},{key:"_setPosition",value:function(r,n,i){this.position=ui(r,n,i);var a=this.matrix;a[12]=this.position[0],a[13]=this.position[1],a[14]=this.position[2],a[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){Xr(this.right,ui(hn(an(),[1,0,0,0],this.matrix))),Xr(this.up,ui(hn(an(),[0,1,0,0],this.matrix))),Xr(this.forward,ui(hn(an(),[0,0,1,0],this.matrix))),$i(this.right,this.right),$i(this.up,this.up),$i(this.forward,this.forward)}},{key:"_getAngles",value:function(){var r=this.distanceVector[0],n=this.distanceVector[1],i=this.distanceVector[2],a=En(this.distanceVector);if(a===0){this.elevation=0,this.azimuth=0;return}this.type===Dr.TRACKING?(this.elevation=Zi(Math.asin(n/a)),this.azimuth=Zi(Math.atan2(-r,-i))):this.rotateWorld?(this.elevation=Zi(Math.asin(n/a)),this.azimuth=Zi(Math.atan2(-r,-i))):(this.elevation=-Zi(Math.asin(n/a)),this.azimuth=-Zi(Math.atan2(-r,-i)))}},{key:"_getPosition",value:function(){Xr(this.position,ui(hn(an(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){_B(this.distanceVector,[0,0,-this.distance],cB(vk(),this.matrix)),Fi(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=$f(at(),this.focalPoint,this.position),this.distance=En(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===ga.ORTHOGRAPHIC){var r=this.position,n=ta($t(),[0,0,1],-this.roll*Math.PI/180);Us(this.orthoMatrix,n,ft((this.rright-this.left)/2-r[0],(this.top-this.bottom)/2-r[1],0),ft(this.zoom,this.zoom,1),r)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var r=this.getViewTransform(),n=Nr(gt(),this.getPerspective(),r);this.getFrustum().extractFromVPMatrix(n),this.eventEmitter.emit(use.UPDATED)}}},{key:"rotate",value:function(r,n,i){throw new Error(Mr)}},{key:"pan",value:function(r,n){throw new Error(Mr)}},{key:"dolly",value:function(r){throw new Error(Mr)}},{key:"createLandmark",value:function(r,n){throw new Error(Mr)}},{key:"gotoLandmark",value:function(r,n){throw new Error(Mr)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(Mr)}}])}(),fse=function(e){return e[e.Standard=0]="Standard",e}({}),g2=function(e){return e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",e}({}),z4={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Zu(0,0,0,0)},Fe=function(e){return e.COORDINATE="<coordinate>",e.COLOR="<color>",e.PAINT="<paint>",e.NUMBER="<number>",e.ANGLE="<angle>",e.OPACITY_VALUE="<opacity-value>",e.SHADOW_BLUR="<shadow-blur>",e.LENGTH="<length>",e.PERCENTAGE="<percentage>",e.LENGTH_PERCENTAGE="<length> | <percentage>",e.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",e.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",e.LIST_OF_POINTS="<list-of-points>",e.PATH="<path>",e.FILTER="<filter>",e.Z_INDEX="<z-index>",e.OFFSET_DISTANCE="<offset-distance>",e.DEFINED_PATH="<defined-path>",e.MARKER="<marker>",e.TRANSFORM="<transform>",e.TRANSFORM_ORIGIN="<transform-origin>",e.TEXT="<text>",e.TEXT_TRANSFORM="<text-transform>",e}({});function qk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function G4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ph(){}var Wf=.7,Qv=1/Wf,Tu="\\s*([+-]?\\d+)\\s*",Vf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hse=/^#([0-9a-f]{3,8})$/,dse=new RegExp(`^rgb\\(${Tu},${Tu},${Tu}\\)$`),vse=new RegExp(`^rgb\\(${hs},${hs},${hs}\\)$`),pse=new RegExp(`^rgba\\(${Tu},${Tu},${Tu},${Vf}\\)$`),gse=new RegExp(`^rgba\\(${hs},${hs},${hs},${Vf}\\)$`),mse=new RegExp(`^hsl\\(${Vf},${hs},${hs}\\)$`),yse=new RegExp(`^hsla\\(${Vf},${hs},${hs},${Vf}\\)$`),zA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qk(ph,fg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:GA,formatHex:GA,formatHex8:bse,formatHsl:wse,formatRgb:qA,toString:qA});function GA(){return this.rgb().formatHex()}function bse(){return this.rgb().formatHex8()}function wse(){return q4(this).formatHsl()}function qA(){return this.rgb().formatRgb()}function fg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hse.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?jA(t):r===3?new hi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dse.exec(e))?new hi(t[1],t[2],t[3],1):(t=vse.exec(e))?new hi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pse.exec(e))?xd(t[1],t[2],t[3],t[4]):(t=gse.exec(e))?xd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mse.exec(e))?UA(t[1],t[2]/100,t[3]/100,1):(t=yse.exec(e))?UA(t[1],t[2]/100,t[3]/100,t[4]):zA.hasOwnProperty(e)?jA(zA[e]):e==="transparent"?new hi(NaN,NaN,NaN,0):null}function jA(e){return new hi(e>>16&255,e>>8&255,e&255,1)}function xd(e,t,r,n){return n<=0&&(e=t=r=NaN),new hi(e,t,r,n)}function xse(e){return e instanceof ph||(e=fg(e)),e?(e=e.rgb(),new hi(e.r,e.g,e.b,e.opacity)):new hi}function Ese(e,t,r,n){return arguments.length===1?xse(e):new hi(e,t,r,n??1)}function hi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}qk(hi,Ese,G4(ph,{brighter(e){return e=e==null?Qv:Math.pow(Qv,e),new hi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wf:Math.pow(Wf,e),new hi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hi(Ml(this.r),Ml(this.g),Ml(this.b),Jv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WA,formatHex:WA,formatHex8:_se,formatRgb:VA,toString:VA}));function WA(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}`}function _se(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}${wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function VA(){const e=Jv(this.opacity);return`${e===1?"rgb(":"rgba("}${Ml(this.r)}, ${Ml(this.g)}, ${Ml(this.b)}${e===1?")":`, ${e})`}`}function Jv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ml(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wl(e){return e=Ml(e),(e<16?"0":"")+e.toString(16)}function UA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Sa(e,t,r,n)}function q4(e){if(e instanceof Sa)return new Sa(e.h,e.s,e.l,e.opacity);if(e instanceof ph||(e=fg(e)),!e)return new Sa;if(e instanceof Sa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Sa(s,o,l,e.opacity)}function kse(e,t,r,n){return arguments.length===1?q4(e):new Sa(e,t,r,n??1)}function Sa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}qk(Sa,kse,G4(ph,{brighter(e){return e=e==null?Qv:Math.pow(Qv,e),new Sa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wf:Math.pow(Wf,e),new Sa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new hi(Z0(e>=240?e-240:e+120,i,n),Z0(e,i,n),Z0(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Sa(HA(this.h),Ed(this.s),Ed(this.l),Jv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jv(this.opacity);return`${e===1?"hsl(":"hsla("}${HA(this.h)}, ${Ed(this.s)*100}%, ${Ed(this.l)*100}%${e===1?")":`, ${e})`}`}}));function HA(e){return e=(e||0)%360,e<0?e+360:e}function Ed(e){return Math.max(0,Math.min(1,e||0))}function Z0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function un(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var r=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=t?t.apply(this,a):a[0],l=r.cache;if(l.has(o))return l.get(o);var u=e.apply(this,a);return r.cache=l.set(o,u)||l,u};return r.cache=new(un.Cache||Map),un.cacheList.push(r.cache),r}un.Cache=Map;un.cacheList=[];un.clearCache=function(){un.cacheList.forEach(function(e){return e.clear()})};var $e=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kNumber=1]="kNumber",e[e.kPercentage=2]="kPercentage",e[e.kEms=3]="kEms",e[e.kPixels=4]="kPixels",e[e.kRems=5]="kRems",e[e.kDegrees=6]="kDegrees",e[e.kRadians=7]="kRadians",e[e.kGradians=8]="kGradians",e[e.kTurns=9]="kTurns",e[e.kMilliseconds=10]="kMilliseconds",e[e.kSeconds=11]="kSeconds",e[e.kInteger=12]="kInteger",e}({}),_a=function(e){return e[e.kUNumber=0]="kUNumber",e[e.kUPercent=1]="kUPercent",e[e.kULength=2]="kULength",e[e.kUAngle=3]="kUAngle",e[e.kUTime=4]="kUTime",e[e.kUOther=5]="kUOther",e}({}),Sse=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),Tse=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),Mse=[{name:"em",unit_type:$e.kEms},{name:"px",unit_type:$e.kPixels},{name:"deg",unit_type:$e.kDegrees},{name:"rad",unit_type:$e.kRadians},{name:"grad",unit_type:$e.kGradians},{name:"ms",unit_type:$e.kMilliseconds},{name:"s",unit_type:$e.kSeconds},{name:"rem",unit_type:$e.kRems},{name:"turn",unit_type:$e.kTurns}],Qu=function(e){return e[e.kUnknownType=0]="kUnknownType",e[e.kUnparsedType=1]="kUnparsedType",e[e.kKeywordType=2]="kKeywordType",e[e.kUnitType=3]="kUnitType",e[e.kSumType=4]="kSumType",e[e.kProductType=5]="kProductType",e[e.kNegateType=6]="kNegateType",e[e.kInvertType=7]="kInvertType",e[e.kMinType=8]="kMinType",e[e.kMaxType=9]="kMaxType",e[e.kClampType=10]="kClampType",e[e.kTransformType=11]="kTransformType",e[e.kPositionType=12]="kPositionType",e[e.kURLImageType=13]="kURLImageType",e[e.kColorType=14]="kColorType",e[e.kUnsupportedColorType=15]="kUnsupportedColorType",e}({}),Nse=function(t){return Mse.find(function(r){return r.name===t}).unit_type},Ase=function(t){return t?t==="number"?$e.kNumber:t==="percent"||t==="%"?$e.kPercentage:Nse(t):$e.kUnknown},Pse=function(t){switch(t){case $e.kNumber:case $e.kInteger:return _a.kUNumber;case $e.kPercentage:return _a.kUPercent;case $e.kPixels:return _a.kULength;case $e.kMilliseconds:case $e.kSeconds:return _a.kUTime;case $e.kDegrees:case $e.kRadians:case $e.kGradians:case $e.kTurns:return _a.kUAngle;default:return _a.kUOther}},Ose=function(t){switch(t){case _a.kUNumber:return $e.kNumber;case _a.kULength:return $e.kPixels;case _a.kUPercent:return $e.kPercentage;case _a.kUTime:return $e.kSeconds;case _a.kUAngle:return $e.kDegrees;default:return $e.kUnknown}},YA=function(t){var r=1;switch(t){case $e.kPixels:case $e.kDegrees:case $e.kSeconds:break;case $e.kMilliseconds:r=.001;break;case $e.kRadians:r=180/Math.PI;break;case $e.kGradians:r=.9;break;case $e.kTurns:r=360;break}return r},m2=function(t){switch(t){case $e.kNumber:case $e.kInteger:return"";case $e.kPercentage:return"%";case $e.kEms:return"em";case $e.kRems:return"rem";case $e.kPixels:return"px";case $e.kDegrees:return"deg";case $e.kRadians:return"rad";case $e.kGradians:return"grad";case $e.kMilliseconds:return"ms";case $e.kSeconds:return"s";case $e.kTurns:return"turn"}return""},hg=function(){function e(){ae(this,e)}return se(e,[{key:"toString",value:function(){return this.buildCSSText(Sse.kNo,Tse.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=Qu.kUnitType&&this.getType()<=Qu.kClampType}}],[{key:"isAngle",value:function(r){return r===$e.kDegrees||r===$e.kRadians||r===$e.kGradians||r===$e.kTurns}},{key:"isLength",value:function(r){return r>=$e.kEms&&r<$e.kDegrees}},{key:"isRelativeUnit",value:function(r){return r===$e.kPercentage||r===$e.kEms||r===$e.kRems}},{key:"isTime",value:function(r){return r===$e.kSeconds||r===$e.kMilliseconds}}])}(),Cse=function(e){function t(r){var n;return ae(this,t),n=Ye(this,t),n.colorSpace=r,n}return Xe(t,e),se(t,[{key:"getType",value:function(){return Qu.kColorType}},{key:"to",value:function(n){return this}}])}(hg),ko=function(e){return e[e.Constant=0]="Constant",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient",e}({}),_d=function(e){function t(r,n){var i;return ae(this,t),i=Ye(this,t),i.type=r,i.value=n,i}return Xe(t,e),se(t,[{key:"clone",value:function(){return new t(this.type,this.value)}},{key:"buildCSSText",value:function(n,i,a){return a}},{key:"getType",value:function(){return Qu.kColorType}}])}(hg),ca=function(e){function t(r){var n;return ae(this,t),n=Ye(this,t),n.value=r,n}return Xe(t,e),se(t,[{key:"clone",value:function(){return new t(this.value)}},{key:"getType",value:function(){return Qu.kKeywordType}},{key:"buildCSSText",value:function(n,i,a){return a+this.value}}])}(hg),Rse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n="";return Number.isFinite(t)?n="NaN":t>0?n="infinity":n="-infinity",n+=r},y2=function(t){return Ose(Pse(t))},cn=function(e){function t(r){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e.kNumber;ae(this,t),n=Ye(this,t);var a;return typeof i=="string"?a=Ase(i):a=i,n.unit=a,n.value=r,n}return Xe(t,e),se(t,[{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"equals",value:function(n){var i=n;return this.value===i.value&&this.unit===i.unit}},{key:"getType",value:function(){return Qu.kUnitType}},{key:"convertTo",value:function(n){if(this.unit===n)return new t(this.value,this.unit);var i=y2(this.unit);if(i!==y2(n)||i===$e.kUnknown)return null;var a=YA(this.unit)/YA(n);return new t(this.value*a,n)}},{key:"buildCSSText",value:function(n,i,a){var s;switch(this.unit){case $e.kUnknown:break;case $e.kInteger:s=Number(this.value).toFixed(0);break;case $e.kNumber:case $e.kPercentage:case $e.kEms:case $e.kRems:case $e.kPixels:case $e.kDegrees:case $e.kRadians:case $e.kGradians:case $e.kMilliseconds:case $e.kSeconds:case $e.kTurns:{var o=-999999,l=999999,u=this.value,c=m2(this.unit);if(u<o||u>l){var f=m2(this.unit);!Number.isFinite(u)||Number.isNaN(u)?s=Rse(u,f):s=u+(f||"")}else s="".concat(u).concat(c)}}return a+=s,a}}])}(hg),ba=new cn(0,"px");new cn(1,"px");var Bl=new cn(0,"deg"),jk=function(e){function t(r,n,i){var a,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return ae(this,t),a=Ye(this,t,["rgb"]),a.r=r,a.g=n,a.b=i,a.alpha=s,a.isNone=o,a}return Xe(t,e),se(t,[{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(n,i,a){return"".concat(a,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(Cse),XA=new ca("unset"),Lse=new ca("initial"),Ise=new ca("inherit"),Q0={"":XA,unset:XA,initial:Lse,inherit:Ise},Dse=function(t){return Q0[t]||(Q0[t]=new ca(t)),Q0[t]},j4=new jk(0,0,0,0,!0),W4=new jk(0,0,0,0),Fse=un(function(e,t,r,n){return new jk(e,t,r,n)},function(e,t,r,n){return"rgba(".concat(e,",").concat(t,",").concat(r,",").concat(n,")")}),pr=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e.kNumber;return new cn(t,r)};new cn(50,"%");function $se(e){var t=e.type,r=e.value;return t==="hex"?"#".concat(r):t==="literal"?r:t==="rgb"?"rgb(".concat(r.join(","),")"):"rgba(".concat(r.join(","),")")}var Bse=function(){var e={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function r(G){throw new Error("".concat(t,": ").concat(G))}function n(){var G=i();return t.length>0&&r("Invalid input not EOF"),G}function i(){return b(a)}function a(){return s("linear-gradient",e.linearGradient,l)||s("repeating-linear-gradient",e.repeatingLinearGradient,l)||s("radial-gradient",e.radialGradient,f)||s("repeating-radial-gradient",e.repeatingRadialGradient,f)||s("conic-gradient",e.conicGradient,f)}function s(G,z,Z){return o(z,function(ge){var xe=Z();return xe&&(F(e.comma)||r("Missing comma before color stops")),{type:G,orientation:xe,colorStops:b(_)}})}function o(G,z){var Z=F(G);if(Z){F(e.startCall)||r("Missing (");var ge=z(Z);return F(e.endCall)||r("Missing )"),ge}}function l(){return u()||c()}function u(){return I("directional",e.sideOrCorner,1)}function c(){return I("angular",e.angleValue,1)}function f(){var G,z=h(),Z;return z&&(G=[],G.push(z),Z=t,F(e.comma)&&(z=h(),z?G.push(z):t=Z)),G}function h(){var G=d()||v();if(G)G.at=g();else{var z=p();if(z){G=z;var Z=g();Z&&(G.at=Z)}else{var ge=m();ge&&(G={type:"default-radial",at:ge})}}return G}function d(){var G=I("shape",/^(circle)/i,0);return G&&(G.style=L()||p()),G}function v(){var G=I("shape",/^(ellipse)/i,0);return G&&(G.style=O()||p()),G}function p(){return I("extent-keyword",e.extentKeywords,1)}function g(){if(I("position",/^at/,0)){var G=m();return G||r("Missing positioning value"),G}}function m(){var G=y();if(G.x||G.y)return{type:"position",value:G}}function y(){return{x:O(),y:O()}}function b(G){var z=G(),Z=[];if(z)for(Z.push(z);F(e.comma);)z=G(),z?Z.push(z):r("One extra comma");return Z}function _(){var G=x();return G||r("Expected color definition"),G.length=O(),G}function x(){return w()||A()||S()||E()}function E(){return I("literal",e.literalColor,0)}function w(){return I("hex",e.hexColor,1)}function S(){return o(e.rgbColor,function(){return{type:"rgb",value:b(P)}})}function A(){return o(e.rgbaColor,function(){return{type:"rgba",value:b(P)}})}function P(){return F(e.number)[1]}function O(){return I("%",e.percentageValue,1)||C()||L()}function C(){return I("position-keyword",e.positionKeywords,1)}function L(){return I("px",e.pixelValue,1)||I("em",e.emValue,1)}function I(G,z,Z){var ge=F(z);if(ge)return{type:G,value:ge[Z]}}function F(G){var z=/^[\n\r\t\s]+/.exec(t);z&&U(z[0].length);var Z=G.exec(t);return Z&&U(Z[0].length),Z}function U(G){t=t.substring(G)}return function(G){return t=G,n()}}();function zse(e,t,r,n){var i=sr(n.value),a=0,s=0,o=a+t/2,l=s+r/2,u=Math.abs(t*Math.cos(i))+Math.abs(r*Math.sin(i)),c=e[0]+o-Math.cos(i)*u/2,f=e[1]+l-Math.sin(i)*u/2,h=e[0]+o+Math.cos(i)*u/2,d=e[1]+l+Math.sin(i)*u/2;return{x1:c,y1:f,x2:h,y2:d}}function Gse(e,t,r,n,i,a){var s=n.value,o=i.value;n.unit===$e.kPercentage&&(s=n.value/100*t),i.unit===$e.kPercentage&&(o=i.value/100*r);var l=Math.max(si([0,0],[s,o]),si([0,r],[s,o]),si([t,r],[s,o]),si([t,0],[s,o]));return a&&(a instanceof cn?l=a.value:a instanceof ca&&(a.value==="closest-side"?l=Math.min(s,t-s,o,r-o):a.value==="farthest-side"?l=Math.max(s,t-s,o,r-o):a.value==="closest-corner"&&(l=Math.min(si([0,0],[s,o]),si([0,r],[s,o]),si([t,r],[s,o]),si([t,0],[s,o]))))),{x:s+e[0],y:o+e[1],r:l}}var qse=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,jse=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Wse=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,V4=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Vse(e){var t,r=e.length;if(e[r-1].length=(t=e[r-1].length)!==null&&t!==void 0?t:{type:"%",value:"100"},r>1){var n;e[0].length=(n=e[0].length)!==null&&n!==void 0?n:{type:"%",value:"0"}}for(var i=0,a=Number(e[0].length.value),s=1;s<r;s++){var o,l=(o=e[s].length)===null||o===void 0?void 0:o.value;if(!Ze(l)&&!Ze(a)){for(var u=1;u<s-i;u++)e[i+u].length={type:"%",value:"".concat(a+(Number(l)-a)*u/(s-i))};i=s,a=Number(l)}}}var Use={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},Hse=un(function(e){var t;return e.type==="angular"?t=Number(e.value):t=Use[e.value]||0,pr(t,"deg")}),Yse=un(function(e){var t=50,r=50,n="%",i="%";if(e?.type==="position"){var a=e.value,s=a.x,o=a.y;s?.type==="position-keyword"&&(s.value==="left"?t=0:s.value==="center"?t=50:s.value==="right"?t=100:s.value==="top"?r=0:s.value==="bottom"&&(r=100)),o?.type==="position-keyword"&&(o.value==="left"?t=0:o.value==="center"?r=50:o.value==="right"?t=100:o.value==="top"?r=0:o.value==="bottom"&&(r=100)),(s?.type==="px"||s?.type==="%"||s?.type==="em")&&(n=s?.type,t=Number(s.value)),(o?.type==="px"||o?.type==="%"||o?.type==="em")&&(i=o?.type,r=Number(o.value))}return{cx:pr(t,n),cy:pr(r,i)}}),Xse=un(function(e){if(e.indexOf("linear")>-1||e.indexOf("radial")>-1){var t=Bse(e);return t.map(function(o){var l=o.type,u=o.orientation,c=o.colorStops;Vse(c);var f=c.map(function(b){return{offset:pr(Number(b.length.value),"%"),color:$se(b)}});if(l==="linear-gradient")return new _d(ko.LinearGradient,{angle:u?Hse(u):Bl,steps:f});if(l==="radial-gradient"&&(u||(u=[{type:"shape",value:"circle"}]),u[0].type==="shape"&&u[0].value==="circle")){var h=Yse(u[0].at),d=h.cx,v=h.cy,p;if(u[0].style){var g=u[0].style,m=g.type,y=g.value;m==="extent-keyword"?p=Dse(y):p=pr(y,m)}return new _d(ko.RadialGradient,{cx:d,cy:v,size:p,steps:f})}})}var r=e[0];if(e[1]==="("||e[2]==="("){if(r==="l"){var n=qse.exec(e);if(n){var i,a=((i=n[2].match(V4))===null||i===void 0?void 0:i.map(function(o){return o.split(":")}))||[];return[new _d(ko.LinearGradient,{angle:pr(parseFloat(n[1]),"deg"),steps:a.map(function(o){var l=Je(o,2),u=l[0],c=l[1];return{offset:pr(Number(u)*100,"%"),color:c}})})]}}else if(r==="r"){var s=Kse(e);if(s)if(At(s))e=s;else return[new _d(ko.RadialGradient,s)]}else if(r==="p")return Zse(e)}});function Kse(e){var t=jse.exec(e);if(t){var r,n=((r=t[4].match(V4))===null||r===void 0?void 0:r.map(function(i){return i.split(":")}))||[];return{cx:pr(50,"%"),cy:pr(50,"%"),steps:n.map(function(i){var a=Je(i,2),s=a[0],o=a[1];return{offset:pr(Number(s)*100,"%"),color:o}})}}return null}function Zse(e){var t=Wse.exec(e);if(t){var r=t[1],n=t[2];switch(r){case"a":r="repeat";break;case"x":r="repeat-x";break;case"y":r="repeat-y";break;case"n":r="no-repeat";break;default:r="no-repeat"}return{image:n,repetition:r}}return null}function zl(e){return e&&!!e.image}function ep(e){return e&&!Ze(e.r)&&!Ze(e.g)&&!Ze(e.b)}var pf=un(function(e){if(zl(e))return tt({repetition:"repeat"},e);if(Ze(e)&&(e=""),e==="transparent")return W4;if(e==="currentColor")e="black";else if(e==="none")return j4;var t=Xse(e);if(t)return t;var r=fg(e),n=[0,0,0,0];return r!==null&&(n[0]=r.r||0,n[1]=r.g||0,n[2]=r.b||0,n[3]=r.opacity),Fse.apply(void 0,n)});function Qse(e,t){if(!(!ep(e)||!ep(t)))return[[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],function(r){var n=r.slice();if(n[3])for(var i=0;i<3;i++)n[i]=Math.round(dr(n[i],0,255));return n[3]=dr(n[3],0,1),"rgba(".concat(n.join(","),")")}]}function gh(e,t){if(Ze(t))return pr(0,"px");if(t="".concat(t).trim().toLowerCase(),isFinite(Number(t))){if("px".search(e)>=0)return pr(Number(t),"px");if("deg".search(e)>=0)return pr(Number(t),"deg")}var r=[];t=t.replace(e,function(i){return r.push(i),"U".concat(i)});var n="U(".concat(e.source,")");return r.map(function(i){return pr(Number(t.replace(new RegExp("U".concat(i),"g"),"").replace(new RegExp(n,"g"),"*0")),i)})[0]}var U4=function(t){return gh(new RegExp("px","g"),t)},Jse=un(U4),eoe=function(t){return gh(new RegExp("%","g"),t)};un(eoe);var H4=function(t){return rt(t)||isFinite(Number(t))?pr(Number(t)||0,"px"):gh(new RegExp("px|%|em|rem","g"),t)},b2=un(H4),Y4=function(t){return gh(new RegExp("deg|rad|grad|turn","g"),t)},toe=un(Y4);function roe(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a="",s=e.value||0,o=t.value||0,l=y2(e.unit),u=e.convertTo(l),c=t.convertTo(l);return u&&c?(s=u.value,o=c.value,a=m2(e.unit)):(cn.isLength(e.unit)||cn.isLength(t.unit))&&(s=Pi(e,i,r),o=Pi(t,i,r),a="px"),[s,o,function(f){return f+a}]}function li(e){var t=0;return e.unit===$e.kDegrees?t=e.value:e.unit===$e.kRadians?t=Zi(Number(e.value)):e.unit===$e.kTurns?t=tse(Number(e.value)):e.value&&(t=e.value),t}function KA(e,t){var r;return Array.isArray(e)?r=e.map(function(n){return Number(n)}):At(e)?r=e.split(" ").map(function(n){return Number(n)}):rt(e)&&(r=[e]),t===2?r.length===1?[r[0],r[0]]:[r[0],r[1]]:t===4?r.length===1?[r[0],r[0],r[0],r[0]]:r.length===2?[r[0],r[1],r[0],r[1]]:r.length===3?[r[0],r[1],r[2],r[1]]:[r[0],r[1],r[2],r[3]]:t==="even"&&r.length%2===1?[].concat(it(r),it(r)):r}function Pi(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.unit===$e.kPixels)return Number(e.value);if(e.unit===$e.kPercentage&&r){var i=r.nodeName===Se.GROUP?r.getLocalBounds():r.getGeometryBounds();return(n?i.min[t]:0)+e.value/100*i.halfExtents[t]*2}return 0}var noe=function(t){return gh(/deg|rad|grad|turn|px|%/g,t)},ioe=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function aoe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(e=e.toLowerCase().trim(),e==="none")return[];for(var t=/\s*([\w-]+)\(([^)]*)\)/g,r=[],n,i=0;n=t.exec(e);){if(n.index!==i)return[];if(i=n.index+n[0].length,ioe.indexOf(n[1])>-1&&r.push({name:n[1],params:n[2].split(" ").map(function(a){return noe(a)||pf(a)})}),t.lastIndex===e.length)return r}return[]}function X4(e){return e.toString()}var K4=function(t){return typeof t=="number"?pr(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?pr(Number(t)):pr(0)},w2=un(K4);un(function(e){return At(e)?e.split(" ").map(w2):e.map(w2)});function Wk(e,t){return[e,t,X4]}function Vk(e,t){return function(r,n){return[r,n,function(i){return X4(dr(i,e,t))}]}}function Z4(e,t){if(e.length===t.length)return[e,t,function(r){return r}]}function x2(e){return e.parsedStyle.d.totalLength===0&&(e.parsedStyle.d.totalLength=GB(e.parsedStyle.d.absolutePath)),e.parsedStyle.d.totalLength}function soe(e){return e.parsedStyle.points.totalLength===0&&(e.parsedStyle.points.totalLength=YB(e.parsedStyle.points.points)),e.parsedStyle.points.totalLength}function ooe(e){for(var t=0;t<e.length;t++){var r=e[t-1],n=e[t],i=n[0];if(i==="M"&&r){var a=r[0],s=[n[1],n[2]],o=void 0;a==="L"||a==="M"?o=[r[1],r[2]]:(a==="C"||a==="A"||a==="Q")&&(o=[r[r.length-2],r[r.length-1]]),o&&tp(s,o)&&(e.splice(t,1),t--)}}}function loe(e){for(var t=!1,r=e.length,n=0;n<r;n++){var i=e[n],a=i[0];if(a==="C"||a==="A"||a==="Q"){t=!0;break}}return t}function uoe(e){for(var t=[],r=[],n=[],i=0;i<e.length;i++){var a=e[i],s=a[0];s==="M"?(n.length&&(r.push(n),n=[]),n.push([a[1],a[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([a[1],a[2]])}return n.length>0&&r.push(n),{polygons:t,polylines:r}}function tp(e,t){return e[0]===t[0]&&e[1]===t[1]}function coe(e,t){for(var r=[],n=[],i=[],a=0;a<e.length;a++){var s=e[a],o=s.currentPoint,l=s.params,u=s.prePoint,c=void 0;switch(s.command){case"Q":c=XB(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=HB(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=s.arcParams;c=VB(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:r.push(o[0]),n.push(o[1]);break}c&&(s.box=c,r.push(c.x,c.x+c.width),n.push(c.y,c.y+c.height))}r=r.filter(function(_){return!Number.isNaN(_)&&_!==1/0&&_!==-1/0}),n=n.filter(function(_){return!Number.isNaN(_)&&_!==1/0&&_!==-1/0});var h=Uu(r),d=Uu(n),v=Vu(r),p=Vu(n);if(i.length===0)return{x:h,y:d,width:v-h,height:p-d};for(var g=0;g<i.length;g++){var m=i[g],y=m.currentPoint,b=void 0;y[0]===h?(b=kd(m,t),h-=b.xExtra):y[0]===v&&(b=kd(m,t),v+=b.xExtra),y[1]===d?(b=kd(m,t),d-=b.yExtra):y[1]===p&&(b=kd(m,t),p+=b.yExtra)}return{x:h,y:d,width:v-h,height:p-d}}function kd(e,t){var r=e.prePoint,n=e.currentPoint,i=e.nextPoint,a=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),o=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),l=Math.acos((a+s-o)/(2*Math.sqrt(a)*Math.sqrt(s)));if(!l||Math.sin(l)===0||Eu(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-n[1],i[0]-n[0])),c=Math.abs(Math.atan2(i[0]-n[0],i[1]-n[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var f={xExtra:Math.cos(l/2-u)*(t/2*(1/Math.sin(l/2)))-t/2||0,yExtra:Math.cos(c-l/2)*(t/2*(1/Math.sin(l/2)))-t/2||0};return f}function ZA(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}var QA=function(t,r){var n=t.x*r.x+t.y*r.y,i=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(r.x,2)+Math.pow(r.y,2))),a=t.x*r.y-t.y*r.x<0?-1:1,s=a*Math.acos(n/i);return s},JA=function(t,r,n,i,a,s,o,l){r=Math.abs(r),n=Math.abs(n),i=tg(i,360);var u=sr(i);if(t.x===o.x&&t.y===o.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(r===0||n===0)return{x:0,y:0,ellipticalArcAngle:0};var c=(t.x-o.x)/2,f=(t.y-o.y)/2,h={x:Math.cos(u)*c+Math.sin(u)*f,y:-Math.sin(u)*c+Math.cos(u)*f},d=Math.pow(h.x,2)/Math.pow(r,2)+Math.pow(h.y,2)/Math.pow(n,2);d>1&&(r*=Math.sqrt(d),n*=Math.sqrt(d));var v=Math.pow(r,2)*Math.pow(n,2)-Math.pow(r,2)*Math.pow(h.y,2)-Math.pow(n,2)*Math.pow(h.x,2),p=Math.pow(r,2)*Math.pow(h.y,2)+Math.pow(n,2)*Math.pow(h.x,2),g=v/p;g=g<0?0:g;var m=(a!==s?1:-1)*Math.sqrt(g),y={x:m*(r*h.y/n),y:m*(-(n*h.x)/r)},b={x:Math.cos(u)*y.x-Math.sin(u)*y.y+(t.x+o.x)/2,y:Math.sin(u)*y.x+Math.cos(u)*y.y+(t.y+o.y)/2},_={x:(h.x-y.x)/r,y:(h.y-y.y)/n},x=QA({x:1,y:0},_),E={x:(-h.x-y.x)/r,y:(-h.y-y.y)/n},w=QA(_,E);!s&&w>0?w-=2*Math.PI:s&&w<0&&(w+=2*Math.PI),w%=2*Math.PI;var S=x+w*l,A=r*Math.cos(S),P=n*Math.sin(S),O={x:Math.cos(u)*A-Math.sin(u)*P+b.x,y:Math.sin(u)*A+Math.cos(u)*P+b.y,ellipticalArcStartAngle:x,ellipticalArcEndAngle:x+w,ellipticalArcAngle:S,ellipticalArcCenter:b,resultantRx:r,resultantRy:n};return O};function foe(e){for(var t=[],r=null,n=null,i=null,a=0,s=e.length,o=0;o<s;o++){var l=e[o];n=e[o+1];var u=l[0],c={command:u,prePoint:r,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(u){case"M":i=[l[1],l[2]],a=o;break;case"A":var f=hoe(r,l);c.arcParams=f;break}if(u==="Z")r=i,n=e[a+1];else{var h=l.length;r=[l[h-2],l[h-1]]}n&&n[0]==="Z"&&(n=e[a],t[a]&&(t[a].prePoint=r)),c.currentPoint=r,t[a]&&tp(r,t[a].currentPoint)&&(t[a].prePoint=c.prePoint);var d=n?[n[n.length-2],n[n.length-1]]:null;c.nextPoint=d;var v=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[v[0]-r[0],v[1]-r[1]],c.endTangent=[r[0]-v[0],r[1]-v[1]];else if(u==="Q"){var p=[l[1],l[2]];c.startTangent=[v[0]-p[0],v[1]-p[1]],c.endTangent=[r[0]-p[0],r[1]-p[1]]}else if(u==="T"){var g=t[o-1],m=ZA(g.currentPoint,v);g.command==="Q"?(c.command="Q",c.startTangent=[v[0]-m[0],v[1]-m[1]],c.endTangent=[r[0]-m[0],r[1]-m[1]]):(c.command="TL",c.startTangent=[v[0]-r[0],v[1]-r[1]],c.endTangent=[r[0]-v[0],r[1]-v[1]])}else if(u==="C"){var y=[l[1],l[2]],b=[l[3],l[4]];c.startTangent=[v[0]-y[0],v[1]-y[1]],c.endTangent=[r[0]-b[0],r[1]-b[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[y[0]-b[0],y[1]-b[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[b[0]-y[0],b[1]-y[1]])}else if(u==="S"){var _=t[o-1],x=ZA(_.currentPoint,v),E=[l[1],l[2]];_.command==="C"?(c.command="C",c.startTangent=[v[0]-x[0],v[1]-x[1]],c.endTangent=[r[0]-E[0],r[1]-E[1]]):(c.command="SQ",c.startTangent=[v[0]-E[0],v[1]-E[1]],c.endTangent=[r[0]-E[0],r[1]-E[1]])}else if(u==="A"){var w=eP(c,0),S=w.x,A=w.y,P=eP(c,1,!1),O=P.x,C=P.y;c.startTangent=[S,A],c.endTangent=[O,C]}t.push(c)}return t}function eP(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.arcParams,i=n.rx,a=i===void 0?0:i,s=n.ry,o=s===void 0?0:s,l=n.xRotation,u=n.arcFlag,c=n.sweepFlag,f=JA({x:e.prePoint[0],y:e.prePoint[1]},a,o,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},t),h=JA({x:e.prePoint[0],y:e.prePoint[1]},a,o,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},r?t+.005:t-.005),d=h.x-f.x,v=h.y-f.y,p=Math.sqrt(d*d+v*v);return{x:-d/p,y:-v/p}}function Sd(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function E2(e,t){return Sd(e)*Sd(t)?(e[0]*t[0]+e[1]*t[1])/(Sd(e)*Sd(t)):1}function tP(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(E2(e,t))}function hoe(e,t){var r=t[1],n=t[2],i=tg(sr(t[3]),Math.PI*2),a=t[4],s=t[5],o=e[0],l=e[1],u=t[6],c=t[7],f=Math.cos(i)*(o-u)/2+Math.sin(i)*(l-c)/2,h=-1*Math.sin(i)*(o-u)/2+Math.cos(i)*(l-c)/2,d=f*f/(r*r)+h*h/(n*n);d>1&&(r*=Math.sqrt(d),n*=Math.sqrt(d));var v=r*r*(h*h)+n*n*(f*f),p=v?Math.sqrt((r*r*(n*n)-v)/v):1;a===s&&(p*=-1),isNaN(p)&&(p=0);var g=n?p*r*h/n:0,m=r?p*-n*f/r:0,y=(o+u)/2+Math.cos(i)*g-Math.sin(i)*m,b=(l+c)/2+Math.sin(i)*g+Math.cos(i)*m,_=[(f-g)/r,(h-m)/n],x=[(-1*f-g)/r,(-1*h-m)/n],E=tP([1,0],_),w=tP(_,x);return E2(_,x)<=-1&&(w=Math.PI),E2(_,x)>=1&&(w=0),s===0&&w>0&&(w-=2*Math.PI),s===1&&w<0&&(w+=2*Math.PI),{cx:y,cy:b,rx:tp(e,[u,c])?0:r,ry:tp(e,[u,c])?0:n,startAngle:E,endAngle:E+w,xRotation:i,arcFlag:a,sweepFlag:s}}var Q4=function(t){if(t===""||Array.isArray(t)&&t.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var r;try{r=Hu(t)}catch{r=Hu(""),console.error("[g]: Invalid SVG Path definition: ".concat(t))}ooe(r);var n=loe(r),i=uoe(r),a=i.polygons,s=i.polylines,o=foe(r),l=coe(o,0),u=l.x,c=l.y,f=l.width,h=l.height;return{absolutePath:r,hasArc:n,segments:o,polygons:a,polylines:s,totalLength:0,rect:{x:Number.isFinite(u)?u:0,y:Number.isFinite(c)?c:0,width:Number.isFinite(f)?f:0,height:Number.isFinite(h)?h:0}}},doe=un(Q4);function J4(e){return At(e)?doe(e):Q4(e)}function voe(e,t,r){var n=e.curve,i=t.curve;(!n||n.length===0)&&(n=zf(e.absolutePath,!1),e.curve=n),(!i||i.length===0)&&(i=zf(t.absolutePath,!1),t.curve=i);var a=[n,i];n.length!==i.length&&(a=Nk(n,i));var s=qv(a[0])!==qv(a[1])?$B(a[0]):FB(a[0]);return[s,qB(a[1],s),function(o){return o}]}function poe(e,t){var r;return At(e)?r=e.split(" ").map(function(n){var i=n.split(","),a=Je(i,2),s=a[0],o=a[1];return[Number(s),Number(o)]}):r=e,{points:r,totalLength:0,segments:[]}}function goe(e,t){return[e.points,t.points,function(r){return r}]}var Sr=null,Mu=/\s*(\w+)\(([^)]*)\)/g;function ii(e){return function(t){var r=0;return e.map(function(n){return n===Sr?t[r++]:n})}}function il(e){return e}var Uf={matrix:["NNNNNN",[Sr,Sr,0,0,Sr,Sr,0,0,0,0,1,0,Sr,Sr,0,1],il],matrix3d:["NNNNNNNNNNNNNNNN",il],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",ii([Sr,Sr,new cn(1)]),il],scaleX:["N",ii([Sr,new cn(1),new cn(1)]),ii([Sr,new cn(1)])],scaleY:["N",ii([new cn(1),Sr,new cn(1)]),ii([new cn(1),Sr])],scaleZ:["N",ii([new cn(1),new cn(1),Sr])],scale3d:["NNN",il],skew:["Aa",null,il],skewX:["A",null,ii([Sr,Bl])],skewY:["A",null,ii([Bl,Sr])],translate:["Tt",ii([Sr,Sr,ba]),il],translateX:["T",ii([Sr,ba,ba]),ii([Sr,ba])],translateY:["T",ii([ba,Sr,ba]),ii([ba,Sr])],translateZ:["L",ii([ba,ba,Sr])],translate3d:["TTL",il]};function ez(e){for(var t=[],r=e.length,n=0;n<r;n++){var i=e[n],a=i[0],s=i.slice(1);a==="translate"||a==="skew"?s.length===1&&s.push(0):a==="scale"&&s.length===1&&s.push(s[0]);var o=Uf[a];if(!o)return[];var l=s.map(function(u){return pr(u)});t.push({t:a,d:l})}return t}function tz(e){if(Array.isArray(e))return ez(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],r,n=0;for(Mu.lastIndex=0;r=Mu.exec(e);){if(r.index!==n)return[];n=r.index+r[0].length;var i=r[1],a=Uf[i];if(!a)return[];var s=r[2].split(","),o=a[0];if(o.length<s.length)return[];for(var l=[],u=0;u<o.length;u++){var c=s[u],f=o[u],h=void 0;if(c?h={A:function(v){return v.trim()==="0"?Bl:toe(v)},N:w2,T:b2,L:Jse}[f.toUpperCase()](c):h={a:Bl,n:l[0],t:ba}[f],h===void 0)return[];l.push(h)}if(t.push({t:i,d:l}),Mu.lastIndex===e.length)return t}return[]}function moe(e){if(Array.isArray(e))return ez(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],r,n=0;for(Mu.lastIndex=0;r=Mu.exec(e);){if(r.index!==n)return[];n=r.index+r[0].length;var i=r[1],a=Uf[i];if(!a)return[];var s=r[2].split(","),o=a[0];if(o.length<s.length)return[];for(var l=[],u=0;u<o.length;u++){var c=s[u],f=o[u],h=void 0;if(c?h={A:function(v){return v.trim()==="0"?Bl:Y4(v)},N:K4,T:H4,L:U4}[f.toUpperCase()](c):h={a:Bl,n:l[0],t:ba}[f],h===void 0)return[];l.push(h)}if(t.push({t:i,d:l}),Mu.lastIndex===e.length)return t}return[]}function yoe(e){var t,r,n,i;switch(e.t){case"rotateX":return i=sr(li(e.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotateY":return i=sr(li(e.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotateZ":return i=sr(li(e.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":t=e.d[0].value,r=e.d[1].value,n=e.d[2].value,i=sr(li(e.d[3]));var a=t*t+r*r+n*n;if(a===0)t=1,r=0,n=0;else if(a!==1){var s=Math.sqrt(a);t/=s,r/=s,n/=s}var o=Math.sin(i/2),l=o*Math.cos(i/2),u=o*o;return[1-2*(r*r+n*n)*u,2*(t*r*u+n*l),2*(t*n*u-r*l),0,2*(t*r*u-n*l),1-2*(t*t+n*n)*u,2*(r*n*u+t*l),0,2*(t*n*u+r*l),2*(r*n*u-t*l),1-2*(t*t+r*r)*u,0,0,0,0,1];case"scale":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[e.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,e.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,e.d[0].value,0,0,0,0,1];case"scale3d":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,e.d[2].value,0,0,0,0,1];case"skew":var c=sr(li(e.d[0])),f=sr(li(e.d[1]));return[1,Math.tan(f),0,0,Math.tan(c),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return i=sr(li(e.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return i=sr(li(e.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return t=Pi(e.d[0],0,null)||0,r=Pi(e.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,r,0,1];case"translateX":return t=Pi(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,0,0,1];case"translateY":return r=Pi(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,r,0,1];case"translateZ":return n=Pi(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,n,1];case"translate3d":return t=Pi(e.d[0],0,null)||0,r=Pi(e.d[1],0,null)||0,n=Pi(e.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,r,n,1];case"perspective":var h=Pi(e.d[0],0,null)||0,d=h?-1/h:0;return[1,0,0,0,0,1,0,0,0,0,1,d,0,0,0,1];case"matrix":return[e.d[0].value,e.d[1].value,0,0,e.d[2].value,e.d[3].value,0,0,0,0,1,0,e.d[4].value,e.d[5].value,0,1];case"matrix3d":return e.d.map(function(v){return v.value})}}function boe(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function woe(e){return e.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(yoe).reduce(boe)}function rP(e){var t=[0,0,0],r=[1,1,1],n=[0,0,0],i=[0,0,0,1],a=[0,0,0,1];return sse(woe(e),t,r,n,i,a),[[t,r,n,a,i]]}var xoe=function(){function e(n,i){for(var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],s=0;s<4;s++)for(var o=0;o<4;o++)for(var l=0;l<4;l++)a[s][o]+=i[s][l]*n[l][o];return a}function t(n){return n[0][2]===0&&n[0][3]===0&&n[1][2]===0&&n[1][3]===0&&n[2][0]===0&&n[2][1]===0&&n[2][2]===1&&n[2][3]===0&&n[3][2]===0&&n[3][3]===1}function r(n,i,a,s,o){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],u=0;u<4;u++)l[u][3]=o[u];for(var c=0;c<3;c++)for(var f=0;f<3;f++)l[3][c]+=n[f]*l[f][c];var h=s[0],d=s[1],v=s[2],p=s[3],g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];g[0][0]=1-2*(d*d+v*v),g[0][1]=2*(h*d-v*p),g[0][2]=2*(h*v+d*p),g[1][0]=2*(h*d+v*p),g[1][1]=1-2*(h*h+v*v),g[1][2]=2*(d*v-h*p),g[2][0]=2*(h*v-d*p),g[2][1]=2*(d*v+h*p),g[2][2]=1-2*(h*h+d*d),l=e(l,g);var m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];a[2]&&(m[2][1]=a[2],l=e(l,m)),a[1]&&(m[2][1]=0,m[2][0]=a[0],l=e(l,m)),a[0]&&(m[2][0]=0,m[1][0]=a[0],l=e(l,m));for(var y=0;y<3;y++)for(var b=0;b<3;b++)l[y][b]*=i[y];return t(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}return r}();function Eoe(e){return e.toFixed(6).replace(".000000","")}function J0(e,t){var r,n;return e.decompositionPair!==t&&(e.decompositionPair=t,r=rP(e)),t.decompositionPair!==e&&(t.decompositionPair=e,n=rP(t)),r[0]===null||n[0]===null?[[!1],[!0],function(i){return i?t[0].d:e[0].d}]:(r[0].push(0),n[0].push(1),[r,n,function(i){var a=koe(r[0][3],n[0][3],i[5]),s=xoe(i[0],i[1],i[2],a,i[4]),o=s.map(Eoe).join(",");return o}])}function _oe(e,t){for(var r=0,n=0;n<e.length;n++)r+=e[n]*t[n];return r}function koe(e,t,r){var n=_oe(e,t);n=dr(n,-1,1);var i=[];if(n===1)i=e;else for(var a=Math.acos(n),s=Math.sin(r*a)*1/Math.sqrt(1-n*n),o=0;o<4;o++)i.push(e[o]*(Math.cos(r*a)-n*s)+t[o]*s);return i}function em(e){return e.replace(/[XY]/,"")}function tm(e){return e.replace(/(X|Y|Z|3d)?$/,"3d")}var Soe=function(t,r){return t==="perspective"&&r==="perspective"||(t==="matrix"||t==="matrix3d")&&(r==="matrix"||r==="matrix3d")};function Toe(e,t,r){var n=!1;if(!e.length||!t.length){e.length||(n=!0,e=t,t=[]);for(var i=function(){var O=e[a],C=O.t,L=O.d,I=C.substring(0,5)==="scale"?1:0;t.push({t:C,d:L.map(function(F){return typeof F=="number"?pr(I):pr(I,F.unit)})})},a=0;a<e.length;a++)i()}var s=[],o=[],l=[];if(e.length!==t.length){var u=J0(e,t);s=[u[0]],o=[u[1]],l=[["matrix",[u[2]]]]}else for(var c=0;c<e.length;c++){var f=e[c].t,h=t[c].t,d=e[c].d,v=t[c].d,p=Uf[f],g=Uf[h],m=void 0;if(Soe(f,h)){var y=J0([e[c]],[t[c]]);s.push(y[0]),o.push(y[1]),l.push(["matrix",[y[2]]]);continue}else if(f===h)m=f;else if(p[2]&&g[2]&&em(f)===em(h))m=em(f),d=p[2](d),v=g[2](v);else if(p[1]&&g[1]&&tm(f)===tm(h))m=tm(f),d=p[1](d),v=g[1](v);else{var b=J0(e,t);s=[b[0]],o=[b[1]],l=[["matrix",[b[2]]]];break}for(var _=[],x=[],E=[],w=0;w<d.length;w++){var S=roe(d[w],v[w],r,!1,w);_[w]=S[0],x[w]=S[1],E.push(S[2])}s.push(_),o.push(x),l.push([m,E])}if(n){var A=s;s=o,o=A}return[s,o,function(P){return P.map(function(O,C){var L=O.map(function(I,F){return l[C][1][F](I)}).join(",");return l[C][0]==="matrix"&&L.split(",").length===16&&(l[C][0]="matrix3d"),l[C][0]==="matrix3d"&&L.split(",").length===6&&(l[C][0]="matrix"),"".concat(l[C][0],"(").concat(L,")")}).join(" ")}]}var Moe=un(function(e){if(At(e)){if(e==="text-anchor")return[pr(0,"px"),pr(0,"px")];var t=e.split(" ");return t.length===1&&(t[0]==="top"||t[0]==="bottom"?(t[1]=t[0],t[0]="center"):t[1]="center"),t.length!==2?null:[b2(nP(t[0])),b2(nP(t[1]))]}return[pr(e[0]||0,"px"),pr(e[1]||0,"px")]});function nP(e){return e==="center"?"50%":e==="left"||e==="top"?"0%":e==="right"||e==="bottom"?"100%":e}var rz=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Fe.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Fe.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Fe.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Fe.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Fe.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Fe.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Fe.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Fe.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Fe.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Fe.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Fe.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Fe.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Fe.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Fe.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Fe.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Fe.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Fe.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Fe.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Fe.FILTER},{n:"clipPath",syntax:Fe.DEFINED_PATH},{n:"textPath",syntax:Fe.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Fe.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Fe.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Fe.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Fe.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Fe.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Fe.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Fe.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Fe.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Fe.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Fe.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Fe.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Fe.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Fe.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Fe.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Fe.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Fe.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Fe.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Fe.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Fe.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Fe.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Fe.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Fe.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Fe.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Fe.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Fe.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Fe.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Fe.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Fe.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Fe.NUMBER,d:function(t){return t===Se.PATH||t===Se.POLYGON||t===Se.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Fe.MARKER},{n:"markerEnd",syntax:Fe.MARKER},{n:"markerMid",syntax:Fe.MARKER},{n:"markerStartOffset",syntax:Fe.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Fe.LENGTH,l:!0,int:!0,d:"0"}],Noe=new Set(rz.filter(function(e){return!!e.l}).map(function(e){return e.n})),Aoe=function(){function e(t){var r=this;ae(this,e),this.runtime=t,rz.forEach(function(n){r.registerMetadata(n)})}return se(e,[{key:"registerMetadata",value:function(r){[r.n].concat(it(r.a||[])).forEach(function(n){})}},{key:"getPropertySyntax",value:function(r){return this.runtime.CSSPropertySyntaxFactory[r]}},{key:"processProperties",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{forceUpdateGeometry:!1};Object.assign(r.attributes,n);var a=r.parsedStyle.clipPath,s=r.parsedStyle.offsetPath;Poe(r,n);var o=!!i.forceUpdateGeometry;if(!o){for(var l in n)if(Noe.has(l)){o=!0;break}}var u=nz(r);u.has("fill")&&n.fill&&(r.parsedStyle.fill=pf(n.fill)),u.has("stroke")&&n.stroke&&(r.parsedStyle.stroke=pf(n.stroke)),u.has("shadowColor")&&n.shadowColor&&(r.parsedStyle.shadowColor=pf(n.shadowColor)),u.has("filter")&&n.filter&&(r.parsedStyle.filter=aoe(n.filter)),u.has("radius")&&!Ze(n.radius)&&(r.parsedStyle.radius=KA(n.radius,4)),u.has("lineDash")&&!Ze(n.lineDash)&&(r.parsedStyle.lineDash=KA(n.lineDash,"even")),u.has("points")&&n.points&&(r.parsedStyle.points=poe(n.points)),u.has("d")&&n.d===""&&(r.parsedStyle.d=tt({},z4)),u.has("d")&&n.d&&(r.parsedStyle.d=J4(n.d)),u.has("textTransform")&&n.textTransform&&this.runtime.CSSPropertySyntaxFactory[Fe.TEXT_TRANSFORM].calculator(null,null,{value:n.textTransform},r,null),u.has("clipPath")&&!ct(n.clipPath)&&this.runtime.CSSPropertySyntaxFactory[Fe.DEFINED_PATH].calculator("clipPath",a,n.clipPath,r,this.runtime),u.has("offsetPath")&&n.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Fe.DEFINED_PATH].calculator("offsetPath",s,n.offsetPath,r,this.runtime),u.has("transform")&&n.transform&&(r.parsedStyle.transform=tz(n.transform)),u.has("transformOrigin")&&n.transformOrigin&&(r.parsedStyle.transformOrigin=Moe(n.transformOrigin)),u.has("markerStart")&&n.markerStart&&(r.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Fe.MARKER].calculator(null,n.markerStart,n.markerStart,null,null)),u.has("markerEnd")&&n.markerEnd&&(r.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Fe.MARKER].calculator(null,n.markerEnd,n.markerEnd,null,null)),u.has("markerMid")&&n.markerMid&&(r.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Fe.MARKER].calculator("",n.markerMid,n.markerMid,null,null)),u.has("zIndex")&&!Ze(n.zIndex)&&this.runtime.CSSPropertySyntaxFactory[Fe.Z_INDEX].postProcessor(r),u.has("offsetDistance")&&!Ze(n.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[Fe.OFFSET_DISTANCE].postProcessor(r),u.has("transform")&&n.transform&&this.runtime.CSSPropertySyntaxFactory[Fe.TRANSFORM].postProcessor(r),u.has("transformOrigin")&&n.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Fe.TRANSFORM_ORIGIN].postProcessor(r),o&&(r.geometry.dirty=!0,r.renderable.boundsDirty=!0,r.renderable.renderBoundsDirty=!0,i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(r))}},{key:"updateGeometry",value:function(r){var n=r.nodeName,i=this.runtime.geometryUpdaterFactory[n];if(i){var a=r.geometry;a.contentBounds||(a.contentBounds=new rn),a.renderBounds||(a.renderBounds=new rn);var s=r.parsedStyle,o=i.update(s,r),l=o.cx,u=l===void 0?0:l,c=o.cy,f=c===void 0?0:c,h=o.cz,d=h===void 0?0:h,v=o.hwidth,p=v===void 0?0:v,g=o.hheight,m=g===void 0?0:g,y=o.hdepth,b=y===void 0?0:y,_=[Math.abs(p),Math.abs(m),b],x=s.stroke,E=s.lineWidth,w=E===void 0?1:E,S=s.increasedLineWidthForHitTesting,A=S===void 0?0:S,P=s.shadowType,O=P===void 0?"outer":P,C=s.shadowColor,L=s.filter,I=L===void 0?[]:L,F=s.transformOrigin,U=[u,f,d];a.contentBounds.update(U,_);var G=n===Se.POLYLINE||n===Se.POLYGON||n===Se.PATH?Math.SQRT2:.5,z=x&&!x.isNone;if(z){var Z=((w||0)+(A||0))*G;_[0]+=Z,_[1]+=Z}if(a.renderBounds.update(U,_),C&&O&&O!=="inner"){var ge=a.renderBounds,xe=ge.min,ve=ge.max,je=s.shadowBlur,te=s.shadowOffsetX,Y=s.shadowOffsetY,fe=je||0,Q=te||0,oe=Y||0,ye=xe[0]-fe+Q,we=ve[0]+fe+Q,Ae=xe[1]-fe+oe,H=ve[1]+fe+oe;xe[0]=Math.min(xe[0],ye),ve[0]=Math.max(ve[0],we),xe[1]=Math.min(xe[1],Ae),ve[1]=Math.max(ve[1],H),a.renderBounds.setMinMax(xe,ve)}I.forEach(function(pe){var V=pe.name,q=pe.params;if(V==="blur"){var ne=q[0].value;a.renderBounds.update(a.renderBounds.center,Fi(a.renderBounds.halfExtents,a.renderBounds.halfExtents,[ne,ne,0]))}else if(V==="drop-shadow"){var ue=q[0].value,Oe=q[1].value,be=q[2].value,re=a.renderBounds,he=re.min,Be=re.max,nt=he[0]-be+ue,lt=Be[0]+be+ue,Zt=he[1]-be+Oe,qt=Be[1]+be+Oe;he[0]=Math.min(he[0],nt),Be[0]=Math.max(Be[0],lt),he[1]=Math.min(he[1],Zt),Be[1]=Math.max(Be[1],qt),a.renderBounds.setMinMax(he,Be)}}),r.geometry.dirty=!1;var K=p<0,ce=m<0,de=(K?-1:1)*(F?Pi(F[0],0,r,!0):0),_e=(ce?-1:1)*(F?Pi(F[1],1,r,!0):0);(de||_e)&&r.setOrigin(de,_e)}}},{key:"updateSizeAttenuation",value:function(r,n){r.style.isSizeAttenuation?(r.style.rawLineWidth||(r.style.rawLineWidth=r.style.lineWidth),r.style.lineWidth=(r.style.rawLineWidth||1)/n,r.nodeName===Se.CIRCLE&&(r.style.rawR||(r.style.rawR=r.style.r),r.style.r=(r.style.rawR||1)/n)):(r.style.rawLineWidth&&(r.style.lineWidth=r.style.rawLineWidth,delete r.style.rawLineWidth),r.nodeName===Se.CIRCLE&&r.style.rawR&&(r.style.r=r.style.rawR,delete r.style.rawR))}}])}();function Poe(e,t){var r=nz(e);for(var n in t)r.has(n)&&(e.parsedStyle[n]=t[n])}function nz(e){return e.constructor.PARSED_STYLE_LIST}var Ooe=function(){function e(){ae(this,e),this.mixer=Wk}return se(e,[{key:"calculator",value:function(r,n,i,a){return li(i)}}])}(),Coe=function(){function e(){ae(this,e)}return se(e,[{key:"calculator",value:function(r,n,i,a,s){return i instanceof ca&&(i=null),s.sceneGraphService.updateDisplayObjectDependency(r,n,i,a),r==="clipPath"&&a.forEach(function(o){o.childNodes.length===0&&s.sceneGraphService.dirtifyToRoot(o)}),i}}])}(),Roe=function(){function e(){ae(this,e),this.parser=pf,this.mixer=Qse}return se(e,[{key:"calculator",value:function(r,n,i,a){return i instanceof ca?i.value==="none"?j4:W4:i}}])}(),Loe=function(){function e(){ae(this,e)}return se(e,[{key:"calculator",value:function(r,n,i){return i instanceof ca?[]:i}}])}();function iP(e){var t=e.parsedStyle,r=t.fontSize;return Ze(r)?null:r}var _2=function(){function e(){ae(this,e),this.mixer=Wk}return se(e,[{key:"calculator",value:function(r,n,i,a,s){if(rt(i))return i;if(cn.isRelativeUnit(i.unit)){if(i.unit===$e.kPercentage)return 0;if(i.unit===$e.kEms){if(a.parentNode){var o=iP(a.parentNode);if(o)return o*=i.value,o}return 0}if(i.unit===$e.kRems){var l;if(a!=null&&(l=a.ownerDocument)!==null&&l!==void 0&&l.documentElement){var u=iP(a.ownerDocument.documentElement);if(u)return u*=i.value,u}return 0}}else return i.value}}])}(),Ioe=function(){function e(){ae(this,e),this.mixer=Z4}return se(e,[{key:"calculator",value:function(r,n,i){return i.map(function(a){return a.value})}}])}(),Doe=function(){function e(){ae(this,e),this.mixer=Z4}return se(e,[{key:"calculator",value:function(r,n,i){return i.map(function(a){return a.value})}}])}(),Foe=function(){function e(){ae(this,e)}return se(e,[{key:"calculator",value:function(r,n,i,a){var s;i instanceof ca&&(i=null);var o=(s=i)===null||s===void 0?void 0:s.cloneNode(!0);return o&&(o.style.isMarker=!0),o}}])}(),$oe=function(){function e(){ae(this,e),this.mixer=Wk}return se(e,[{key:"calculator",value:function(r,n,i){return i.value}}])}(),Boe=function(){function e(){ae(this,e),this.mixer=Vk(0,1)}return se(e,[{key:"calculator",value:function(r,n,i){return i.value}},{key:"postProcessor",value:function(r){var n=r.parsedStyle,i=n.offsetPath,a=n.offsetDistance;if(i){var s=i.nodeName;if(s===Se.LINE||s===Se.PATH||s===Se.POLYLINE){var o=i.getPoint(a);o&&r.setLocalPosition(o.x,o.y)}}}}])}(),zoe=function(){function e(){ae(this,e),this.mixer=Vk(0,1)}return se(e,[{key:"calculator",value:function(r,n,i){return i.value}}])}(),Goe=function(){function e(){ae(this,e),this.parser=J4,this.mixer=voe}return se(e,[{key:"calculator",value:function(r,n,i){return i instanceof ca&&i.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Zu(0,0,0,0)}:i}}])}(),qoe=se(function e(){ae(this,e),this.mixer=goe}),joe=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.mixer=Vk(0,1/0),r}return Xe(t,e),se(t)}(_2),Woe=function(){function e(){ae(this,e)}return se(e,[{key:"calculator",value:function(r,n,i,a){return i instanceof ca?i.value==="unset"?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(r){r.nodeValue="".concat(r.parsedStyle.text)||""}}])}(),Voe=function(){function e(){ae(this,e)}return se(e,[{key:"calculator",value:function(r,n,i,a){var s=a.getAttribute("text");if(s){var o=s;i.value==="capitalize"?o=s.charAt(0).toUpperCase()+s.slice(1):i.value==="lowercase"?o=s.toLowerCase():i.value==="uppercase"&&(o=s.toUpperCase()),a.parsedStyle.text=o}return i.value}}])}(),Uoe=typeof window<"u"&&typeof window.document<"u";function iz(e){var t=e;do{var r,n=(r=t.parsedStyle)===null||r===void 0?void 0:r.clipPath;if(n)return t;t=t.parentElement}while(t!==null);return null}var aP="px";function Hoe(e,t,r){Uoe&&e.style&&(e.style.width=t+aP,e.style.height=r+aP)}var Yoe=1,Xoe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Koe=typeof performance=="object"&&performance.now?performance:Date;function k2(e){return e.nodeName===Se.FRAGMENT?!0:e.getRootNode().nodeName===Se.FRAGMENT}function Vl(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=!1,i=!1,a=!!t&&!t.isNone,s=!!r&&!r.isNone;return e==="visiblepainted"||e==="painted"||e==="auto"?(n=a,i=s):e==="visiblefill"||e==="fill"?n=!0:e==="visiblestroke"||e==="stroke"?i=!0:(e==="visible"||e==="all")&&(n=!0,i=!0),[n,i]}var Zoe=1,Qoe=function(){return Zoe++},ds=typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:{},Joe=Date.now(),ele=function(){return ds.performance&&typeof ds.performance.now=="function"?ds.performance.now():Date.now()-Joe},qc={},sP=Date.now(),tle=function(t){if(typeof t!="function")throw new TypeError("".concat(t," is not a function"));var r=Date.now(),n=r-sP,i=n>16?0:16-n,a=Qoe();return qc[a]=t,Object.keys(qc).length>1||setTimeout(function(){sP=r;var s=qc;qc={},Object.keys(s).forEach(function(o){return s[o](ele())})},i),a},rle=function(t){delete qc[t]},nle=["","webkit","moz","ms","o"],az=function(t){return typeof t!="string"?tle:t===""?ds.requestAnimationFrame:ds["".concat(t,"RequestAnimationFrame")]},ile=function(t){return typeof t!="string"?rle:t===""?ds.cancelAnimationFrame:ds["".concat(t,"CancelAnimationFrame")]||ds["".concat(t,"CancelRequestAnimationFrame")]},ale=function(t,r){for(var n=0;t[n]!==void 0;){if(r(t[n]))return t[n];n+=1}},sz=ale(nle,function(e){return!!az(e)}),oz=az(sz),sle=ile(sz);ds.requestAnimationFrame=oz;ds.cancelAnimationFrame=sle;var ole=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],lle=/([\"\'])[^\'\"]+\1/;function ule(e){for(var t=e.fontSize,r=t===void 0?16:t,n=e.fontFamily,i=n===void 0?"sans-serif":n,a=e.fontStyle,s=a===void 0?"normal":a,o=e.fontVariant,l=o===void 0?"normal":o,u=e.fontWeight,c=u===void 0?"normal":u,f=rt(r)&&"".concat(r,"px")||"16px",h=i.split(","),d=h.length-1;d>=0;d--){var v=h[d].trim();!lle.test(v)&&ole.indexOf(v)<0&&(v='"'.concat(v,'"')),h[d]=v}return"".concat(s," ").concat(l," ").concat(c," ").concat(f," ").concat(h.join(","))}function rm(e,t,r){return qi(e),e[4]=Math.tan(t),e[1]=Math.tan(r),e}var Br=gt(),cle=gt(),fle={scale:function(t){ea(Br,[t[0].value,t[1].value,1])},scaleX:function(t){ea(Br,[t[0].value,1,1])},scaleY:function(t){ea(Br,[1,t[0].value,1])},scaleZ:function(t){ea(Br,[1,1,t[0].value])},scale3d:function(t){ea(Br,[t[0].value,t[1].value,t[2].value])},translate:function(t){Qn(Br,[t[0].value,t[1].value,0])},translateX:function(t){Qn(Br,[t[0].value,0,0])},translateY:function(t){Qn(Br,[0,t[0].value,0])},translateZ:function(t){Qn(Br,[0,0,t[0].value])},translate3d:function(t){Qn(Br,[t[0].value,t[1].value,t[2].value])},rotate:function(t){Ff(Br,sr(li(t[0])))},rotateX:function(t){wk(Br,sr(li(t[0])))},rotateY:function(t){xk(Br,sr(li(t[0])))},rotateZ:function(t){Ff(Br,sr(li(t[0])))},rotate3d:function(t){bk(Br,sr(li(t[3])),[t[0].value,t[1].value,t[2].value])},skew:function(t){rm(Br,sr(t[0].value),sr(t[1].value))},skewX:function(t){rm(Br,sr(t[0].value),0)},skewY:function(t){rm(Br,0,sr(t[0].value))},matrix:function(t){Df(Br,t[0].value,t[1].value,0,0,t[2].value,t[3].value,0,0,0,0,1,0,t[4].value,t[5].value,0,1)},matrix3d:function(t){Df.apply(bB,[Br].concat(it(t.map(function(r){return r.value}))))}},hle=ft(1,1,1),dle=at(),oP={translate:function(t,r){Ge.sceneGraphService.setLocalScale(t,hle,!1),Ge.sceneGraphService.setLocalEulerAngles(t,dle,void 0,void 0,!1),Ge.sceneGraphService.setLocalPosition(t,[r[0].value,r[1].value,0],!1),Ge.sceneGraphService.dirtifyLocal(t,t.transformable)}};function lz(e,t){if(e.length){if(e.length===1&&oP[e[0].t]){oP[e[0].t](t,e[0].d);return}for(var r=qi(cle),n=0;n<e.length;n++){var i=e[n],a=i.t,s=i.d,o=fle[a];o&&(o(s),Sk(r,r,Br))}t.setLocalTransform(r)}else t.resetLocalTransform();return t.getLocalTransform()}var vle=function(){function e(){ae(this,e),this.parser=moe,this.mixer=Toe}return se(e,[{key:"calculator",value:function(r,n,i,a){return i instanceof ca?[]:i}},{key:"postProcessor",value:function(r){lz(r.parsedStyle.transform,r)}}])}(),ple=function(){function e(){ae(this,e)}return se(e,[{key:"postProcessor",value:function(r){var n=r.parsedStyle.transformOrigin;n[0].unit===$e.kPixels&&n[1].unit===$e.kPixels?r.setOrigin(n[0].value,n[1].value):r.getGeometryBounds()}}])}(),gle=function(){function e(){ae(this,e)}return se(e,[{key:"calculator",value:function(r,n,i,a){return i.value}},{key:"postProcessor",value:function(r){if(r.parentNode){var n=r.parentNode,i=n.renderable,a=n.sortable;i&&(i.dirty=!0),a&&(a.dirty=!0,a.dirtyReason=g2.Z_INDEX_CHANGED)}}}])}(),mle=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r,n){var i=r.cx,a=i===void 0?0:i,s=r.cy,o=s===void 0?0:s,l=r.r,u=l===void 0?0:l;return{cx:a,cy:o,hwidth:u,hheight:u}}}])}(),yle=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r,n){var i=r.cx,a=i===void 0?0:i,s=r.cy,o=s===void 0?0:s,l=r.rx,u=l===void 0?0:l,c=r.ry,f=c===void 0?0:c;return{cx:a,cy:o,hwidth:u,hheight:f}}}])}(),ble=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r){var n=r.x1,i=r.y1,a=r.x2,s=r.y2,o=Math.min(n,a),l=Math.max(n,a),u=Math.min(i,s),c=Math.max(i,s),f=l-o,h=c-u,d=f/2,v=h/2;return{cx:o+d,cy:u+v,hwidth:d,hheight:v}}}])}(),wle=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r){var n=r.d,i=n.rect,a=i.x,s=i.y,o=i.width,l=i.height,u=o/2,c=l/2;return{cx:a+u,cy:s+c,hwidth:u,hheight:c}}}])}(),xle=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r){if(r.points&&xi(r.points.points)){var n=r.points.points,i=Math.min.apply(Math,it(n.map(function(h){return h[0]}))),a=Math.max.apply(Math,it(n.map(function(h){return h[0]}))),s=Math.min.apply(Math,it(n.map(function(h){return h[1]}))),o=Math.max.apply(Math,it(n.map(function(h){return h[1]}))),l=a-i,u=o-s,c=l/2,f=u/2;return{cx:i+c,cy:s+f,hwidth:c,hheight:f}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Ele=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r,n){var i=r.x,a=i===void 0?0:i,s=r.y,o=s===void 0?0:s,l=r.src,u=r.width,c=u===void 0?0:u,f=r.height,h=f===void 0?0:f,d=c,v=h;return l&&!At(l)&&(d||(d=l.width,r.width=d),v||(v=l.height,r.height=v)),{cx:a+d/2,cy:o+v/2,hwidth:d/2,hheight:v/2}}}])}(),_le=function(){function e(t){ae(this,e),this.globalRuntime=t}return se(e,[{key:"isReadyToMeasure",value:function(r,n){var i=r.text;return i}},{key:"update",value:function(r,n){var i,a=r.text,s=r.textAlign,o=s===void 0?"start":s,l=r.lineWidth,u=l===void 0?1:l,c=r.textBaseline,f=c===void 0?"alphabetic":c,h=r.dx,d=h===void 0?0:h,v=r.dy,p=v===void 0?0:v,g=r.x,m=g===void 0?0:g,y=r.y,b=y===void 0?0:y;if(!this.isReadyToMeasure(r,n))return r.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var _=(n==null||(i=n.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0?void 0:i.getConfig())||{},x=_.offscreenCanvas,E=this.globalRuntime.textService.measureText(a,r,x);r.metrics=E;var w=E.width,S=E.height,A=w/2,P=S/2,O=m+A;o==="center"||o==="middle"?O+=u/2-A:(o==="right"||o==="end")&&(O+=u-A*2);var C=b-P;return f==="middle"?C+=P:f==="top"||f==="hanging"?C+=P*2:f==="alphabetic"||(f==="bottom"||f==="ideographic")&&(C+=0),d&&(O+=d),p&&(C+=p),{cx:O,cy:C,hwidth:A,hheight:P}}}])}(),kle=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r,n){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Sle=function(){function e(){ae(this,e)}return se(e,[{key:"update",value:function(r,n){var i=r.x,a=i===void 0?0:i,s=r.y,o=s===void 0?0:s,l=r.width,u=l===void 0?0:l,c=r.height,f=c===void 0?0:c;return{cx:a+u/2,cy:o+f/2,hwidth:u/2,hheight:f/2}}}])}(),Uk=function(){function e(t){ae(this,e),this.eventPhase=e.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ri,this.page=new Ri,this.canvas=new Ri,this.viewport=new Ri,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}return se(e,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(Mr)}}])}(),uz=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.client=new Ri,r.movement=new Ri,r.offset=new Ri,r.global=new Ri,r.screen=new Ri,r}return Xe(t,e),se(t,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(n){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(n)}},{key:"initMouseEvent",value:function(){throw new Error(Mr)}}])}(Uk),Tle=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.width=0,r.height=0,r.isPrimary=!1,r}return Xe(t,e),se(t,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(uz),Mle=function(e){function t(){return ae(this,t),Ye(this,t,arguments)}return Xe(t,e),se(t,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(uz),xs=function(e){function t(r,n){var i;return ae(this,t),i=Ye(this,t,[null]),i.type=r,i.detail=n,Object.assign(i,n),i}return Xe(t,e),se(t)}(Uk),lP=new WeakMap,Nle=function(){function e(){ae(this,e),this.emitter=new Jp}return se(e,[{key:"on",value:function(r,n,i){return this.addEventListener(r,n,i),this}},{key:"addEventListener",value:function(r,n,i){var a=!1,s=!1;if(zv(i))a=i;else if(i){var o=i.capture;a=o===void 0?!1:o;var l=i.once;s=l===void 0?!1:l}a&&(r+="capture"),n=Gt(n)?n:n.handleEvent;var u=Gt(n)?void 0:n;return s?this.emitter.once(r,n,u):this.emitter.on(r,n,u),this}},{key:"off",value:function(r,n,i){return r?this.removeEventListener(r,n,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var r;(r=this.emitter)===null||r===void 0||r.removeAllListeners()}},{key:"removeEventListener",value:function(r,n,i){var a;if(!this.emitter)return this;var s=zv(i)?i:i?.capture;s&&(r+="capture"),n=Gt(n)?n:(a=n)===null||a===void 0?void 0:a.handleEvent;var o=Gt(n)?void 0:n;return this.emitter.off(r,n,o),this}},{key:"emit",value:function(r,n){this.dispatchEvent(new xs(r,n))}},{key:"dispatchEvent",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=lP.get(this);if(!i){var a;this.document?i=this:this.defaultView?i=this.defaultView:i=(a=this.ownerDocument)===null||a===void 0?void 0:a.defaultView,i&&lP.set(this,i)}if(i){if(r.manager=i.getEventService(),!r.manager)return!1;r.defaultPrevented=!1,r.path?r.path.length=0:r.page=[],n||(r.target=this),r.manager.dispatchEvent(r,r.type,n)}else this.emitter.emit(r.type,r);return!r.defaultPrevented}}])}(),Ho=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.shadow=!1,r.ownerDocument=null,r.isConnected=!1,r.baseURI="",r.childNodes=[],r.nodeType=0,r.nodeName="",r.nodeValue=null,r.parentNode=null,r}return Xe(t,e),se(t,[{key:"textContent",get:function(){var n="";this.nodeName===Se.TEXT&&(n+=this.style.text);var i=Ci(this.childNodes),a;try{for(i.s();!(a=i.n()).done;){var s=a.value;s.nodeName===Se.TEXT?n+=s.nodeValue:n+=s.textContent}}catch(o){i.e(o)}finally{i.f()}return n},set:function(n){var i=this;this.childNodes.slice().forEach(function(a){i.removeChild(a)}),this.nodeName===Se.TEXT&&(this.style.text="".concat(n))}},{key:"getRootNode",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(n):n.composed&&this.host?this.host.getRootNode(n):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(n){throw new Error(Mr)}},{key:"lookupNamespaceURI",value:function(n){throw new Error(Mr)}},{key:"lookupPrefix",value:function(n){throw new Error(Mr)}},{key:"normalize",value:function(){throw new Error(Mr)}},{key:"isEqualNode",value:function(n){return this===n}},{key:"isSameNode",value:function(n){return this.isEqualNode(n)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(n){if(n===this)return 0;for(var i=n,a=this,s=[i],o=[a];(l=i.parentNode)!==null&&l!==void 0?l:a.parentNode;){var l;i=i.parentNode?(s.push(i.parentNode),i.parentNode):i,a=a.parentNode?(o.push(a.parentNode),a.parentNode):a}if(i!==a)return t.DOCUMENT_POSITION_DISCONNECTED|t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|t.DOCUMENT_POSITION_PRECEDING;var u=s.length>o.length?s:o,c=u===s?o:s;if(u[u.length-c.length]===c[0])return u===s?t.DOCUMENT_POSITION_CONTAINED_BY|t.DOCUMENT_POSITION_FOLLOWING:t.DOCUMENT_POSITION_CONTAINS|t.DOCUMENT_POSITION_PRECEDING;for(var f=u.length-c.length,h=c.length-1;h>=0;h--){var d=c[h],v=u[f+h];if(v!==d){var p=d.parentNode.childNodes;return p.indexOf(d)<p.indexOf(v)?c===s?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING:u===s?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING}}return t.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(n){return this.contains(n)}},{key:"contains",value:function(n){for(var i=n;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(n){for(var i=this;n>0&&i;)i=i.parentNode,n--;return i}},{key:"forEach",value:function(n){for(var i=[this];i.length>0;){var a=i.pop(),s=n(a);if(s===!1)break;for(var o=a.childNodes.length-1;o>=0;o--)i.push(a.childNodes[o])}}}],[{key:"isNode",value:function(n){return!!n.childNodes}}])}(Nle);Ho.DOCUMENT_POSITION_DISCONNECTED=1;Ho.DOCUMENT_POSITION_PRECEDING=2;Ho.DOCUMENT_POSITION_FOLLOWING=4;Ho.DOCUMENT_POSITION_CONTAINS=8;Ho.DOCUMENT_POSITION_CONTAINED_BY=16;Ho.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var Hk=function(){function e(){ae(this,e)}return se(e,[{key:"getOrCreateCanvas",value:function(r,n){if(this.canvas)return this.canvas;if(r||Ge.offscreenCanvas)this.canvas=r||Ge.offscreenCanvas,this.context=this.canvas.getContext("2d",tt({willReadFrequently:!0},n));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",tt({willReadFrequently:!0},n)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",tt({willReadFrequently:!0},n))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(r,n){return this.context?this.context:(this.getOrCreateCanvas(r,n),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])}(),cz=function(e){return e[e.CAMERA_CHANGED=0]="CAMERA_CHANGED",e[e.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",e[e.NONE=2]="NONE",e}({}),Ale=/\[\s*(.*)=(.*)\s*\]/,Ple=function(){function e(){ae(this,e)}return se(e,[{key:"selectOne",value:function(r,n){var i=this;if(r.startsWith("."))return n.find(function(l){return(l?.classList||[]).indexOf(i.getIdOrClassname(r))>-1});if(r.startsWith("#"))return n.find(function(l){return l.id===i.getIdOrClassname(r)});if(r.startsWith("[")){var a=this.getAttribute(r),s=a.name,o=a.value;return s?n.find(function(l){return n!==l&&(s==="name"?l.name===o:i.attributeToString(l,s)===o)}):null}return n.find(function(l){return n!==l&&l.nodeName===r})}},{key:"selectAll",value:function(r,n){var i=this;if(r.startsWith("."))return n.findAll(function(l){return n!==l&&(l?.classList||[]).indexOf(i.getIdOrClassname(r))>-1});if(r.startsWith("#"))return n.findAll(function(l){return n!==l&&l.id===i.getIdOrClassname(r)});if(r.startsWith("[")){var a=this.getAttribute(r),s=a.name,o=a.value;return s?n.findAll(function(l){return n!==l&&(s==="name"?l.name===o:i.attributeToString(l,s)===o)}):[]}return n.findAll(function(l){return n!==l&&l.nodeName===r})}},{key:"is",value:function(r,n){if(r.startsWith("."))return n.className===this.getIdOrClassname(r);if(r.startsWith("#"))return n.id===this.getIdOrClassname(r);if(r.startsWith("[")){var i=this.getAttribute(r),a=i.name,s=i.value;return a==="name"?n.name===s:this.attributeToString(n,a)===s}return n.nodeName===r}},{key:"getIdOrClassname",value:function(r){return r.substring(1)}},{key:"getAttribute",value:function(r){var n=r.match(Ale),i="",a="";return n&&n.length>2&&(i=n[1].replace(/"/g,""),a=n[2].replace(/"/g,"")),{name:i,value:a}}},{key:"attributeToString",value:function(r,n){if(!r.getAttribute)return"";var i=r.getAttribute(n);return Ze(i)?"":i.toString?i.toString():""}}])}(),Lt=function(e){return e.ATTR_MODIFIED="DOMAttrModified",e.INSERTED="DOMNodeInserted",e.MOUNTED="DOMNodeInsertedIntoDocument",e.REMOVED="removed",e.UNMOUNTED="DOMNodeRemovedFromDocument",e.REPARENT="reparent",e.DESTROY="destroy",e.BOUNDS_CHANGED="bounds-changed",e.CULLED="culled",e}({}),bs=function(e){function t(r,n,i,a,s,o,l,u){var c;return ae(this,t),c=Ye(this,t,[null]),c.relatedNode=n,c.prevValue=i,c.newValue=a,c.attrName=s,c.attrChange=o,c.prevParsedValue=l,c.newParsedValue=u,c.type=r,c}return Xe(t,e),se(t)}(Uk);bs.ADDITION=2;bs.MODIFICATION=1;bs.REMOVAL=3;function uP(e){var t=e.renderable;t&&(t.renderBoundsDirty=!0,t.boundsDirty=!0)}var Ole=new bs(Lt.REPARENT,null,"","","",0,"",""),Cle=uh(),Td=at(),Rle=ft(1,1,1),Lle=gt(),Ile=uh(),lo=at(),lu=gt(),uo=$t(),Dle=at(),Fle=$t(),$le=at(),Oc=at(),al=at(),Md=gt(),cP=$t(),fP=$t(),Nd=$t(),nm={affectChildren:!0},Ble=function(){function e(t){ae(this,e),this.pendingEvents=new Map,this.boundsChangedEvent=new xs(Lt.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=t}return se(e,[{key:"matches",value:function(r,n){return this.runtime.sceneGraphSelector.is(r,n)}},{key:"querySelector",value:function(r,n){return this.runtime.sceneGraphSelector.selectOne(r,n)}},{key:"querySelectorAll",value:function(r,n){return this.runtime.sceneGraphSelector.selectAll(r,n)}},{key:"attach",value:function(r,n,i){var a,s=!1;r.parentNode&&(s=r.parentNode!==n,this.detach(r));var o=r.nodeName===Se.FRAGMENT,l=k2(n);r.parentNode=n;var u=o?r.childNodes:[r];rt(i)?u.forEach(function(d){n.childNodes.splice(i,0,d),d.parentNode=n}):u.forEach(function(d){n.childNodes.push(d),d.parentNode=n});var c=n,f=c.sortable;if((f!=null&&(a=f.sorted)!==null&&a!==void 0&&a.length||f.dirty||r.parsedStyle.zIndex)&&(f.dirtyChildren.indexOf(r)===-1&&f.dirtyChildren.push(r),f.dirty=!0,f.dirtyReason=g2.ADDED),!l){if(o)this.dirtifyFragment(r);else{var h=r.transformable;h&&this.dirtifyWorld(r,h)}s&&r.dispatchEvent(Ole)}}},{key:"detach",value:function(r){var n,i;if(r.parentNode){var a=r.transformable,s=r.parentNode,o=s.sortable;(o!=null&&(n=o.sorted)!==null&&n!==void 0&&n.length||(i=r.style)!==null&&i!==void 0&&i.zIndex)&&(o.dirtyChildren.indexOf(r)===-1&&o.dirtyChildren.push(r),o.dirty=!0,o.dirtyReason=g2.REMOVED);var l=r.parentNode.childNodes.indexOf(r);l>-1&&r.parentNode.childNodes.splice(l,1),a&&this.dirtifyWorld(r,a),r.parentNode=null}}},{key:"getOrigin",value:function(r){return r.getGeometryBounds(),r.transformable.origin}},{key:"setOrigin",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=[n,i,a]);var s=r.transformable;if(!(n[0]===s.origin[0]&&n[1]===s.origin[1]&&n[2]===s.origin[2])){var o=s.origin;o[0]=n[0],o[1]=n[1],o[2]=n[2]||0,this.dirtifyLocal(r,s)}}},{key:"rotate",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=ft(n,i,a));var s=r.transformable;if(r.parentNode===null||!r.parentNode.transformable)this.rotateLocal(r,n);else{var o=uo;Eo(o,n[0],n[1],n[2]);var l=this.getRotation(r),u=this.getRotation(r.parentNode);_o(Nd,u),xu(Nd,Nd),Bi(o,Nd,o),Bi(s.localRotation,o,l),ju(s.localRotation,s.localRotation),this.dirtifyLocal(r,s)}}},{key:"rotateLocal",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=ft(n,i,a));var s=r.transformable;Eo(fP,n[0],n[1],n[2]),Bv(s.localRotation,s.localRotation,fP),this.dirtifyLocal(r,s)}},{key:"setEulerAngles",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=ft(n,i,a));var s=r.transformable;if(r.parentNode===null||!r.parentNode.transformable)this.setLocalEulerAngles(r,n);else{Eo(s.localRotation,n[0],n[1],n[2]);var o=this.getRotation(r.parentNode);_o(cP,xu(uo,o)),Bv(s.localRotation,s.localRotation,cP),this.dirtifyLocal(r,s)}}},{key:"setLocalEulerAngles",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof n=="number"&&(n=ft(n,i,a));var o=r.transformable;Eo(o.localRotation,n[0],n[1],n[2]),s&&this.dirtifyLocal(r,o)}},{key:"translateLocal",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=ft(n,i,a));var s=r.transformable;as(n,Td)||(kB(n,n,s.localRotation),Fi(s.localPosition,s.localPosition,n),this.dirtifyLocal(r,s))}},{key:"setPosition",value:function(r,n){var i,a=r.transformable;if(al[0]=n[0],al[1]=n[1],al[2]=(i=n[2])!==null&&i!==void 0?i:0,!as(this.getPosition(r),al)){if(Xr(a.position,al),r.parentNode===null||!r.parentNode.transformable)Xr(a.localPosition,al);else{var s=r.parentNode.transformable;Qs(Md,s.worldTransform),fn(Md,Md),zr(a.localPosition,al,Md)}this.dirtifyLocal(r,a)}}},{key:"setLocalPosition",value:function(r,n){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=r.transformable;Oc[0]=n[0],Oc[1]=n[1],Oc[2]=(i=n[2])!==null&&i!==void 0?i:0,!as(s.localPosition,Oc)&&(Xr(s.localPosition,Oc),a&&this.dirtifyLocal(r,s))}},{key:"scaleLocal",value:function(r,n){var i,a=r.transformable;wB(a.localScale,a.localScale,Jt(lo,n[0],n[1],(i=n[2])!==null&&i!==void 0?i:1)),this.dirtifyLocal(r,a)}},{key:"setLocalScale",value:function(r,n){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=r.transformable;Jt(lo,n[0],n[1],(i=n[2])!==null&&i!==void 0?i:s.localScale[2]),!as(lo,s.localScale)&&(Xr(s.localScale,lo),a&&this.dirtifyLocal(r,s))}},{key:"translate",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof n=="number"&&(n=Jt(lo,n,i,a)),!as(n,Td)&&(Fi(lo,this.getPosition(r),n),this.setPosition(r,lo))}},{key:"setRotation",value:function(r,n,i,a,s){var o=r.transformable;if(typeof n=="number"&&(n=TB(n,i,a,s)),r.parentNode===null||!r.parentNode.transformable)this.setLocalRotation(r,n);else{var l=this.getRotation(r.parentNode);_o(uo,l),xu(uo,uo),Bi(o.localRotation,uo,n),ju(o.localRotation,o.localRotation),this.dirtifyLocal(r,o)}}},{key:"setLocalRotation",value:function(r,n,i,a,s){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof n=="number"&&(n=$v(uo,n,i,a,s));var l=r.transformable;_o(l.localRotation,n),o&&this.dirtifyLocal(r,l)}},{key:"setLocalSkew",value:function(r,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof n=="number"&&(n=NB(Ile,n,i));var s=r.transformable;MB(s.localSkew,n),a&&this.dirtifyLocal(r,s)}},{key:"dirtifyLocal",value:function(r,n){k2(r)||n.localDirtyFlag||(n.localDirtyFlag=!0,n.dirtyFlag||this.dirtifyWorld(r,n))}},{key:"dirtifyWorld",value:function(r,n){n.dirtyFlag||this.unfreezeParentToRoot(r),this.dirtifyWorldInternal(r,n),this.dirtifyToRoot(r,!0)}},{key:"dirtifyFragment",value:function(r){var n=r.transformable;n&&(n.frozen=!1,n.dirtyFlag=!0,n.localDirtyFlag=!0);var i=r.renderable;i&&(i.renderBoundsDirty=!0,i.boundsDirty=!0,i.dirty=!0);for(var a=r.childNodes.length,s=0;s<a;s++)this.dirtifyFragment(r.childNodes[s]);r.nodeName===Se.FRAGMENT&&this.pendingEvents.set(r,!1)}},{key:"triggerPendingEvents",value:function(){var r=this,n=new Set,i=function(s,o){!s.isConnected||n.has(s)||s.nodeName===Se.FRAGMENT||(r.boundsChangedEvent.detail=o,r.boundsChangedEvent.target=s,s.isMutationObserved?s.dispatchEvent(r.boundsChangedEvent):s.ownerDocument.defaultView.dispatchEvent(r.boundsChangedEvent,!0),n.add(s))};this.pendingEvents.forEach(function(a,s){s.nodeName!==Se.FRAGMENT&&(nm.affectChildren=a,a?s.forEach(function(o){i(o,nm)}):i(s,nm))}),n.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"dirtifyToRoot",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=r;for(i.renderable&&(i.renderable.dirty=!0);i;)uP(i),i=i.parentNode;n&&r.forEach(function(a){uP(a)}),this.informDependentDisplayObjects(r),this.pendingEvents.set(r,n)}},{key:"updateDisplayObjectDependency",value:function(r,n,i,a){if(n&&n!==i){var s=this.displayObjectDependencyMap.get(n);if(s&&s[r]){var o=s[r].indexOf(a);s[r].splice(o,1)}}if(i){var l=this.displayObjectDependencyMap.get(i);l||(this.displayObjectDependencyMap.set(i,{}),l=this.displayObjectDependencyMap.get(i)),l[r]||(l[r]=[]),l[r].push(a)}}},{key:"informDependentDisplayObjects",value:function(r){var n=this,i=this.displayObjectDependencyMap.get(r);i&&Object.keys(i).forEach(function(a){i[a].forEach(function(s){n.dirtifyToRoot(s,!0),s.dispatchEvent(new bs(Lt.ATTR_MODIFIED,s,n,n,a,bs.MODIFICATION,n,n)),s.isCustomElement&&s.isConnected&&s.attributeChangedCallback&&s.attributeChangedCallback(a,n,n)})})}},{key:"getPosition",value:function(r){var n=r.transformable;return Il(n.position,this.getWorldTransform(r,n))}},{key:"getRotation",value:function(r){var n=r.transformable;return Dl(n.rotation,this.getWorldTransform(r,n))}},{key:"getScale",value:function(r){var n=r.transformable;return ps(n.scaling,this.getWorldTransform(r,n))}},{key:"getWorldTransform",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.transformable;return!n.localDirtyFlag&&!n.dirtyFlag||(r.parentNode&&r.parentNode.transformable&&this.getWorldTransform(r.parentNode),this.sync(r,n)),n.worldTransform}},{key:"getLocalPosition",value:function(r){return r.transformable.localPosition}},{key:"getLocalRotation",value:function(r){return r.transformable.localRotation}},{key:"getLocalScale",value:function(r){return r.transformable.localScale}},{key:"getLocalSkew",value:function(r){return r.transformable.localSkew}},{key:"calcLocalTransform",value:function(r){var n=r.localSkew[0]!==0||r.localSkew[1]!==0;if(n){Us(r.localTransform,r.localRotation,r.localPosition,ft(1,1,1),r.origin),(r.localSkew[0]!==0||r.localSkew[1]!==0)&&(qi(lu),lu[4]=Math.tan(r.localSkew[0]),lu[1]=Math.tan(r.localSkew[1]),Nr(r.localTransform,r.localTransform,lu));var i=Us(lu,$v(uo,0,0,0,1),Jt(lo,1,1,1),r.localScale,r.origin);Nr(r.localTransform,r.localTransform,i)}else{var a=r.localTransform,s=r.localPosition,o=r.localRotation,l=r.localScale,u=r.origin,c=s[0]!==0||s[1]!==0||s[2]!==0,f=o[3]!==1||o[0]!==0||o[1]!==0||o[2]!==0,h=l[0]!==1||l[1]!==1||l[2]!==1,d=u[0]!==0||u[1]!==0||u[2]!==0;!f&&!h&&!d?c?Qn(a,s):qi(a):Us(a,o,s,l,u)}}},{key:"getLocalTransform",value:function(r){var n=r.transformable;return n.localDirtyFlag&&(this.calcLocalTransform(n),n.localDirtyFlag=!1),n.localTransform}},{key:"setLocalTransform",value:function(r,n){var i=Il(Dle,n),a=Dl(Fle,n),s=ps($le,n);this.setLocalScale(r,s,!1),this.setLocalPosition(r,i,!1),this.setLocalRotation(r,a,void 0,void 0,void 0,!1),this.dirtifyLocal(r,r.transformable)}},{key:"resetLocalTransform",value:function(r){this.setLocalScale(r,Rle,!1),this.setLocalPosition(r,Td,!1),this.setLocalEulerAngles(r,Td,void 0,void 0,!1),this.setLocalSkew(r,Cle,void 0,!1),this.dirtifyLocal(r,r.transformable)}},{key:"getTransformedGeometryBounds",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0,a=this.getGeometryBounds(r,n);if(!rn.isEmpty(a)){var s=i||new rn;return s.setFromTransformedAABB(a,this.getWorldTransform(r)),s}return null}},{key:"getGeometryBounds",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=r,a=i.geometry;a.dirty&&Ge.styleValueRegistry.updateGeometry(r);var s=n?a.renderBounds:a.contentBounds||null;return s||new rn}},{key:"getBounds",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=r,s=a.renderable;if(!s.boundsDirty&&!i&&s.bounds)return s.bounds;if(!s.renderBoundsDirty&&i&&s.renderBounds)return s.renderBounds;var o=i?s.renderBounds:s.bounds,l=this.getTransformedGeometryBounds(r,i,o),u=r.childNodes;if(u.forEach(function(h){var d=n.getBounds(h,i);d&&(l?l.add(d):(l=o||new rn,l.update(d.center,d.halfExtents)))}),l||(l=new rn),i){var c=iz(r);if(c){var f=c.parsedStyle.clipPath.getBounds(i);l?f&&(l=f.intersection(l)):l.update(f.center,f.halfExtents)}}return i?(s.renderBounds=l,s.renderBoundsDirty=!1):(s.bounds=l,s.boundsDirty=!1),l}},{key:"getLocalBounds",value:function(r){if(r.parentNode){var n=Lle;r.parentNode.transformable&&(n=fn(lu,this.getWorldTransform(r.parentNode)));var i=this.getBounds(r);if(!rn.isEmpty(i)){var a=new rn;return a.setFromTransformedAABB(i,n),a}}return this.getBounds(r)}},{key:"getBoundingClientRect",value:function(r){var n,i,a=this.getGeometryBounds(r);rn.isEmpty(a)||(i=new rn,i.setFromTransformedAABB(a,this.getWorldTransform(r)));var s=(n=r.ownerDocument)===null||n===void 0||(n=n.defaultView)===null||n===void 0?void 0:n.getContextService().getBoundingClientRect();if(i){var o=i.getMin(),l=Je(o,2),u=l[0],c=l[1],f=i.getMax(),h=Je(f,2),d=h[0],v=h[1];return new Zu(u+(s?.left||0),c+(s?.top||0),d-u,v-c)}return new Zu(s?.left||0,s?.top||0,0,0)}},{key:"dirtifyWorldInternal",value:function(r,n){var i=this;if(!n.dirtyFlag){n.dirtyFlag=!0,n.frozen=!1,r.childNodes.forEach(function(o){var l=o.transformable;l.dirtyFlag||i.dirtifyWorldInternal(o,l)});var a=r,s=a.renderable;s&&(s.renderBoundsDirty=!0,s.boundsDirty=!0,s.dirty=!0)}}},{key:"syncHierarchy",value:function(r){var n=r.transformable;if(!n.frozen){n.frozen=!0,(n.localDirtyFlag||n.dirtyFlag)&&this.sync(r,n);for(var i=r.childNodes,a=0;a<i.length;a++)this.syncHierarchy(i[a])}}},{key:"sync",value:function(r,n){if(n.localDirtyFlag&&(this.calcLocalTransform(n),n.localDirtyFlag=!1),n.dirtyFlag){var i=r.parentNode,a=i&&i.transformable;i===null||!a?Qs(n.worldTransform,n.localTransform):Nr(n.worldTransform,a.worldTransform,n.localTransform),n.dirtyFlag=!1}}},{key:"unfreezeParentToRoot",value:function(r){for(var n=r.parentNode;n;){var i=n.transformable;i&&(i.frozen=!1),n=n.parentNode}}}])}(),sl={MetricsString:"|ÉqÅ",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},hP=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,zle=/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/,Gle=/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/,qle=/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/,jle=/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/,Wle=/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/,Vle=/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/,Ule=/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/,Hle=/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/,Yle=new RegExp("".concat(zle.source,"|").concat(qle.source,"|").concat(Wle.source,"|").concat(Ule.source)),Xle=new RegExp("".concat(Gle.source,"|").concat(jle.source,"|").concat(Vle.source,"|").concat(Hle.source)),Kle=function(){function e(t){var r=this;ae(this,e),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(n,i){return r.isBreakingSpace(i)?!1:!!(n&&(Xle.exec(i)||Yle.exec(n)))},this.trimByKinsokuShorui=function(n){var i=it(n),a=i[i.length-2];if(!a)return n;var s=a[a.length-1];return i[i.length-2]=a.slice(0,-1),i[i.length-1]=s+i[i.length-1],i},this.runtime=t}return se(e,[{key:"measureFont",value:function(r,n){if(this.fontMetricsCache[r])return this.fontMetricsCache[r];var i={ascent:0,descent:0,fontSize:0},a=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(n),s=this.runtime.offscreenCanvasCreator.getOrCreateContext(n,{willReadFrequently:!0});s.font=r;var o=sl.MetricsString+sl.BaselineSymbol,l=Math.ceil(s.measureText(o).width),u=Math.ceil(s.measureText(sl.BaselineSymbol).width),c=sl.HeightMultiplier*u;u=u*sl.BaselineMultiplier|0,a.width=l,a.height=c,s.fillStyle="#f00",s.fillRect(0,0,l,c),s.font=r,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(o,0,u);var f=s.getImageData(0,0,l||1,c||1).data,h=f.length,d=l*4,v=0,p=0,g=!1;for(v=0;v<u;++v){for(var m=0;m<d;m+=4)if(f[p+m]!==255){g=!0;break}if(!g)p+=d;else break}for(i.ascent=u-v,p=h-d,g=!1,v=c;v>u;--v){for(var y=0;y<d;y+=4)if(f[p+y]!==255){g=!0;break}if(!g)p-=d;else break}return i.descent=v-u,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[r]=i,i}},{key:"measureText",value:function(r,n,i){var a=n.fontSize,s=a===void 0?16:a,o=n.wordWrap,l=o===void 0?!1:o,u=n.lineHeight,c=n.lineWidth,f=c===void 0?1:c,h=n.textBaseline,d=h===void 0?"alphabetic":h,v=n.textAlign,p=v===void 0?"start":v,g=n.letterSpacing,m=g===void 0?0:g,y=n.textPath;n.textPathSide,n.textPathStartOffset;var b=n.leading,_=b===void 0?0:b,x=ule(n),E=this.measureFont(x,i);E.fontSize===0&&(E.fontSize=s,E.ascent=s);var w=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);w.font=x,n.isOverflowing=!1;var S=l?this.wordWrap(r,n,i):r,A=S.split(/(?:\r\n|\r|\n)/),P=new Array(A.length),O=0;if(y){y.getTotalLength();for(var C=0;C<A.length;C++)w.measureText(A[C]).width+(A[C].length-1)*m}else{for(var L=0;L<A.length;L++){var I=w.measureText(A[L]).width+(A[L].length-1)*m;P[L]=I,O=Math.max(O,I)}var F=O+f,U=u||E.fontSize+f,G=Math.max(U,E.fontSize+f)+(A.length-1)*(U+_);U+=_;var z=0;return d==="middle"?z=-G/2:d==="bottom"||d==="alphabetic"||d==="ideographic"?z=-G:(d==="top"||d==="hanging")&&(z=0),{font:x,width:F,height:G,lines:A,lineWidths:P,lineHeight:U,maxLineWidth:O,fontProperties:E,lineMetrics:P.map(function(Z,ge){var xe=0;return p==="center"||p==="middle"?xe-=Z/2:(p==="right"||p==="end")&&(xe-=Z),new Zu(xe-f/2,z+ge*U,Z+f,U)})}}}},{key:"wordWrap",value:function(r,n,i){var a=this,s=this,o=n.wordWrapWidth,l=o===void 0?0:o,u=n.letterSpacing,c=u===void 0?0:u,f=n.maxLines,h=f===void 0?1/0:f,d=n.textOverflow,v=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),p=l+c,g="";d==="ellipsis"?g="...":d&&d!=="clip"&&(g=d);var m=Array.from(r),y=[],b=0,_=0,x=-1,E={},w=function(z){return a.getFromCache(z,c,E,v)},S=w(g);function A(G,z,Z,ge){for(;w(G)<ge&&z<m.length-1&&!s.isNewline(m[z+1]);)z+=1,G+=m[z];for(;w(G)>ge&&z>=Z;)z-=1,G=G.slice(0,-1);return{lineTxt:G,txtLastCharIndex:z}}function P(G,z){if(!(S<=0||S>p)){if(!y[G]){y[G]=g;return}var Z=A(y[G],z,x+1,p-S);y[G]=Z.lineTxt+g}}for(var O=0;O<m.length;O++){var C=m[O],L=m[O-1],I=m[O+1],F=w(C);if(this.isNewline(C)){if(b+1>=h){n.isOverflowing=!0,O<m.length-1&&P(b,O-1);break}x=O-1,b+=1,_=0,y[b]="";continue}if(_>0&&_+F>p){var U=A(y[b],O-1,x+1,p);if(U.txtLastCharIndex!==O-1){if(y[b]=U.lineTxt,U.txtLastCharIndex===m.length-1)break;O=U.txtLastCharIndex+1,C=m[O],L=m[O-1],I=m[O+1],F=w(C)}if(b+1>=h){n.isOverflowing=!0,P(b,O-1);break}if(x=O-1,b+=1,_=0,y[b]="",this.isBreakingSpace(C))continue;this.canBreakInLastChar(C)||(y=this.trimToBreakable(y),_=this.sumTextWidthByCache(y[b]||"",w)),this.shouldBreakByKinsokuShorui(C,I)&&(y=this.trimByKinsokuShorui(y),_+=w(L||""))}_+=F,y[b]=(y[b]||"")+C}return y.join(`
`)}},{key:"isBreakingSpace",value:function(r){return typeof r!="string"?!1:sl.BreakingSpaces.indexOf(r.charCodeAt(0))>=0}},{key:"isNewline",value:function(r){return typeof r!="string"?!1:sl.Newlines.indexOf(r.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(r){var n=it(r),i=n[n.length-2],a=this.findBreakableIndex(i);if(a===-1||!i)return n;var s=i.slice(a,a+1),o=this.isBreakingSpace(s),l=a+1,u=a+(o?0:1);return n[n.length-1]+=i.slice(l,i.length),n[n.length-2]=i.slice(0,u),n}},{key:"canBreakInLastChar",value:function(r){return!(r&&hP.test(r))}},{key:"sumTextWidthByCache",value:function(r,n){return r.split("").reduce(function(i,a){return i+n(a)},0)}},{key:"findBreakableIndex",value:function(r){for(var n=r.length-1;n>=0;n--)if(!hP.test(r[n]))return n;return-1}},{key:"getFromCache",value:function(r,n,i,a){var s=i[r];if(typeof s!="number"){var o=r.length*n,l=a.measureText(r);s=l.width+o,i[r]=s}return s}}])}(),Ge={},Zle=function(e){var t=new Ele,r=new xle;return e={},Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(e,Se.FRAGMENT,null),Se.CIRCLE,new mle),Se.ELLIPSE,new yle),Se.RECT,t),Se.IMAGE,t),Se.GROUP,new kle),Se.LINE,new ble),Se.TEXT,new _le(Ge)),Se.POLYLINE,r),Se.POLYGON,r),Me(Me(Me(e,Se.PATH,new wle),Se.HTML,new Sle),Se.MESH,null)}(),Qle=function(e){var t=new Roe,r=new _2;return e={},Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(e,Fe.PERCENTAGE,null),Fe.NUMBER,new $oe),Fe.ANGLE,new Ooe),Fe.DEFINED_PATH,new Coe),Fe.PAINT,t),Fe.COLOR,t),Fe.FILTER,new Loe),Fe.LENGTH,r),Fe.LENGTH_PERCENTAGE,r),Fe.LENGTH_PERCENTAGE_12,new Ioe),Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(e,Fe.LENGTH_PERCENTAGE_14,new Doe),Fe.COORDINATE,new _2),Fe.OFFSET_DISTANCE,new Boe),Fe.OPACITY_VALUE,new zoe),Fe.PATH,new Goe),Fe.LIST_OF_POINTS,new qoe),Fe.SHADOW_BLUR,new joe),Fe.TEXT,new Woe),Fe.TEXT_TRANSFORM,new Voe),Fe.TRANSFORM,new vle),Me(Me(Me(e,Fe.TRANSFORM_ORIGIN,new ple),Fe.Z_INDEX,new gle),Fe.MARKER,new Foe)}(),Jle=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};Ge.CameraContribution=cse;Ge.AnimationTimeline=null;Ge.EasingFunction=null;Ge.offscreenCanvasCreator=new Hk;Ge.sceneGraphSelector=new Ple;Ge.sceneGraphService=new Ble(Ge);Ge.textService=new Kle(Ge);Ge.geometryUpdaterFactory=Zle;Ge.CSSPropertySyntaxFactory=Qle;Ge.styleValueRegistry=new Aoe(Ge);Ge.layoutRegistry=null;Ge.globalThis=Jle();Ge.enableStyleSyntax=!0;Ge.enableSizeAttenuation=!1;var eue=0,dP=new bs(Lt.INSERTED,null,"","","",0,"",""),vP=new bs(Lt.REMOVED,null,"","","",0,"",""),tue=new xs(Lt.DESTROY),rue=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.entity=eue++,r.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},r.cullable={strategy:fse.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},r.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},r.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},r.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},r.rBushNode={aabb:void 0},r.namespaceURI="g",r.scrollLeft=0,r.scrollTop=0,r.clientTop=0,r.clientLeft=0,r.destroyed=!1,r.style={},r.computedStyle={},r.parsedStyle={},r.attributes={},r}return Xe(t,e),se(t,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(n){this.setAttribute("class",n)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(n){return n!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var n=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[n+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var n=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[n-1]||null}return null}},{key:"cloneNode",value:function(n){throw new Error(Mr)}},{key:"appendChild",value:function(n,i){var a;if(n.destroyed)throw new Error(Qae);return Ge.sceneGraphService.attach(n,this,i),(a=this.ownerDocument)!==null&&a!==void 0&&a.defaultView&&(!k2(this)&&n.nodeName===Se.FRAGMENT?this.ownerDocument.defaultView.mountFragment(n):this.ownerDocument.defaultView.mountChildren(n)),this.isMutationObserved&&(dP.relatedNode=this,n.dispatchEvent(dP)),n}},{key:"insertBefore",value:function(n,i){if(!i)this.appendChild(n);else{n.parentElement&&n.parentElement.removeChild(n);var a=this.childNodes.indexOf(i);a===-1?this.appendChild(n):this.appendChild(n,a)}return n}},{key:"replaceChild",value:function(n,i){var a=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(n,a),i}},{key:"removeChild",value:function(n){var i;return vP.relatedNode=this,n.dispatchEvent(vP),(i=n.ownerDocument)!==null&&i!==void 0&&i.defaultView&&n.ownerDocument.defaultView.unmountChildren(n),Ge.sceneGraphService.detach(n),n}},{key:"removeChildren",value:function(){for(var n=this.childNodes.length-1;n>=0;n--){var i=this.childNodes[n];this.removeChild(i)}}},{key:"destroyChildren",value:function(){for(var n=this.childNodes.length-1;n>=0;n--){var i=this.childNodes[n];i.childNodes.length>0&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(n){return Ge.sceneGraphService.matches(n,this)}},{key:"getElementById",value:function(n){return Ge.sceneGraphService.querySelector("#".concat(n),this)}},{key:"getElementsByName",value:function(n){return Ge.sceneGraphService.querySelectorAll('[name="'.concat(n,'"]'),this)}},{key:"getElementsByClassName",value:function(n){return Ge.sceneGraphService.querySelectorAll(".".concat(n),this)}},{key:"getElementsByTagName",value:function(n){return Ge.sceneGraphService.querySelectorAll(n,this)}},{key:"querySelector",value:function(n){return Ge.sceneGraphService.querySelector(n,this)}},{key:"querySelectorAll",value:function(n){return Ge.sceneGraphService.querySelectorAll(n,this)}},{key:"closest",value:function(n){var i=this;do{if(Ge.sceneGraphService.matches(n,i))return i;i=i.parentElement}while(i!==null);return null}},{key:"find",value:function(n){var i=this,a=null;return this.forEach(function(s){return s!==i&&n(s)?(a=s,!1):!0}),a}},{key:"findAll",value:function(n){var i=this,a=[];return this.forEach(function(s){s!==i&&n(s)&&a.push(s)}),a}},{key:"after",value:function(){var n=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];s.forEach(function(l,u){var c;return(c=n.parentNode)===null||c===void 0?void 0:c.appendChild(l,i+u+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var n,i=this.parentNode.childNodes.indexOf(this),a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var l=s[0],u=s.slice(1);this.parentNode.appendChild(l,i),(n=l).after.apply(n,it(u))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.forEach(function(o){return n.appendChild(o)})}},{key:"prepend",value:function(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.forEach(function(o,l){return n.appendChild(o,l)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){this.destroyChildren(),this.dispatchEvent(tue),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return Ge.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return Ge.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return Ge.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return Ge.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return Ge.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(n){if(typeof n!="symbol"){var i=this.attributes[n];return i}}},{key:"hasAttribute",value:function(n){return this.getAttributeNames().includes(n)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(n){this.setAttribute(n,null),delete this.attributes[n]}},{key:"setAttribute",value:function(n,i,a,s){this.attributes[n]=i}},{key:"getAttributeNS",value:function(n,i){throw new Error(Mr)}},{key:"getAttributeNode",value:function(n){throw new Error(Mr)}},{key:"getAttributeNodeNS",value:function(n,i){throw new Error(Mr)}},{key:"hasAttributeNS",value:function(n,i){throw new Error(Mr)}},{key:"removeAttributeNS",value:function(n,i){throw new Error(Mr)}},{key:"removeAttributeNode",value:function(n){throw new Error(Mr)}},{key:"setAttributeNS",value:function(n,i,a){throw new Error(Mr)}},{key:"setAttributeNode",value:function(n){throw new Error(Mr)}},{key:"setAttributeNodeNS",value:function(n){throw new Error(Mr)}},{key:"toggleAttribute",value:function(n,i){throw new Error(Mr)}}])}(Ho);function It(e){return!!(e!=null&&e.nodeName)}var nue=Ge.globalThis.Proxy?Ge.globalThis.Proxy:function(){},Ns=new bs(Lt.ATTR_MODIFIED,null,null,null,null,bs.MODIFICATION,null,null),Cc=at(),iue=$t(),Pr=function(e){function t(r){var n;return ae(this,t),n=Ye(this,t),n.isCustomElement=!1,n.isMutationObserved=!1,n.activeAnimations=[],n.config=r,n.id=r.id||"",n.name=r.name||"",(r.className||r.class)&&(n.className=r.className||r.class),n.nodeName=r.type||Se.GROUP,r.initialParsedStyle&&Object.assign(n.parsedStyle,r.initialParsedStyle),n.initAttributes(r.style),Ge.enableStyleSyntax&&(n.style=new nue({setProperty:function(a,s){n.setAttribute(a,s)},getPropertyValue:function(a){return n.getAttribute(a)},removeProperty:function(a){n.removeAttribute(a)},item:function(){return""}},{get:function(a,s){return a[s]!==void 0?a[s]:n.getAttribute(s)},set:function(a,s,o){return n.setAttribute(s,o),!0}})),n}return Xe(t,e),se(t,[{key:"destroy",value:function(){jv(t,"destroy",this)([]),this.getAnimations().forEach(function(n){n.cancel()})}},{key:"cloneNode",value:function(n,i){var a=tt({},this.attributes);for(var s in a){var o=a[s];It(o)&&s!=="clipPath"&&s!=="offsetPath"&&s!=="textPath"&&(a[s]=o.cloneNode(n)),i&&(a[s]=i(s,o))}var l=new this.constructor(tt(tt({},this.config),{},{style:a}));return l.setLocalTransform(this.getLocalTransform()),n&&this.children.forEach(function(u){if(!u.style.isMarker){var c=u.cloneNode(n);l.appendChild(c)}}),l}},{key:"initAttributes",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={forceUpdateGeometry:!0};Ge.styleValueRegistry.processProperties(this,n,i),this.renderable.dirty=!0}},{key:"setAttribute",value:function(n,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;ct(i)||(a||i!==this.attributes[n])&&(this.internalSetAttribute(n,i,{memoize:s}),jv(t,"setAttribute",this)([n,i]))}},{key:"internalSetAttribute",value:function(n,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.renderable,o=this.attributes[n],l=this.parsedStyle[n];Ge.styleValueRegistry.processProperties(this,Me({},n,i),a),s.dirty=!0;var u=this.parsedStyle[n];if(this.isConnected&&(Ns.relatedNode=this,Ns.prevValue=o,Ns.newValue=i,Ns.attrName=n,Ns.prevParsedValue=l,Ns.newParsedValue=u,this.isMutationObserved?this.dispatchEvent(Ns):(Ns.target=this,this.ownerDocument.defaultView.dispatchEvent(Ns,!0))),this.isCustomElement&&this.isConnected||!this.isCustomElement){var c,f;(c=(f=this).attributeChangedCallback)===null||c===void 0||c.call(f,n,o,i,l,u)}}},{key:"getBBox",value:function(){var n=this.getBounds(),i=n.getMin(),a=Je(i,2),s=a[0],o=a[1],l=n.getMax(),u=Je(l,2),c=u[0],f=u[1];return new Zu(s,o,c-s,f-o)}},{key:"setOrigin",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ge.sceneGraphService.setOrigin(this,ui(n,i,a,!1)),this}},{key:"getOrigin",value:function(){return Ge.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ge.sceneGraphService.setPosition(this,ui(n,i,a,!1)),this}},{key:"setLocalPosition",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ge.sceneGraphService.setLocalPosition(this,ui(n,i,a,!1)),this}},{key:"translate",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ge.sceneGraphService.translate(this,ui(n,i,a,!1)),this}},{key:"translateLocal",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ge.sceneGraphService.translateLocal(this,ui(n,i,a,!1)),this}},{key:"getPosition",value:function(){return Ge.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return Ge.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(n,i,a){return this.scaleLocal(n,i,a)}},{key:"scaleLocal",value:function(n,i,a){return typeof n=="number"&&(i=i||n,a=a||n,n=ui(n,i,a,!1)),Ge.sceneGraphService.scaleLocal(this,n),this}},{key:"setLocalScale",value:function(n,i,a){return typeof n=="number"&&(i=i||n,a=a||n,n=ui(n,i,a,!1)),Ge.sceneGraphService.setLocalScale(this,n),this}},{key:"getLocalScale",value:function(){return Ge.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return Ge.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var n=X0(Cc,Ge.sceneGraphService.getWorldTransform(this)),i=Je(n,3),a=i[2];return Zi(a)}},{key:"getLocalEulerAngles",value:function(){var n=X0(Cc,Ge.sceneGraphService.getLocalRotation(this)),i=Je(n,3),a=i[2];return Zi(a)}},{key:"setEulerAngles",value:function(n){return Ge.sceneGraphService.setEulerAngles(this,0,0,n),this}},{key:"setLocalEulerAngles",value:function(n){return Ge.sceneGraphService.setLocalEulerAngles(this,0,0,n),this}},{key:"rotateLocal",value:function(n,i,a){return Ze(i)&&Ze(a)?Ge.sceneGraphService.rotateLocal(this,0,0,n):Ge.sceneGraphService.rotateLocal(this,n,i,a),this}},{key:"rotate",value:function(n,i,a){return Ze(i)&&Ze(a)?Ge.sceneGraphService.rotate(this,0,0,n):Ge.sceneGraphService.rotate(this,n,i,a),this}},{key:"setRotation",value:function(n,i,a,s){return Ge.sceneGraphService.setRotation(this,n,i,a,s),this}},{key:"setLocalRotation",value:function(n,i,a,s){return Ge.sceneGraphService.setLocalRotation(this,n,i,a,s),this}},{key:"setLocalSkew",value:function(n,i){return Ge.sceneGraphService.setLocalSkew(this,n,i),this}},{key:"getRotation",value:function(){return Ge.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return Ge.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return Ge.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return Ge.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return Ge.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(n){return Ge.sceneGraphService.setLocalTransform(this,n),this}},{key:"resetLocalTransform",value:function(){Ge.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(n,i){var a,s=(a=this.ownerDocument)===null||a===void 0?void 0:a.timeline;return s?s.play(this,n,i):null}},{key:"isVisible",value:function(){var n;return((n=this.parsedStyle)===null||n===void 0?void 0:n.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(n){this.style.pointerEvents=n?"auto":"none"}},{key:"isInteractive",value:function(){var n;return((n=this.parsedStyle)===null||n===void 0?void 0:n.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,it(this.parentNode.children.map(function(n){return Number(n.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,it(this.parentNode.children.map(function(n){return Number(n.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=a[0],l=a[1];return o?gs(o)?(Object.keys(o).forEach(function(u){n.setAttribute(u,o[u])}),this):a.length===2?(this.setAttribute(o,l),this):this.attributes[o]:this.attributes}},{key:"getMatrix",value:function(n){var i=n||this.getWorldTransform(),a=Il(Cc,i),s=Je(a,2),o=s[0],l=s[1],u=ps(Cc,i),c=Je(u,2),f=c[0],h=c[1],d=Dl(iue,i),v=X0(Cc,d),p=Je(v,3),g=p[0],m=p[2];return ise(g||m,o,l,f,h)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(n){var i=DA(n),a=Je(i,5),s=a[0],o=a[1],l=a[2],u=a[3],c=a[4];this.setEulerAngles(c).setPosition(s,o).setLocalScale(l,u)}},{key:"setLocalMatrix",value:function(n){var i=DA(n),a=Je(i,5),s=a[0],o=a[1],l=a[2],u=a[3],c=a[4];this.setLocalEulerAngles(c).setLocalPosition(s,o).setLocalScale(l,u)}},{key:"show",value:function(){this.forEach(function(n){n.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(n){n.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(n){return this.children[n]||null}},{key:"add",value:function(n,i){return this.appendChild(n,i)}},{key:"set",value:function(n,i){this.config[n]=i}},{key:"get",value:function(n){return this.config[n]}},{key:"moveTo",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(n,i,a),this}},{key:"move",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(n,i,a),this}},{key:"setZIndex",value:function(n){return this.style.zIndex=n,this}}])}(rue);Pr.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var aue=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ae(this,t),Ye(this,t,[tt({type:Se.CIRCLE},r)])}return Xe(t,e),se(t)}(Pr);aue.PARSED_STYLE_LIST=new Set([].concat(it(Pr.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var sue=["style"],oue=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=Ei(n,sue);return ae(this,t),r=Ye(this,t,[tt({style:i},a)]),r.isCustomElement=!0,r}return Xe(t,e),se(t)}(Pr);oue.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var lue=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ae(this,t),Ye(this,t,[tt({type:Se.ELLIPSE},r)])}return Xe(t,e),se(t)}(Pr);lue.PARSED_STYLE_LIST=new Set([].concat(it(Pr.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var uue=function(e){function t(){return ae(this,t),Ye(this,t,[{type:Se.FRAGMENT}])}return Xe(t,e),se(t)}(Pr);uue.PARSED_STYLE_LIST=new Set(["class","className"]);var cue=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ae(this,t),Ye(this,t,[tt({type:Se.GROUP},r)])}return Xe(t,e),se(t)}(Pr);cue.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var fue=["style"],hue=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=Ei(n,fue);return ae(this,t),r=Ye(this,t,[tt({type:Se.HTML,style:i},a)]),r.cullable.enable=!1,r}return Xe(t,e),se(t,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var n=fn(gt(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!rn.isEmpty(i)){var a=new rn;return a.setFromTransformedAABB(i,n),a}}return this.getBounds()}}])}(Pr);hue.PARSED_STYLE_LIST=new Set([].concat(it(Pr.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var due=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ae(this,t),Ye(this,t,[tt({type:Se.IMAGE},r)])}return Xe(t,e),se(t)}(Pr);due.PARSED_STYLE_LIST=new Set([].concat(it(Pr.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var vue=["style"],pue=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=Ei(n,vue);ae(this,t),r=Ye(this,t,[tt({type:Se.LINE,style:tt({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},i)},a)]),r.markerStartAngle=0,r.markerEndAngle=0;var s=r.parsedStyle,o=s.markerStart,l=s.markerEnd;return o&&It(o)&&(r.markerStartAngle=o.getLocalEulerAngles(),r.appendChild(o)),l&&It(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return Xe(t,e),se(t,[{key:"attributeChangedCallback",value:function(n,i,a,s,o){n==="x1"||n==="y1"||n==="x2"||n==="y2"||n==="markerStartOffset"||n==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):n==="markerStart"?(s&&It(s)&&(this.markerStartAngle=0,s.remove()),o&&It(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):n==="markerEnd"&&(s&&It(s)&&(this.markerEndAngle=0,s.remove()),o&&It(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1)))}},{key:"transformMarker",value:function(n){var i=this.parsedStyle,a=i.markerStart,s=i.markerEnd,o=i.markerStartOffset,l=i.markerEndOffset,u=i.x1,c=i.x2,f=i.y1,h=i.y2,d=n?a:s;if(!(!d||!It(d))){var v=0,p,g,m,y,b,_;n?(m=u,y=f,p=c-u,g=h-f,b=o||0,_=this.markerStartAngle):(m=c,y=h,p=u-c,g=f-h,b=l||0,_=this.markerEndAngle),v=Math.atan2(g,p),d.setLocalEulerAngles(v*180/Math.PI+_),d.setLocalPosition(m+Math.cos(v)*b,y+Math.sin(v)*b)}}},{key:"getPoint",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle,s=a.x1,o=a.y1,l=a.x2,u=a.y2,c=ng(s,o,l,u,n),f=c.x,h=c.y,d=zr(at(),ft(f,h,0),i?this.getWorldTransform():this.getLocalTransform());return new Ri(d[0],d[1])}},{key:"getPointAtLength",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(n/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var n=this.parsedStyle,i=n.x1,a=n.y1,s=n.x2,o=n.y2;return rg(i,a,s,o)}}])}(Pr);pue.PARSED_STYLE_LIST=new Set([].concat(it(Pr.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var gue=["style"],mue=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=Ei(n,gue);ae(this,t),r=Ye(this,t,[tt({type:Se.PATH,style:i,initialParsedStyle:{miterLimit:4,d:tt({},z4)}},a)]),r.markerStartAngle=0,r.markerEndAngle=0,r.markerMidList=[];var s=r.parsedStyle,o=s.markerStart,l=s.markerEnd,u=s.markerMid;return o&&It(o)&&(r.markerStartAngle=o.getLocalEulerAngles(),r.appendChild(o)),u&&It(u)&&r.placeMarkerMid(u),l&&It(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return Xe(t,e),se(t,[{key:"attributeChangedCallback",value:function(n,i,a,s,o){n==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):n==="markerStartOffset"||n==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):n==="markerStart"?(s&&It(s)&&(this.markerStartAngle=0,s.remove()),o&&It(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):n==="markerEnd"?(s&&It(s)&&(this.markerEndAngle=0,s.remove()),o&&It(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):n==="markerMid"&&this.placeMarkerMid(o)}},{key:"transformMarker",value:function(n){var i=this.parsedStyle,a=i.markerStart,s=i.markerEnd,o=i.markerStartOffset,l=i.markerEndOffset,u=n?a:s;if(!(!u||!It(u))){var c=0,f,h,d,v,p,g;if(n){var m=this.getStartTangent(),y=Je(m,2),b=y[0],_=y[1];d=_[0],v=_[1],f=b[0]-_[0],h=b[1]-_[1],p=o||0,g=this.markerStartAngle}else{var x=this.getEndTangent(),E=Je(x,2),w=E[0],S=E[1];d=S[0],v=S[1],f=w[0]-S[0],h=w[1]-S[1],p=l||0,g=this.markerEndAngle}c=Math.atan2(h,f),u.setLocalEulerAngles(c*180/Math.PI+g),u.setLocalPosition(d+Math.cos(c)*p,v+Math.sin(c)*p)}}},{key:"placeMarkerMid",value:function(n){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(c){c.remove()}),n&&It(n))for(var a=1;a<i.length-1;a++){var s=Je(i[a].currentPoint,2),o=s[0],l=s[1],u=a===1?n:n.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(o,l)}}},{key:"getTotalLength",value:function(){return x2(this)}},{key:"getPointAtLength",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.d.absolutePath,s=jB(a,n),o=s.x,l=s.y,u=zr(at(),ft(o,l,0),i?this.getWorldTransform():this.getLocalTransform());return new Ri(u[0],u[1])}},{key:"getPoint",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(n*x2(this),i)}},{key:"getStartTangent",value:function(){var n=this.parsedStyle.d.segments,i=[];if(n.length>1){var a=n[0].currentPoint,s=n[1].currentPoint,o=n[1].startTangent;i=[],o?(i.push([a[0]-o[0],a[1]-o[1]]),i.push([a[0],a[1]])):(i.push([s[0],s[1]]),i.push([a[0],a[1]]))}return i}},{key:"getEndTangent",value:function(){var n=this.parsedStyle.d.segments,i=n.length,a=[];if(i>1){var s=n[i-2].currentPoint,o=n[i-1].currentPoint,l=n[i-1].endTangent;a=[],l?(a.push([o[0]-l[0],o[1]-l[1]]),a.push([o[0],o[1]])):(a.push([s[0],s[1]]),a.push([o[0],o[1]]))}return a}}])}(Pr);mue.PARSED_STYLE_LIST=new Set([].concat(it(Pr.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var yue=["style"],Yk=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.style,a=Ei(n,yue);ae(this,t),r=Ye(this,t,[tt({type:Se.POLYGON,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},a)]),r.markerStartAngle=0,r.markerEndAngle=0,r.markerMidList=[];var s=r.parsedStyle,o=s.markerStart,l=s.markerEnd,u=s.markerMid;return o&&It(o)&&(r.markerStartAngle=o.getLocalEulerAngles(),r.appendChild(o)),u&&It(u)&&r.placeMarkerMid(u),l&&It(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return Xe(t,e),se(t,[{key:"attributeChangedCallback",value:function(n,i,a,s,o){n==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):n==="markerStartOffset"||n==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):n==="markerStart"?(s&&It(s)&&(this.markerStartAngle=0,s.remove()),o&&It(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):n==="markerEnd"?(s&&It(s)&&(this.markerEndAngle=0,s.remove()),o&&It(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):n==="markerMid"&&this.placeMarkerMid(o)}},{key:"transformMarker",value:function(n){var i=this.parsedStyle,a=i.markerStart,s=i.markerEnd,o=i.markerStartOffset,l=i.markerEndOffset,u=i.points,c=u||{},f=c.points,h=n?a:s;if(!(!h||!It(h)||!f)){var d=0,v,p,g,m,y,b;if(g=f[0][0],m=f[0][1],n)v=f[1][0]-f[0][0],p=f[1][1]-f[0][1],y=o||0,b=this.markerStartAngle;else{var _=f.length;this.parsedStyle.isClosed?(v=f[_-1][0]-f[0][0],p=f[_-1][1]-f[0][1]):(g=f[_-1][0],m=f[_-1][1],v=f[_-2][0]-f[_-1][0],p=f[_-2][1]-f[_-1][1]),y=l||0,b=this.markerEndAngle}d=Math.atan2(p,v),h.setLocalEulerAngles(d*180/Math.PI+b),h.setLocalPosition(g+Math.cos(d)*y,m+Math.sin(d)*y)}}},{key:"placeMarkerMid",value:function(n){var i=this.parsedStyle.points,a=i||{},s=a.points;if(this.markerMidList.forEach(function(f){f.remove()}),this.markerMidList=[],n&&It(n)&&s)for(var o=1;o<(this.parsedStyle.isClosed?s.length:s.length-1);o++){var l=s[o][0],u=s[o][1],c=o===1?n:n.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(l,u)}}}])}(Pr);Yk.PARSED_STYLE_LIST=new Set([].concat(it(Pr.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var bue=["style"],wue=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.style,i=Ei(r,bue);return ae(this,t),Ye(this,t,[tt({type:Se.POLYLINE,style:n,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i)])}return Xe(t,e),se(t,[{key:"getTotalLength",value:function(){return soe(this)}},{key:"getPointAtLength",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(n/this.getTotalLength(),i)}},{key:"getPoint",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var s=[],o=0,l,u,c=this.getTotalLength();a.forEach(function(m,y){a[y+1]&&(l=[0,0],l[0]=o/c,u=rg(m[0],m[1],a[y+1][0],a[y+1][1]),o+=u,l[1]=o/c,s.push(l))}),this.parsedStyle.points.segments=s}var f=0,h=0;this.parsedStyle.points.segments.forEach(function(m,y){n>=m[0]&&n<=m[1]&&(f=(n-m[0])/(m[1]-m[0]),h=y)});var d=ng(a[h][0],a[h][1],a[h+1][0],a[h+1][1],f),v=d.x,p=d.y,g=zr(at(),ft(v,p,0),i?this.getWorldTransform():this.getLocalTransform());return new Ri(g[0],g[1])}},{key:"getStartTangent",value:function(){var n=this.parsedStyle.points.points,i=[];return i.push([n[1][0],n[1][1]]),i.push([n[0][0],n[0][1]]),i}},{key:"getEndTangent",value:function(){var n=this.parsedStyle.points.points,i=n.length-1,a=[];return a.push([n[i-1][0],n[i-1][1]]),a.push([n[i][0],n[i][1]]),a}}])}(Yk);wue.PARSED_STYLE_LIST=new Set([].concat(it(Yk.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var xue=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ae(this,t),Ye(this,t,[tt({type:Se.RECT},r)])}return Xe(t,e),se(t)}(Pr);xue.PARSED_STYLE_LIST=new Set([].concat(it(Pr.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var Eue=["style"],_ue=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.style,i=Ei(r,Eue);return ae(this,t),Ye(this,t,[tt({type:Se.TEXT,style:tt({fill:"black"},n)},i)])}return Xe(t,e),se(t,[{key:"getComputedTextLength",value:function(){var n;return this.getGeometryBounds(),((n=this.parsedStyle.metrics)===null||n===void 0?void 0:n.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var n;return this.getGeometryBounds(),((n=this.parsedStyle.metrics)===null||n===void 0?void 0:n.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(Pr);_ue.PARSED_STYLE_LIST=new Set([].concat(it(Pr.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var kue=function(){function e(t){ae(this,e),this.strategies=t}return se(e,[{key:"apply",value:function(r){var n=r.camera,i=r.renderingService,a=r.renderingContext,s=this.strategies;i.hooks.cull.tap(e.tag,function(o){if(o){var l=o.cullable;return s.length===0?l.visible=a.unculledEntities.indexOf(o.entity)>-1:l.visible=s.every(function(u){return u.isVisible(n,o)}),!o.isCulled()&&o.isVisible()?o:(o.dispatchEvent(new xs(Lt.CULLED)),null)}return o}),i.hooks.afterRender.tap(e.tag,function(o){o.cullable.visibilityPlaneMask=-1})}}])}();kue.tag="Culling";var Sue=function(){function e(){var t=this;ae(this,e),this.autoPreventDefault=!1,this.rootPointerEvent=new Tle(null),this.rootWheelEvent=new Mle(null),this.onPointerMove=function(r){var n,i=(n=t.context.renderingContext.root)===null||n===void 0||(n=n.ownerDocument)===null||n===void 0?void 0:n.defaultView;if(!(i.supportsTouchEvents&&r.pointerType==="touch")){var a=t.normalizeToPointerEvent(r,i),s=Ci(a),o;try{for(s.s();!(o=s.n()).done;){var l=o.value,u=t.bootstrapEvent(t.rootPointerEvent,l,i,r);t.context.eventService.mapEvent(u)}}catch(c){s.e(c)}finally{s.f()}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(r){var n,i=(n=t.context.renderingContext.root)===null||n===void 0||(n=n.ownerDocument)===null||n===void 0?void 0:n.defaultView,a=t.normalizeToPointerEvent(r,i),s=Ci(a),o;try{for(s.s();!(o=s.n()).done;){var l=o.value,u=t.bootstrapEvent(t.rootPointerEvent,l,i,r);t.context.eventService.mapEvent(u)}}catch(c){s.e(c)}finally{s.f()}t.setCursor(t.context.eventService.cursor)}}return se(e,[{key:"apply",value:function(r){var n=this;this.context=r;var i=r.renderingService,a=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(s){var o=n.context.renderingService.hooks.pickSync.call({position:s,picked:[],topmost:!0}),l=o.picked;return l[0]||null}),i.hooks.pointerWheel.tap(e.tag,function(s){var o=n.normalizeWheelEvent(s);n.context.eventService.mapEvent(o)}),i.hooks.pointerDown.tap(e.tag,function(s){if(!(a.supportsTouchEvents&&s.pointerType==="touch")){var o=n.normalizeToPointerEvent(s,a);if(n.autoPreventDefault&&o[0].isNormalized){var l=s.cancelable||!("cancelable"in s);l&&s.preventDefault()}var u=Ci(o),c;try{for(u.s();!(c=u.n()).done;){var f=c.value,h=n.bootstrapEvent(n.rootPointerEvent,f,a,s);n.context.eventService.mapEvent(h)}}catch(d){u.e(d)}finally{u.f()}n.setCursor(n.context.eventService.cursor)}}),i.hooks.pointerUp.tap(e.tag,function(s){if(!(a.supportsTouchEvents&&s.pointerType==="touch")){var o=n.context.contextService.getDomElement(),l=n.context.eventService.isNativeEventFromCanvas(o,s),u=l?"":"outside",c=n.normalizeToPointerEvent(s,a),f=Ci(c),h;try{for(f.s();!(h=f.n()).done;){var d=h.value,v=n.bootstrapEvent(n.rootPointerEvent,d,a,s);v.type+=u,n.context.eventService.mapEvent(v)}}catch(p){f.e(p)}finally{f.f()}n.setCursor(n.context.eventService.cursor)}}),i.hooks.pointerMove.tap(e.tag,this.onPointerMove),i.hooks.pointerOver.tap(e.tag,this.onPointerMove),i.hooks.pointerOut.tap(e.tag,this.onPointerMove),i.hooks.click.tap(e.tag,this.onClick),i.hooks.pointerCancel.tap(e.tag,function(s){var o=n.normalizeToPointerEvent(s,a),l=Ci(o),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,f=n.bootstrapEvent(n.rootPointerEvent,c,a,s);n.context.eventService.mapEvent(f)}}catch(h){l.e(h)}finally{l.f()}n.setCursor(n.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(r,n,i,a){r.view=i,r.originalEvent=null,r.nativeEvent=a,r.pointerId=n.pointerId,r.width=n.width,r.height=n.height,r.isPrimary=n.isPrimary,r.pointerType=n.pointerType,r.pressure=n.pressure,r.tangentialPressure=n.tangentialPressure,r.tiltX=n.tiltX,r.tiltY=n.tiltY,r.twist=n.twist,this.transferMouseData(r,n);var s=this.context.eventService.client2Viewport({x:n.clientX,y:n.clientY}),o=s.x,l=s.y;r.viewport.x=o,r.viewport.y=l;var u=this.context.eventService.viewport2Canvas(r.viewport),c=u.x,f=u.y;return r.canvas.x=c,r.canvas.y=f,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.isTrusted=a.isTrusted,r.type==="pointerleave"&&(r.type="pointerout"),r.type.startsWith("mouse")&&(r.type=r.type.replace("mouse","pointer")),r.type.startsWith("touch")&&(r.type=Xoe[r.type]||r.type),r}},{key:"normalizeWheelEvent",value:function(r){var n=this.rootWheelEvent;this.transferMouseData(n,r),n.deltaMode=r.deltaMode,n.deltaX=r.deltaX,n.deltaY=r.deltaY,n.deltaZ=r.deltaZ;var i=this.context.eventService.client2Viewport({x:r.clientX,y:r.clientY}),a=i.x,s=i.y;n.viewport.x=a,n.viewport.y=s;var o=this.context.eventService.viewport2Canvas(n.viewport),l=o.x,u=o.y;return n.canvas.x=l,n.canvas.y=u,n.global.copyFrom(n.canvas),n.offset.copyFrom(n.canvas),n.nativeEvent=r,n.type=r.type,n}},{key:"transferMouseData",value:function(r,n){r.isTrusted=n.isTrusted,r.srcElement=n.srcElement,r.timeStamp=Koe.now(),r.type=n.type,r.altKey=n.altKey,r.metaKey=n.metaKey,r.shiftKey=n.shiftKey,r.ctrlKey=n.ctrlKey,r.button=n.button,r.buttons=n.buttons,r.client.x=n.clientX,r.client.y=n.clientY,r.movement.x=n.movementX,r.movement.y=n.movementY,r.page.x=n.pageX,r.page.y=n.pageY,r.screen.x=n.screenX,r.screen.y=n.screenY,r.relatedTarget=null}},{key:"setCursor",value:function(r){this.context.contextService.applyCursorStyle(r||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(r,n){var i=[];if(n.isTouchEvent(r))for(var a=0;a<r.changedTouches.length;a++){var s=r.changedTouches[a];ct(s.button)&&(s.button=0),ct(s.buttons)&&(s.buttons=1),ct(s.isPrimary)&&(s.isPrimary=r.touches.length===1&&r.type==="touchstart"),ct(s.width)&&(s.width=s.radiusX||1),ct(s.height)&&(s.height=s.radiusY||1),ct(s.tiltX)&&(s.tiltX=0),ct(s.tiltY)&&(s.tiltY=0),ct(s.pointerType)&&(s.pointerType="touch"),ct(s.pointerId)&&(s.pointerId=s.identifier||0),ct(s.pressure)&&(s.pressure=s.force||.5),ct(s.twist)&&(s.twist=0),ct(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,s.type=r.type,i.push(s)}else if(n.isMouseEvent(r)){var o=r;ct(o.isPrimary)&&(o.isPrimary=!0),ct(o.width)&&(o.width=1),ct(o.height)&&(o.height=1),ct(o.tiltX)&&(o.tiltX=0),ct(o.tiltY)&&(o.tiltY=0),ct(o.pointerType)&&(o.pointerType="mouse"),ct(o.pointerId)&&(o.pointerId=Yoe),ct(o.pressure)&&(o.pressure=.5),ct(o.twist)&&(o.twist=0),ct(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,i.push(o)}else i.push(r);return i}}])}();Sue.tag="Event";Se.CIRCLE,Se.ELLIPSE,Se.IMAGE,Se.RECT,Se.LINE,Se.POLYLINE,Se.POLYGON,Se.TEXT,Se.PATH,Se.HTML;var Tue=function(){function e(){ae(this,e),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return se(e,[{key:"apply",value:function(r){var n=this,i,a=r.renderingService,s=r.renderingContext,o=r.rBushRoot,l=s.root.ownerDocument.defaultView;this.rBush=o;var u=function(p){var g=p.target;g.renderable.dirty=!0,a.dirtify()},c=function(p){n.syncTasks.set(p.target,p.detail.affectChildren),a.dirtify()},f=function(p){var g=p.target;Ge.enableSizeAttenuation&&Ge.styleValueRegistry.updateSizeAttenuation(g,l.getCamera().getZoom())},h=function(p){var g=p.target,m=g.rBushNode;m.aabb&&n.rBush.remove(m.aabb),n.syncTasks.delete(g),Ge.sceneGraphService.dirtifyToRoot(g),a.dirtify()};a.hooks.init.tap(e.tag,function(){l.addEventListener(Lt.MOUNTED,f),l.addEventListener(Lt.UNMOUNTED,h),l.addEventListener(Lt.ATTR_MODIFIED,u),l.addEventListener(Lt.BOUNDS_CHANGED,c)}),a.hooks.destroy.tap(e.tag,function(){l.removeEventListener(Lt.MOUNTED,f),l.removeEventListener(Lt.UNMOUNTED,h),l.removeEventListener(Lt.ATTR_MODIFIED,u),l.removeEventListener(Lt.BOUNDS_CHANGED,c),n.syncTasks.clear()});var d=(i=Ge.globalThis.requestIdleCallback)!==null&&i!==void 0?i:oz.bind(Ge.globalThis);a.hooks.endFrame.tap(e.tag,function(){n.isFirstTimeRendering?(n.isFirstTimeRendering=!1,n.syncing=!0,d(function(){n.syncRTree(!0),n.isFirstTimeRenderingFinished=!0})):n.syncRTree()})}},{key:"syncNode",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r.isConnected){var i=r.rBushNode;i.aabb&&this.rBush.remove(i.aabb);var a=r.getRenderBounds();if(a){var s=r.renderable;n&&(s.dirtyRenderBounds||(s.dirtyRenderBounds=new rn),s.dirtyRenderBounds.update(a.center,a.halfExtents));var o=a.getMin(),l=Je(o,2),u=l[0],c=l[1],f=a.getMax(),h=Je(f,2),d=h[0],v=h[1];i.aabb||(i.aabb={}),i.aabb.displayObject=r,i.aabb.minX=u,i.aabb.minY=c,i.aabb.maxX=d,i.aabb.maxY=v}if(i.aabb&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.minX)&&!isNaN(i.aabb.minY))return i.aabb}}},{key:"syncRTree",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!n&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var i=[],a=new Set,s=function(l){if(!a.has(l)&&l.renderable){var u=r.syncNode(l,n);u&&(i.push(u),a.add(l))}};this.syncTasks.forEach(function(o,l){o&&l.forEach(s);for(var u=l;u;)s(u),u=u.parentElement}),this.rBush.load(i),i.length=0,this.syncing=!1}}}])}();Tue.tag="Prepare";var Ju=function(e){return e.READY="ready",e.BEFORE_RENDER="beforerender",e.RERENDER="rerender",e.AFTER_RENDER="afterrender",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.RESIZE="resize",e.DIRTY_RECTANGLE="dirtyrectangle",e.RENDERER_CHANGED="rendererchanged",e}({});new xs(Lt.MOUNTED);new xs(Lt.UNMOUNTED);new xs(Ju.BEFORE_RENDER);new xs(Ju.RERENDER);new xs(Ju.AFTER_RENDER);/*!
 * @antv/g-plugin-canvas-path-generator
 * @description A G plugin of path generator with Canvas2D API
 * @version 2.1.19
 * @date 5/9/2025, 8:19:59 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function Mue(e,t){var r=t.cx,n=r===void 0?0:r,i=t.cy,a=i===void 0?0:i,s=t.r;e.arc(n,a,s,0,Math.PI*2,!1)}function Nue(e,t){var r=t.cx,n=r===void 0?0:r,i=t.cy,a=i===void 0?0:i,s=t.rx,o=t.ry;if(e.ellipse)e.ellipse(n,a,s,o,0,0,Math.PI*2,!1);else{var l=s>o?s:o,u=s>o?1:s/o,c=s>o?o/s:1;e.save(),e.scale(u,c),e.arc(n,a,l,0,Math.PI*2)}}function Aue(e,t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2,s=t.markerStart,o=t.markerEnd,l=t.markerStartOffset,u=t.markerEndOffset,c=0,f=0,h=0,d=0,v=0,p,g;s&&It(s)&&l&&(p=i-r,g=a-n,v=Math.atan2(g,p),c=Math.cos(v)*(l||0),f=Math.sin(v)*(l||0)),o&&It(o)&&u&&(p=r-i,g=n-a,v=Math.atan2(g,p),h=Math.cos(v)*(u||0),d=Math.sin(v)*(u||0)),e.moveTo(r+c,n+f),e.lineTo(i+h,a+d)}function Pue(e,t){var r=t.markerStart,n=t.markerEnd,i=t.markerStartOffset,a=t.markerEndOffset,s=t.d,o=s.absolutePath,l=s.segments,u=0,c=0,f=0,h=0,d=0,v,p;if(r&&It(r)&&i){var g=r.parentNode.getStartTangent(),m=Je(g,2),y=m[0],b=m[1];v=y[0]-b[0],p=y[1]-b[1],d=Math.atan2(p,v),u=Math.cos(d)*(i||0),c=Math.sin(d)*(i||0)}if(n&&It(n)&&a){var _=n.parentNode.getEndTangent(),x=Je(_,2),E=x[0],w=x[1];v=E[0]-w[0],p=E[1]-w[1],d=Math.atan2(p,v),f=Math.cos(d)*(a||0),h=Math.sin(d)*(a||0)}for(var S=0;S<o.length;S++){var A=o[S],P=A[0],O=o[S+1],C=S===0&&(u!==0||c!==0),L=(S===o.length-1||O&&(O[0]==="M"||O[0]==="Z"))&&f!==0&&h!==0,I=C?[u,c]:[0,0],F=Je(I,2),U=F[0],G=F[1],z=L?[f,h]:[0,0],Z=Je(z,2),ge=Z[0],xe=Z[1];switch(P){case"M":e.moveTo(A[1]+U,A[2]+G);break;case"L":e.lineTo(A[1]+ge,A[2]+xe);break;case"Q":e.quadraticCurveTo(A[1],A[2],A[3]+ge,A[4]+xe);break;case"C":e.bezierCurveTo(A[1],A[2],A[3],A[4],A[5]+ge,A[6]+xe);break;case"A":{var ve=l[S].arcParams,je=ve.cx,te=ve.cy,Y=ve.rx,fe=ve.ry,Q=ve.startAngle,oe=ve.endAngle,ye=ve.xRotation,we=ve.sweepFlag;if(e.ellipse)e.ellipse(je,te,Y,fe,ye,Q,oe,!!(1-we));else{var Ae=Y>fe?Y:fe,H=Y>fe?1:Y/fe,K=Y>fe?fe/Y:1;e.translate(je,te),e.rotate(ye),e.scale(H,K),e.arc(0,0,Ae,Q,oe,!!(1-we)),e.scale(1/H,1/K),e.rotate(-ye),e.translate(-je,-te)}L&&e.lineTo(A[6]+f,A[7]+h);break}case"Z":e.closePath();break}}}function Oue(e,t){var r=t.markerStart,n=t.markerEnd,i=t.markerStartOffset,a=t.markerEndOffset,s=t.points.points,o=s.length,l=s[0][0],u=s[0][1],c=s[o-1][0],f=s[o-1][1],h=0,d=0,v=0,p=0,g=0,m,y;r&&It(r)&&i&&(m=s[1][0]-s[0][0],y=s[1][1]-s[0][1],g=Math.atan2(y,m),h=Math.cos(g)*(i||0),d=Math.sin(g)*(i||0)),n&&It(n)&&a&&(m=s[o-1][0]-s[0][0],y=s[o-1][1]-s[0][1],g=Math.atan2(y,m),v=Math.cos(g)*(a||0),p=Math.sin(g)*(a||0)),e.moveTo(l+(h||v),u+(d||p));for(var b=1;b<o-1;b++){var _=s[b];e.lineTo(_[0],_[1])}e.lineTo(c,f)}function Cue(e,t){var r=t.markerStart,n=t.markerEnd,i=t.markerStartOffset,a=t.markerEndOffset,s=t.points.points,o=s.length,l=s[0][0],u=s[0][1],c=s[o-1][0],f=s[o-1][1],h=0,d=0,v=0,p=0,g=0,m,y;r&&It(r)&&i&&(m=s[1][0]-s[0][0],y=s[1][1]-s[0][1],g=Math.atan2(y,m),h=Math.cos(g)*(i||0),d=Math.sin(g)*(i||0)),n&&It(n)&&a&&(m=s[o-2][0]-s[o-1][0],y=s[o-2][1]-s[o-1][1],g=Math.atan2(y,m),v=Math.cos(g)*(a||0),p=Math.sin(g)*(a||0)),e.moveTo(l+h,u+d);for(var b=1;b<o-1;b++){var _=s[b];e.lineTo(_[0],_[1])}e.lineTo(c+v,f+p)}function Rue(e,t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.radius,o=t.width,l=t.height,u=o,c=l,f=s&&s.some(function(x){return x!==0});if(!f)e.rect(n,a,u,c);else{var h=o>0?1:-1,d=l>0?1:-1,v=h+d===0,p=s.map(function(x){return dr(x,0,Math.min(Math.abs(u)/2,Math.abs(c)/2))}),g=Je(p,4),m=g[0],y=g[1],b=g[2],_=g[3];e.moveTo(h*m+n,a),e.lineTo(u-h*y+n,a),y!==0&&e.arc(u-h*y+n,d*y+a,y,-d*Math.PI/2,h>0?0:Math.PI,v),e.lineTo(u+n,c-d*b+a),b!==0&&e.arc(u-h*b+n,c-d*b+a,b,h>0?0:Math.PI,d>0?Math.PI/2:1.5*Math.PI,v),e.lineTo(h*_+n,c+a),_!==0&&e.arc(h*_+n,c-d*_+a,_,d>0?Math.PI/2:-Math.PI/2,h>0?Math.PI:0,v),e.lineTo(n,d*m+a),m!==0&&e.arc(h*m+n,d*m+a,m,h>0?Math.PI:0,d>0?Math.PI*1.5:Math.PI/2,v)}}var Lue=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.name="canvas-path-generator",r}return Xe(t,e),se(t,[{key:"init",value:function(){var n,i=(n={},Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(n,Se.CIRCLE,Mue),Se.ELLIPSE,Nue),Se.RECT,Rue),Se.LINE,Aue),Se.POLYLINE,Cue),Se.POLYGON,Oue),Se.PATH,Pue),Se.TEXT,void 0),Se.GROUP,void 0),Se.IMAGE,void 0),Me(Me(Me(n,Se.HTML,void 0),Se.MESH,void 0),Se.FRAGMENT,void 0));this.context.pathGeneratorFactory=i}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(Uo);/*!
 * @antv/g-plugin-canvas-picker
 * @description A G plugin for picking in canvas
 * @version 2.1.22
 * @date 5/9/2025, 8:22:03 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Iue=at(),Due=at(),Fue=at(),$ue=gt(),fz=function(){function e(){var t=this;ae(this,e),this.isHit=function(r,n,i,a){var s=t.context.pointInPathPickerFactory[r.nodeName];if(s){var o=fn($ue,i),l=zr(Due,Jt(Fue,n[0],n[1],0),o);if(s(r,new Ri(l[0],l[1]),a,t.isPointInPath,t.context,t.runtime))return!0}return!1},this.isPointInPath=function(r,n){var i=t.runtime.offscreenCanvasCreator.getOrCreateContext(t.context.config.offscreenCanvas),a=t.context.pathGeneratorFactory[r.nodeName];return a&&(i.beginPath(),a(i,r.parsedStyle),i.closePath()),i.isPointInPath(n.x,n.y)}}return se(e,[{key:"apply",value:function(r,n){var i,a=this,s=r.renderingService,o=r.renderingContext;this.context=r,this.runtime=n;var l=(i=o.root)===null||i===void 0?void 0:i.ownerDocument;s.hooks.pick.tapPromise(e.tag,function(){var u=Io(Sn().mark(function c(f){return Sn().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",a.pick(l,f));case 1:case"end":return d.stop()}},c)}));return function(c){return u.apply(this,arguments)}}()),s.hooks.pickSync.tap(e.tag,function(u){return a.pick(l,u)})}},{key:"pick",value:function(r,n){var i=n.topmost,a=n.position,s=a.x,o=a.y,l=Jt(Iue,s,o,0),u=r.elementsFromBBox(l[0],l[1],l[0],l[1]),c=[],f=Ci(u),h;try{for(f.s();!(h=f.n()).done;){var d=h.value,v=d.getWorldTransform(),p=this.isHit(d,l,v,!1);if(p){var g=iz(d);if(g){var m=g.parsedStyle.clipPath,y=this.isHit(m,l,m.getWorldTransform(),!0);if(y){if(i)return n.picked=[d],n;c.push(d)}}else{if(i)return n.picked=[d],n;c.push(d)}}}}catch(b){f.e(b)}finally{f.f()}return n.picked=c,n}}])}();fz.tag="CanvasPicker";function Bue(e,t,r){var n=e.parsedStyle,i=n.cx,a=i===void 0?0:i,s=n.cy,o=s===void 0?0:s,l=n.r,u=n.fill,c=n.stroke,f=n.lineWidth,h=f===void 0?1:f,d=n.increasedLineWidthForHitTesting,v=d===void 0?0:d,p=n.pointerEvents,g=p===void 0?"auto":p,m=(h+v)/2,y=Hs(a,o,t.x,t.y),b=Vl(g,u,c),_=Je(b,2),x=_[0],E=_[1];return x&&E||r?y<=l+m:x?y<=l:E?y>=l-m&&y<=l+m:!1}function Ad(e,t,r,n){return e/(r*r)+t/(n*n)}function zue(e,t,r){var n=e.parsedStyle,i=n.cx,a=i===void 0?0:i,s=n.cy,o=s===void 0?0:s,l=n.rx,u=n.ry,c=n.fill,f=n.stroke,h=n.lineWidth,d=h===void 0?1:h,v=n.increasedLineWidthForHitTesting,p=v===void 0?0:v,g=n.pointerEvents,m=g===void 0?"auto":g,y=t.x,b=t.y,_=Vl(m,c,f),x=Je(_,2),E=x[0],w=x[1],S=(d+p)/2,A=(y-a)*(y-a),P=(b-o)*(b-o);return E&&w||r?Ad(A,P,l+S,u+S)<=1:E?Ad(A,P,l,u)<=1:w?Ad(A,P,l-S,u-S)>=1&&Ad(A,P,l+S,u+S)<=1:!1}function xl(e,t,r,n,i,a){return i>=e&&i<=e+r&&a>=t&&a<=t+n}function Gue(e,t,r,n,i,a,s){var o=i/2;return xl(e-o,t-o,r,i,a,s)||xl(e+r-o,t-o,i,n,a,s)||xl(e+o,t+n-o,r,i,a,s)||xl(e-o,t+o,i,n,a,s)}function Pd(e,t,r,n,i,a,s,o){var l=(Math.atan2(o-t,s-e)+Math.PI*2)%(Math.PI*2),u={x:e+r*Math.cos(l),y:t+r*Math.sin(l)};return Hs(u.x,u.y,s,o)<=a/2}function So(e,t,r,n,i,a,s){var o=Math.min(e,r),l=Math.max(e,r),u=Math.min(t,n),c=Math.max(t,n),f=i/2;return a>=o-f&&a<=l+f&&s>=u-f&&s<=c+f?ite(e,t,r,n,a,s)<=i/2:!1}function hz(e,t,r,n,i){var a=e.length;if(a<2)return!1;for(var s=0;s<a-1;s++){var o=e[s][0],l=e[s][1],u=e[s+1][0],c=e[s+1][1];if(So(o,l,u,c,t,r,n))return!0}if(i){var f=e[0],h=e[a-1];if(So(f[0],f[1],h[0],h[1],t,r,n))return!0}return!1}var que=1e-6;function im(e){return Math.abs(e)<que?0:e<0?-1:1}function jue(e,t,r){return(r[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(r[1]-e[1])&&Math.min(e[0],t[0])<=r[0]&&r[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=r[1]&&r[1]<=Math.max(e[1],t[1])}function dz(e,t,r){var n=!1,i=e.length;if(i<=2)return!1;for(var a=0;a<i;a++){var s=e[a],o=e[(a+1)%i];if(jue(s,o,[t,r]))return!0;im(s[1]-r)>0!=im(o[1]-r)>0&&im(t-(r-s[1])*(s[0]-o[0])/(s[1]-o[1])-s[0])<0&&(n=!n)}return n}function pP(e,t,r){for(var n=!1,i=0;i<e.length;i++){var a=e[i];if(n=dz(a,t,r),n)break}return n}function Wue(e,t,r){var n=e.parsedStyle,i=n.x1,a=n.y1,s=n.x2,o=n.y2,l=n.lineWidth,u=l===void 0?1:l,c=n.increasedLineWidthForHitTesting,f=c===void 0?0:c,h=n.pointerEvents,d=h===void 0?"auto":h,v=n.fill,p=n.stroke,g=Vl(d,v,p),m=Je(g,2),y=m[1];return!y&&!r||!u?!1:So(i,a,s,o,u+f,t.x,t.y)}function Vue(e,t,r,n,i){for(var a=!1,s=t/2,o=0;o<e.length;o++){var l=e[o],u=l.currentPoint,c=l.params,f=l.prePoint,h=l.box;if(!(h&&!xl(h.x-s,h.y-s,h.width+t,h.height+t,r,n)))switch(l.command){case"L":case"Z":if(a=So(f[0],f[1],u[0],u[1],t,r,n),a)return!0;break;case"Q":var d=lte(f[0],f[1],c[1],c[2],c[3],c[4],r,n);if(a=d<=t/2,a)return!0;break;case"C":var v=GN(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],r,n,i);if(a=v<=t/2,a)return!0;break;case"A":l.cubicParams||(l.cubicParams=Mk(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],c[7],void 0));for(var p=l.cubicParams,g=f,m=0;m<p.length;m+=6){var y=GN(g[0],g[1],p[m],p[m+1],p[m+2],p[m+3],p[m+4],p[m+5],r,n,i);if(g=[p[m+4],p[m+5]],a=y<=t/2,a)return!0}break}}return a}function Uue(e,t,r,n,i,a){var s=e.parsedStyle,o=s.lineWidth,l=o===void 0?1:o,u=s.increasedLineWidthForHitTesting,c=u===void 0?0:u,f=s.stroke,h=s.fill,d=s.d,v=s.pointerEvents,p=v===void 0?"auto":v,g=d.segments,m=d.hasArc,y=d.polylines,b=d.polygons,_=Vl(p,b?.length&&h,f),x=Je(_,2),E=x[0],w=x[1],S=x2(e),A=!1;return E||r?(m?A=n(e,t):A=pP(b,t.x,t.y)||pP(y,t.x,t.y),A):((w||r)&&(A=Vue(g,l+c,t.x,t.y,S)),A)}function Hue(e,t,r){var n=e.parsedStyle,i=n.stroke,a=n.fill,s=n.lineWidth,o=s===void 0?1:s,l=n.increasedLineWidthForHitTesting,u=l===void 0?0:l,c=n.points,f=n.pointerEvents,h=f===void 0?"auto":f,d=Vl(h,a,i),v=Je(d,2),p=v[0],g=v[1],m=!1;return(g||r)&&(m=hz(c.points,o+u,t.x,t.y,!0)),!m&&(p||r)&&(m=dz(c.points,t.x,t.y)),m}function Yue(e,t,r){var n=e.parsedStyle,i=n.lineWidth,a=i===void 0?1:i,s=n.increasedLineWidthForHitTesting,o=s===void 0?0:s,l=n.points,u=n.pointerEvents,c=u===void 0?"auto":u,f=n.fill,h=n.stroke,d=Vl(c,f,h),v=Je(d,2),p=v[1];return!p&&!r||!a?!1:hz(l.points,a+o,t.x,t.y,!1)}function Xue(e,t,r,n,i){var a=e.parsedStyle,s=a.radius,o=a.fill,l=a.stroke,u=a.lineWidth,c=u===void 0?1:u,f=a.increasedLineWidthForHitTesting,h=f===void 0?0:f,d=a.x,v=d===void 0?0:d,p=a.y,g=p===void 0?0:p,m=a.width,y=a.height,b=a.pointerEvents,_=b===void 0?"auto":b,x=Vl(_,o,l),E=Je(x,2),w=E[0],S=E[1],A=s&&s.some(function(L){return L!==0}),P=c+h;if(A){var C=!1;return(S||r)&&(C=Kue(v,g,m,y,s.map(function(L){return dr(L,0,Math.min(Math.abs(m)/2,Math.abs(y)/2))}),P,t.x,t.y)),!C&&(w||r)&&(C=n(e,t)),C}else{var O=P/2;if(w&&S||r)return xl(v-O,g-O,m+O,y+O,t.x,t.y);if(w)return xl(v,g,m,y,t.x,t.y);if(S)return Gue(v,g,m,y,P,t.x,t.y)}return!1}function Kue(e,t,r,n,i,a,s,o){var l=Je(i,4),u=l[0],c=l[1],f=l[2],h=l[3];return So(e+u,t,e+r-c,t,a,s,o)||So(e+r,t+c,e+r,t+n-f,a,s,o)||So(e+r-f,t+n,e+h,t+n,a,s,o)||So(e,t+n-h,e,t+u,a,s,o)||Pd(e+r-c,t+c,c,1.5*Math.PI,2*Math.PI,a,s,o)||Pd(e+r-f,t+n-f,f,0,.5*Math.PI,a,s,o)||Pd(e+h,t+n-h,h,.5*Math.PI,Math.PI,a,s,o)||Pd(e+u,t+u,u,Math.PI,1.5*Math.PI,a,s,o)}function Zue(e,t,r,n,i,a){var s=e.parsedStyle,o=s.pointerEvents,l=o===void 0?"auto":o,u=s.x,c=u===void 0?0:u,f=s.y,h=f===void 0?0:f,d=s.width,v=s.height;if(l==="non-transparent-pixel"){var p=i.config.offscreenCanvas,g=a.offscreenCanvasCreator.getOrCreateCanvas(p),m=a.offscreenCanvasCreator.getOrCreateContext(p,{willReadFrequently:!0});g.width=d,g.height=v,i.defaultStyleRendererFactory[Se.IMAGE].render(m,tt(tt({},e.parsedStyle),{},{x:0,y:0}),e,void 0,void 0,void 0);var y=m.getImageData(t.x-c,t.y-h,1,1).data;return y.every(function(b){return b!==0})}return!0}function Que(e,t,r,n){var i=e.getGeometryBounds();return t.x>=i.min[0]&&t.y>=i.min[1]&&t.x<=i.max[0]&&t.y<=i.max[1]}var Jue=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.name="canvas-picker",r}return Xe(t,e),se(t,[{key:"init",value:function(){var n,i=(n={},Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(n,Se.CIRCLE,Bue),Se.ELLIPSE,zue),Se.RECT,Xue),Se.LINE,Wue),Se.POLYLINE,Yue),Se.POLYGON,Hue),Se.PATH,Uue),Se.TEXT,Que),Se.GROUP,null),Se.IMAGE,Zue),Me(Me(n,Se.HTML,null),Se.MESH,null));this.context.pointInPathPickerFactory=i,this.addRenderingPlugin(new fz)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(Uo);function Xa(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var ece=0;function tce(e){return"__private_"+ece+++"_"+e}/*!
 * @antv/g-plugin-image-loader
 * @description A G plugin for loading image
 * @version 2.1.22
 * @date 5/9/2025, 8:20:25 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var rce=function(){function e(){ae(this,e),this.cacheStore=new Map}return se(e,[{key:"onRefAdded",value:function(r){}},{key:"has",value:function(r){return this.cacheStore.has(r)}},{key:"put",value:function(r,n,i){return this.cacheStore.has(r)?!1:(this.cacheStore.set(r,{value:n,counter:new Set([i])}),this.onRefAdded(i),!0)}},{key:"get",value:function(r,n){var i=this.cacheStore.get(r);return i?(i.counter.has(n)||(i.counter.add(n),this.onRefAdded(n)),i.value):null}},{key:"update",value:function(r,n,i){var a=this.cacheStore.get(r);return a?(a.value=tt(tt({},a.value),n),a.counter.has(i)||(a.counter.add(i),this.onRefAdded(i)),!0):!1}},{key:"release",value:function(r,n){var i=this.cacheStore.get(r);return i?(i.counter.delete(n),i.counter.size<=0&&this.cacheStore.delete(r),!0):!1}},{key:"releaseRef",value:function(r){var n=this;Array.from(this.cacheStore.keys()).forEach(function(i){n.release(i,r)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),am=[],sm=[],S2=function(){function e(){ae(this,e)}return se(e,null,[{key:"stop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;e.rafId&&(r.cancelAnimationFrame(e.rafId),e.rafId=null)}},{key:"executeTask",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;am.length<=0&&sm.length<=0||(sm.forEach(function(n){return n()}),sm=am.splice(0,e.TASK_NUM_PER_FRAME),e.rafId=r.requestAnimationFrame(function(){e.executeTask(r)}))}},{key:"sliceImage",value:function(r,n,i,a){for(var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:e.api,l=r.naturalWidth||r.width,u=r.naturalHeight||r.height,c=n-s,f=i-s,h=Math.ceil(l/c),d=Math.ceil(u/f),v={tileSize:[n,i],gridSize:[d,h],tiles:Array(d).fill(null).map(function(){return Array(h).fill(null)})},p=function(y){for(var b=function(E){am.push(function(){var w=E*c,S=y*f,A=[Math.min(n,l-w),Math.min(i,u-S)],P=A[0],O=A[1],C=o.createCanvas();C.width=n,C.height=i;var L=C.getContext("2d");L.drawImage(r,w,S,P,O,0,0,P,O),v.tiles[y][E]={x:w,y:S,tileX:E,tileY:y,data:C},a()})},_=0;_<h;_++)b(_)},g=0;g<d;g++)p(g);return e.stop(),e.executeTask(),v}}])}();S2.TASK_NUM_PER_FRAME=10;var Ni=new rce;Ni.onRefAdded=function(t){var r=this;t.addEventListener(Lt.DESTROY,function(){r.releaseRef(t)},{once:!0})};var Xk=function(){function e(t,r){ae(this,e),this.gradientCache={},this.patternCache={},this.context=t,this.runtime=r}return se(e,[{key:"getImageSync",value:function(r,n,i){var a=At(r)?r:r.src;if(Ni.has(a)){var s=Ni.get(a,n);if(s.img.complete)return i?.(s),s}return this.getOrCreateImage(r,n).then(function(o){i?.(o)}).catch(function(o){console.error(o)}),null}},{key:"getOrCreateImage",value:function(r,n){var i=this,a=At(r)?r:r.src;if(!At(r)&&!Ni.has(a)){var s={img:r,size:[r.naturalWidth||r.width,r.naturalHeight||r.height],tileSize:Od(r)};Ni.put(a,s,n)}if(Ni.has(a)){var o=Ni.get(a,n);return o.img.complete?Promise.resolve(o):new Promise(function(l,u){o.img.addEventListener("load",function(){o.size=[o.img.naturalWidth||o.img.width,o.img.naturalHeight||o.img.height],o.tileSize=Od(o.img),l(o)}),o.img.addEventListener("error",function(c){u(c)})})}return new Promise(function(l,u){var c=i.context.config.createImage();if(c){var f={img:c,size:[0,0],tileSize:Od(c)};Ni.put(a,f,n),c.onload=function(){f.size=[c.naturalWidth||c.width,c.naturalHeight||c.height],f.tileSize=Od(f.img),l(f)},c.onerror=function(h){u(h)},c.crossOrigin="Anonymous",c.src=a}})}},{key:"createDownSampledImage",value:function(){var t=Io(Sn().mark(function n(i,a){var s,o,l,u,c,f,h,d,v,p,g,m,y,b;return Sn().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,this.getOrCreateImage(i,a);case 2:if(s=x.sent,!(typeof s.downSamplingRate<"u")){x.next=5;break}return x.abrupt("return",s);case 5:if(o=this.context.config.enableLargeImageOptimization,l=typeof o=="boolean"?{}:o,u=l.maxDownSampledImageSize,c=u===void 0?2048:u,f=l.downSamplingRateThreshold,h=f===void 0?.5:f,d=this.runtime.globalThis.createImageBitmap,v=Je(s.size,2),p=v[0],g=v[1],m=s.img,y=Math.min((c+c)/(p+g),Math.max(.01,Math.min(h,.5))),b=tt(tt({},s),{},{downSamplingRate:y}),Ni.update(s.img.src,b,a),!d){x.next=25;break}return x.prev=14,x.next=17,d(s.img,{resizeWidth:p*y,resizeHeight:g*y});case 17:m=x.sent,x.next=23;break;case 20:x.prev=20,x.t0=x.catch(14),y=1;case 23:x.next=26;break;case 25:y=1;case 26:return b=tt(tt({},this.getImageSync(i,a)),{},{downSampled:m,downSamplingRate:y}),Ni.update(s.img.src,b,a),x.abrupt("return",b);case 29:case"end":return x.stop()}},n,this,[[14,20]])}));function r(n,i){return t.apply(this,arguments)}return r}()},{key:"createImageTiles",value:function(){var t=Io(Sn().mark(function n(i,a,s,o){var l,u,c,f,h;return Sn().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this.getOrCreateImage(i,o);case 2:return l=v.sent,u=o.ownerDocument.defaultView,c=u.requestAnimationFrame,f=u.cancelAnimationFrame,S2.api={requestAnimationFrame:c,cancelAnimationFrame:f,createCanvas:function(){return Hk.createCanvas()}},h=tt(tt({},l),S2.sliceImage(l.img,l.tileSize[0],l.tileSize[0],s)),Ni.update(l.img.src,h,o),v.abrupt("return",h);case 8:case"end":return v.stop()}},n,this)}));function r(n,i,a,s){return t.apply(this,arguments)}return r}()},{key:"releaseImage",value:function(r,n){Ni.release(At(r)?r:r.src,n)}},{key:"releaseImageRef",value:function(r){Ni.releaseRef(r)}},{key:"getOrCreatePatternSync",value:function(r,n,i,a,s,o,l){var u=this.generatePatternKey(n);if(u&&this.patternCache[u])return this.patternCache[u];var c=n.image,f=n.repetition,h=n.transform,d,v=!1;if(At(c)){var p=this.getImageSync(c,r,l);d=p?.img}else a?(d=a,v=!0):d=c;var g=d&&i.createPattern(d,f);if(g){var m;h?m=lz(tz(h),new Pr({})):m=qi(gt()),v&&vB(m,m,[1/s,1/s,1]),g.setTransform({a:m[0],b:m[1],c:m[4],d:m[5],e:m[12]+o[0],f:m[13]+o[1]})}return u&&g&&(this.patternCache[u]=g),g}},{key:"getOrCreateGradient",value:function(r,n){var i=this.generateGradientKey(r),a=r.type,s=r.steps,o=r.min,l=r.width,u=r.height,c=r.angle,f=r.cx,h=r.cy,d=r.size;if(this.gradientCache[i])return this.gradientCache[i];var v=null;if(a===ko.LinearGradient){var p=zse(o,l,u,c),g=p.x1,m=p.y1,y=p.x2,b=p.y2;v=n.createLinearGradient(g,m,y,b)}else if(a===ko.RadialGradient){var _=Gse(o,l,u,f,h,d),x=_.x,E=_.y,w=_.r;v=n.createRadialGradient(x,E,0,x,E,w)}return v&&(s.forEach(function(S){var A=S.offset,P=S.color;if(A.unit===$e.kPercentage){var O;(O=v)===null||O===void 0||O.addColorStop(A.value/100,P.toString())}}),this.gradientCache[i]=v),this.gradientCache[i]}},{key:"generateGradientKey",value:function(r){var n=r.type,i=r.min,a=r.width,s=r.height,o=r.steps,l=r.angle,u=r.cx,c=r.cy,f=r.size;return"gradient-".concat(n,"-").concat(l?.toString()||0,"-").concat(u?.toString()||0,"-").concat(c?.toString()||0,"-").concat(f?.toString()||0,"-").concat(i[0],"-").concat(i[1],"-").concat(a,"-").concat(s,"-").concat(o.map(function(h){var d=h.offset,v=h.color;return"".concat(d).concat(v)}).join("-"))}},{key:"generatePatternKey",value:function(r){var n=r.image,i=r.repetition;if(At(n))return"pattern-".concat(n,"-").concat(i);if(n.nodeName==="rect")return"pattern-".concat(n.entity,"-").concat(i)}}])}();Xk.isSupportTile=!!Hk.createCanvas();function Od(e){if(!e.complete)return[0,0];var t=e.naturalWidth||e.width,r=e.naturalHeight||e.height,n=256;return[256,512].forEach(function(i){var a=Math.ceil(r/i),s=Math.ceil(t/i);a*s<1e3&&(n=i)}),[n,n]}var vz=function(){function e(){ae(this,e)}return se(e,[{key:"apply",value:function(r){var n=r.renderingService,i=r.renderingContext,a=r.imagePool,s=i.root.ownerDocument.defaultView,o=function(f,h,d){var v=f.parsedStyle,p=v.width,g=v.height;p&&!g?f.setAttribute("height",d/h*p):!p&&g&&f.setAttribute("width",h/d*g)},l=function(f){var h=f.target,d=h.nodeName,v=h.attributes;if(d===Se.IMAGE){var p=v.src,g=v.keepAspectRatio;a.getImageSync(p,h,function(m){var y=m.img,b=y.width,_=y.height;g&&o(h,b,_),h.renderable.dirty=!0,n.dirtify()})}},u=function(f){var h=f.target,d=f.attrName,v=f.prevValue,p=f.newValue;h.nodeName!==Se.IMAGE||d!=="src"||(v!==p&&a.releaseImage(v,h),At(p)&&a.getOrCreateImage(p,h).then(function(g){var m=g.img,y=m.width,b=m.height;h.attributes.keepAspectRatio&&o(h,y,b),h.renderable.dirty=!0,n.dirtify()}).catch(function(){}))};n.hooks.init.tap(e.tag,function(){s.addEventListener(Lt.MOUNTED,l),s.addEventListener(Lt.ATTR_MODIFIED,u)}),n.hooks.destroy.tap(e.tag,function(){s.removeEventListener(Lt.MOUNTED,l),s.removeEventListener(Lt.ATTR_MODIFIED,u)})}}])}();vz.tag="LoadImage";var nce=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.name="image-loader",r}return Xe(t,e),se(t,[{key:"init",value:function(n){this.context.imagePool=new Xk(this.context,n),this.addRenderingPlugin(new vz)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Uo);/*!
 * @antv/g-plugin-canvas-renderer
 * @description A G plugin of renderer implementation with Canvas2D API
 * @version 2.2.22
 * @date 5/9/2025, 8:21:12 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Fr=tce("renderState"),pz=function(){function e(t){ae(this,e),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,Fr,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=gt(),this.dprMatrix=gt(),this.tmpMat4=gt(),this.vec3a=at(),this.vec3b=at(),this.vec3c=at(),this.vec3d=at(),this.canvasRendererPluginOptions=t}return se(e,[{key:"apply",value:function(r,n){var i=this;this.context=r;var a=this.context,s=a.config,o=a.camera,l=a.renderingService,u=a.renderingContext,c=a.rBushRoot,f=a.pathGeneratorFactory,h=s.renderer.getConfig().enableRenderingOptimization;s.renderer.getConfig().enableDirtyCheck=!1,s.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=c,this.pathGeneratorFactory=f;var d=r.contextService,v=u.root.ownerDocument.defaultView,p=function(b){var _=b.target,x=_.rBushNode;x.aabb&&i.removedRBushNodeAABBs.push(x.aabb)},g=function(b){var _=b.target,x=_.rBushNode;x.aabb&&i.removedRBushNodeAABBs.push(x.aabb)};l.hooks.init.tap(e.tag,function(){v.addEventListener(Lt.UNMOUNTED,p),v.addEventListener(Lt.CULLED,g);var y=d.getDPR(),b=s.width,_=s.height,x=d.getContext();i.clearRect(x,0,0,b*y,_*y,s.background)}),l.hooks.destroy.tap(e.tag,function(){v.removeEventListener(Lt.UNMOUNTED,p),v.removeEventListener(Lt.CULLED,g),i.renderQueue=[],i.removedRBushNodeAABBs=[],Xa(i,Fr)[Fr]={restoreStack:[],prevObject:null,currentContext:null}}),l.hooks.beginFrame.tap(e.tag,function(){var y,b=d.getContext(),_=d.getDPR(),x=s.width,E=s.height,w=i.canvasRendererPluginOptions,S=w.dirtyObjectNumThreshold,A=w.dirtyObjectRatioThreshold,P=l.getStats(),O=P.total,C=P.rendered,L=C/O;i.clearFullScreen=i.clearFullScreenLastFrame||!((y=v.context.renderingPlugins[1])!==null&&y!==void 0&&y.isFirstTimeRenderingFinished)||l.disableDirtyRectangleRendering()||C>S&&L>A,b&&(typeof b.resetTransform=="function"?b.resetTransform():b.setTransform(1,0,0,1,0,0),i.clearFullScreen&&i.clearRect(b,0,0,x*_,E*_,s.background))});var m=function(b,_){for(var x=[b];x.length>0;){var E,w=x.pop();w.isVisible()&&!w.isCulled()&&(h?i.renderDisplayObjectOptimized(w,_,i.context,Xa(i,Fr)[Fr],n):i.renderDisplayObject(w,_,i.context,Xa(i,Fr)[Fr],n));for(var S=((E=w.sortable)===null||E===void 0||(E=E.sorted)===null||E===void 0?void 0:E.length)>0?w.sortable.sorted:w.childNodes,A=S.length-1;A>=0;A--)x.push(S[A])}};l.hooks.endFrame.tap(e.tag,function(){if(u.root.childNodes.length===0){i.clearFullScreenLastFrame=!0;return}h=s.renderer.getConfig().enableRenderingOptimization,Xa(i,Fr)[Fr]={restoreStack:[],prevObject:null,currentContext:Xa(i,Fr)[Fr].currentContext},Xa(i,Fr)[Fr].currentContext.clear(),i.clearFullScreenLastFrame=!1;var y=d.getContext(),b=d.getDPR();if(ea(i.dprMatrix,[b,b,1]),Nr(i.vpMatrix,i.dprMatrix,o.getOrthoMatrix()),i.clearFullScreen)h?(y.save(),m(u.root,y),y.restore()):m(u.root,y),i.removedRBushNodeAABBs=[];else{var _=i.safeMergeAABB.apply(i,[i.mergeDirtyAABBs(i.renderQueue)].concat(it(i.removedRBushNodeAABBs.map(function(Y){var fe=Y.minX,Q=Y.minY,oe=Y.maxX,ye=Y.maxY,we=new rn;return we.setMinMax([fe,Q,0],[oe,ye,0]),we}))));if(i.removedRBushNodeAABBs=[],rn.isEmpty(_)){i.renderQueue=[];return}var x=i.convertAABB2Rect(_),E=x.x,w=x.y,S=x.width,A=x.height,P=zr(i.vec3a,[E,w,0],i.vpMatrix),O=zr(i.vec3b,[E+S,w,0],i.vpMatrix),C=zr(i.vec3c,[E,w+A,0],i.vpMatrix),L=zr(i.vec3d,[E+S,w+A,0],i.vpMatrix),I=Math.min(P[0],O[0],L[0],C[0]),F=Math.min(P[1],O[1],L[1],C[1]),U=Math.max(P[0],O[0],L[0],C[0]),G=Math.max(P[1],O[1],L[1],C[1]),z=Math.floor(I),Z=Math.floor(F),ge=Math.ceil(U-I),xe=Math.ceil(G-F);y.save(),i.clearRect(y,z,Z,ge,xe,s.background),y.beginPath(),y.rect(z,Z,ge,xe),y.clip(),y.setTransform(i.vpMatrix[0],i.vpMatrix[1],i.vpMatrix[4],i.vpMatrix[5],i.vpMatrix[12],i.vpMatrix[13]);var ve=s.renderer.getConfig(),je=ve.enableDirtyRectangleRenderingDebug;je&&v.dispatchEvent(new xs(Ju.DIRTY_RECTANGLE,{dirtyRect:{x:z,y:Z,width:ge,height:xe}}));var te=i.searchDirtyObjects(_);te.sort(function(Y,fe){return Y.sortable.renderOrder-fe.sortable.renderOrder}).forEach(function(Y){Y&&Y.isVisible()&&!Y.isCulled()&&i.renderDisplayObject(Y,y,i.context,Xa(i,Fr)[Fr],n)}),y.restore(),i.renderQueue.forEach(function(Y){i.saveDirtyAABB(Y)}),i.renderQueue=[]}Xa(i,Fr)[Fr].restoreStack.forEach(function(){y.restore()}),Xa(i,Fr)[Fr].restoreStack=[]}),l.hooks.render.tap(e.tag,function(y){i.clearFullScreen||i.renderQueue.push(y)})}},{key:"clearRect",value:function(r,n,i,a,s,o){r.clearRect(n,i,a,s),o&&(r.fillStyle=o,r.fillRect(n,i,a,s))}},{key:"renderDisplayObjectOptimized",value:function(r,n,i,a,s){var o=r.nodeName,l=!1,u=!1,c=this.context.styleRendererFactory[o],f=this.pathGeneratorFactory[o],h=r.parsedStyle.clipPath;if(h){l=!a.prevObject||!XE(h.getWorldTransform(),a.prevObject.getWorldTransform()),l&&(this.applyWorldTransform(n,h),a.prevObject=null);var d=this.pathGeneratorFactory[h.nodeName];d&&(n.save(),u=!0,n.beginPath(),d(n,h.parsedStyle),n.closePath(),n.clip())}if(c){l=!a.prevObject||!XE(r.getWorldTransform(),a.prevObject.getWorldTransform()),l&&this.applyWorldTransform(n,r);var v=!a.prevObject;if(!v){var p=a.prevObject.nodeName;o===Se.TEXT?v=p!==Se.TEXT:o===Se.IMAGE?v=p!==Se.IMAGE:v=p===Se.TEXT||p===Se.IMAGE}c.applyStyleToContext(n,r,v,a),a.prevObject=r}f&&(n.beginPath(),f(n,r.parsedStyle),o!==Se.LINE&&o!==Se.PATH&&o!==Se.POLYLINE&&n.closePath()),c&&c.drawToContext(n,r,Xa(this,Fr)[Fr],this,s),u&&n.restore(),r.renderable.dirty=!1}},{key:"renderDisplayObject",value:function(r,n,i,a,s){var o=r.nodeName,l=a.restoreStack[a.restoreStack.length-1];l&&!(r.compareDocumentPosition(l)&Ho.DOCUMENT_POSITION_CONTAINS)&&(n.restore(),a.restoreStack.pop());var u=this.context.styleRendererFactory[o],c=this.pathGeneratorFactory[o],f=r.parsedStyle.clipPath;if(f){this.applyWorldTransform(n,f);var h=this.pathGeneratorFactory[f.nodeName];h&&(n.save(),a.restoreStack.push(r),n.beginPath(),h(n,f.parsedStyle),n.closePath(),n.clip())}u&&(this.applyWorldTransform(n,r),n.save(),this.applyAttributesToContext(n,r)),c&&(n.beginPath(),c(n,r.parsedStyle),o!==Se.LINE&&o!==Se.PATH&&o!==Se.POLYLINE&&n.closePath()),u&&(u.render(n,r.parsedStyle,r,i,this,s),n.restore()),r.renderable.dirty=!1}},{key:"applyAttributesToContext",value:function(r,n){var i=n.parsedStyle,a=i.stroke,s=i.fill,o=i.opacity,l=i.lineDash,u=i.lineDashOffset;l&&r.setLineDash(l),Ze(u)||(r.lineDashOffset=u),Ze(o)||(r.globalAlpha*=o),!Ze(a)&&!Array.isArray(a)&&!a.isNone&&(r.strokeStyle=n.attributes.stroke),!Ze(s)&&!Array.isArray(s)&&!s.isNone&&(r.fillStyle=n.attributes.fill)}},{key:"convertAABB2Rect",value:function(r){var n=r.getMin(),i=r.getMax(),a=Math.floor(n[0]),s=Math.floor(n[1]),o=Math.ceil(i[0]),l=Math.ceil(i[1]),u=o-a,c=l-s;return{x:a,y:s,width:u,height:c}}},{key:"mergeDirtyAABBs",value:function(r){var n=new rn;return r.forEach(function(i){var a=i.getRenderBounds();n.add(a);var s=i.renderable.dirtyRenderBounds;s&&n.add(s)}),n}},{key:"searchDirtyObjects",value:function(r){var n=r.getMin(),i=Je(n,2),a=i[0],s=i[1],o=r.getMax(),l=Je(o,2),u=l[0],c=l[1],f=this.rBush.search({minX:a,minY:s,maxX:u,maxY:c});return f.map(function(h){var d=h.displayObject;return d})}},{key:"saveDirtyAABB",value:function(r){var n=r.renderable;n.dirtyRenderBounds||(n.dirtyRenderBounds=new rn);var i=r.getRenderBounds();i&&n.dirtyRenderBounds.update(i.center,i.halfExtents)}},{key:"applyWorldTransform",value:function(r,n,i){i?(Qs(this.tmpMat4,n.getLocalTransform()),Nr(this.tmpMat4,i,this.tmpMat4),Nr(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(Qs(this.tmpMat4,n.getWorldTransform()),Nr(this.tmpMat4,this.vpMatrix,this.tmpMat4)),r.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var r=new rn,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return i.forEach(function(s){r.add(s)}),r}}])}();pz.tag="CanvasRenderer";function rp(e,t,r,n,i,a,s){var o,l;if(e.image.nodeName==="rect"){var u=e.image.parsedStyle,c=u.width,f=u.height;l=n.contextService.getDPR();var h=n.config.offscreenCanvas;o=a.offscreenCanvasCreator.getOrCreateCanvas(h),o.width=c*l,o.height=f*l;var d=a.offscreenCanvasCreator.getOrCreateContext(h),v={restoreStack:[],prevObject:null,currentContext:new Map};e.image.forEach(function(g){i.renderDisplayObject(g,d,n,v,a)}),v.restoreStack.forEach(function(){d.restore()})}var p=s.getOrCreatePatternSync(t,e,r,o,l,t.getGeometryBounds().min,function(){t.renderable.dirty=!0,n.renderingService.dirtify()});return p}function np(e,t,r,n){var i;if(e.type===ko.LinearGradient||e.type===ko.RadialGradient){var a=t.getGeometryBounds(),s=a&&a.halfExtents[0]*2||1,o=a&&a.halfExtents[1]*2||1,l=a&&a.min||[0,0];i=n.getOrCreateGradient(tt(tt({type:e.type},e.value),{},{min:l,width:s,height:o}),r)}return i}var Cd=["shadowBlur","shadowOffsetX","shadowOffsetY"],gP=["lineCap","lineJoin","miterLimit"],Vr={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},mP={};function _r(e,t,r,n){var i=n.has(t)?n.get(t):Vr[t];return i!==r&&(t==="lineDash"?e.setLineDash(r):e[t]=r,n.set(t,r)),i}var ice=function(){function e(t){ae(this,e),this.imagePool=t}return se(e,[{key:"applyAttributesToContext",value:function(r,n){}},{key:"render",value:function(r,n,i,a,s,o){}},{key:"applyCommonStyleToContext",value:function(r,n,i,a){var s=i?mP:a.prevObject.parsedStyle,o=n.parsedStyle;(i||o.opacity!==s.opacity)&&_r(r,"globalAlpha",Ze(o.opacity)?Vr.globalAlpha:o.opacity,a.currentContext),(i||o.blend!==s.blend)&&_r(r,"globalCompositeOperation",Ze(o.blend)?Vr.globalCompositeOperation:o.blend,a.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(r,n,i,a){var s=i?mP:a.prevObject.parsedStyle,o=n.parsedStyle,l=o.lineWidth,u=l===void 0?Vr.lineWidth:l,c=o.fill&&!o.fill.isNone,f=o.stroke&&!o.stroke.isNone&&u>0;if(f){if(i||n.attributes.stroke!==a.prevObject.attributes.stroke){var h=!Ze(o.stroke)&&!Array.isArray(o.stroke)&&!o.stroke.isNone?n.attributes.stroke:Vr.strokeStyle;_r(r,"strokeStyle",h,a.currentContext)}(i||o.lineWidth!==s.lineWidth)&&_r(r,"lineWidth",Ze(o.lineWidth)?Vr.lineWidth:o.lineWidth,a.currentContext),(i||o.lineDash!==s.lineDash)&&_r(r,"lineDash",o.lineDash||Vr.lineDash,a.currentContext),(i||o.lineDashOffset!==s.lineDashOffset)&&_r(r,"lineDashOffset",Ze(o.lineDashOffset)?Vr.lineDashOffset:o.lineDashOffset,a.currentContext);for(var d=0;d<gP.length;d++){var v=gP[d];(i||o[v]!==s[v])&&_r(r,v,Ze(o[v])?Vr[v]:o[v],a.currentContext)}}if(c&&(i||n.attributes.fill!==a.prevObject.attributes.fill)){var p=!Ze(o.fill)&&!Array.isArray(o.fill)&&!o.fill.isNone?n.attributes.fill:Vr.fillStyle;_r(r,"fillStyle",p,a.currentContext)}}},{key:"applyStyleToContext",value:function(r,n,i,a){var s=n.nodeName;this.applyCommonStyleToContext(r,n,i,a),s===Se.IMAGE||this.applyStrokeFillStyleToContext(r,n,i,a)}},{key:"applyShadowAndFilterStyleToContext",value:function(r,n,i,a){var s=n.parsedStyle;if(i){_r(r,"shadowColor",s.shadowColor.toString(),a.currentContext);for(var o=0;o<Cd.length;o++){var l=Cd[o];_r(r,l,s[l]||Vr[l],a.currentContext)}}s.filter&&s.filter.length&&_r(r,"filter",n.attributes.filter,a.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(r,n,i,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(n){_r(r,"shadowColor",Vr.shadowColor,a.currentContext);for(var o=0;o<Cd.length;o++){var l=Cd[o];_r(r,l,Vr[l],a.currentContext)}}if(i)if(n&&s){var u=r.filter;!Ze(u)&&u.indexOf("drop-shadow")>-1&&_r(r,"filter",u.replace(/drop-shadow\([^)]*\)/,"").trim()||Vr.filter,a.currentContext)}else _r(r,"filter",Vr.filter,a.currentContext)}},{key:"fillToContext",value:function(r,n,i,a,s){var o=this,l=n.parsedStyle,u=l.fill,c=l.fillRule,f=null;if(Array.isArray(u)&&u.length>0)u.forEach(function(d){var v=_r(r,"fillStyle",np(d,n,r,o.imagePool),i.currentContext);f=f??v,c?r.fill(c):r.fill()});else{if(zl(u)){var h=rp(u,n,r,n.ownerDocument.defaultView.context,a,s,this.imagePool);h&&(r.fillStyle=h,f=!0)}c?r.fill(c):r.fill()}f!==null&&_r(r,"fillStyle",f,i.currentContext)}},{key:"strokeToContext",value:function(r,n,i,a,s){var o=this,l=n.parsedStyle.stroke,u=null;if(Array.isArray(l)&&l.length>0)l.forEach(function(h){var d=_r(r,"strokeStyle",np(h,n,r,o.imagePool),i.currentContext);u=u??d,r.stroke()});else{if(zl(l)){var c=rp(l,n,r,n.ownerDocument.defaultView.context,a,s,this.imagePool);if(c){var f=_r(r,"strokeStyle",c,i.currentContext);u=u??f}}r.stroke()}u!==null&&_r(r,"strokeStyle",u,i.currentContext)}},{key:"drawToContext",value:function(r,n,i,a,s){var o,l=n.nodeName,u=n.parsedStyle,c=u.opacity,f=c===void 0?Vr.globalAlpha:c,h=u.fillOpacity,d=h===void 0?Vr.fillOpacity:h,v=u.strokeOpacity,p=v===void 0?Vr.strokeOpacity:v,g=u.lineWidth,m=g===void 0?Vr.lineWidth:g,y=u.fill&&!u.fill.isNone,b=u.stroke&&!u.stroke.isNone&&m>0;if(!(!y&&!b)){var _=!Ze(u.shadowColor)&&u.shadowBlur>0,x=u.shadowType==="inner",E=((o=u.fill)===null||o===void 0?void 0:o.alpha)===0,w=!!(u.filter&&u.filter.length),S=_&&b&&(l===Se.PATH||l===Se.LINE||l===Se.POLYLINE||E||x),A=null;if(y){S||this.applyShadowAndFilterStyleToContext(r,n,_,i);var P=f*d;A=_r(r,"globalAlpha",P,i.currentContext),this.fillToContext(r,n,i,a,s),S||this.clearShadowAndFilterStyleForContext(r,_,w,i)}if(b){var O=!1,C=f*p,L=_r(r,"globalAlpha",C,i.currentContext);if(A=y?A:L,S&&(this.applyShadowAndFilterStyleToContext(r,n,_,i),O=!0,x)){var I=r.globalCompositeOperation;r.globalCompositeOperation="source-atop",this.strokeToContext(r,n,i,a,s),r.globalCompositeOperation=I,this.clearShadowAndFilterStyleForContext(r,_,w,i,!0)}this.strokeToContext(r,n,i,a,s),O&&this.clearShadowAndFilterStyleForContext(r,_,w,i)}A!==null&&_r(r,"globalAlpha",A,i.currentContext)}}}])}(),Kk=function(e){function t(){return ae(this,t),Ye(this,t,arguments)}return Xe(t,e),se(t,[{key:"render",value:function(n,i,a,s,o,l){var u=i.fill,c=i.fillRule,f=i.opacity,h=f===void 0?1:f,d=i.fillOpacity,v=d===void 0?1:d,p=i.stroke,g=i.strokeOpacity,m=g===void 0?1:g,y=i.lineWidth,b=y===void 0?1:y,_=i.lineCap,x=i.lineJoin,E=i.shadowType,w=i.shadowColor,S=i.shadowBlur,A=i.filter,P=i.miterLimit,O=u&&!u.isNone,C=p&&!p.isNone&&b>0,L=u?.alpha===0,I=!!(A&&A.length),F=!Ze(w)&&S>0,U=a.nodeName,G=E==="inner",z=C&&F&&(U===Se.PATH||U===Se.LINE||U===Se.POLYLINE||L||G);O&&(n.globalAlpha=h*v,z||ip(a,n,F),gz(n,a,u,c,s,o,l,this.imagePool),z||this.clearShadowAndFilter(n,I,F)),C&&(n.globalAlpha=h*m,n.lineWidth=b,Ze(P)||(n.miterLimit=P),Ze(_)||(n.lineCap=_),Ze(x)||(n.lineJoin=x),z&&(G&&(n.globalCompositeOperation="source-atop"),ip(a,n,!0),G&&(T2(n,a,p,s,o,l,this.imagePool),n.globalCompositeOperation=Vr.globalCompositeOperation,this.clearShadowAndFilter(n,I,!0))),T2(n,a,p,s,o,l,this.imagePool))}},{key:"clearShadowAndFilter",value:function(n,i,a){if(a&&(n.shadowColor="transparent",n.shadowBlur=0),i){var s=n.filter;!Ze(s)&&s.indexOf("drop-shadow")>-1&&(n.filter=s.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(ice);function ip(e,t,r){var n=e.parsedStyle,i=n.filter,a=n.shadowColor,s=n.shadowBlur,o=n.shadowOffsetX,l=n.shadowOffsetY;i&&i.length&&(t.filter=e.style.filter),r&&(t.shadowColor=a.toString(),t.shadowBlur=s||0,t.shadowOffsetX=o||0,t.shadowOffsetY=l||0)}function gz(e,t,r,n,i,a,s,o){var l=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(r)?r.forEach(function(u){e.fillStyle=np(u,t,e,o),l||(n?e.fill(n):e.fill())}):(zl(r)&&(e.fillStyle=rp(r,t,e,i,a,s,o)),l||(n?e.fill(n):e.fill()))}function T2(e,t,r,n,i,a,s){var o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(r)?r.forEach(function(l){e.strokeStyle=np(l,t,e,s),o||e.stroke()}):(zl(r)&&(e.strokeStyle=rp(r,t,e,n,i,a,s)),o||e.stroke())}function ace(e,t){var r=Je(e,4),n=r[0],i=r[1],a=r[2],s=r[3],o=Je(t,4),l=o[0],u=o[1],c=o[2],f=o[3],h=Math.max(n,l),d=Math.max(i,u),v=Math.min(n+a,l+c),p=Math.min(i+s,u+f);return v<=h||p<=d?null:[h,d,v-h,p-d]}function sce(e,t){var r=zr(at(),[e[0],e[1],0],t),n=zr(at(),[e[0]+e[2],e[1],0],t),i=zr(at(),[e[0],e[1]+e[3],0],t),a=zr(at(),[e[0]+e[2],e[1]+e[3],0],t);return[Math.min(r[0],n[0],i[0],a[0]),Math.min(r[1],n[1],i[1],a[1]),Math.max(r[0],n[0],i[0],a[0])-Math.min(r[0],n[0],i[0],a[0]),Math.max(r[1],n[1],i[1],a[1])-Math.min(r[1],n[1],i[1],a[1])]}var oce=function(e){function t(){return ae(this,t),Ye(this,t,arguments)}return Xe(t,e),se(t,[{key:"renderDownSampled",value:function(n,i,a,s){var o=s.src,l=s.imageCache;if(!l.downSampled){this.imagePool.createDownSampledImage(o,a).then(function(){a.ownerDocument&&(a.renderable.dirty=!0,a.ownerDocument.defaultView.context.renderingService.dirtify())}).catch(function(u){console.error(u)});return}n.drawImage(l.downSampled,Math.floor(s.drawRect[0]),Math.floor(s.drawRect[1]),Math.ceil(s.drawRect[2]),Math.ceil(s.drawRect[3]))}},{key:"renderTile",value:function(n,i,a,s){var o=s.src,l=s.imageCache,u=s.imageRect,c=s.drawRect,f=l.size,h=n.getTransform(),d=h.a,v=h.b,p=h.c,g=h.d,m=h.e,y=h.f;if(n.resetTransform(),!(l!=null&&l.gridSize)){this.imagePool.createImageTiles(o,[],function(){a.ownerDocument&&(a.renderable.dirty=!0,a.ownerDocument.defaultView.context.renderingService.dirtify())},a).catch(function(F){console.error(F)});return}for(var b=[f[0]/u[2],f[1]/u[3]],_=[l.tileSize[0]/b[0],l.tileSize[1]/b[1]],x=[Math.floor((c[0]-u[0])/_[0]),Math.ceil((c[0]+c[2]-u[0])/_[0])],E=x[0],w=x[1],S=[Math.floor((c[1]-u[1])/_[1]),Math.ceil((c[1]+c[3]-u[1])/_[1])],A=S[0],P=S[1],O=A;O<=P;O++)for(var C=E;C<=w;C++){var L=l.tiles[O][C];if(L){var I=[Math.floor(u[0]+L.tileX*_[0]),Math.floor(u[1]+L.tileY*_[1]),Math.ceil(_[0]),Math.ceil(_[1])];n.drawImage(L.data,I[0],I[1],I[2],I[3])}}n.setTransform(d,v,p,g,m,y)}},{key:"render",value:function(n,i,a){var s=i.x,o=s===void 0?0:s,l=i.y,u=l===void 0?0:l,c=i.width,f=i.height,h=i.src,d=i.shadowColor,v=i.shadowBlur,p=this.imagePool.getImageSync(h,a),g=p?.img,m=c,y=f;if(g){m||(m=g.width),y||(y=g.height);var b=!Ze(d)&&v>0;ip(a,n,b);try{var _=a.ownerDocument.defaultView.getContextService().getDomElement(),x=_.width,E=_.height,w=n.getTransform(),S=w.a,A=w.b,P=w.c,O=w.d,C=w.e,L=w.f,I=dB(S,P,0,0,A,O,0,0,0,0,1,0,C,L,0,1),F=sce([o,u,m,y],I),U=ace([0,0,x,E],F);if(!U)return;if(!a.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){t.renderFull(n,i,a,{image:g,drawRect:[o,u,m,y]});return}var G=F[2]/p.size[0];if(G<(p.downSamplingRate||.5)){this.renderDownSampled(n,i,a,{src:h,imageCache:p,drawRect:[o,u,m,y]});return}if(!Xk.isSupportTile){t.renderFull(n,i,a,{image:g,drawRect:[o,u,m,y]});return}this.renderTile(n,i,a,{src:h,imageCache:p,imageRect:F,drawRect:U})}catch{}}}},{key:"drawToContext",value:function(n,i,a,s,o){this.render(n,i.parsedStyle,i)}}],[{key:"renderFull",value:function(n,i,a,s){n.drawImage(s.image,Math.floor(s.drawRect[0]),Math.floor(s.drawRect[1]),Math.ceil(s.drawRect[2]),Math.ceil(s.drawRect[3]))}}])}(Kk),lce=function(e){function t(){return ae(this,t),Ye(this,t,arguments)}return Xe(t,e),se(t,[{key:"render",value:function(n,i,a,s,o,l){a.getBounds();var u=i.lineWidth,c=u===void 0?1:u,f=i.textAlign,h=f===void 0?"start":f,d=i.textBaseline,v=d===void 0?"alphabetic":d,p=i.lineJoin,g=p===void 0?"miter":p,m=i.miterLimit,y=m===void 0?10:m,b=i.letterSpacing,_=b===void 0?0:b,x=i.stroke,E=i.fill,w=i.fillRule,S=i.fillOpacity,A=S===void 0?1:S,P=i.strokeOpacity,O=P===void 0?1:P,C=i.opacity,L=C===void 0?1:C,I=i.metrics,F=i.x,U=F===void 0?0:F,G=i.y,z=G===void 0?0:G,Z=i.dx,ge=i.dy,xe=i.shadowColor,ve=i.shadowBlur,je=I.font,te=I.lines,Y=I.height,fe=I.lineHeight,Q=I.lineMetrics;n.font=je,n.lineWidth=c,n.textAlign=h==="middle"?"center":h;var oe=v;oe==="alphabetic"&&(oe="bottom"),n.lineJoin=g,Ze(y)||(n.miterLimit=y);var ye=z;v==="middle"?ye+=-Y/2-fe/2:v==="bottom"||v==="alphabetic"||v==="ideographic"?ye+=-Y:(v==="top"||v==="hanging")&&(ye+=-fe);var we=U+(Z||0);ye+=ge||0,te.length===1&&(oe==="bottom"?(oe="middle",ye-=.5*Y):oe==="top"&&(oe="middle",ye+=.5*Y)),n.textBaseline=oe;var Ae=!Ze(xe)&&ve>0;ip(a,n,Ae);for(var H=0;H<te.length;H++){var K=c/2+we;ye+=fe,!Ze(x)&&!x.isNone&&c&&this.drawLetterSpacing(n,a,te[H],Q[H],h,K,ye,_,E,w,A,x,O,L,!0,s,o,l),Ze(E)||this.drawLetterSpacing(n,a,te[H],Q[H],h,K,ye,_,E,w,A,x,O,L,!1,s,o,l)}}},{key:"drawLetterSpacing",value:function(n,i,a,s,o,l,u,c,f,h,d,v,p,g,m,y,b,_){if(c===0){m?this.strokeText(n,i,a,l,u,v,p,y,b,_):this.fillText(n,i,a,l,u,f,h,d,g,y,b,_);return}var x=n.textAlign;n.textAlign="left";var E=l;o==="center"||o==="middle"?E=l-s.width/2:(o==="right"||o==="end")&&(E=l-s.width);for(var w=Array.from(a),S=n.measureText(a).width,A=0,P=0;P<w.length;++P){var O=w[P];m?this.strokeText(n,i,O,E,u,v,p,y,b,_):this.fillText(n,i,O,E,u,f,h,d,g,y,b,_),A=n.measureText(a.substring(P+1)).width,E+=S-A+c,S=A}n.textAlign=x}},{key:"fillText",value:function(n,i,a,s,o,l,u,c,f,h,d,v){gz(n,i,l,u,h,d,v,this.imagePool,!0);var p,g=!Ze(c)&&c!==1;g&&(p=n.globalAlpha,n.globalAlpha=c*f),n.fillText(a,s,o),g&&(n.globalAlpha=p)}},{key:"strokeText",value:function(n,i,a,s,o,l,u,c,f,h){T2(n,i,l,c,f,h,this.imagePool,!0);var d,v=!Ze(u)&&u!==1;v&&(d=n.globalAlpha,n.globalAlpha=u),n.strokeText(a,s,o),v&&(n.globalAlpha=d)}},{key:"drawToContext",value:function(n,i,a,s,o){this.render(n,i.parsedStyle,i,i.ownerDocument.defaultView.context,s,o)}}])}(Kk),uce=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ae(this,t),r=Ye(this,t),r.name="canvas-renderer",r.options=n,r}return Xe(t,e),se(t,[{key:"init",value:function(){var n,i=tt({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),a=this.context.imagePool,s=new Kk(a),o=(n={},Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(n,Se.CIRCLE,s),Se.ELLIPSE,s),Se.RECT,s),Se.IMAGE,new oce(a)),Se.TEXT,new lce(a)),Se.LINE,s),Se.POLYLINE,s),Se.POLYGON,s),Se.PATH,s),Se.GROUP,void 0),Me(Me(Me(n,Se.HTML,void 0),Se.MESH,void 0),Se.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=o,this.context.styleRendererFactory=o,this.addRenderingPlugin(new pz(i))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(Uo);/*!
 * @antv/g-plugin-dom-interaction
 * @description A G plugin
 * @version 2.1.24
 * @date 5/9/2025, 8:20:12 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var mz=function(){function e(){ae(this,e)}return se(e,[{key:"apply",value:function(r,n){var i=this,a=r.renderingService,s=r.renderingContext,o=r.config;this.context=r;var l=s.root.ownerDocument.defaultView,u=function(S){a.hooks.pointerMove.call(S)},c=function(S){a.hooks.pointerUp.call(S)},f=function(S){a.hooks.pointerDown.call(S)},h=function(S){a.hooks.pointerOver.call(S)},d=function(S){a.hooks.pointerOut.call(S)},v=function(S){a.hooks.pointerCancel.call(S)},p=function(S){a.hooks.pointerWheel.call(S)},g=function(S){a.hooks.click.call(S)},m=function(S){n.globalThis.document.addEventListener("pointermove",u,!0),S.addEventListener("pointerdown",f,!0),S.addEventListener("pointerleave",d,!0),S.addEventListener("pointerover",h,!0),n.globalThis.addEventListener("pointerup",c,!0),n.globalThis.addEventListener("pointercancel",v,!0)},y=function(S){S.addEventListener("touchstart",f,!0),S.addEventListener("touchend",c,!0),S.addEventListener("touchmove",u,!0),S.addEventListener("touchcancel",v,!0)},b=function(S){n.globalThis.document.addEventListener("mousemove",u,!0),S.addEventListener("mousedown",f,!0),S.addEventListener("mouseout",d,!0),S.addEventListener("mouseover",h,!0),n.globalThis.addEventListener("mouseup",c,!0)},_=function(S){n.globalThis.document.removeEventListener("pointermove",u,!0),S.removeEventListener("pointerdown",f,!0),S.removeEventListener("pointerleave",d,!0),S.removeEventListener("pointerover",h,!0),n.globalThis.removeEventListener("pointerup",c,!0),n.globalThis.removeEventListener("pointercancel",v,!0)},x=function(S){S.removeEventListener("touchstart",f,!0),S.removeEventListener("touchend",c,!0),S.removeEventListener("touchmove",u,!0),S.removeEventListener("touchcancel",v,!0)},E=function(S){n.globalThis.document.removeEventListener("mousemove",u,!0),S.removeEventListener("mousedown",f,!0),S.removeEventListener("mouseout",d,!0),S.removeEventListener("mouseover",h,!0),n.globalThis.removeEventListener("mouseup",c,!0)};a.hooks.init.tap(e.tag,function(){var w=i.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(w.style.msContentZooming="none",w.style.msTouchAction="none"):l.supportsPointerEvents&&(w.style.touchAction="none"),l.supportsPointerEvents?m(w):b(w),l.supportsTouchEvents&&y(w),o.useNativeClickEvent&&w.addEventListener("click",g,!0),w.addEventListener("wheel",p,{passive:!0,capture:!0})}),a.hooks.destroy.tap(e.tag,function(){var w=i.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(w.style.msContentZooming="",w.style.msTouchAction=""):l.supportsPointerEvents&&(w.style.touchAction=""),l.supportsPointerEvents?_(w):E(w),l.supportsTouchEvents&&x(w),o.useNativeClickEvent&&w.removeEventListener("click",g,!0),w.removeEventListener("wheel",p,!0)})}}])}();mz.tag="DOMInteraction";var cce=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.name="dom-interaction",r}return Xe(t,e),se(t,[{key:"init",value:function(){this.addRenderingPlugin(new mz)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Uo);/*!
 * @antv/g-plugin-html-renderer
 * @description A G plugin for rendering HTML
 * @version 2.1.24
 * @date 5/9/2025, 8:20:22 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var fce="g-canvas-camera",yz=function(){function e(){ae(this,e),this.displayObjectHTMLElementMap=new WeakMap}return se(e,[{key:"joinTransformMatrix",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([r[0],r[1],r[4],r[5],r[12]+n[0],r[13]+n[1]].join(","),")")}},{key:"apply",value:function(r,n){var i=this,a=r.camera,s=r.renderingContext,o=r.renderingService;this.context=r;var l=s.root.ownerDocument.defaultView,u=l.context.eventService.nativeHTMLMap,c=function(m,y){y.style.transform=i.joinTransformMatrix(m.getWorldTransform(),m.getOrigin())},f=function(m){var y=m.target;if(y.nodeName===Se.HTML){i.$camera||(i.$camera=i.createCamera(a));var b=i.getOrCreateEl(y);i.$camera.appendChild(b),Object.keys(y.attributes).forEach(function(_){i.updateAttribute(_,y)}),c(y,b),u.set(b,y)}},h=function(m){var y=m.target;if(y.nodeName===Se.HTML&&i.$camera){var b=i.getOrCreateEl(y);b&&(b.remove(),u.delete(b))}},d=function(m){var y=m.target;if(y.nodeName===Se.HTML){var b=m.attrName;i.updateAttribute(b,y)}},v=function(m){var y=m.target,b=y.nodeName===Se.FRAGMENT?y.childNodes:[y];b.forEach(function(_){if(_.nodeName===Se.HTML){var x=i.getOrCreateEl(_);c(_,x)}})},p=function(){if(i.$camera){var m=i.context.config,y=m.width,b=m.height;i.$camera.parentElement.style.width="".concat(y||0,"px"),i.$camera.parentElement.style.height="".concat(b||0,"px")}};o.hooks.init.tap(e.tag,function(){l.addEventListener(Ju.RESIZE,p),l.addEventListener(Lt.MOUNTED,f),l.addEventListener(Lt.UNMOUNTED,h),l.addEventListener(Lt.ATTR_MODIFIED,d),l.addEventListener(Lt.BOUNDS_CHANGED,v)}),o.hooks.endFrame.tap(e.tag,function(){i.$camera&&s.renderReasons.has(cz.CAMERA_CHANGED)&&(i.$camera.style.transform=i.joinTransformMatrix(a.getOrthoMatrix()))}),o.hooks.destroy.tap(e.tag,function(){i.$camera&&i.$camera.remove(),l.removeEventListener(Ju.RESIZE,p),l.removeEventListener(Lt.MOUNTED,f),l.removeEventListener(Lt.UNMOUNTED,h),l.removeEventListener(Lt.ATTR_MODIFIED,d),l.removeEventListener(Lt.BOUNDS_CHANGED,v)})}},{key:"createCamera",value:function(r){var n=this.context.config,i=n.document,a=n.width,s=n.height,o=this.context.contextService.getDomElement(),l=o.parentNode;if(l){var u=fce,c=l.querySelector("#".concat(u));if(!c){var f=(i||document).createElement("div");f.style.overflow="hidden",f.style.pointerEvents="none",f.style.position="absolute",f.style.left="0px",f.style.top="0px",f.style.width="".concat(a||0,"px"),f.style.height="".concat(s||0,"px");var h=(i||document).createElement("div");c=h,h.id=u,h.style.position="absolute",h.style.left="".concat(o.offsetLeft||0,"px"),h.style.top="".concat(o.offsetTop||0,"px"),h.style.transformOrigin="left top",h.style.transform=this.joinTransformMatrix(r.getOrthoMatrix()),h.style.pointerEvents="none",h.style.width="100%",h.style.height="100%",f.appendChild(h),l.appendChild(f)}return c}return null}},{key:"getOrCreateEl",value:function(r){var n=this.context.config.document,i=this.displayObjectHTMLElementMap.get(r);return i||(i=(n||document).createElement("div"),r.parsedStyle.$el=i,this.displayObjectHTMLElementMap.set(r,i),r.id&&(i.id=r.id),r.name&&i.setAttribute("name",r.name),r.className&&(i.className=r.className),i.style.position="absolute",i.style["will-change"]="transform",i.style.transform=this.joinTransformMatrix(r.getWorldTransform(),r.getOrigin())),i}},{key:"updateAttribute",value:function(r,n){var i=this.getOrCreateEl(n);switch(r){case"innerHTML":var a=n.parsedStyle.innerHTML;At(a)?i.innerHTML=a:(i.innerHTML="",i.appendChild(a));break;case"x":i.style.left="".concat(n.parsedStyle.x,"px");break;case"y":i.style.top="".concat(n.parsedStyle.y,"px");break;case"transformOrigin":var s=n.parsedStyle.transformOrigin;i.style["transform-origin"]="".concat(s[0].buildCSSText(null,null,"")," ").concat(s[1].buildCSSText(null,null,""));break;case"width":var o=n.parsedStyle.width;i.style.width=rt(o)?"".concat(o,"px"):o.toString();break;case"height":var l=n.parsedStyle.height;i.style.height=rt(l)?"".concat(l,"px"):l.toString();break;case"zIndex":var u=n.parsedStyle.zIndex;i.style["z-index"]="".concat(u);break;case"visibility":var c=n.parsedStyle.visibility;i.style.visibility=c;break;case"pointerEvents":var f=n.parsedStyle.pointerEvents,h=f===void 0?"auto":f;i.style.pointerEvents=h;break;case"opacity":var d=n.parsedStyle.opacity;i.style.opacity="".concat(d);break;case"fill":var v=n.parsedStyle.fill,p="";ep(v)?v.isNone?p="transparent":p=n.getAttribute("fill"):Array.isArray(v)?p=n.getAttribute("fill"):zl(v),i.style.background=p;break;case"stroke":var g=n.parsedStyle.stroke,m="";ep(g)?g.isNone?m="transparent":m=n.getAttribute("stroke"):Array.isArray(g)?m=n.getAttribute("stroke"):zl(g),i.style["border-color"]=m,i.style["border-style"]="solid";break;case"lineWidth":var y=n.parsedStyle.lineWidth;i.style["border-width"]="".concat(y||0,"px");break;case"lineDash":i.style["border-style"]="dashed";break;case"filter":var b=n.style.filter;i.style.filter=b;break;default:!Ze(n.style[r])&&n.style[r]!==""&&(i.style[r]=n.style[r])}}}])}();yz.tag="HTMLRendering";var hce=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.name="html-renderer",r}return Xe(t,e),se(t,[{key:"init",value:function(){this.addRenderingPlugin(new yz)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Uo);/*!
 * @antv/g-canvas
 * @description A renderer implemented by Canvas 2D API
 * @version 2.0.43
 * @date 5/9/2025, 8:22:49 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var dce=function(){function e(t){ae(this,e),this.renderingContext=t.renderingContext,this.canvasConfig=t.config}return se(e,[{key:"init",value:function(){var r=this.canvasConfig,n=r.container,i=r.canvas;if(i)this.$canvas=i,n&&i.parentElement!==n&&n.appendChild(i),this.$container=i.parentElement,this.canvasConfig.container=this.$container;else if(n&&(this.$container=At(n)?document.getElementById(n):n,this.$container)){var a=document.createElement("canvas");this.$container.appendChild(a),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=a}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(r,n){var i=this.canvasConfig.devicePixelRatio;this.dpr=i,this.$canvas&&(this.$canvas.width=this.dpr*r,this.$canvas.height=this.dpr*n,Hoe(this.$canvas,r,n)),this.renderingContext.renderReasons.add(cz.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(r){this.$container&&this.$container.style&&(this.$container.style.cursor=r)}},{key:"toDataURL",value:function(){var t=Io(Sn().mark(function n(){var i,a,s,o=arguments;return Sn().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=o.length>0&&o[0]!==void 0?o[0]:{},a=i.type,s=i.encoderOptions,u.abrupt("return",this.context.canvas.toDataURL(a,s));case 3:case"end":return u.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()}])}(),vce=function(e){function t(){var r;ae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ye(this,t,[].concat(i)),r.name="canvas-context-register",r}return Xe(t,e),se(t,[{key:"init",value:function(){this.context.ContextService=dce}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(Uo),Nxe=function(e){function t(r){var n;return ae(this,t),n=Ye(this,t,[r]),n.registerPlugin(new vce),n.registerPlugin(new nce),n.registerPlugin(new Lue),n.registerPlugin(new uce),n.registerPlugin(new cce),n.registerPlugin(new Jue),n.registerPlugin(new hce),n}return Xe(t,e),se(t)}(Hae),pce="*",bz=function(){function e(){this._events={}}return e.prototype.on=function(t,r,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:r,once:!!n}),this},e.prototype.once=function(t,r){return this.on(t,r,!0)},e.prototype.emit=function(t){for(var r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=this._events[t]||[],s=this._events[pce]||[],o=function(l){for(var u=l.length,c=0;c<u;c++)if(l[c]){var f=l[c],h=f.callback,d=f.once;d&&(l.splice(c,1),l.length===0&&delete r._events[t],u--,c--),h.apply(r,n)}};o(a),o(s)},e.prototype.off=function(t,r){if(!t)this._events={};else if(!r)delete this._events[t];else{for(var n=this._events[t]||[],i=n.length,a=0;a<i;a++)n[a].callback===r&&(n.splice(a,1),i--,a--);n.length===0&&delete this._events[t]}return this},e.prototype.getEvents=function(){return this._events},e}();function M2(e,t,r,n){for(;e.length;){const i=e.shift();if(r(i))return!0;t.add(i.id),n(i.id).forEach(s=>{t.has(s.id)||(t.add(s.id),e.push(s))})}return!1}function ap(e,t,r,n){if(r(e))return!0;t.add(e.id);for(const a of n(e.id))if(!t.has(a.id)&&ap(a,t,r,n))return!0;return!1}const yP=()=>!0;class gce{graph;nodeFilter;edgeFilter;cacheEnabled;inEdgesMap=new Map;outEdgesMap=new Map;bothEdgesMap=new Map;allNodesMap=new Map;allEdgesMap=new Map;constructor(t){this.graph=t.graph;const r=t.nodeFilter||yP,n=t.edgeFilter||yP;this.nodeFilter=r,this.edgeFilter=i=>{const{source:a,target:s}=this.graph.getEdgeDetail(i.id);return!r(a)||!r(s)?!1:n(i,a,s)},t.cache==="auto"?(this.cacheEnabled=!0,this.startAutoCache()):t.cache==="manual"?this.cacheEnabled=!0:this.cacheEnabled=!1}clearCache=()=>{this.inEdgesMap.clear(),this.outEdgesMap.clear(),this.bothEdgesMap.clear(),this.allNodesMap.clear(),this.allEdgesMap.clear()};refreshCache=()=>{this.clearCache(),this.updateCache(this.graph.getAllNodes().map(t=>t.id))};updateCache=t=>{const r=new Set;t.forEach(n=>{const i=this.bothEdgesMap.get(n);if(i&&i.forEach(a=>r.add(a.id)),!this.hasNode(n))this.inEdgesMap.delete(n),this.outEdgesMap.delete(n),this.bothEdgesMap.delete(n),this.allNodesMap.delete(n);else{const a=this.graph.getRelatedEdges(n,"in").filter(this.edgeFilter),s=this.graph.getRelatedEdges(n,"out").filter(this.edgeFilter),o=Array.from(new Set([...a,...s]));o.forEach(l=>r.add(l.id)),this.inEdgesMap.set(n,a),this.outEdgesMap.set(n,s),this.bothEdgesMap.set(n,o),this.allNodesMap.set(n,this.graph.getNode(n))}}),r.forEach(n=>{this.hasEdge(n)?this.allEdgesMap.set(n,this.graph.getEdge(n)):this.allEdgesMap.delete(n)})};startAutoCache(){this.refreshCache(),this.graph.on("changed",this.handleGraphChanged)}stopAutoCache(){this.graph.off("changed",this.handleGraphChanged)}handleGraphChanged=t=>{const r=new Set;t.changes.forEach(n=>{switch(n.type){case"NodeAdded":r.add(n.value.id);break;case"NodeDataUpdated":r.add(n.id);break;case"EdgeAdded":r.add(n.value.source),r.add(n.value.target);break;case"EdgeUpdated":(n.propertyName==="source"||n.propertyName==="target")&&(r.add(n.oldValue),r.add(n.newValue));break;case"EdgeDataUpdated":if(t.graph.hasEdge(n.id)){const i=t.graph.getEdge(n.id);r.add(i.source),r.add(i.target)}break;case"EdgeRemoved":r.add(n.value.source),r.add(n.value.target);break;case"NodeRemoved":r.add(n.value.id);break}}),this.updateCache(r)};checkNodeExistence(t){this.getNode(t)}hasNode(t){if(!this.graph.hasNode(t))return!1;const r=this.graph.getNode(t);return this.nodeFilter(r)}areNeighbors(t,r){return this.checkNodeExistence(t),this.getNeighbors(r).some(n=>n.id===t)}getNode(t){const r=this.graph.getNode(t);if(!this.nodeFilter(r))throw new Error("Node not found for id: "+t);return r}getRelatedEdges(t,r){return this.checkNodeExistence(t),this.cacheEnabled?r==="in"?this.inEdgesMap.get(t):r==="out"?this.outEdgesMap.get(t):this.bothEdgesMap.get(t):this.graph.getRelatedEdges(t,r).filter(this.edgeFilter)}getDegree(t,r){return this.getRelatedEdges(t,r).length}getSuccessors(t){const n=this.getRelatedEdges(t,"out").map(i=>this.getNode(i.target));return Array.from(new Set(n))}getPredecessors(t){const n=this.getRelatedEdges(t,"in").map(i=>this.getNode(i.source));return Array.from(new Set(n))}getNeighbors(t){const r=this.getPredecessors(t),n=this.getSuccessors(t);return Array.from(new Set([...r,...n]))}hasEdge(t){if(!this.graph.hasEdge(t))return!1;const r=this.graph.getEdge(t);return this.edgeFilter(r)}getEdge(t){const r=this.graph.getEdge(t);if(!this.edgeFilter(r))throw new Error("Edge not found for id: "+t);return r}getEdgeDetail(t){const r=this.getEdge(t);return{edge:r,source:this.getNode(r.source),target:this.getNode(r.target)}}hasTreeStructure(t){return this.graph.hasTreeStructure(t)}getRoots(t){return this.graph.getRoots(t).filter(this.nodeFilter)}getChildren(t,r){return this.checkNodeExistence(t),this.graph.getChildren(t,r).filter(this.nodeFilter)}getParent(t,r){this.checkNodeExistence(t);const n=this.graph.getParent(t,r);return!n||!this.nodeFilter(n)?null:n}getAllNodes(){return this.cacheEnabled?Array.from(this.allNodesMap.values()):this.graph.getAllNodes().filter(this.nodeFilter)}getAllEdges(){return this.cacheEnabled?Array.from(this.allEdgesMap.values()):this.graph.getAllEdges().filter(this.edgeFilter)}bfs(t,r,n="out"){const i={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];M2([this.getNode(t)],new Set,r,i)}dfs(t,r,n="out"){const i={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];ap(this.getNode(t),new Set,r,i)}}class dn extends bz{nodeMap=new Map;edgeMap=new Map;inEdgesMap=new Map;outEdgesMap=new Map;bothEdgesMap=new Map;treeIndices=new Map;changes=[];batchCount=0;onChanged=()=>{};constructor(t){super(),t&&(t.nodes&&this.addNodes(t.nodes),t.edges&&this.addEdges(t.edges),t.tree&&this.addTree(t.tree),t.onChanged&&(this.onChanged=t.onChanged))}batch=t=>{this.batchCount+=1,t(),this.batchCount-=1,this.batchCount||this.commit()};commit(){const t=this.changes;this.changes=[];const r={graph:this,changes:t};this.emit("changed",r),this.onChanged(r)}reduceChanges(t){let r=[];return t.forEach(n=>{switch(n.type){case"NodeRemoved":{let i=!1;r=r.filter(a=>{if(a.type==="NodeAdded"){const s=a.value.id===n.value.id;return s&&(i=!0),!s}else{if(a.type==="NodeDataUpdated")return a.id!==n.value.id;if(a.type==="TreeStructureChanged")return a.nodeId!==n.value.id}return!0}),i||r.push(n);break}case"EdgeRemoved":{let i=!1;r=r.filter(a=>{if(a.type==="EdgeAdded"){const s=a.value.id===n.value.id;return s&&(i=!0),!s}else if(a.type==="EdgeDataUpdated"||a.type==="EdgeUpdated")return a.id!==n.value.id;return!0}),i||r.push(n);break}case"NodeDataUpdated":case"EdgeDataUpdated":case"EdgeUpdated":{const i=r.findIndex(s=>s.type===n.type&&s.id===n.id&&(n.propertyName===void 0||s.propertyName===n.propertyName)),a=r[i];a?n.propertyName!==void 0?a.newValue=n.newValue:(r.splice(i,1),r.push(n)):r.push(n);break}case"TreeStructureDetached":{r=r.filter(i=>i.type==="TreeStructureAttached"||i.type==="TreeStructureChanged"?i.treeKey!==n.treeKey:!0),r.push(n);break}case"TreeStructureChanged":{const i=r.find(a=>a.type==="TreeStructureChanged"&&a.treeKey===n.treeKey&&a.nodeId===n.nodeId);i?i.newParentId=n.newParentId:r.push(n);break}default:r.push(n);break}}),r}checkNodeExistence(t){this.getNode(t)}hasNode(t){return this.nodeMap.has(t)}areNeighbors(t,r){return this.getNeighbors(r).some(n=>n.id===t)}getNode(t){const r=this.nodeMap.get(t);if(!r)throw new Error("Node not found for id: "+t);return r}getRelatedEdges(t,r){if(this.checkNodeExistence(t),r==="in"){const n=this.inEdgesMap.get(t);return Array.from(n)}else if(r==="out"){const n=this.outEdgesMap.get(t);return Array.from(n)}else{const n=this.bothEdgesMap.get(t);return Array.from(n)}}getDegree(t,r){return this.getRelatedEdges(t,r).length}getSuccessors(t){const n=this.getRelatedEdges(t,"out").map(i=>this.getNode(i.target));return Array.from(new Set(n))}getPredecessors(t){const n=this.getRelatedEdges(t,"in").map(i=>this.getNode(i.source));return Array.from(new Set(n))}getNeighbors(t){const r=this.getPredecessors(t),n=this.getSuccessors(t);return Array.from(new Set([...r,...n]))}doAddNode(t){if(this.hasNode(t.id))throw new Error("Node already exists: "+t.id);this.nodeMap.set(t.id,t),this.inEdgesMap.set(t.id,new Set),this.outEdgesMap.set(t.id,new Set),this.bothEdgesMap.set(t.id,new Set),this.treeIndices.forEach(r=>{r.childrenMap.set(t.id,new Set)}),this.changes.push({type:"NodeAdded",value:t})}addNodes(t){this.batch(()=>{for(const r of t)this.doAddNode(r)})}addNode(t){this.addNodes([t])}doRemoveNode(t){const r=this.getNode(t);this.bothEdgesMap.get(t)?.forEach(i=>this.doRemoveEdge(i.id)),this.nodeMap.delete(t),this.treeIndices.forEach(i=>{i.childrenMap.get(t)?.forEach(s=>{i.parentMap.delete(s.id)});const a=i.parentMap.get(t);a&&i.childrenMap.get(a.id)?.delete(r),i.parentMap.delete(t),i.childrenMap.delete(t)}),this.bothEdgesMap.delete(t),this.inEdgesMap.delete(t),this.outEdgesMap.delete(t),this.changes.push({type:"NodeRemoved",value:r})}removeNodes(t){this.batch(()=>{t.forEach(r=>this.doRemoveNode(r))})}removeNode(t){this.removeNodes([t])}updateNodeDataProperty(t,r,n){const i=this.getNode(t);this.batch(()=>{const a=i.data[r],s=n;i.data[r]=s,this.changes.push({type:"NodeDataUpdated",id:t,propertyName:r,oldValue:a,newValue:s})})}mergeNodeData(t,r){this.batch(()=>{Object.entries(r).forEach(([n,i])=>{this.updateNodeDataProperty(t,n,i)})})}updateNodeData(...t){const r=t[0],n=this.getNode(r);if(typeof t[1]=="string"){this.updateNodeDataProperty(r,t[1],t[2]);return}let i;if(typeof t[1]=="function"){const a=t[1];i=a(n.data)}else typeof t[1]=="object"&&(i=t[1]);this.batch(()=>{const a=n.data,s=i;n.data=i,this.changes.push({type:"NodeDataUpdated",id:r,oldValue:a,newValue:s})})}checkEdgeExistence(t){if(!this.hasEdge(t))throw new Error("Edge not found for id: "+t)}hasEdge(t){return this.edgeMap.has(t)}getEdge(t){return this.checkEdgeExistence(t),this.edgeMap.get(t)}getEdgeDetail(t){const r=this.getEdge(t);return{edge:r,source:this.getNode(r.source),target:this.getNode(r.target)}}doAddEdge(t){if(this.hasEdge(t.id))throw new Error("Edge already exists: "+t.id);this.checkNodeExistence(t.source),this.checkNodeExistence(t.target),this.edgeMap.set(t.id,t);const r=this.inEdgesMap.get(t.target),n=this.outEdgesMap.get(t.source),i=this.bothEdgesMap.get(t.source),a=this.bothEdgesMap.get(t.target);r.add(t),n.add(t),i.add(t),a.add(t),this.changes.push({type:"EdgeAdded",value:t})}addEdges(t){this.batch(()=>{for(const r of t)this.doAddEdge(r)})}addEdge(t){this.addEdges([t])}doRemoveEdge(t){const r=this.getEdge(t),n=this.outEdgesMap.get(r.source),i=this.inEdgesMap.get(r.target),a=this.bothEdgesMap.get(r.source),s=this.bothEdgesMap.get(r.target);n.delete(r),i.delete(r),a.delete(r),s.delete(r),this.edgeMap.delete(t),this.changes.push({type:"EdgeRemoved",value:r})}removeEdges(t){this.batch(()=>{t.forEach(r=>this.doRemoveEdge(r))})}removeEdge(t){this.removeEdges([t])}updateEdgeSource(t,r){const n=this.getEdge(t);this.checkNodeExistence(r);const i=n.source,a=r;this.outEdgesMap.get(i).delete(n),this.bothEdgesMap.get(i).delete(n),this.outEdgesMap.get(a).add(n),this.bothEdgesMap.get(a).add(n),n.source=r,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:t,propertyName:"source",oldValue:i,newValue:a})})}updateEdgeTarget(t,r){const n=this.getEdge(t);this.checkNodeExistence(r);const i=n.target,a=r;this.inEdgesMap.get(i).delete(n),this.bothEdgesMap.get(i).delete(n),this.inEdgesMap.get(a).add(n),this.bothEdgesMap.get(a).add(n),n.target=r,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:t,propertyName:"target",oldValue:i,newValue:a})})}updateEdgeDataProperty(t,r,n){const i=this.getEdge(t);this.batch(()=>{const a=i.data[r],s=n;i.data[r]=s,this.changes.push({type:"EdgeDataUpdated",id:t,propertyName:r,oldValue:a,newValue:s})})}updateEdgeData(...t){const r=t[0],n=this.getEdge(r);if(typeof t[1]=="string"){this.updateEdgeDataProperty(r,t[1],t[2]);return}let i;if(typeof t[1]=="function"){const a=t[1];i=a(n.data)}else typeof t[1]=="object"&&(i=t[1]);this.batch(()=>{const a=n.data,s=i;n.data=i,this.changes.push({type:"EdgeDataUpdated",id:r,oldValue:a,newValue:s})})}mergeEdgeData(t,r){this.batch(()=>{Object.entries(r).forEach(([n,i])=>{this.updateEdgeDataProperty(t,n,i)})})}checkTreeExistence(t){if(!this.hasTreeStructure(t))throw new Error("Tree structure not found for treeKey: "+t)}hasTreeStructure(t){return this.treeIndices.has(t)}attachTreeStructure(t){this.treeIndices.has(t)||(this.treeIndices.set(t,{parentMap:new Map,childrenMap:new Map}),this.batch(()=>{this.changes.push({type:"TreeStructureAttached",treeKey:t})}))}detachTreeStructure(t){this.checkTreeExistence(t),this.treeIndices.delete(t),this.batch(()=>{this.changes.push({type:"TreeStructureDetached",treeKey:t})})}addTree(t,r){this.batch(()=>{this.attachTreeStructure(r);const n=[],i=Array.isArray(t)?t:[t];for(;i.length;){const a=i.shift();n.push(a),a.children&&i.push(...a.children)}this.addNodes(n),n.forEach(a=>{a.children?.forEach(s=>{this.setParent(s.id,a.id,r)})})})}getRoots(t){return this.checkTreeExistence(t),this.getAllNodes().filter(r=>!this.getParent(r.id,t))}getChildren(t,r){this.checkNodeExistence(t),this.checkTreeExistence(r);const i=this.treeIndices.get(r).childrenMap.get(t);return Array.from(i||[])}getParent(t,r){return this.checkNodeExistence(t),this.checkTreeExistence(r),this.treeIndices.get(r).parentMap.get(t)||null}getAncestors(t,r){const n=[];let i=this.getNode(t),a;for(;a=this.getParent(i.id,r);)n.push(a),i=a;return n}setParent(t,r,n){this.checkTreeExistence(n);const i=this.treeIndices.get(n);if(!i)return;const a=this.getNode(t),s=i.parentMap.get(t);if(s?.id===r)return;if(r==null){s&&i.childrenMap.get(s.id)?.delete(a),i.parentMap.delete(t);return}const o=this.getNode(r);i.parentMap.set(t,o),s&&i.childrenMap.get(s.id)?.delete(a);let l=i.childrenMap.get(o.id);l||(l=new Set,i.childrenMap.set(o.id,l)),l.add(a),this.batch(()=>{this.changes.push({type:"TreeStructureChanged",treeKey:n,nodeId:t,oldParentId:s?.id,newParentId:o.id})})}dfsTree(t,r,n){const i=a=>this.getChildren(a,n);return ap(this.getNode(t),new Set,r,i)}bfsTree(t,r,n){const i=a=>this.getChildren(a,n);return M2([this.getNode(t)],new Set,r,i)}getAllNodes(){return Array.from(this.nodeMap.values())}getAllEdges(){return Array.from(this.edgeMap.values())}bfs(t,r,n="out"){const i={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];return M2([this.getNode(t)],new Set,r,i)}dfs(t,r,n="out"){const i={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];return ap(this.getNode(t),new Set,r,i)}clone(){const t=this.getAllNodes().map(i=>({...i,data:{...i.data}})),r=this.getAllEdges().map(i=>({...i,data:{...i.data}})),n=new dn({nodes:t,edges:r});return this.treeIndices.forEach(({parentMap:i,childrenMap:a},s)=>{const o=new Map;i.forEach((u,c)=>{o.set(c,n.getNode(u.id))});const l=new Map;a.forEach((u,c)=>{l.set(c,new Set(Array.from(u).map(f=>n.getNode(f.id))))}),n.treeIndices.set(s,{parentMap:o,childrenMap:l})}),n}toJSON(){return JSON.stringify({nodes:this.getAllNodes(),edges:this.getAllEdges()})}createView(t){return new gce({graph:this,...t})}}var om,bP;function Yo(){if(bP)return om;bP=1;function e(t,r,n,i){return i===void 0&&(i="height"),n==="center"?(t[i]+r[i])/2:t.height}return om={assign:Object.assign,getHeight:e},om}var lm,wP;function wz(){if(wP)return lm;wP=1;var e=Yo(),t=18,r=t*2,n=t,i={getId:function(l){return l.id||l.name},getPreH:function(l){return l.preH||0},getPreV:function(l){return l.preV||0},getHGap:function(l){return l.hgap||n},getVGap:function(l){return l.vgap||n},getChildren:function(l){return l.children},getHeight:function(l){return l.height||r},getWidth:function(l){var u=l.label||" ";return l.width||u.split("").length*t}};function a(o,l){var u=this;if(u.vgap=u.hgap=0,o instanceof a)return o;u.data=o;var c=l.getHGap(o),f=l.getVGap(o);return u.preH=l.getPreH(o),u.preV=l.getPreV(o),u.width=l.getWidth(o),u.height=l.getHeight(o),u.width+=u.preH,u.height+=u.preV,u.id=l.getId(o),u.x=u.y=0,u.depth=0,u.children||(u.children=[]),u.addGap(c,f),u}e.assign(a.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(l,u){var c=this;c.hgap+=l,c.vgap+=u,c.width+=2*l,c.height+=2*u},eachNode:function(l){for(var u=this,c=[u],f;f=c.shift();)l(f),c=f.children.concat(c)},DFTraverse:function(l){this.eachNode(l)},BFTraverse:function(l){for(var u=this,c=[u],f;f=c.shift();)l(f),c=c.concat(f.children)},getBoundingBox:function(){var l={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(u){l.left=Math.min(l.left,u.x),l.top=Math.min(l.top,u.y),l.width=Math.max(l.width,u.x+u.width),l.height=Math.max(l.height,u.y+u.height)}),l},translate:function(l,u){l===void 0&&(l=0),u===void 0&&(u=0),this.eachNode(function(c){c.x+=l,c.y+=u,c.x+=c.preH,c.y+=c.preV})},right2left:function(){var l=this,u=l.getBoundingBox();l.eachNode(function(c){c.x=c.x-(c.x-u.left)*2-c.width}),l.translate(u.width,0)},bottom2top:function(){var l=this,u=l.getBoundingBox();l.eachNode(function(c){c.y=c.y-(c.y-u.top)*2-c.height}),l.translate(0,u.height)}});function s(o,l,u){l===void 0&&(l={}),l=e.assign({},i,l);var c=new a(o,l),f=[c],h;if(!u&&!o.collapsed){for(;h=f.shift();)if(!h.data.collapsed){var d=l.getChildren(h.data),v=d?d.length:0;if(h.children=new Array(v),d&&v)for(var p=0;p<v;p++){var g=new a(d[p],l);h.children[p]=g,f.push(g),g.parent=h,g.depth=h.depth+1}}}return c}return lm=s,lm}var um,xP;function dg(){if(xP)return um;xP=1;var e=wz(),t=function(){function r(i,a){a===void 0&&(a={});var s=this;s.options=a,s.rootNode=e(i,a)}var n=r.prototype;return n.execute=function(){throw new Error("please override this method")},r}();return um=t,um}var cm,EP;function mce(){if(EP)return cm;EP=1;function e(s,o,l,u){u===void 0&&(u=[]);var c=this;c.w=s||0,c.h=o||0,c.y=l||0,c.x=0,c.c=u||[],c.cs=u.length,c.prelim=0,c.mod=0,c.shift=0,c.change=0,c.tl=null,c.tr=null,c.el=null,c.er=null,c.msel=0,c.mser=0}e.fromNode=function(s,o){if(!s)return null;var l=[];return s.children.forEach(function(u){l.push(e.fromNode(u,o))}),o?new e(s.height,s.width,s.x,l):new e(s.width,s.height,s.y,l)};function t(s,o,l){l?s.y+=o:s.x+=o,s.children.forEach(function(u){t(u,o,l)})}function r(s,o){var l=o?s.y:s.x;return s.children.forEach(function(u){l=Math.min(r(u,o),l)}),l}function n(s,o){var l=r(s,o);t(s,-l,o)}function i(s,o,l){l?o.y=s.x:o.x=s.x,s.c.forEach(function(u,c){i(u,o.children[c],l)})}function a(s,o,l){l===void 0&&(l=0),o?(s.x=l,l+=s.width):(s.y=l,l+=s.height),s.children.forEach(function(u){a(u,o,l)})}return cm=function(s,o){o===void 0&&(o={});var l=o.isHorizontal;function u(S){if(S.cs===0){c(S);return}u(S.c[0]);for(var A=E(p(S.c[0].el),0,null),P=1;P<S.cs;++P){u(S.c[P]);var O=p(S.c[P].er);f(S,P,A),A=E(O,P,A)}y(S),c(S)}function c(S){S.cs===0?(S.el=S,S.er=S,S.msel=S.mser=0):(S.el=S.c[0].el,S.msel=S.c[0].msel,S.er=S.c[S.cs-1].er,S.mser=S.c[S.cs-1].mser)}function f(S,A,P){for(var O=S.c[A-1],C=O.mod,L=S.c[A],I=L.mod;O!==null&&L!==null;){p(O)>P.low&&(P=P.nxt);var F=C+O.prelim+O.w-(I+L.prelim);F>0&&(I+=F,h(S,A,P.index,F));var U=p(O),G=p(L);U<=G&&(O=v(O),O!==null&&(C+=O.mod)),U>=G&&(L=d(L),L!==null&&(I+=L.mod))}!O&&L?g(S,A,L,I):O&&!L&&m(S,A,O,C)}function h(S,A,P,O){S.c[A].mod+=O,S.c[A].msel+=O,S.c[A].mser+=O,_(S,A,P,O)}function d(S){return S.cs===0?S.tl:S.c[0]}function v(S){return S.cs===0?S.tr:S.c[S.cs-1]}function p(S){return S.y+S.h}function g(S,A,P,O){var C=S.c[0].el;C.tl=P;var L=O-P.mod-S.c[0].msel;C.mod+=L,C.prelim-=L,S.c[0].el=S.c[A].el,S.c[0].msel=S.c[A].msel}function m(S,A,P,O){var C=S.c[A].er;C.tr=P;var L=O-P.mod-S.c[A].mser;C.mod+=L,C.prelim-=L,S.c[A].er=S.c[A-1].er,S.c[A].mser=S.c[A-1].mser}function y(S){S.prelim=(S.c[0].prelim+S.c[0].mod+S.c[S.cs-1].mod+S.c[S.cs-1].prelim+S.c[S.cs-1].w)/2-S.w/2}function b(S,A){A+=S.mod,S.x=S.prelim+A,x(S);for(var P=0;P<S.cs;P++)b(S.c[P],A)}function _(S,A,P,O){if(P!==A-1){var C=A-P;S.c[P+1].shift+=O/C,S.c[A].shift-=O/C,S.c[A].change-=O-O/C}}function x(S){for(var A=0,P=0,O=0;O<S.cs;O++)A+=S.c[O].shift,P+=A+S.c[O].change,S.c[O].mod+=P}function E(S,A,P){for(;P!==null&&S>=P.low;)P=P.nxt;return{low:S,index:A,nxt:P}}a(s,l);var w=e.fromNode(s,l);return u(w),b(w,0),i(w,s,l),n(s,l),s},cm}var fm,_P;function xz(){if(_P)return fm;_P=1;var e=wz();return fm=function(t,r){for(var n=e(t.data,r,!0),i=e(t.data,r,!0),a=t.children.length,s=Math.round(a/2),o=r.getSide||function(f,h){return h<s?"right":"left"},l=0;l<a;l++){var u=t.children[l],c=o(u,l);c==="right"?i.children.push(u):n.children.push(u)}return n.eachNode(function(f){f.isRoot()||(f.side="left")}),i.eachNode(function(f){f.isRoot()||(f.side="right")}),{left:n,right:i}},fm}var hm,kP;function Zk(){if(kP)return hm;kP=1;var e=xz(),t=["LR","RL","TB","BT","H","V"],r=["LR","RL","H"],n=function(o){return r.indexOf(o)>-1},i=t[0];hm=function(s,o,l){var u=o.direction||i;if(o.isHorizontal=n(u),t.indexOf(u)===-1)throw new TypeError("Invalid direction: "+u);if(u===t[0])l(s,o);else if(u===t[1])l(s,o),s.right2left();else if(u===t[2])l(s,o);else if(u===t[3])l(s,o),s.bottom2top();else if(u===t[4]||u===t[5]){var c=e(s,o),f=c.left,h=c.right;l(f,o),l(h,o),o.isHorizontal?f.right2left():f.bottom2top(),h.translate(f.x-h.x,f.y-h.y),s.x=f.x,s.y=h.y;var d=s.getBoundingBox();o.isHorizontal?d.top<0&&s.translate(0,-d.top):d.left<0&&s.translate(-d.left,0)}var v=o.fixedRoot;return v===void 0&&(v=!0),v&&s.translate(-(s.x+s.width/2+s.hgap),-(s.y+s.height/2+s.vgap)),a(s,o),s};function a(s,o){if(o.radial){var l=o.isHorizontal?["x","y"]:["y","x"],u=l[0],c=l[1],f={x:1/0,y:1/0},h={x:-1/0,y:-1/0},d=0;s.DFTraverse(function(g){d++;var m=g.x,y=g.y;f.x=Math.min(f.x,m),f.y=Math.min(f.y,y),h.x=Math.max(h.x,m),h.y=Math.max(h.y,y)});var v=h[c]-f[c];if(v===0)return;var p=Math.PI*2/d;s.DFTraverse(function(g){var m=(g[c]-f[c])/v*(Math.PI*2-p)+p,y=g[u]-s[u];g.x=Math.cos(m)*y,g.y=Math.sin(m)*y})}}return hm}var dm,SP;function yce(){if(SP)return dm;SP=1;function e(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,t(u,c)}function t(u,c){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,h){return f.__proto__=h,f},t(u,c)}var r=dg(),n=mce(),i=Zk(),a=Yo(),s=function(u){function c(){return u.apply(this,arguments)||this}e(c,u);var f=c.prototype;return f.execute=function(){var d=this;return i(d.rootNode,d.options,n)},c}(r),o={};function l(u,c){return c=a.assign({},o,c),new s(u,c).execute()}return dm=l,dm}var vm,TP;function bce(){if(TP)return vm;TP=1;var e=Yo();function t(i,a){a===void 0&&(a=[]);var s=this;s.x=s.y=0,s.leftChild=s.rightChild=null,s.height=0,s.children=a}var r={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function n(i,a,s){s?(a.x=i.x,a.y=i.y):(a.x=i.y,a.y=i.x),i.children.forEach(function(o,l){n(o,a.children[l],s)})}return vm=function(i,a){a===void 0&&(a={}),a=e.assign({},r,a);var s=0;function o(h){if(!h)return null;h.width=0,h.depth&&h.depth>s&&(s=h.depth);var d=h.children,v=d.length,p=new t(h.height,[]);return d.forEach(function(g,m){var y=o(g);p.children.push(y),m===0&&(p.leftChild=y),m===v-1&&(p.rightChild=y)}),p.originNode=h,p.isLeaf=h.isLeaf(),p}function l(h){if(h.isLeaf||h.children.length===0)h.drawingDepth=s;else{var d=h.children.map(function(p){return l(p)}),v=Math.min.apply(null,d);h.drawingDepth=v-1}return h.drawingDepth}var u;function c(h){h.x=h.drawingDepth*a.rankSep,h.isLeaf?(h.y=0,u&&(h.y=u.y+u.height+a.nodeSep,h.originNode.parent!==u.originNode.parent&&(h.y+=a.subTreeSep)),u=h):(h.children.forEach(function(d){c(d)}),h.y=(h.leftChild.y+h.rightChild.y)/2)}var f=o(i);return l(f),c(f),n(f,i,a.isHorizontal),i},vm}var pm,MP;function wce(){if(MP)return pm;MP=1;function e(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,t(u,c)}function t(u,c){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,h){return f.__proto__=h,f},t(u,c)}var r=dg(),n=bce(),i=Zk(),a=Yo(),s=function(u){function c(){return u.apply(this,arguments)||this}e(c,u);var f=c.prototype;return f.execute=function(){var d=this;return d.rootNode.width=0,i(d.rootNode,d.options,n)},c}(r),o={};function l(u,c){return c=a.assign({},o,c),new s(u,c).execute()}return pm=l,pm}var gm,NP;function xce(){if(NP)return gm;NP=1;var e=Yo();function t(r,n,i,a,s){var o=(typeof i=="function"?i(r):i)*r.depth;if(!a)try{if(r.id===r.parent.children[0].id){r.x+=o,r.y=n?n.y:0;return}}catch{}if(r.x+=o,n){if(r.y=n.y+e.getHeight(n,r,s),n.parent&&r.parent.id!==n.parent.id){var l=n.parent,u=l.y+e.getHeight(l,r,s);r.y=u>r.y?u:r.y}}else r.y=0}return gm=function(r,n,i,a){var s=null;r.eachNode(function(o){t(o,s,n,i,a),s=o})},gm}var mm,AP;function Ece(){if(AP)return mm;AP=1;function e(f,h){f.prototype=Object.create(h.prototype),f.prototype.constructor=f,t(f,h)}function t(f,h){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,v){return d.__proto__=v,d},t(f,h)}var r=dg(),n=xce(),i=xz(),a=Yo(),s=["LR","RL","H"],o=s[0],l=function(f){function h(){return f.apply(this,arguments)||this}e(h,f);var d=h.prototype;return d.execute=function(){var p=this,g=p.options,m=p.rootNode;g.isHorizontal=!0;var y=g.indent,b=y===void 0?20:y,_=g.dropCap,x=_===void 0?!0:_,E=g.direction,w=E===void 0?o:E,S=g.align;if(w&&s.indexOf(w)===-1)throw new TypeError("Invalid direction: "+w);if(w===s[0])n(m,b,x,S);else if(w===s[1])n(m,b,x,S),m.right2left();else if(w===s[2]){var A=i(m,g),P=A.left,O=A.right;n(P,b,x,S),P.right2left(),n(O,b,x,S);var C=P.getBoundingBox();O.translate(C.width,0),m.x=O.x-m.width/2}return m},h}(r),u={};function c(f,h){return h=a.assign({},u,h),new l(f,h).execute()}return mm=c,mm}var ym,PP;function _ce(){if(PP)return ym;PP=1;var e=Yo();function t(i,a){var s=0;return i.children.length?i.children.forEach(function(o){s+=t(o,a)}):s=i.height,i._subTreeSep=a.getSubTreeSep(i.data),i.totalHeight=Math.max(i.height,s)+2*i._subTreeSep,i.totalHeight}function r(i){var a=i.children,s=a.length;if(s){a.forEach(function(h){r(h)});var o=a[0],l=a[s-1],u=l.y-o.y+l.height,c=0;if(a.forEach(function(h){c+=h.totalHeight}),u>i.height)i.y=o.y+u/2-i.height/2;else if(a.length!==1||i.height>c){var f=i.y+(i.height-u)/2-o.y;a.forEach(function(h){h.translate(0,f)})}else i.y=(o.y+o.height/2+l.y+l.height/2)/2-i.height/2}}var n={getSubTreeSep:function(){return 0}};return ym=function(i,a){a===void 0&&(a={}),a=e.assign({},n,a),i.parent={x:0,width:0,height:0,y:0},i.BFTraverse(function(s){s.x=s.parent.x+s.parent.width}),i.parent=null,t(i,a),i.startY=0,i.y=i.totalHeight/2-i.height/2,i.eachNode(function(s){var o=s.children,l=o.length;if(l){var u=o[0];if(u.startY=s.startY+s._subTreeSep,l===1)u.y=s.y+s.height/2-u.height/2;else{u.y=u.startY+u.totalHeight/2-u.height/2;for(var c=1;c<l;c++){var f=o[c];f.startY=o[c-1].startY+o[c-1].totalHeight,f.y=f.startY+f.totalHeight/2-f.height/2}}}}),r(i)},ym}var bm,OP;function kce(){if(OP)return bm;OP=1;function e(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,t(u,c)}function t(u,c){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,h){return f.__proto__=h,f},t(u,c)}var r=dg(),n=_ce(),i=Zk(),a=Yo(),s=function(u){function c(){return u.apply(this,arguments)||this}e(c,u);var f=c.prototype;return f.execute=function(){var d=this;return i(d.rootNode,d.options,n)},c}(r),o={};function l(u,c){return c=a.assign({},o,c),new s(u,c).execute()}return bm=l,bm}var wm,CP;function Sce(){if(CP)return wm;CP=1;var e={compactBox:yce(),dendrogram:wce(),indented:Ece(),mindmap:kce()};return wm=e,wm}var Axe=Sce();const Tce=(e,t)=>{if(e!=="next"&&e!=="prev")return t},RP=e=>{e.prev.next=e.next,e.next.prev=e.prev,delete e.next,delete e.prev};let Mce=class{constructor(){const t={};t.prev=t,t.next=t.prev,this.shortcut=t}dequeue(){const t=this.shortcut,r=t.prev;if(r&&r!==t)return RP(r),r}enqueue(t){const r=this.shortcut;t.prev&&t.next&&RP(t),t.next=r.next,r.next.prev=t,r.next=t,t.prev=r}toString(){const t=[],r=this.shortcut;let n=r.prev;for(;n!==r;)t.push(JSON.stringify(n,Tce)),n=n?.prev;return`[${t.join(", ")}]`}};class Nce extends Mce{}const Ace=()=>1,Pce=(e,t)=>{var r;if(e.getAllNodes().length<=1)return[];const n=Cce(e,t||Ace);return(r=Oce(n.graph,n.buckets,n.zeroIdx).map(a=>e.getRelatedEdges(a.v,"out").filter(({target:s})=>s===a.w)))===null||r===void 0?void 0:r.flat()},Oce=(e,t,r)=>{let n=[];const i=t[t.length-1],a=t[0];let s;for(;e.getAllNodes().length;){for(;s=a.dequeue();)xm(e,t,r,s);for(;s=i.dequeue();)xm(e,t,r,s);if(e.getAllNodes().length){for(let o=t.length-2;o>0;--o)if(s=t[o].dequeue(),s){n=n.concat(xm(e,t,r,s,!0));break}}}return n},xm=(e,t,r,n,i)=>{var a,s;const o=[];return e.hasNode(n.v)&&((a=e.getRelatedEdges(n.v,"in"))===null||a===void 0||a.forEach(l=>{const u=l.data.weight,c=e.getNode(l.source);i&&o.push({v:l.source,w:l.target,in:0,out:0}),c.data.out===void 0&&(c.data.out=0),c.data.out-=u,N2(t,r,Object.assign({v:c.id},c.data))}),(s=e.getRelatedEdges(n.v,"out"))===null||s===void 0||s.forEach(l=>{const u=l.data.weight,c=l.target,f=e.getNode(c);f.data.in===void 0&&(f.data.in=0),f.data.in-=u,N2(t,r,Object.assign({v:f.id},f.data))}),e.removeNode(n.v)),i?o:void 0},Cce=(e,t)=>{const r=new dn;let n=0,i=0;e.getAllNodes().forEach(l=>{r.addNode({id:l.id,data:{v:l.id,in:0,out:0}})}),e.getAllEdges().forEach(l=>{const u=r.getRelatedEdges(l.source,"out").find(f=>f.target===l.target),c=t?.(l)||1;u?r.updateEdgeData(u?.id,Object.assign(Object.assign({},u.data),{weight:u.data.weight+c})):r.addEdge({id:l.id,source:l.source,target:l.target,data:{weight:c}}),i=Math.max(i,r.getNode(l.source).data.out+=c),n=Math.max(n,r.getNode(l.target).data.in+=c)});const a=[],s=i+n+3;for(let l=0;l<s;l++)a.push(new Nce);const o=n+1;return r.getAllNodes().forEach(l=>{N2(a,o,Object.assign({v:l.id},r.getNode(l.id).data))}),{buckets:a,zeroIdx:o,graph:r}},N2=(e,t,r)=>{r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)},Rce=(e,t)=>{const n=Pce(e,(i=>a=>a.data.weight||1)());n?.forEach(i=>{const a=i.data;e.removeEdge(i.id),a.forwardName=i.data.name,a.reversed=!0,e.addEdge({id:i.id,source:i.target,target:i.source,data:Object.assign({},a)})})},Lce=e=>{e.getAllEdges().forEach(t=>{const r=t.data;if(r.reversed){e.removeEdge(t.id);const n=r.forwardName;delete r.reversed,delete r.forwardName,e.addEdge({id:t.id,source:t.target,target:t.source,data:Object.assign(Object.assign({},r),{forwardName:n})})}})},Ice=(e,t)=>Number(e)-Number(t),uc=(e,t,r,n)=>{let i;do i=`${n}${Math.random()}`;while(e.hasNode(i));return r.dummy=t,e.addNode({id:i,data:r}),i},Dce=e=>{const t=new dn;return e.getAllNodes().forEach(r=>{t.addNode(Object.assign({},r))}),e.getAllEdges().forEach(r=>{const n=t.getRelatedEdges(r.source,"out").find(i=>i.target===r.target);n?t.updateEdgeData(n?.id,Object.assign(Object.assign({},n.data),{weight:n.data.weight+r.data.weight||0,minlen:Math.max(n.data.minlen,r.data.minlen||1)})):t.addEdge({id:r.id,source:r.source,target:r.target,data:{weight:r.data.weight||0,minlen:r.data.minlen||1}})}),t},Ez=e=>{const t=new dn;return e.getAllNodes().forEach(r=>{e.getChildren(r.id).length||t.addNode(Object.assign({},r))}),e.getAllEdges().forEach(r=>{t.addEdge(r)}),t},Fce=(e,t)=>e?.reduce((r,n,i)=>(r[n]=t[i],r),{}),LP=(e,t)=>{const r=Number(e.x),n=Number(e.y),i=Number(t.x)-r,a=Number(t.y)-n;let s=Number(e.width)/2,o=Number(e.height)/2;if(!i&&!a)return{x:0,y:0};let l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=o*i/a,u=o):(i<0&&(s=-s),l=s,u=s*a/i),{x:r+l,y:n+u}},Hf=e=>{const t=[],r=_z(e)+1;for(let n=0;n<r;n++)t.push([]);e.getAllNodes().forEach(n=>{const i=n.data.rank;i!==void 0&&t[i]&&t[i].push(n.id)});for(let n=0;n<r;n++)t[n]=t[n].sort((i,a)=>Ice(e.getNode(i).data.order,e.getNode(a).data.order));return t},$ce=e=>{const t=e.getAllNodes().filter(n=>n.data.rank!==void 0).map(n=>n.data.rank),r=Math.min(...t);e.getAllNodes().forEach(n=>{n.data.hasOwnProperty("rank")&&r!==1/0&&(n.data.rank-=r)})},Bce=(e,t=0)=>{const r=e.getAllNodes(),n=r.filter(o=>o.data.rank!==void 0).map(o=>o.data.rank),i=Math.min(...n),a=[];r.forEach(o=>{const l=(o.data.rank||0)-i;a[l]||(a[l]=[]),a[l].push(o.id)});let s=0;for(let o=0;o<a.length;o++){const l=a[o];l===void 0?o%t!==0&&(s-=1):s&&l?.forEach(u=>{const c=e.getNode(u);c&&(c.data.rank=c.data.rank||0,c.data.rank+=s)})}},IP=(e,t,r,n)=>{const i={width:0,height:0};return rt(r)&&rt(n)&&(i.rank=r,i.order=n),uc(e,"border",i,t)},_z=e=>{let t;return e.getAllNodes().forEach(r=>{const n=r.data.rank;n!==void 0&&(t===void 0||n>t)&&(t=n)}),t||(t=0),t},zce=(e,t)=>{const r={lhs:[],rhs:[]};return e?.forEach(n=>{t(n)?r.lhs.push(n):r.rhs.push(n)}),r},Qk=(e,t)=>e.reduce((r,n)=>{const i=t(r),a=t(n);return i>a?n:r}),kz=(e,t,r,n,i,a)=>{n.includes(t.id)||(n.push(t.id),r||a.push(t.id),i(t.id).forEach(s=>kz(e,s,r,n,i,a)),r&&a.push(t.id))},Sz=(e,t,r,n)=>{const i=Array.isArray(t)?t:[t],a=l=>e.getNeighbors(l),s=[],o=[];return i.forEach(l=>{if(e.hasNode(l.id))kz(e,l,r==="post",o,a,s);else throw new Error(`Graph does not have node: ${l}`)}),s},Gce=e=>{const t=r=>{const n=e.getChildren(r),i=e.getNode(r);if(n?.length&&n.forEach(a=>t(a.id)),i.data.hasOwnProperty("minRank")){i.data.borderLeft=[],i.data.borderRight=[];for(let a=i.data.minRank,s=i.data.maxRank+1;a<s;a+=1)DP(e,"borderLeft","_bl",r,i,a),DP(e,"borderRight","_br",r,i,a)}};e.getRoots().forEach(r=>t(r.id))},DP=(e,t,r,n,i,a)=>{const s={rank:a,borderType:t,width:0,height:0},o=i.data[t][a-1],l=uc(e,"border",s,r);i.data[t][a]=l,e.setParent(l,n),o&&e.addEdge({id:`e${Math.random()}`,source:o,target:l,data:{weight:1}})},qce=(e,t)=>{const r=t.toLowerCase();(r==="lr"||r==="rl")&&Tz(e)},jce=(e,t)=>{const r=t.toLowerCase();(r==="bt"||r==="rl")&&Wce(e),(r==="lr"||r==="rl")&&(Vce(e),Tz(e))},Tz=e=>{e.getAllNodes().forEach(t=>{FP(t)}),e.getAllEdges().forEach(t=>{FP(t)})},FP=e=>{const t=e.data.width;e.data.width=e.data.height,e.data.height=t},Wce=e=>{e.getAllNodes().forEach(t=>{Em(t.data)}),e.getAllEdges().forEach(t=>{var r;(r=t.data.points)===null||r===void 0||r.forEach(n=>Em(n)),t.data.hasOwnProperty("y")&&Em(t.data)})},Em=e=>{e?.y&&(e.y=-e.y)},Vce=e=>{e.getAllNodes().forEach(t=>{_m(t.data)}),e.getAllEdges().forEach(t=>{var r;(r=t.data.points)===null||r===void 0||r.forEach(n=>_m(n)),t.data.hasOwnProperty("x")&&_m(t.data)})},_m=e=>{const t=e.x;e.x=e.y,e.y=t},Uce=e=>{const t=uc(e,"root",{},"_root"),r=Hce(e);let n=Math.max(...Object.values(r));Math.abs(n)===1/0&&(n=1);const i=n-1,a=2*i+1;e.getAllEdges().forEach(o=>{o.data.minlen*=a});const s=Yce(e)+1;return e.getRoots().forEach(o=>{Mz(e,t,a,s,i,r,o.id)}),{nestingRoot:t,nodeRankFactor:a}},Mz=(e,t,r,n,i,a,s)=>{const o=e.getChildren(s);if(!o?.length){s!==t&&e.addEdge({id:`e${Math.random()}`,source:t,target:s,data:{weight:0,minlen:r}});return}const l=IP(e,"_bt"),u=IP(e,"_bb"),c=e.getNode(s);e.setParent(l,s),c.data.borderTop=l,e.setParent(u,s),c.data.borderBottom=u,o?.forEach(f=>{Mz(e,t,r,n,i,a,f.id);const h=f.data.borderTop?f.data.borderTop:f.id,d=f.data.borderBottom?f.data.borderBottom:f.id,v=f.data.borderTop?n:2*n,p=h!==d?1:i-a[s]+1;e.addEdge({id:`e${Math.random()}`,source:l,target:h,data:{minlen:p,weight:v,nestingEdge:!0}}),e.addEdge({id:`e${Math.random()}`,source:d,target:u,data:{minlen:p,weight:v,nestingEdge:!0}})}),e.getParent(s)||e.addEdge({id:`e${Math.random()}`,source:t,target:l,data:{weight:0,minlen:i+a[s]}})},Hce=e=>{const t={},r=(n,i)=>{const a=e.getChildren(n);a?.forEach(s=>r(s.id,i+1)),t[n]=i};return e.getRoots().forEach(n=>r(n.id,1)),t},Yce=e=>{let t=0;return e.getAllEdges().forEach(r=>{t+=r.data.weight}),t},Xce=(e,t)=>{t&&e.removeNode(t),e.getAllEdges().forEach(r=>{r.data.nestingEdge&&e.removeEdge(r.id)})},Kce="edge",Nz="edge-label",Zce=(e,t)=>{e.getAllEdges().forEach(r=>Qce(e,r,t))},Qce=(e,t,r)=>{let n=t.source,i=e.getNode(n).data.rank;const a=t.target,s=e.getNode(a).data.rank,o=t.data.labelRank;if(s===i+1)return;e.removeEdge(t.id);let l,u,c;for(c=0,++i;i<s;++c,++i)t.data.points=[],u={originalEdge:t,width:0,height:0,rank:i},l=uc(e,Kce,u,"_d"),i===o&&(u.width=t.data.width,u.height=t.data.height,u.dummy=Nz,u.labelpos=t.data.labelpos),e.addEdge({id:`e${Math.random()}`,source:n,target:l,data:{weight:t.data.weight}}),c===0&&r.push(l),n=l;e.addEdge({id:`e${Math.random()}`,source:n,target:a,data:{weight:t.data.weight}})},Jce=(e,t)=>{t.forEach(r=>{let n=e.getNode(r);const{data:i}=n,a=i.originalEdge;let s;a&&e.addEdge(a);let o=r;for(;n.data.dummy;)s=e.getSuccessors(o)[0],e.removeNode(o),a.data.points.push({x:n.data.x,y:n.data.y}),n.data.dummy===Nz&&(a.data.x=n.data.x,a.data.y=n.data.y,a.data.width=n.data.width,a.data.height=n.data.height),o=s.id,n=e.getNode(o)})},efe=(e,t,r)=>{const n={};let i;r?.forEach(a=>{let s=e.getParent(a),o,l;for(;s;){if(o=e.getParent(s.id),o?(l=n[o.id],n[o.id]=s.id):(l=i,i=s.id),l&&l!==s.id){t.hasNode(l)||t.addNode({id:l,data:{}}),t.hasNode(s.id)||t.addNode({id:s.id,data:{}}),t.hasEdge(`e${l}-${s.id}`)||t.addEdge({id:`e${l}-${s.id}`,source:l,target:s.id,data:{}});return}s=o}})},tfe=(e,t,r)=>{const n=rfe(e),i=new dn({tree:[{id:n,children:[],data:{}}]});return e.getAllNodes().forEach(a=>{const s=e.getParent(a.id);(a.data.rank===t||a.data.minRank<=t&&t<=a.data.maxRank)&&(i.hasNode(a.id)||i.addNode(Object.assign({},a)),s?.id&&!i.hasNode(s?.id)&&i.addNode(Object.assign({},s)),i.setParent(a.id,s?.id||n),e.getRelatedEdges(a.id,r).forEach(o=>{const l=o.source===a.id?o.target:o.source;i.hasNode(l)||i.addNode(Object.assign({},e.getNode(l)));const u=i.getRelatedEdges(l,"out").find(({target:f})=>f===a.id),c=u!==void 0?u.data.weight:0;u?i.updateEdgeData(u.id,Object.assign(Object.assign({},u.data),{weight:o.data.weight+c})):i.addEdge({id:o.id,source:l,target:a.id,data:{weight:o.data.weight+c}})}),a.data.hasOwnProperty("minRank")&&i.updateNodeData(a.id,Object.assign(Object.assign({},a.data),{borderLeft:a.data.borderLeft[t],borderRight:a.data.borderRight[t]})))}),i},rfe=e=>{let t;for(;e.hasNode(t=`_root${Math.random()}`););return t},nfe=(e,t,r)=>{const n=Fce(r,r.map((c,f)=>f)),a=t.map(c=>{const f=e.getRelatedEdges(c,"out").map(h=>({pos:n[h.target]||0,weight:h.data.weight}));return f?.sort((h,d)=>h.pos-d.pos)}).flat().filter(c=>c!==void 0);let s=1;for(;s<r.length;)s<<=1;const o=2*s-1;s-=1;const l=Array(o).fill(0,0,o);let u=0;return a?.forEach(c=>{if(c){let f=c.pos+s;l[f]+=c.weight;let h=0;for(;f>0;)f%2&&(h+=l[f+1]),f=f-1>>1,l[f]+=c.weight;u+=c.weight*h}}),u},$P=(e,t)=>{let r=0;for(let n=1;n<t?.length;n+=1)r+=nfe(e,t[n-1],t[n]);return r},BP=e=>{const t={},r=e.getAllNodes(),n=r.map(u=>{var c;return(c=u.data.rank)!==null&&c!==void 0?c:-1/0}),i=Math.max(...n),a=[];for(let u=0;u<i+1;u++)a.push([]);const s=r.sort((u,c)=>e.getNode(u.id).data.rank-e.getNode(c.id).data.rank),l=s.filter(u=>e.getNode(u.id).data.fixorder!==void 0).sort((u,c)=>e.getNode(u.id).data.fixorder-e.getNode(c.id).data.fixorder);return l?.forEach(u=>{isNaN(e.getNode(u.id).data.rank)||a[e.getNode(u.id).data.rank].push(u.id),t[u.id]=!0}),s?.forEach(u=>e.dfsTree(u.id,c=>{if(t.hasOwnProperty(c.id))return!0;t[c.id]=!0,isNaN(c.data.rank)||a[c.data.rank].push(c.id)})),a},ife=(e,t)=>t.map(r=>{const n=e.getRelatedEdges(r,"in");if(!n?.length)return{v:r};const i={sum:0,weight:0};return n?.forEach(a=>{const s=e.getNode(a.source);i.sum+=a.data.weight*s.data.order,i.weight+=a.data.weight}),{v:r,barycenter:i.sum/i.weight,weight:i.weight}}),afe=(e,t)=>{var r,n,i;const a={};e?.forEach((o,l)=>{a[o.v]={i:l,indegree:0,in:[],out:[],vs:[o.v]};const u=a[o.v];o.barycenter!==void 0&&(u.barycenter=o.barycenter,u.weight=o.weight)}),(r=t.getAllEdges())===null||r===void 0||r.forEach(o=>{const l=a[o.source],u=a[o.target];l!==void 0&&u!==void 0&&(u.indegree++,l.out.push(a[o.target]))});const s=(i=(n=Object.values(a)).filter)===null||i===void 0?void 0:i.call(n,o=>!o.indegree);return sfe(s)},sfe=e=>{var t,r;const n=[],i=l=>u=>{u.merged||(u.barycenter===void 0||l.barycenter===void 0||u.barycenter>=l.barycenter)&&ofe(l,u)},a=l=>u=>{u.in.push(l),--u.indegree===0&&e.push(u)};for(;e?.length;){const l=e.pop();n.push(l),(t=l.in.reverse())===null||t===void 0||t.forEach(u=>i(l)(u)),(r=l.out)===null||r===void 0||r.forEach(u=>a(l)(u))}const s=n.filter(l=>!l.merged),o=["vs","i","barycenter","weight"];return s.map(l=>{const u={};return o?.forEach(c=>{l[c]!==void 0&&(u[c]=l[c])}),u})},ofe=(e,t)=>{var r;let n=0,i=0;e.weight&&(n+=e.barycenter*e.weight,i+=e.weight),t.weight&&(n+=t.barycenter*t.weight,i+=t.weight),e.vs=(r=t.vs)===null||r===void 0?void 0:r.concat(e.vs),e.barycenter=n/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0},lfe=(e,t,r,n)=>{const i=zce(e,h=>{const d=h.hasOwnProperty("fixorder")&&!isNaN(h.fixorder);return n?!d&&h.hasOwnProperty("barycenter"):d||h.hasOwnProperty("barycenter")}),a=i.lhs,s=i.rhs.sort((h,d)=>-h.i- -d.i),o=[];let l=0,u=0,c=0;a?.sort(ufe(!!t,!!r)),c=zP(o,s,c),a?.forEach(h=>{var d;c+=(d=h.vs)===null||d===void 0?void 0:d.length,o.push(h.vs),l+=h.barycenter*h.weight,u+=h.weight,c=zP(o,s,c)});const f={vs:o.flat()};return u&&(f.barycenter=l/u,f.weight=u),f},zP=(e,t,r)=>{let n=r,i;for(;t.length&&(i=t[t.length-1]).i<=n;)t.pop(),e?.push(i.vs),n++;return n},ufe=(e,t)=>(r,n)=>{if(r.fixorder!==void 0&&n.fixorder!==void 0)return r.fixorder-n.fixorder;if(r.barycenter<n.barycenter)return-1;if(r.barycenter>n.barycenter)return 1;if(t&&r.order!==void 0&&n.order!==void 0){if(r.order<n.order)return-1;if(r.order>n.order)return 1}return e?n.i-r.i:r.i-n.i},Az=(e,t,r,n,i,a)=>{var s,o,l,u;let c=e.getChildren(t).map(y=>y.id);const f=e.getNode(t),h=f?f.data.borderLeft:void 0,d=f?f.data.borderRight:void 0,v={};h&&(c=c?.filter(y=>y!==h&&y!==d));const p=ife(e,c||[]);p?.forEach(y=>{var b;if(!((b=e.getChildren(y.v))===null||b===void 0)&&b.length){const _=Az(e,y.v,r,n,a);v[y.v]=_,_.hasOwnProperty("barycenter")&&ffe(y,_)}});const g=afe(p,r);cfe(g,v),(s=g.filter(y=>y.vs.length>0))===null||s===void 0||s.forEach(y=>{const b=e.getNode(y.vs[0]);b&&(y.fixorder=b.data.fixorder,y.order=b.data.order)});const m=lfe(g,n,i,a);if(h&&(m.vs=[h,m.vs,d].flat(),!((o=e.getPredecessors(h))===null||o===void 0)&&o.length)){const y=e.getNode(((l=e.getPredecessors(h))===null||l===void 0?void 0:l[0].id)||""),b=e.getNode(((u=e.getPredecessors(d))===null||u===void 0?void 0:u[0].id)||"");m.hasOwnProperty("barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+y.data.order+b.data.order)/(m.weight+2),m.weight+=2}return m},cfe=(e,t)=>{e?.forEach(r=>{var n;const i=(n=r.vs)===null||n===void 0?void 0:n.map(a=>t[a]?t[a].vs:a);r.vs=i.flat()})},ffe=(e,t)=>{e.barycenter!==void 0?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)},hfe=(e,t)=>{const r=_z(e),n=[],i=[];for(let c=1;c<r+1;c++)n.push(c);for(let c=r-1;c>-1;c--)i.push(c);const a=GP(e,n,"in"),s=GP(e,i,"out");let o=BP(e);km(e,o);let l=Number.POSITIVE_INFINITY,u;for(let c=0,f=0;f<4;++c,++f){qP(c%2?a:s,c%4>=2,!1,t),o=Hf(e);const h=$P(e,o);h<l&&(f=0,u=Fl(o),l=h)}o=BP(e),km(e,o);for(let c=0,f=0;f<4;++c,++f){qP(c%2?a:s,c%4>=2,!0,t),o=Hf(e);const h=$P(e,o);h<l&&(f=0,u=Fl(o),l=h)}km(e,u)},GP=(e,t,r)=>t.map(n=>tfe(e,n,r)),qP=(e,t,r,n)=>{const i=new dn;e?.forEach(a=>{var s;const o=a.getRoots()[0].id,l=Az(a,o,i,t,r,n);for(let u=0;u<((s=l.vs)===null||s===void 0?void 0:s.length);u++){const c=a.getNode(l.vs[u]);c&&(c.data.order=u)}efe(a,i,l.vs)})},km=(e,t)=>{t?.forEach(r=>{r?.forEach((n,i)=>{e.getNode(n).data.order=i})})},dfe=(e,t)=>{const n=e.getAllNodes().filter(s=>{var o;return!(!((o=e.getChildren(s.id))===null||o===void 0)&&o.length)}).map(s=>s.data.rank),i=Math.max(...n),a=[];for(let s=0;s<i+1;s++)a[s]=[];t?.forEach(s=>{const o=e.getNode(s);!o||o.data.dummy||isNaN(o.data.rank)||(o.data.fixorder=a[o.data.rank].length,a[o.data.rank].push(s))})},vfe=e=>{const t={};let r=0;const n=i=>{const a=r;e.getChildren(i).forEach(s=>n(s.id)),t[i]={low:a,lim:r++}};return e.getRoots().forEach(i=>n(i.id)),t},pfe=(e,t,r,n)=>{var i,a;const s=[],o=[],l=Math.min(t[r].low,t[n].low),u=Math.max(t[r].lim,t[n].lim);let c,f;c=r;do c=(i=e.getParent(c))===null||i===void 0?void 0:i.id,s.push(c);while(c&&(t[c].low>l||u>t[c].lim));for(f=c,c=n;c&&c!==f;)o.push(c),c=(a=e.getParent(c))===null||a===void 0?void 0:a.id;return{lca:f,path:s.concat(o.reverse())}},gfe=(e,t)=>{const r=vfe(e);t.forEach(n=>{var i,a;let s=n,o=e.getNode(s);const l=o.data.originalEdge;if(!l)return;const u=pfe(e,r,l.source,l.target),c=u.path,f=u.lca;let h=0,d=c[h],v=!0;for(;s!==l.target;){if(o=e.getNode(s),v){for(;d!==f&&((i=e.getNode(d))===null||i===void 0?void 0:i.data.maxRank)<o.data.rank;)h++,d=c[h];d===f&&(v=!1)}if(!v){for(;h<c.length-1&&((a=e.getNode(c[h+1]))===null||a===void 0?void 0:a.data.minRank)<=o.data.rank;)h++;d=c[h]}e.hasNode(d)&&e.setParent(s,d),s=e.getSuccessors(s)[0].id}})},mfe=(e,t)=>{const r={},n=(i,a)=>{let s=0,o=0;const l=i.length,u=a?.[a?.length-1];return a?.forEach((c,f)=>{var h;const d=bfe(e,c),v=d?e.getNode(d.id).data.order:l;(d||c===u)&&((h=a.slice(o,f+1))===null||h===void 0||h.forEach(p=>{var g;(g=e.getPredecessors(p))===null||g===void 0||g.forEach(m=>{var y;const b=e.getNode(m.id),_=b.data.order;(_<s||v<_)&&!(b.data.dummy&&(!((y=e.getNode(p))===null||y===void 0)&&y.data.dummy))&&Pz(r,m.id,p)})}),o=f+1,s=v)}),a};return t?.length&&t.reduce(n),r},yfe=(e,t)=>{const r={};function n(o,l,u,c,f){var h,d;let v;for(let p=l;p<u;p++)v=o[p],!((h=e.getNode(v))===null||h===void 0)&&h.data.dummy&&((d=e.getPredecessors(v))===null||d===void 0||d.forEach(g=>{const m=e.getNode(g.id);m.data.dummy&&(m.data.order<c||m.data.order>f)&&Pz(r,g.id,v)}))}function i(o){return JSON.stringify(o.slice(1))}function a(o,l){const u=i(o);l.get(u)||(n(...o),l.set(u,!0))}const s=(o,l)=>{let u=-1,c,f=0;const h=new Map;return l?.forEach((d,v)=>{var p;if(((p=e.getNode(d))===null||p===void 0?void 0:p.data.dummy)==="border"){const g=e.getPredecessors(d)||[];g.length&&(c=e.getNode(g[0].id).data.order,a([l,f,v,u,c],h),f=v,u=c)}a([l,f,l.length,c,o.length],h)}),l};return t?.length&&t.reduce(s),r},bfe=(e,t)=>{var r,n;if(!((r=e.getNode(t))===null||r===void 0)&&r.data.dummy)return(n=e.getPredecessors(t))===null||n===void 0?void 0:n.find(i=>e.getNode(i.id).data.dummy)},Pz=(e,t,r)=>{let n=t,i=r;if(n>i){const s=n;n=i,i=s}let a=e[n];a||(e[n]=a={}),a[i]=!0},wfe=(e,t,r)=>{let n=t,i=r;if(n>i){const a=t;n=i,i=a}return!!e[n]},xfe=(e,t,r,n)=>{const i={},a={},s={};return t?.forEach(o=>{o?.forEach((l,u)=>{i[l]=l,a[l]=l,s[l]=u})}),t?.forEach(o=>{let l=-1;o?.forEach(u=>{let c=n(u).map(f=>f.id);if(c.length){c=c.sort((h,d)=>s[h]-s[d]);const f=(c.length-1)/2;for(let h=Math.floor(f),d=Math.ceil(f);h<=d;++h){const v=c[h];a[u]===u&&l<s[v]&&!wfe(r,u,v)&&(a[v]=u,a[u]=i[u]=i[v],l=s[v])}}})}),{root:i,align:a}},Efe=(e,t,r,n,i,a,s)=>{var o;const l={},u=_fe(e,t,r,i,a,s),c=s?"borderLeft":"borderRight",f=(v,p)=>{let g=u.getAllNodes(),m=g.pop();const y={};for(;m;)y[m.id]?v(m.id):(y[m.id]=!0,g.push(m),g=g.concat(p(m.id))),m=g.pop()},h=v=>{l[v]=(u.getRelatedEdges(v,"in")||[]).reduce((p,g)=>Math.max(p,(l[g.source]||0)+g.data.weight),0)},d=v=>{const p=(u.getRelatedEdges(v,"out")||[]).reduce((m,y)=>Math.min(m,(l[y.target]||0)-y.data.weight),Number.POSITIVE_INFINITY),g=e.getNode(v);p!==Number.POSITIVE_INFINITY&&g.data.borderType!==c&&(l[v]=Math.max(l[v],p))};return f(h,u.getPredecessors.bind(u)),f(d,u.getSuccessors.bind(u)),(o=Object.values(n))===null||o===void 0||o.forEach(v=>{l[v]=l[r[v]]}),l},_fe=(e,t,r,n,i,a)=>{const s=new dn,o=Mfe(n,i,a);return t?.forEach(l=>{let u;l?.forEach(c=>{const f=r[c];if(s.hasNode(f)||s.addNode({id:f,data:{}}),u){const h=r[u],d=s.getRelatedEdges(h,"out").find(v=>v.target===f);d?s.updateEdgeData(d.id,Object.assign(Object.assign({},d.data),{weight:Math.max(o(e,c,u),d.data.weight||0)})):s.addEdge({id:`e${Math.random()}`,source:h,target:f,data:{weight:Math.max(o(e,c,u),0)}})}u=c})}),s},kfe=(e,t)=>Qk(Object.values(t),r=>{var n;let i=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return(n=Object.keys(r))===null||n===void 0||n.forEach(s=>{const o=r[s],l=Nfe(e,s)/2;i=Math.max(o+l,i),a=Math.min(o-l,a)}),i-a});function Sfe(e,t){const r=Object.values(t),n=Math.min(...r),i=Math.max(...r);["u","d"].forEach(a=>{["l","r"].forEach(s=>{const o=a+s,l=e[o];let u;if(l===t)return;const c=Object.values(l);u=s==="l"?n-Math.min(...c):i-Math.max(...c),u&&(e[o]={},Object.keys(l).forEach(f=>{e[o][f]=l[f]+u}))})})}const Tfe=(e,t)=>{const r={};return Object.keys(e.ul).forEach(n=>{if(t)r[n]=e[t.toLowerCase()][n];else{const i=Object.values(e).map(a=>a[n]);r[n]=(i[0]+i[1])/2}}),r},Mfe=(e,t,r)=>(n,i,a)=>{const s=n.getNode(i),o=n.getNode(a);let l=0,u=0;if(l+=s.data.width/2,s.data.hasOwnProperty("labelpos"))switch((s.data.labelpos||"").toLowerCase()){case"l":u=-s.data.width/2;break;case"r":u=s.data.width/2;break}if(u&&(l+=r?u:-u),u=0,l+=(s.data.dummy?t:e)/2,l+=(o.data.dummy?t:e)/2,l+=o.data.width/2,o.data.labelpos)switch((o.data.labelpos||"").toLowerCase()){case"l":u=o.data.width/2;break;case"r":u=-o.data.width/2;break}return u&&(l+=r?u:-u),u=0,l},Nfe=(e,t)=>e.getNode(t).data.width||0,Afe=(e,t)=>{const{ranksep:r=0}=t||{},n=Hf(e);let i=0;n?.forEach(a=>{const s=a.map(l=>e.getNode(l).data.height),o=Math.max(...s,0);a?.forEach(l=>{e.getNode(l).data.y=i+o/2}),i+=o+r})},Pfe=(e,t)=>{const{align:r,nodesep:n=0,edgesep:i=0}=t||{},a=Hf(e),s=Object.assign(mfe(e,a),yfe(e,a)),o={};let l=[];["u","d"].forEach(c=>{l=c==="u"?a:Object.values(a).reverse(),["l","r"].forEach(f=>{f==="r"&&(l=l.map(p=>Object.values(p).reverse()));const h=(c==="u"?e.getPredecessors:e.getSuccessors).bind(e),d=xfe(e,l,s,h),v=Efe(e,l,d.root,d.align,n,i,f==="r");f==="r"&&Object.keys(v).forEach(p=>v[p]=-v[p]),o[c+f]=v})});const u=kfe(e,o);return u&&Sfe(o,u),Tfe(o,r)},Ofe=(e,t)=>{var r;const n=Ez(e);Afe(n,t);const i=Pfe(n,t);(r=Object.keys(i))===null||r===void 0||r.forEach(a=>{n.getNode(a).data.x=i[a]})},Oz=e=>{const t={},r=n=>{var i;const a=e.getNode(n);if(!a)return 0;if(t[n])return a.data.rank;t[n]=!0;let s;return(i=e.getRelatedEdges(n,"out"))===null||i===void 0||i.forEach(o=>{const l=r(o.target),u=o.data.minlen,c=l-u;c&&(s===void 0||c<s)&&(s=c)}),s||(s=0),a.data.rank=s,s};e.getAllNodes().filter(n=>e.getRelatedEdges(n.id,"in").length===0).forEach(n=>r(n.id))},Cfe=e=>{const t={};let r;const n=s=>{var o;const l=e.getNode(s);if(!l)return 0;if(t[s])return l.data.rank;t[s]=!0;let u;return(o=e.getRelatedEdges(s,"out"))===null||o===void 0||o.forEach(c=>{const f=n(c.target),h=c.data.minlen,d=f-h;d&&(u===void 0||d<u)&&(u=d)}),u||(u=0),(r===void 0||u<r)&&(r=u),l.data.rank=u,u};e.getAllNodes().filter(s=>e.getRelatedEdges(s.id,"in").length===0).forEach(s=>{s&&n(s.id)}),r===void 0&&(r=0);const i={},a=(s,o)=>{var l;const u=e.getNode(s),c=isNaN(u.data.layer)?o:u.data.layer;(u.data.rank===void 0||u.data.rank<c)&&(u.data.rank=c),!i[s]&&(i[s]=!0,(l=e.getRelatedEdges(s,"out"))===null||l===void 0||l.forEach(f=>{a(f.target,c+f.data.minlen)}))};e.getAllNodes().forEach(s=>{const o=s.data;o&&(isNaN(o.layer)?o.rank-=r:a(s.id,o.layer))})},Fo=(e,t)=>e.getNode(t.target).data.rank-e.getNode(t.source).data.rank-t.data.minlen,Rfe=e=>{const t=new dn({tree:[]}),r=e.getAllNodes()[0],n=e.getAllNodes().length;t.addNode(r);let i,a;for(;Lfe(t,e)<n;)i=Cz(t,e),a=t.hasNode(i.source)?Fo(e,i):-Fo(e,i),Rz(t,e,a);return t},Lfe=(e,t)=>{const r=n=>{t.getRelatedEdges(n,"both").forEach(i=>{const a=i.source,s=n===a?i.target:a;!e.hasNode(s)&&!Fo(t,i)&&(e.addNode({id:s,data:{}}),e.addEdge({id:i.id,source:n,target:s,data:{}}),r(s))})};return e.getAllNodes().forEach(n=>r(n.id)),e.getAllNodes().length},Ife=e=>{const t=new dn({tree:[]}),r=e.getAllNodes()[0],n=e.getAllNodes().length;t.addNode(r);let i,a;for(;Dfe(t,e)<n;)i=Cz(t,e),a=t.hasNode(i.source)?Fo(e,i):-Fo(e,i),Rz(t,e,a);return t},Dfe=(e,t)=>{const r=n=>{var i;(i=t.getRelatedEdges(n,"both"))===null||i===void 0||i.forEach(a=>{const s=a.source,o=n===s?a.target:s;!e.hasNode(o)&&(t.getNode(o).data.layer!==void 0||!Fo(t,a))&&(e.addNode({id:o,data:{}}),e.addEdge({id:a.id,source:n,target:o,data:{}}),r(o))})};return e.getAllNodes().forEach(n=>r(n.id)),e.getAllNodes().length},Cz=(e,t)=>Qk(t.getAllEdges(),r=>e.hasNode(r.source)!==e.hasNode(r.target)?Fo(t,r):1/0),Rz=(e,t,r)=>{e.getAllNodes().forEach(n=>{const i=t.getNode(n.id);i.data.rank||(i.data.rank=0),i.data.rank+=r})},Ffe=e=>{const t=Dce(e);Oz(t);const r=Rfe(t);Iz(r),Lz(r,t);let n,i;for(;n=zfe(r);)i=Gfe(r,t,n),qfe(r,t,n,i)},Lz=(e,t)=>{let r=Sz(e,e.getAllNodes(),"post");r=r.slice(0,r?.length-1),r.forEach(n=>{$fe(e,t,n)})},$fe=(e,t,r)=>{const i=e.getNode(r).data.parent,a=e.getRelatedEdges(r,"both").find(s=>s.target===i||s.source===i);a.data.cutvalue=Bfe(e,t,r)},Bfe=(e,t,r)=>{const i=e.getNode(r).data.parent;let a=!0,s=t.getRelatedEdges(r,"out").find(l=>l.target===i),o=0;return s||(a=!1,s=t.getRelatedEdges(i,"out").find(l=>l.target===r)),o=s.data.weight,t.getRelatedEdges(r,"both").forEach(l=>{const u=l.source===r,c=u?l.target:l.source;if(c!==i){const f=u===a,h=l.data.weight;if(o+=f?h:-h,Wfe(e,r,c)){const d=e.getRelatedEdges(r,"both").find(v=>v.source===c||v.target===c).data.cutvalue;o+=f?-d:d}}}),o},Iz=(e,t=e.getAllNodes()[0].id)=>{Dz(e,{},1,t)},Dz=(e,t,r,n,i)=>{var a;const s=r;let o=r;const l=e.getNode(n);return t[n]=!0,(a=e.getNeighbors(n))===null||a===void 0||a.forEach(u=>{t[u.id]||(o=Dz(e,t,o,u.id,n))}),l.data.low=s,l.data.lim=o++,i?l.data.parent=i:delete l.data.parent,o},zfe=e=>e.getAllEdges().find(t=>t.data.cutvalue<0),Gfe=(e,t,r)=>{let n=r.source,i=r.target;t.getRelatedEdges(n,"out").find(c=>c.target===i)||(n=r.target,i=r.source);const a=e.getNode(n),s=e.getNode(i);let o=a,l=!1;a.data.lim>s.data.lim&&(o=s,l=!0);const u=t.getAllEdges().filter(c=>l===jP(e.getNode(c.source),o)&&l!==jP(e.getNode(c.target),o));return Qk(u,c=>Fo(t,c))},qfe=(e,t,r,n)=>{const i=e.getRelatedEdges(r.source,"both").find(a=>a.source===r.target||a.target===r.target);i&&e.removeEdge(i.id),e.addEdge({id:`e${Math.random()}`,source:n.source,target:n.target,data:{}}),Iz(e),Lz(e,t),jfe(e,t)},jfe=(e,t)=>{const r=e.getAllNodes().find(i=>!i.data.parent);let n=Sz(e,r,"pre");n=n.slice(1),n.forEach(i=>{const a=e.getNode(i).data.parent;let s=t.getRelatedEdges(i,"out").find(l=>l.target===a),o=!1;!s&&t.hasNode(a)&&(s=t.getRelatedEdges(a,"out").find(l=>l.target===i),o=!0),t.getNode(i).data.rank=(t.hasNode(a)&&t.getNode(a).data.rank||0)+(o?s?.data.minlen:-s?.data.minlen)})},Wfe=(e,t,r)=>e.getRelatedEdges(t,"both").find(n=>n.source===r||n.target===r),jP=(e,t)=>t.data.low<=e.data.lim&&e.data.lim<=t.data.lim,Vfe=(e,t)=>{switch(t){case"network-simplex":Hfe(e);break;case"tight-tree":WP(e);break;case"longest-path":Ufe(e);break;default:WP(e)}},Ufe=Oz,WP=e=>{Cfe(e),Ife(e)},Hfe=e=>{Ffe(e)},Yfe=(e,t)=>{const{edgeLabelSpace:r,keepNodeOrder:n,prevGraph:i,rankdir:a,ranksep:s}=t;!n&&i&&Kfe(e,i);const o=rhe(e);r&&(t.ranksep=nhe(o,{rankdir:a,ranksep:s}));let l;try{l=Xfe(o,t)}catch(u){if(u.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,u);return}throw u}return Zfe(e,o),l},Xfe=(e,t)=>{const{ranker:r,rankdir:n="tb",nodeOrder:i,keepNodeOrder:a,align:s,nodesep:o=50,edgesep:l=20,ranksep:u=50}=t;hhe(e),Rce(e);const{nestingRoot:c,nodeRankFactor:f}=Uce(e);Vfe(Ez(e),r),ihe(e),Bce(e,f),Xce(e,c),$ce(e),ahe(e),she(e);const h=[];Zce(e,h),gfe(e,h),Gce(e),a&&dfe(e,i),hfe(e,a),dhe(e),qce(e,n),Ofe(e,{align:s,nodesep:o,edgesep:l,ranksep:u}),vhe(e),fhe(e),Jce(e,h),uhe(e),jce(e,n);const{width:d,height:v}=ohe(e);return lhe(e),che(e),Lce(e),{width:d,height:v}},Kfe=(e,t)=>{e.getAllNodes().forEach(r=>{const n=e.getNode(r.id);if(t.hasNode(r.id)){const i=t.getNode(r.id);n.data.fixorder=i.data._order,delete i.data._order}else delete n.data.fixorder})},Zfe=(e,t)=>{e.getAllNodes().forEach(r=>{var n;const i=e.getNode(r.id);if(i){const a=t.getNode(r.id);i.data.x=a.data.x,i.data.y=a.data.y,i.data._order=a.data.order,i.data._rank=a.data.rank,!((n=t.getChildren(r.id))===null||n===void 0)&&n.length&&(i.data.width=a.data.width,i.data.height=a.data.height)}}),e.getAllEdges().forEach(r=>{const n=e.getEdge(r.id),i=t.getEdge(r.id);n.data.points=i?i.data.points:[],i&&i.data.hasOwnProperty("x")&&(n.data.x=i.data.x,n.data.y=i.data.y)})},Qfe=["width","height","layer","fixorder"],Jfe={width:0,height:0},ehe=["minlen","weight","width","height","labeloffset"],the={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Sm=["labelpos"],rhe=e=>{const t=new dn({tree:[]});return e.getAllNodes().forEach(r=>{const n=UP(e.getNode(r.id).data),i=Object.assign(Object.assign({},Jfe),n),a=VP(i,Qfe);t.hasNode(r.id)||t.addNode({id:r.id,data:Object.assign({},a)});const s=e.hasTreeStructure("combo")?e.getParent(r.id,"combo"):e.getParent(r.id);Ze(s)||(t.hasNode(s.id)||t.addNode(Object.assign({},s)),t.setParent(r.id,s.id))}),e.getAllEdges().forEach(r=>{const n=UP(e.getEdge(r.id).data),i={};Sm?.forEach(a=>{n[a]!==void 0&&(i[a]=n[a])}),t.addEdge({id:r.id,source:r.source,target:r.target,data:Object.assign({},the,VP(n,ehe),i)})}),t},nhe=(e,t)=>{const{ranksep:r=0,rankdir:n}=t;return e.getAllNodes().forEach(i=>{isNaN(i.data.layer)||i.data.layer||(i.data.layer=0)}),e.getAllEdges().forEach(i=>{var a;i.data.minlen*=2,((a=i.data.labelpos)===null||a===void 0?void 0:a.toLowerCase())!=="c"&&(n==="TB"||n==="BT"?i.data.width+=i.data.labeloffset:i.data.height+=i.data.labeloffset)}),r/2},ihe=e=>{e.getAllEdges().forEach(t=>{if(t.data.width&&t.data.height){const r=e.getNode(t.source),n=e.getNode(t.target),i={e:t,rank:(n.data.rank-r.data.rank)/2+r.data.rank};uc(e,"edge-proxy",i,"_ep")}})},ahe=e=>{let t=0;return e.getAllNodes().forEach(r=>{var n,i;r.data.borderTop&&(r.data.minRank=(n=e.getNode(r.data.borderTop))===null||n===void 0?void 0:n.data.rank,r.data.maxRank=(i=e.getNode(r.data.borderBottom))===null||i===void 0?void 0:i.data.rank,t=Math.max(t,r.data.maxRank||-1/0))}),t},she=e=>{e.getAllNodes().forEach(t=>{t.data.dummy==="edge-proxy"&&(e.getEdge(t.data.e.id).data.labelRank=t.data.rank,e.removeNode(t.id))})},ohe=(e,t)=>{let r,n=0,i,a=0;const{marginx:s=0,marginy:o=0}={},l=u=>{if(!u.data)return;const c=u.data.x,f=u.data.y,h=u.data.width,d=u.data.height;!isNaN(c)&&!isNaN(h)&&(r===void 0&&(r=c-h/2),r=Math.min(r,c-h/2),n=Math.max(n,c+h/2)),!isNaN(f)&&!isNaN(d)&&(i===void 0&&(i=f-d/2),i=Math.min(i,f-d/2),a=Math.max(a,f+d/2))};return e.getAllNodes().forEach(u=>{l(u)}),e.getAllEdges().forEach(u=>{u?.data.hasOwnProperty("x")&&l(u)}),r-=s,i-=o,e.getAllNodes().forEach(u=>{u.data.x-=r,u.data.y-=i}),e.getAllEdges().forEach(u=>{var c;(c=u.data.points)===null||c===void 0||c.forEach(f=>{f.x-=r,f.y-=i}),u.data.hasOwnProperty("x")&&(u.data.x-=r),u.data.hasOwnProperty("y")&&(u.data.y-=i)}),{width:n-r+s,height:a-i+o}},lhe=e=>{e.getAllEdges().forEach(t=>{const r=e.getNode(t.source),n=e.getNode(t.target);let i,a;t.data.points?(i=t.data.points[0],a=t.data.points[t.data.points.length-1]):(t.data.points=[],i={x:n.data.x,y:n.data.y},a={x:r.data.x,y:r.data.y}),t.data.points.unshift(LP(r.data,i)),t.data.points.push(LP(n.data,a))})},uhe=e=>{e.getAllEdges().forEach(t=>{if(t.data.hasOwnProperty("x"))switch((t.data.labelpos==="l"||t.data.labelpos==="r")&&(t.data.width-=t.data.labeloffset),t.data.labelpos){case"l":t.data.x-=t.data.width/2+t.data.labeloffset;break;case"r":t.data.x+=t.data.width/2+t.data.labeloffset;break}})},che=e=>{e.getAllEdges().forEach(t=>{var r;t.data.reversed&&((r=t.data.points)===null||r===void 0||r.reverse())})},fhe=e=>{e.getAllNodes().forEach(t=>{var r,n,i;if(!((r=e.getChildren(t.id))===null||r===void 0)&&r.length){const a=e.getNode(t.id),s=e.getNode(a.data.borderTop),o=e.getNode(a.data.borderBottom),l=e.getNode(a.data.borderLeft[((n=a.data.borderLeft)===null||n===void 0?void 0:n.length)-1]),u=e.getNode(a.data.borderRight[((i=a.data.borderRight)===null||i===void 0?void 0:i.length)-1]);a.data.width=Math.abs(u?.data.x-l?.data.x)||10,a.data.height=Math.abs(o?.data.y-s?.data.y)||10,a.data.x=(l?.data.x||0)+a.data.width/2,a.data.y=(s?.data.y||0)+a.data.height/2}}),e.getAllNodes().forEach(t=>{t.data.dummy==="border"&&e.removeNode(t.id)})},hhe=e=>{e.getAllEdges().forEach(t=>{if(t.source===t.target){const r=e.getNode(t.source);r.data.selfEdges||(r.data.selfEdges=[]),r.data.selfEdges.push(t),e.removeEdge(t.id)}})},dhe=e=>{const t=Hf(e);t?.forEach(r=>{let n=0;r?.forEach((i,a)=>{var s;const o=e.getNode(i);o.data.order=a+n,(s=o.data.selfEdges)===null||s===void 0||s.forEach(l=>{uc(e,"selfedge",{width:l.data.width,height:l.data.height,rank:o.data.rank,order:a+ ++n,e:l},"_se")}),delete o.data.selfEdges})})},vhe=e=>{e.getAllNodes().forEach(t=>{const r=e.getNode(t.id);if(r.data.dummy==="selfedge"){const n=e.getNode(r.data.e.source),i=n.data.x+n.data.width/2,a=n.data.y,s=r.data.x-i,o=n.data.height/2;e.hasEdge(r.data.e.id)?e.updateEdgeData(r.data.e.id,r.data.e.data):e.addEdge({id:r.data.e.id,source:r.data.e.source,target:r.data.e.target,data:r.data.e.data}),e.removeNode(t.id),r.data.e.data.points=[{x:i+2*s/3,y:a-o},{x:i+5*s/6,y:a-o},{y:a,x:i+s},{x:i+5*s/6,y:a+o},{x:i+2*s/3,y:a+o}],r.data.e.data.x=r.data.x,r.data.e.data.y=r.data.y}})},VP=(e,t)=>{const r={};return t?.forEach(n=>{e[n]!==void 0&&(r[n]=+e[n])}),r},UP=(e={})=>{const t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},Ds=Array.isArray,Fz=e=>{const t=[],r=e.length;for(let n=0;n<r;n+=1){t[n]=[];for(let i=0;i<r;i+=1)n===i?t[n][i]=0:e[n][i]===0||!e[n][i]?t[n][i]=1/0:t[n][i]=e[n][i]}for(let n=0;n<r;n+=1)for(let i=0;i<r;i+=1)for(let a=0;a<r;a+=1)t[i][a]>t[i][n]+t[n][a]&&(t[i][a]=t[i][n]+t[n][a]);return t},$z=(e,t)=>{const{nodes:r,edges:n}=e,i=[],a={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((s,o)=>{a[s.id]=o;const l=[];i.push(l)}),n?.forEach(s=>{const{source:o,target:l}=s,u=a[o],c=a[l];u===void 0||c===void 0||(i[u][c]=1,i[c][u]=1)}),i},phe=(e,t)=>{const r=[];return e.forEach(n=>{const i=[];n.forEach(a=>{i.push(a*t)}),r.push(i)}),r},ghe=e=>{let t=1/0,r=1/0,n=-1/0,i=-1/0;return e.forEach(a=>{let s=a.data.size;Ds(s)?s.length===1&&(s=[s[0],s[0]]):rt(s)?s=[s,s]:(s===void 0||isNaN(s))&&(s=[30,30]);const o=[s[0]/2,s[1]/2],l=a.data.x-o[0],u=a.data.x+o[0],c=a.data.y-o[1],f=a.data.y+o[1];t>l&&(t=l),r>c&&(r=c),n<u&&(n=u),i<f&&(i=f)}),{minX:t,minY:r,maxX:n,maxY:i}},HP=(e,t)=>Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)),A2=(e,t,r,n="TB",i,a={})=>{if(!t?.length)return;const{stopBranchFn:s,stopAllFn:o}=a;for(let l=0;l<t.length;l++){const u=t[l];if(e.hasNode(u.id)&&!s?.(u)){if(o?.(u))return;n==="TB"&&r(u),A2(e,e.getChildren(u.id,i),r,n,i,a),n!=="TB"&&r(u)}}},P2=e=>{if(e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){const t=[];return e.forEach(r=>{t.push(r)}),t.map(r=>P2(r))}if(typeof e=="object"){const t={};return Object.keys(e).forEach(r=>{t[r]=P2(e[r])}),t}return e},Di=(e,t)=>{const r=P2(e);return r.data=r.data||{},t&&(rt(r.data.x)||(r.data.x=Math.random()*t[0]),rt(r.data.y)||(r.data.y=Math.random()*t[1])),r};function mh(e){if(!e)return[0,0,0];if(rt(e))return[e,e,e];if(e.length===0)return[0,0,0];const[t,r=t,n=t]=e;return[t,r,n]}function Nl(e,t){let r;return Gt(t)?r=t:rt(t)?r=()=>t:r=()=>e,r}function Jk(e,t,r=!0){return!t&&t!==0?n=>{const{size:i}=n.data||{};return i?Array.isArray(i)?r?Math.max(...i)||e:i:gs(i)&&i.width&&i.height?r?Math.max(i.width,i.height)||e:[i.width,i.height]:i:e}:Gt(t)?t:rt(t)?()=>t:Array.isArray(t)?()=>r?Math.max(...t)||e:t:gs(t)&&t.width&&t.height?()=>r?Math.max(t.width,t.height)||e:[t.width,t.height]:()=>e}const eS=(e,t,r=10)=>{let n;const i=typeof t=="function"?t:()=>t||0;return e?Array.isArray(e)?n=s=>e:Gt(e)?n=e:n=s=>e:n=s=>{var o,l,u;if(!((o=s.data)===null||o===void 0)&&o.bboxSize)return(l=s.data)===null||l===void 0?void 0:l.bboxSize;if(!((u=s.data)===null||u===void 0)&&u.size){const c=s.data.size;return Array.isArray(c)?c:gs(c)?[c.width,c.height]:c}return r},s=>{const o=n(s),l=i(s);return Math.max(...mh(o))+l}},mhe={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null};class Oxe{constructor(t={}){this.options=t,this.id="antv-dagre",this.options=Object.assign(Object.assign({},mhe),t)}execute(t,r){return _t(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,t,r)})}assign(t,r){return _t(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,t,r)})}genericDagreLayout(t,r,n){return _t(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{nodeSize:a,align:s,rankdir:o="TB",ranksep:l,nodesep:u,ranksepFunc:c,nodesepFunc:f,edgeLabelSpace:h,ranker:d,nodeOrder:v,begin:p,controlPoints:g,radial:m,sortByCombo:y,preset:b}=i,_=new dn({tree:[]}),x=Nl(l||50,c),E=Nl(u||50,f);let w=E,S=x;(o==="LR"||o==="RL")&&(w=x,S=E);const A=Jk(10,a,!1),P=r.getAllNodes(),O=r.getAllEdges();P.forEach(z=>{const Z=mh(A(z)),ge=S(z),xe=w(z),ve=Z[0]+2*xe,je=Z[1]+2*ge,te=z.data.layer;rt(te)?_.addNode({id:z.id,data:{width:ve,height:je,layer:te}}):_.addNode({id:z.id,data:{width:ve,height:je}})}),y&&(_.attachTreeStructure("combo"),P.forEach(z=>{const{parentId:Z}=z.data;Z!==void 0&&_.hasNode(Z)&&_.setParent(z.id,Z,"combo")})),O.forEach(z=>{_.addEdge({id:z.id,source:z.source,target:z.target,data:{weight:z.data.weight||1}})});let C;b?.length&&(C=new dn({nodes:b})),Yfe(_,{prevGraph:C,edgeLabelSpace:h,keepNodeOrder:!!v,nodeOrder:v||[],acyclicer:"greedy",ranker:d,rankdir:o,nodesep:u,align:s});const L=[0,0];if(p){let z=1/0,Z=1/0;_.getAllNodes().forEach(ge=>{z>ge.data.x&&(z=ge.data.x),Z>ge.data.y&&(Z=ge.data.y)}),_.getAllEdges().forEach(ge=>{var xe;(xe=ge.data.points)===null||xe===void 0||xe.forEach(ve=>{z>ve.x&&(z=ve.x),Z>ve.y&&(Z=ve.y)})}),L[0]=p[0]-z,L[1]=p[1]-Z}const I=o==="LR"||o==="RL";if(!m){const z=new Set,ge=o==="BT"||o==="RL"?(te,Y)=>Y-te:(te,Y)=>te-Y;_.getAllNodes().forEach(te=>{te.data.x=te.data.x+L[0],te.data.y=te.data.y+L[1],z.add(I?te.data.x:te.data.y)});const xe=Array.from(z).sort(ge),ve=I?(te,Y)=>te.x!==Y.x:(te,Y)=>te.y!==Y.y,je=I?(te,Y,fe)=>{const Q=Math.max(Y.y,fe.y),oe=Math.min(Y.y,fe.y);return te.filter(ye=>ye.y<=Q&&ye.y>=oe)}:(te,Y,fe)=>{const Q=Math.max(Y.x,fe.x),oe=Math.min(Y.x,fe.x);return te.filter(ye=>ye.x<=Q&&ye.x>=oe)};_.getAllEdges().forEach((te,Y)=>{var fe;h&&g&&te.data.type!=="loop"&&(te.data.controlPoints=yhe((fe=te.data.points)===null||fe===void 0?void 0:fe.map(({x:Q,y:oe})=>({x:Q+L[0],y:oe+L[1]})),_.getNode(te.source),_.getNode(te.target),xe,I,ve,je))})}let F=[];F=_.getAllNodes().map(z=>Di(z));const U=_.getAllEdges();return t&&(F.forEach(z=>{r.mergeNodeData(z.id,{x:z.data.x,y:z.data.y})}),U.forEach(z=>{r.mergeEdgeData(z.id,{controlPoints:z.data.controlPoints})})),{nodes:F,edges:U}})}}const yhe=(e,t,r,n,i,a,s)=>{let o=e?.slice(1,e.length-1)||[];if(t&&r){let{x:l,y:u}=t.data,{x:c,y:f}=r.data;if(i&&(l=t.data.y,u=t.data.x,c=r.data.y,f=r.data.x),f!==u&&l!==c){const h=n.indexOf(u),d=n[h+1];if(d){const g=o[0],m=i?{x:(u+d)/2,y:g?.y||c}:{x:g?.x||c,y:(u+d)/2};(!g||a(g,m))&&o.unshift(m)}const v=n.indexOf(f),p=Math.abs(v-h);if(p===1)o=s(o,t.data,r.data),o.length||o.push(i?{x:(u+f)/2,y:l}:{x:l,y:(u+f)/2});else if(p>1){const g=n[v-1];if(g){const m=o[o.length-1],y=i?{x:(f+g)/2,y:m?.y||c}:{x:m?.x||l,y:(f+g)/2};(!m||a(m,y))&&o.push(y)}}}}return o},Ul=(e,t,r)=>{const n=e.getAllNodes(),i=e.getAllEdges();if(!n?.length)return{nodes:[],edges:i};if(n.length===1)return t&&e.mergeNodeData(n[0].id,{x:r[0],y:r[1]}),{nodes:[Object.assign(Object.assign({},n[0]),{data:Object.assign(Object.assign({},n[0].data),{x:r[0],y:r[1]})})],edges:i}},bhe={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1};class Cxe{constructor(t={}){this.options=t,this.id="circular",this.options=Object.assign(Object.assign({},bhe),t)}execute(t,r){return _t(this,void 0,void 0,function*(){return this.genericCircularLayout(!1,t,r)})}assign(t,r){return _t(this,void 0,void 0,function*(){yield this.genericCircularLayout(!0,t,r)})}genericCircularLayout(t,r,n){return _t(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{width:a,height:s,center:o,divisions:l,startAngle:u=0,endAngle:c=2*Math.PI,angleRatio:f,ordering:h,clockwise:d,nodeSpacing:v,nodeSize:p}=i,g=r.getAllNodes(),m=r.getAllEdges(),[y,b,_]=xhe(a,s,o),x=g?.length;if(!x||x===1)return Ul(r,t,_);const E=(c-u)/x;let{radius:w,startRadius:S,endRadius:A}=i;if(v){const I=Nl(10,v),F=Jk(10,p);let U=-1/0;g.forEach(z=>{const Z=F(z);U<Z&&(U=Z)});let G=0;g.forEach((z,Z)=>{Z===0?G+=U||10:G+=(I(z)||0)+(U||10)}),w=G/(2*Math.PI)}else!w&&!S&&!A?w=Math.min(b,y)/2:!S&&A?S=A:S&&!A&&(A=S);const P=E*f;let O=[];h==="topology"?O=YP(r,g):h==="topology-directed"?O=YP(r,g,!0):h==="degree"?O=whe(r,g):O=g.map(I=>Di(I));const C=Math.ceil(x/l);for(let I=0;I<x;++I){let F=w;!F&&S!==null&&A!==null&&(F=S+I*(A-S)/(x-1)),F||(F=10+I*100/(x-1));let U=u+I%C*P+2*Math.PI/l*Math.floor(I/C);d||(U=c-I%C*P-2*Math.PI/l*Math.floor(I/C)),O[I].data.x=_[0]+Math.cos(U)*F,O[I].data.y=_[1]+Math.sin(U)*F}return t&&O.forEach(I=>{r.mergeNodeData(I.id,{x:I.data.x,y:I.data.y})}),{nodes:O,edges:m}})}}const YP=(e,t,r=!1)=>{const n=[Di(t[0])],i={},a=t.length;i[t[0].id]=!0;let s=0;return t.forEach((o,l)=>{if(l!==0)if((l===a-1||e.getDegree(o.id,"both")!==e.getDegree(t[l+1].id,"both")||e.areNeighbors(n[s].id,o.id))&&!i[o.id])n.push(Di(o)),i[o.id]=!0,s++;else{const u=r?e.getSuccessors(n[s].id):e.getNeighbors(n[s].id);let c=!1;for(let h=0;h<u.length;h++){const d=u[h];if(e.getDegree(d.id)===e.getDegree(o.id)&&!i[d.id]){n.push(Di(d)),i[d.id]=!0,c=!0;break}}let f=0;for(;!c&&(i[t[f].id]||(n.push(Di(t[f])),i[t[f].id]=!0,c=!0),f++,f!==a););}}),n};function whe(e,t){const r=[];return t.forEach((n,i)=>{r.push(Di(n))}),r.sort((n,i)=>e.getDegree(n.id,"both")-e.getDegree(i.id,"both")),r}const xhe=(e,t,r)=>{let n=e,i=t,a=r;return!n&&typeof window<"u"&&(n=window.innerWidth),!i&&typeof window<"u"&&(i=window.innerHeight),a||(a=[n/2,i/2]),[n,i,a]},Ehe={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class XP{constructor(t={}){this.options=t,this.id="concentric",this.options=Object.assign(Object.assign({},Ehe),t)}execute(t,r){return _t(this,void 0,void 0,function*(){return this.genericConcentricLayout(!1,t,r)})}assign(t,r){return _t(this,void 0,void 0,function*(){yield this.genericConcentricLayout(!0,t,r)})}genericConcentricLayout(t,r,n){return _t(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{center:a,width:s,height:o,sortBy:l,maxLevelDiff:u,sweep:c,clockwise:f,equidistant:h,preventOverlap:d,startAngle:v=3/2*Math.PI,nodeSize:p,nodeSpacing:g}=i,m=r.getAllNodes(),y=r.getAllEdges(),b=!s&&typeof window<"u"?window.innerWidth:s,_=!o&&typeof window<"u"?window.innerHeight:o,x=a||[b/2,_/2];if(!m?.length||m.length===1)return Ul(r,t,x);const E=[];let w,S=0;Ds(p)?w=Math.max(p[0],p[1]):Gt(p)?(w=-1/0,m.forEach(z=>{const Z=Math.max(...mh(p(z)));Z>w&&(w=Z)})):w=p,Ds(g)?S=Math.max(g[0],g[1]):rt(g)&&(S=g),m.forEach(z=>{const Z=Di(z);E.push(Z);let ge=w;const{data:xe}=Z;Ds(xe.size)?ge=Math.max(xe.size[0],xe.size[1]):rt(xe.size)?ge=xe.size:gs(xe.size)&&(ge=Math.max(xe.size.width,xe.size.height)),w=Math.max(w,ge),Gt(g)&&(S=Math.max(g(z),S))});const A={};E.forEach((z,Z)=>{A[z.id]=Z});let P=l;(!At(P)||E[0].data[P]===void 0)&&(P="degree"),P==="degree"?E.sort((z,Z)=>r.getDegree(Z.id,"both")-r.getDegree(z.id,"both")):E.sort((z,Z)=>Z.data[P]-z.data[P]);const O=E[0],C=(u||(P==="degree"?r.getDegree(O.id,"both"):O.data[P]))/4,L=[{nodes:[]}];let I=L[0];E.forEach(z=>{if(I.nodes.length>0){const Z=Math.abs(P==="degree"?r.getDegree(I.nodes[0].id,"both")-r.getDegree(z.id,"both"):I.nodes[0].data[P]-z.data[P]);C&&Z>=C&&(I={nodes:[]},L.push(I))}I.nodes.push(z)});let F=w+S;if(!d){const z=L.length>0&&L[0].nodes.length>1,ge=(Math.min(b,_)/2-F)/(L.length+(z?1:0));F=Math.min(F,ge)}let U=0;if(L.forEach(z=>{const Z=c===void 0?2*Math.PI-2*Math.PI/z.nodes.length:c;if(z.dTheta=Z/Math.max(1,z.nodes.length-1),z.nodes.length>1&&d){const ge=Math.cos(z.dTheta)-Math.cos(0),xe=Math.sin(z.dTheta)-Math.sin(0),ve=Math.sqrt(F*F/(ge*ge+xe*xe));U=Math.max(ve,U)}z.r=U,U+=F}),h){let z=0,Z=0;for(let ge=0;ge<L.length;ge++){const ve=(L[ge].r||0)-Z;z=Math.max(z,ve)}Z=0,L.forEach((ge,xe)=>{xe===0&&(Z=ge.r||0),ge.r=Z,Z+=z})}return L.forEach(z=>{const Z=z.dTheta||0,ge=z.r||0;z.nodes.forEach((xe,ve)=>{const je=v+(f?1:-1)*Z*ve;xe.data.x=x[0]+ge*Math.cos(je),xe.data.y=x[1]+ge*Math.sin(je)})}),t&&E.forEach(z=>r.mergeNodeData(z.id,{x:z.data.x,y:z.data.y})),{nodes:E,edges:y}})}}function _he(e){const t=+this._x.call(null,e),r=+this._y.call(null,e);return Bz(this.cover(t,r),t,r,e)}function Bz(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var i,a=e._root,s={data:n},o=e._x0,l=e._y0,u=e._x1,c=e._y1,f,h,d,v,p,g,m,y;if(!a)return e._root=s,e;for(;a.length;)if((p=t>=(f=(o+u)/2))?o=f:u=f,(g=r>=(h=(l+c)/2))?l=h:c=h,i=a,!(a=a[m=g<<1|p]))return i[m]=s,e;if(d=+e._x.call(null,a.data),v=+e._y.call(null,a.data),t===d&&r===v)return s.next=a,i?i[m]=s:e._root=s,e;do i=i?i[m]=new Array(4):e._root=new Array(4),(p=t>=(f=(o+u)/2))?o=f:u=f,(g=r>=(h=(l+c)/2))?l=h:c=h;while((m=g<<1|p)===(y=(v>=h)<<1|d>=f));return i[y]=a,i[m]=s,e}function khe(e){var t,r,n=e.length,i,a,s=new Array(n),o=new Array(n),l=1/0,u=1/0,c=-1/0,f=-1/0;for(r=0;r<n;++r)isNaN(i=+this._x.call(null,t=e[r]))||isNaN(a=+this._y.call(null,t))||(s[r]=i,o[r]=a,i<l&&(l=i),i>c&&(c=i),a<u&&(u=a),a>f&&(f=a));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),r=0;r<n;++r)Bz(this,s[r],o[r],e[r]);return this}function She(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,i=this._x1,a=this._y1;if(isNaN(r))i=(r=Math.floor(e))+1,a=(n=Math.floor(t))+1;else{for(var s=i-r||1,o=this._root,l,u;r>e||e>=i||n>t||t>=a;)switch(u=(t<n)<<1|e<r,l=new Array(4),l[u]=o,o=l,s*=2,u){case 0:i=r+s,a=n+s;break;case 1:r=i-s,a=n+s;break;case 2:i=r+s,n=a-s;break;case 3:r=i-s,n=a-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=r,this._y0=n,this._x1=i,this._y1=a,this}function The(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Mhe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Jn(e,t,r,n,i){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=i}function Nhe(e,t,r){var n,i=this._x0,a=this._y0,s,o,l,u,c=this._x1,f=this._y1,h=[],d=this._root,v,p;for(d&&h.push(new Jn(d,i,a,c,f)),r==null?r=1/0:(i=e-r,a=t-r,c=e+r,f=t+r,r*=r);v=h.pop();)if(!(!(d=v.node)||(s=v.x0)>c||(o=v.y0)>f||(l=v.x1)<i||(u=v.y1)<a))if(d.length){var g=(s+l)/2,m=(o+u)/2;h.push(new Jn(d[3],g,m,l,u),new Jn(d[2],s,m,g,u),new Jn(d[1],g,o,l,m),new Jn(d[0],s,o,g,m)),(p=(t>=m)<<1|e>=g)&&(v=h[h.length-1],h[h.length-1]=h[h.length-1-p],h[h.length-1-p]=v)}else{var y=e-+this._x.call(null,d.data),b=t-+this._y.call(null,d.data),_=y*y+b*b;if(_<r){var x=Math.sqrt(r=_);i=e-x,a=t-x,c=e+x,f=t+x,n=d.data}}return n}function Ahe(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,r=this._root,n,i,a,s=this._x0,o=this._y0,l=this._x1,u=this._y1,c,f,h,d,v,p,g,m;if(!r)return this;if(r.length)for(;;){if((v=c>=(h=(s+l)/2))?s=h:l=h,(p=f>=(d=(o+u)/2))?o=d:u=d,t=r,!(r=r[g=p<<1|v]))return this;if(!r.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(n=t,m=g)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,i?(a?i.next=a:delete i.next,this):t?(a?t[g]=a:delete t[g],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(n?n[m]=r:this._root=r),this):(this._root=a,this)}function Phe(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function Ohe(){return this._root}function Che(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Rhe(e){var t=[],r,n=this._root,i,a,s,o,l;for(n&&t.push(new Jn(n,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(n=r.node,a=r.x0,s=r.y0,o=r.x1,l=r.y1)&&n.length){var u=(a+o)/2,c=(s+l)/2;(i=n[3])&&t.push(new Jn(i,u,c,o,l)),(i=n[2])&&t.push(new Jn(i,a,c,u,l)),(i=n[1])&&t.push(new Jn(i,u,s,o,c)),(i=n[0])&&t.push(new Jn(i,a,s,u,c))}return this}function Lhe(e){var t=[],r=[],n;for(this._root&&t.push(new Jn(this._root,this._x0,this._y0,this._x1,this._y1));n=t.pop();){var i=n.node;if(i.length){var a,s=n.x0,o=n.y0,l=n.x1,u=n.y1,c=(s+l)/2,f=(o+u)/2;(a=i[0])&&t.push(new Jn(a,s,o,c,f)),(a=i[1])&&t.push(new Jn(a,c,o,l,f)),(a=i[2])&&t.push(new Jn(a,s,f,c,u)),(a=i[3])&&t.push(new Jn(a,c,f,l,u))}r.push(n)}for(;n=r.pop();)e(n.node,n.x0,n.y0,n.x1,n.y1);return this}function Ihe(e){return e[0]}function Dhe(e){return arguments.length?(this._x=e,this):this._x}function Fhe(e){return e[1]}function $he(e){return arguments.length?(this._y=e,this):this._y}function vg(e,t,r){var n=new tS(t??Ihe,r??Fhe,NaN,NaN,NaN,NaN);return e==null?n:n.addAll(e)}function tS(e,t,r,n,i,a){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=i,this._y1=a,this._root=void 0}function KP(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var ri=vg.prototype=tS.prototype;ri.copy=function(){var e=new tS(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,n;if(!t)return e;if(!t.length)return e._root=KP(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var i=0;i<4;++i)(n=t.source[i])&&(n.length?r.push({source:n,target:t.target[i]=new Array(4)}):t.target[i]=KP(n));return e};ri.add=_he;ri.addAll=khe;ri.cover=She;ri.data=The;ri.extent=Mhe;ri.find=Nhe;ri.remove=Ahe;ri.removeAll=Phe;ri.root=Ohe;ri.size=Che;ri.visit=Rhe;ri.visitAfter=Lhe;ri.x=Dhe;ri.y=$he;function Bhe(e){const t=+this._x.call(null,e),r=+this._y.call(null,e),n=+this._z.call(null,e);return zz(this.cover(t,r,n),t,r,n,e)}function zz(e,t,r,n,i){if(isNaN(t)||isNaN(r)||isNaN(n))return e;var a,s=e._root,o={data:i},l=e._x0,u=e._y0,c=e._z0,f=e._x1,h=e._y1,d=e._z1,v,p,g,m,y,b,_,x,E,w,S;if(!s)return e._root=o,e;for(;s.length;)if((_=t>=(v=(l+f)/2))?l=v:f=v,(x=r>=(p=(u+h)/2))?u=p:h=p,(E=n>=(g=(c+d)/2))?c=g:d=g,a=s,!(s=s[w=E<<2|x<<1|_]))return a[w]=o,e;if(m=+e._x.call(null,s.data),y=+e._y.call(null,s.data),b=+e._z.call(null,s.data),t===m&&r===y&&n===b)return o.next=s,a?a[w]=o:e._root=o,e;do a=a?a[w]=new Array(8):e._root=new Array(8),(_=t>=(v=(l+f)/2))?l=v:f=v,(x=r>=(p=(u+h)/2))?u=p:h=p,(E=n>=(g=(c+d)/2))?c=g:d=g;while((w=E<<2|x<<1|_)===(S=(b>=g)<<2|(y>=p)<<1|m>=v));return a[S]=s,a[w]=o,e}function zhe(e){Array.isArray(e)||(e=Array.from(e));const t=e.length,r=new Float64Array(t),n=new Float64Array(t),i=new Float64Array(t);let a=1/0,s=1/0,o=1/0,l=-1/0,u=-1/0,c=-1/0;for(let f=0,h,d,v,p;f<t;++f)isNaN(d=+this._x.call(null,h=e[f]))||isNaN(v=+this._y.call(null,h))||isNaN(p=+this._z.call(null,h))||(r[f]=d,n[f]=v,i[f]=p,d<a&&(a=d),d>l&&(l=d),v<s&&(s=v),v>u&&(u=v),p<o&&(o=p),p>c&&(c=p));if(a>l||s>u||o>c)return this;this.cover(a,s,o).cover(l,u,c);for(let f=0;f<t;++f)zz(this,r[f],n[f],i[f],e[f]);return this}function Ghe(e,t,r){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(r=+r))return this;var n=this._x0,i=this._y0,a=this._z0,s=this._x1,o=this._y1,l=this._z1;if(isNaN(n))s=(n=Math.floor(e))+1,o=(i=Math.floor(t))+1,l=(a=Math.floor(r))+1;else{for(var u=s-n||1,c=this._root,f,h;n>e||e>=s||i>t||t>=o||a>r||r>=l;)switch(h=(r<a)<<2|(t<i)<<1|e<n,f=new Array(8),f[h]=c,c=f,u*=2,h){case 0:s=n+u,o=i+u,l=a+u;break;case 1:n=s-u,o=i+u,l=a+u;break;case 2:s=n+u,i=o-u,l=a+u;break;case 3:n=s-u,i=o-u,l=a+u;break;case 4:s=n+u,o=i+u,a=l-u;break;case 5:n=s-u,o=i+u,a=l-u;break;case 6:s=n+u,i=o-u,a=l-u;break;case 7:n=s-u,i=o-u,a=l-u;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._z0=a,this._x1=s,this._y1=o,this._z1=l,this}function qhe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function jhe(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function rr(e,t,r,n,i,a,s){this.node=e,this.x0=t,this.y0=r,this.z0=n,this.x1=i,this.y1=a,this.z1=s}function Whe(e,t,r,n){var i,a=this._x0,s=this._y0,o=this._z0,l,u,c,f,h,d,v=this._x1,p=this._y1,g=this._z1,m=[],y=this._root,b,_;for(y&&m.push(new rr(y,a,s,o,v,p,g)),n==null?n=1/0:(a=e-n,s=t-n,o=r-n,v=e+n,p=t+n,g=r+n,n*=n);b=m.pop();)if(!(!(y=b.node)||(l=b.x0)>v||(u=b.y0)>p||(c=b.z0)>g||(f=b.x1)<a||(h=b.y1)<s||(d=b.z1)<o))if(y.length){var x=(l+f)/2,E=(u+h)/2,w=(c+d)/2;m.push(new rr(y[7],x,E,w,f,h,d),new rr(y[6],l,E,w,x,h,d),new rr(y[5],x,u,w,f,E,d),new rr(y[4],l,u,w,x,E,d),new rr(y[3],x,E,c,f,h,w),new rr(y[2],l,E,c,x,h,w),new rr(y[1],x,u,c,f,E,w),new rr(y[0],l,u,c,x,E,w)),(_=(r>=w)<<2|(t>=E)<<1|e>=x)&&(b=m[m.length-1],m[m.length-1]=m[m.length-1-_],m[m.length-1-_]=b)}else{var S=e-+this._x.call(null,y.data),A=t-+this._y.call(null,y.data),P=r-+this._z.call(null,y.data),O=S*S+A*A+P*P;if(O<n){var C=Math.sqrt(n=O);a=e-C,s=t-C,o=r-C,v=e+C,p=t+C,g=r+C,i=y.data}}return i}const Vhe=(e,t,r,n,i,a)=>Math.sqrt((e-n)**2+(t-i)**2+(r-a)**2);function Uhe(e,t,r,n){const i=[],a=e-n,s=t-n,o=r-n,l=e+n,u=t+n,c=r+n;return this.visit((f,h,d,v,p,g,m)=>{if(!f.length)do{const y=f.data;Vhe(e,t,r,this._x(y),this._y(y),this._z(y))<=n&&i.push(y)}while(f=f.next);return h>l||d>u||v>c||p<a||g<s||m<o}),i}function Hhe(e){if(isNaN(h=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e))||isNaN(v=+this._z.call(null,e)))return this;var t,r=this._root,n,i,a,s=this._x0,o=this._y0,l=this._z0,u=this._x1,c=this._y1,f=this._z1,h,d,v,p,g,m,y,b,_,x,E;if(!r)return this;if(r.length)for(;;){if((y=h>=(p=(s+u)/2))?s=p:u=p,(b=d>=(g=(o+c)/2))?o=g:c=g,(_=v>=(m=(l+f)/2))?l=m:f=m,t=r,!(r=r[x=_<<2|b<<1|y]))return this;if(!r.length)break;(t[x+1&7]||t[x+2&7]||t[x+3&7]||t[x+4&7]||t[x+5&7]||t[x+6&7]||t[x+7&7])&&(n=t,E=x)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,i?(a?i.next=a:delete i.next,this):t?(a?t[x]=a:delete t[x],(r=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&r===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!r.length&&(n?n[E]=r:this._root=r),this):(this._root=a,this)}function Yhe(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function Xhe(){return this._root}function Khe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Zhe(e){var t=[],r,n=this._root,i,a,s,o,l,u,c;for(n&&t.push(new rr(n,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=t.pop();)if(!e(n=r.node,a=r.x0,s=r.y0,o=r.z0,l=r.x1,u=r.y1,c=r.z1)&&n.length){var f=(a+l)/2,h=(s+u)/2,d=(o+c)/2;(i=n[7])&&t.push(new rr(i,f,h,d,l,u,c)),(i=n[6])&&t.push(new rr(i,a,h,d,f,u,c)),(i=n[5])&&t.push(new rr(i,f,s,d,l,h,c)),(i=n[4])&&t.push(new rr(i,a,s,d,f,h,c)),(i=n[3])&&t.push(new rr(i,f,h,o,l,u,d)),(i=n[2])&&t.push(new rr(i,a,h,o,f,u,d)),(i=n[1])&&t.push(new rr(i,f,s,o,l,h,d)),(i=n[0])&&t.push(new rr(i,a,s,o,f,h,d))}return this}function Qhe(e){var t=[],r=[],n;for(this._root&&t.push(new rr(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=t.pop();){var i=n.node;if(i.length){var a,s=n.x0,o=n.y0,l=n.z0,u=n.x1,c=n.y1,f=n.z1,h=(s+u)/2,d=(o+c)/2,v=(l+f)/2;(a=i[0])&&t.push(new rr(a,s,o,l,h,d,v)),(a=i[1])&&t.push(new rr(a,h,o,l,u,d,v)),(a=i[2])&&t.push(new rr(a,s,d,l,h,c,v)),(a=i[3])&&t.push(new rr(a,h,d,l,u,c,v)),(a=i[4])&&t.push(new rr(a,s,o,v,h,d,f)),(a=i[5])&&t.push(new rr(a,h,o,v,u,d,f)),(a=i[6])&&t.push(new rr(a,s,d,v,h,c,f)),(a=i[7])&&t.push(new rr(a,h,d,v,u,c,f))}r.push(n)}for(;n=r.pop();)e(n.node,n.x0,n.y0,n.z0,n.x1,n.y1,n.z1);return this}function Jhe(e){return e[0]}function ede(e){return arguments.length?(this._x=e,this):this._x}function tde(e){return e[1]}function rde(e){return arguments.length?(this._y=e,this):this._y}function nde(e){return e[2]}function ide(e){return arguments.length?(this._z=e,this):this._z}function Gz(e,t,r,n){var i=new rS(t??Jhe,r??tde,n??nde,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function rS(e,t,r,n,i,a,s,o,l){this._x=e,this._y=t,this._z=r,this._x0=n,this._y0=i,this._z0=a,this._x1=s,this._y1=o,this._z1=l,this._root=void 0}function ZP(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var Pn=Gz.prototype=rS.prototype;Pn.copy=function(){var e=new rS(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),t=this._root,r,n;if(!t)return e;if(!t.length)return e._root=ZP(t),e;for(r=[{source:t,target:e._root=new Array(8)}];t=r.pop();)for(var i=0;i<8;++i)(n=t.source[i])&&(n.length?r.push({source:n,target:t.target[i]=new Array(8)}):t.target[i]=ZP(n));return e};Pn.add=Bhe;Pn.addAll=zhe;Pn.cover=Ghe;Pn.data=qhe;Pn.extent=jhe;Pn.find=Whe;Pn.findAllWithinRadius=Uhe;Pn.remove=Hhe;Pn.removeAll=Yhe;Pn.root=Xhe;Pn.size=Khe;Pn.visit=Zhe;Pn.visitAfter=Qhe;Pn.x=ede;Pn.y=rde;Pn.z=ide;const ade=.81,Tm=.1;function sde(e,t,r,n,i=2){const a=t/r,s=e.getAllNodes(),o=s.map((c,f)=>{const{nodeStrength:h,x:d,y:v,z:p,size:g}=c.data;return{x:d,y:v,z:p,size:g,index:f,id:c.id,vx:0,vy:0,vz:0,weight:a*h}}),l=(i===2?vg(o,c=>c.x,c=>c.y):Gz(o,c=>c.x,c=>c.y,c=>c.z)).visitAfter(ode),u=new Map;return o.forEach(c=>{u.set(c.id,c),ude(c,l,i)}),o.map((c,f)=>{const{id:h,data:d}=s[f],{mass:v=1}=d;n[h]={x:c.vx/v,y:c.vy/v,z:c.vz/v}}),n}function ode(e){let t=0,r=0,n=0,i=0,a=0;const s=e.length;if(s){for(let o=0;o<s;o++){const l=e[o];l&&l.weight&&(t+=l.weight,r+=l.x*l.weight,n+=l.y*l.weight,i+=l.z*l.weight,a+=l.size*l.weight)}e.x=r/t,e.y=n/t,e.z=i/t,e.size=a/t,e.weight=t}else{const o=e;e.x=o.data.x,e.y=o.data.y,e.z=o.data.z,e.size=o.data.size,e.weight=o.data.weight}}const lde=(e,t,r,n,i,a,s)=>{var o;if(((o=e.data)===null||o===void 0?void 0:o.id)===a.id)return;const l=[r,n,i][s-1],u=a.x-e.x||Tm,c=a.y-e.y||Tm,f=a.z-e.z||Tm,h=[u,c,f],d=l-t;let v=0;for(let m=0;m<s;m++)v+=h[m]*h[m];const g=Math.sqrt(v)*v;if(d*d*ade<v){const m=e.weight/g;return a.vx+=u*m,a.vy+=c*m,a.vz+=f*m,!0}if(e.length)return!1;if(e.data!==a){const m=e.data.weight/g;a.vx+=u*m,a.vy+=c*m,a.vz+=f*m}};function ude(e,t,r){t.visit((n,i,a,s,o)=>lde(n,i,a,s,o,e,r))}const cde={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class fde{constructor(t={}){this.options=t,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},cde),t)}execute(t,r){return _t(this,void 0,void 0,function*(){return this.genericForceLayout(!1,t,r)})}assign(t,r){return _t(this,void 0,void 0,function*(){yield this.genericForceLayout(!0,t,r)})}stop(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval),this.running=!1}tick(t=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let n=0;(this.judgingDistance>this.lastOptions.minMovement||n<1)&&n<t;n++)this.runOneStep(this.lastCalcGraph,this.lastGraph,n,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);const r={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&r.nodes.forEach(n=>this.lastGraph.mergeNodeData(n.id,{x:n.data.x,y:n.data.y,z:this.options.dimensions===3?n.data.z:void 0})),r}genericForceLayout(t,r,n){return _t(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),a=r.getAllNodes(),s=r.getAllEdges(),o=this.formatOptions(i,r),{dimensions:l,width:u,height:c,nodeSize:f,getMass:h,nodeStrength:d,edgeStrength:v,linkDistance:p}=o,g=a.map((S,A)=>Object.assign(Object.assign({},S),{data:Object.assign(Object.assign({},S.data),{x:rt(S.data.x)?S.data.x:Math.random()*u,y:rt(S.data.y)?S.data.y:Math.random()*c,z:rt(S.data.z)?S.data.z:Math.random()*Math.sqrt(u*c),size:f(S)||30,mass:h(S),nodeStrength:d(S)})})),m=s.map(S=>Object.assign(Object.assign({},S),{data:Object.assign(Object.assign({},S.data),{edgeStrength:v(S),linkDistance:p(S,r.getNode(S.source),r.getNode(S.target))})}));if(!a?.length)return this.lastResult={nodes:[],edges:s},{nodes:[],edges:s};const y={};a.forEach((S,A)=>{y[S.id]={x:0,y:0,z:0}});const b=new dn({nodes:g,edges:m});this.formatCentripetal(o,b);const{maxIteration:_,minMovement:x,onTick:E}=o;if(this.lastLayoutNodes=g,this.lastLayoutEdges=m,this.lastAssign=t,this.lastGraph=r,this.lastCalcGraph=b,this.lastOptions=o,this.lastVelMap=y,typeof window>"u")return;let w=0;return new Promise(S=>{this.timeInterval=window.setInterval(()=>{(!a||!this.running)&&S({nodes:Mm(r,g),edges:s}),this.runOneStep(b,r,w,y,o),this.updatePosition(r,b,y,o),t&&g.forEach(A=>r.mergeNodeData(A.id,{x:A.data.x,y:A.data.y,z:l===3?A.data.z:void 0})),E?.({nodes:Mm(r,g),edges:s}),w++,(w>=_||this.judgingDistance<x)&&(window.clearInterval(this.timeInterval),S({nodes:Mm(r,g),edges:s}))},0),this.running=!0})})}formatOptions(t,r){const n=Object.assign({},t),{width:i,height:a,getMass:s}=t;n.width=!i&&typeof window<"u"?window.innerWidth:i,n.height=!a&&typeof window<"u"?window.innerHeight:a,t.center||(n.center=[n.width/2,n.height/2]),s||(n.getMass=l=>{let u=1;rt(l?.data.mass)&&(u=l?.data.mass);const c=r.getDegree(l.id,"both");return!c||c<5?u:c*5*u}),n.nodeSize=eS(t.nodeSize,t.nodeSpacing);const o=t.linkDistance?Nl(1,t.linkDistance):l=>1+n.nodeSize(r.getNode(l.source))+n.nodeSize(r.getNode(l.target));return n.linkDistance=o,n.nodeStrength=Nl(1,t.nodeStrength),n.edgeStrength=Nl(1,t.edgeStrength),n}formatCentripetal(t,r){const{dimensions:n,centripetalOptions:i,center:a,clusterNodeStrength:s,leafCluster:o,clustering:l,nodeClusterBy:u}=t,c=r.getAllNodes(),f=i||{leaf:2,single:2,others:1,center:m=>({x:a[0],y:a[1],z:n===3?a[2]:void 0})};typeof s!="function"&&(t.clusterNodeStrength=m=>s);let h,d;if(o&&u&&(h=QP(r,u),d=Array.from(new Set(c?.map(m=>m.data[u])))||[],t.centripetalOptions=Object.assign(f,{single:100,leaf:m=>{const{siblingLeaves:y,sameTypeLeaves:b}=h[m.id]||{};return b?.length===y?.length||d?.length===1?1:t.clusterNodeStrength(m)},others:1,center:m=>{const y=r.getDegree(m.id,"both");if(!y)return{x:100,y:100,z:0};let b;if(y===1){const{sameTypeLeaves:_=[]}=h[m.id]||{};_.length===1?b=void 0:_.length>1&&(b=JP(_))}else b=void 0;return{x:b?.x,y:b?.y,z:b?.z}}})),l&&u){h||(h=QP(r,u)),d||(d=Array.from(new Set(c.map(y=>y.data[u])))),d=d.filter(y=>y!==void 0);const m={};d.forEach(y=>{const b=c.filter(_=>_.data[u]===y).map(_=>r.getNode(_.id));m[y]=JP(b)}),t.centripetalOptions=Object.assign(f,{single:y=>t.clusterNodeStrength(y),leaf:y=>t.clusterNodeStrength(y),others:y=>t.clusterNodeStrength(y),center:y=>{const b=m[y.data[u]];return{x:b?.x,y:b?.y,z:b?.z}}})}const{leaf:v,single:p,others:g}=t.centripetalOptions||{};v&&typeof v!="function"&&(t.centripetalOptions.leaf=()=>v),p&&typeof p!="function"&&(t.centripetalOptions.single=()=>p),g&&typeof g!="function"&&(t.centripetalOptions.others=()=>g)}runOneStep(t,r,n,i,a){const s={},o=t.getAllNodes(),l=t.getAllEdges();if(!o?.length)return;const{monitor:u}=a;if(this.calRepulsive(t,s,a),l&&this.calAttractive(t,s,a),this.calGravity(t,r,s,a),this.updateVelocity(t,s,i,a),u){const c=this.calTotalEnergy(s,o);u({energy:c,nodes:r.getAllNodes(),edges:r.getAllEdges(),iterations:n})}}calTotalEnergy(t,r){if(!r?.length)return 0;let n=0;return r.forEach((i,a)=>{const s=t[i.id].x,o=t[i.id].y,l=this.options.dimensions===3?t[i.id].z:0,u=s*s+o*o+l*l,{mass:c=1}=i.data;n+=c*u*.5}),n}calRepulsive(t,r,n){const{dimensions:i,factor:a,coulombDisScale:s}=n;sde(t,a,s*s,r,i)}calAttractive(t,r,n){const{dimensions:i,nodeSize:a}=n;t.getAllEdges().forEach((s,o)=>{const{source:l,target:u}=s,c=t.getNode(l),f=t.getNode(u);if(!c||!f)return;let h=f.data.x-c.data.x,d=f.data.y-c.data.y,v=i===3?f.data.z-c.data.z:0;!h&&!d&&(h=Math.random()*.01,d=Math.random()*.01,i===3&&!v&&(v=Math.random()*.01));const p=Math.sqrt(h*h+d*d+v*v);if(p<a(c)+a(f))return;const g=h/p,m=d/p,y=v/p,{linkDistance:b=200,edgeStrength:_=200}=s.data||{},E=(b-p)*_,w=c.data.mass||1,S=f.data.mass||1,A=1/w,P=1/S,O=g*E,C=m*E,L=y*E;r[l].x-=O*A,r[l].y-=C*A,r[l].z-=L*A,r[u].x+=O*P,r[u].y+=C*P,r[u].z+=L*P})}calGravity(t,r,n,i){const{getCenter:a}=i,s=t.getAllNodes(),o=r.getAllNodes(),l=r.getAllEdges(),{width:u,height:c,center:f,gravity:h,centripetalOptions:d}=i;s&&s.forEach(v=>{const{id:p,data:g}=v,{mass:m,x:y,y:b,z:_}=g,x=r.getNode(p);let E=0,w=0,S=0,A=h;const P=t.getDegree(p,"in"),O=t.getDegree(p,"out"),C=t.getDegree(p,"both"),L=a?.(x,C);if(L){const[I,F,U]=L;E=y-I,w=b-F,A=U}else E=y-f[0],w=b-f[1],S=_-f[2];if(A&&(n[p].x-=A*E/m,n[p].y-=A*w/m,n[p].z-=A*S/m),d){const{leaf:I,single:F,others:U,center:G}=d,{x:z,y:Z,z:ge,centerStrength:xe}=G?.(x,o,l,u,c)||{x:0,y:0,z:0,centerStrength:0};if(!rt(z)||!rt(Z))return;const ve=(y-z)/m,je=(b-Z)/m,te=(_-ge)/m;if(xe&&(n[p].x-=xe*ve,n[p].y-=xe*je,n[p].z-=xe*te),C===0){const fe=F(x);if(!fe)return;n[p].x-=fe*ve,n[p].y-=fe*je,n[p].z-=fe*te;return}if(P===0||O===0){const fe=I(x,o,l);if(!fe)return;n[p].x-=fe*ve,n[p].y-=fe*je,n[p].z-=fe*te;return}const Y=U(x);if(!Y)return;n[p].x-=Y*ve,n[p].y-=Y*je,n[p].z-=Y*te}})}updateVelocity(t,r,n,i){const{damping:a,maxSpeed:s,interval:o,dimensions:l}=i,u=t.getAllNodes();u?.length&&u.forEach(c=>{const{id:f}=c;let h=(n[f].x+r[f].x*o)*a||.01,d=(n[f].y+r[f].y*o)*a||.01,v=l===3?(n[f].z+r[f].z*o)*a||.01:0;const p=Math.sqrt(h*h+d*d+v*v);if(p>s){const g=s/p;h=g*h,d=g*d,v=g*v}n[f]={x:h,y:d,z:v}})}updatePosition(t,r,n,i){const{distanceThresholdMode:a,interval:s,dimensions:o}=i,l=r.getAllNodes();if(!l?.length){this.judgingDistance=0;return}let u=0;a==="max"?this.judgingDistance=-1/0:a==="min"&&(this.judgingDistance=1/0),l.forEach(c=>{const{id:f}=c,h=t.getNode(f);if(rt(h.data.fx)&&rt(h.data.fy)){r.mergeNodeData(f,{x:h.data.fx,y:h.data.fy,z:o===3?h.data.fz:void 0});return}const d=n[f].x*s,v=n[f].y*s,p=o===3?n[f].z*s:0;r.mergeNodeData(f,{x:c.data.x+d,y:c.data.y+v,z:c.data.z+p});const g=Math.sqrt(d*d+v*v+p*p);switch(a){case"max":this.judgingDistance<g&&(this.judgingDistance=g);break;case"min":this.judgingDistance>g&&(this.judgingDistance=g);break;default:u=u+g;break}}),(!a||a==="mean")&&(this.judgingDistance=u/l.length)}}const QP=(e,t)=>{const r=e.getAllNodes();if(!r?.length)return{};const n={};return r.forEach((i,a)=>{e.getDegree(i.id,"both")===1&&(n[i.id]=hde(e,"leaf",i,t))}),n},hde=(e,t,r,n)=>{const i=e.getDegree(r.id,"in"),a=e.getDegree(r.id,"out");let s=r,o=[];i===0?(s=e.getSuccessors(r.id)[0],o=e.getNeighbors(s.id)):a===0&&(s=e.getPredecessors(r.id)[0],o=e.getNeighbors(s.id)),o=o.filter(u=>e.getDegree(u.id,"in")===0||e.getDegree(u.id,"out")===0);const l=dde(e,t,n,r,o);return{coreNode:s,siblingLeaves:o,sameTypeLeaves:l}},dde=(e,t,r,n,i)=>{const a=n.data[r]||"";let s=i?.filter(o=>o.data[r]===a)||[];return s=s.filter(o=>e.getDegree(o.id,"in")===0||e.getDegree(o.id,"out")===0),s},JP=e=>{const t={x:0,y:0};e.forEach(n=>{const{x:i,y:a}=n.data;t.x+=i||0,t.y+=a||0});const r=e.length||1;return{x:t.x/r,y:t.y/r}},Mm=(e,t)=>t.map(r=>{const{id:n,data:i}=r,a=e.getNode(n);return Object.assign(Object.assign({},a),{data:Object.assign(Object.assign({},a.data),{x:i.x,y:i.y,z:i.z})})});var Tt={};const vde=Object.prototype.toString;function Yf(e){const t=vde.call(e);return t.endsWith("Array]")&&!t.includes("Big")}const pde=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:Yf},Symbol.toStringTag,{value:"Module"})),gde=p$(pde);function mde(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Yf(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var r=t.fromIndex,n=r===void 0?0:r,i=t.toIndex,a=i===void 0?e.length:i;if(n<0||n>=e.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=n||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[n],o=n+1;o<a;o++)e[o]>s&&(s=e[o]);return s}function yde(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Yf(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var r=t.fromIndex,n=r===void 0?0:r,i=t.toIndex,a=i===void 0?e.length:i;if(n<0||n>=e.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=n||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[n],o=n+1;o<a;o++)e[o]<s&&(s=e[o]);return s}function bde(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Yf(e)){if(e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var r;if(t.output!==void 0){if(!Yf(t.output))throw new TypeError("output option must be an array if specified");r=t.output}else r=new Array(e.length);var n=yde(e),i=mde(e);if(n===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=t.min,s=a===void 0?t.autoMinMax?n:0:a,o=t.max,l=o===void 0?t.autoMinMax?i:1:o;if(s>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-s)/(i-n),c=0;c<e.length;c++)r[c]=(e[c]-n)*u+s;return r}const wde=Object.freeze(Object.defineProperty({__proto__:null,default:bde},Symbol.toStringTag,{value:"Module"})),xde=p$(wde);var eO;function Ede(){if(eO)return Tt;eO=1,Object.defineProperty(Tt,"__esModule",{value:!0});var e=gde,t=xde;const r=" ".repeat(2),n=" ".repeat(4);function i(){return a(this)}function a(D,T={}){const{maxRows:M=15,maxColumns:k=10,maxNumSize:N=8,padMinus:R="auto"}=T;return`${D.constructor.name} {
${r}[
${n}${s(D,M,k,N,R)}
${r}]
${r}rows: ${D.rows}
${r}columns: ${D.columns}
}`}function s(D,T,M,k,N){const{rows:R,columns:$}=D,B=Math.min(R,T),j=Math.min($,M),W=[];if(N==="auto"){N=!1;e:for(let le=0;le<B;le++)for(let J=0;J<j;J++)if(D.get(le,J)<0){N=!0;break e}}for(let le=0;le<B;le++){let J=[];for(let Ee=0;Ee<j;Ee++)J.push(o(D.get(le,Ee),k,N));W.push(`${J.join(" ")}`)}return j!==$&&(W[W.length-1]+=` ... ${$-M} more columns`),B!==R&&W.push(`... ${R-T} more rows`),W.join(`
${n}`)}function o(D,T,M){return(D>=0&&M?` ${l(D,T-1)}`:l(D,T)).padEnd(T)}function l(D,T){let M=D.toString();if(M.length<=T)return M;let k=D.toFixed(T);if(k.length>T&&(k=D.toFixed(Math.max(0,T-(k.length-T)))),k.length<=T&&!k.startsWith("0.000")&&!k.startsWith("-0.000"))return k;let N=D.toExponential(T);return N.length>T&&(N=D.toExponential(Math.max(0,T-(N.length-T)))),N.slice(0)}function u(D,T){D.prototype.add=function(k){return typeof k=="number"?this.addS(k):this.addM(k)},D.prototype.addS=function(k){for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)+k);return this},D.prototype.addM=function(k){if(k=T.checkMatrix(k),this.rows!==k.rows||this.columns!==k.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)+k.get(N,R));return this},D.add=function(k,N){return new T(k).add(N)},D.prototype.sub=function(k){return typeof k=="number"?this.subS(k):this.subM(k)},D.prototype.subS=function(k){for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)-k);return this},D.prototype.subM=function(k){if(k=T.checkMatrix(k),this.rows!==k.rows||this.columns!==k.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)-k.get(N,R));return this},D.sub=function(k,N){return new T(k).sub(N)},D.prototype.subtract=D.prototype.sub,D.prototype.subtractS=D.prototype.subS,D.prototype.subtractM=D.prototype.subM,D.subtract=D.sub,D.prototype.mul=function(k){return typeof k=="number"?this.mulS(k):this.mulM(k)},D.prototype.mulS=function(k){for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)*k);return this},D.prototype.mulM=function(k){if(k=T.checkMatrix(k),this.rows!==k.rows||this.columns!==k.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)*k.get(N,R));return this},D.mul=function(k,N){return new T(k).mul(N)},D.prototype.multiply=D.prototype.mul,D.prototype.multiplyS=D.prototype.mulS,D.prototype.multiplyM=D.prototype.mulM,D.multiply=D.mul,D.prototype.div=function(k){return typeof k=="number"?this.divS(k):this.divM(k)},D.prototype.divS=function(k){for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)/k);return this},D.prototype.divM=function(k){if(k=T.checkMatrix(k),this.rows!==k.rows||this.columns!==k.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)/k.get(N,R));return this},D.div=function(k,N){return new T(k).div(N)},D.prototype.divide=D.prototype.div,D.prototype.divideS=D.prototype.divS,D.prototype.divideM=D.prototype.divM,D.divide=D.div,D.prototype.mod=function(k){return typeof k=="number"?this.modS(k):this.modM(k)},D.prototype.modS=function(k){for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)%k);return this},D.prototype.modM=function(k){if(k=T.checkMatrix(k),this.rows!==k.rows||this.columns!==k.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)%k.get(N,R));return this},D.mod=function(k,N){return new T(k).mod(N)},D.prototype.modulus=D.prototype.mod,D.prototype.modulusS=D.prototype.modS,D.prototype.modulusM=D.prototype.modM,D.modulus=D.mod,D.prototype.and=function(k){return typeof k=="number"?this.andS(k):this.andM(k)},D.prototype.andS=function(k){for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)&k);return this},D.prototype.andM=function(k){if(k=T.checkMatrix(k),this.rows!==k.rows||this.columns!==k.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)&k.get(N,R));return this},D.and=function(k,N){return new T(k).and(N)},D.prototype.or=function(k){return typeof k=="number"?this.orS(k):this.orM(k)},D.prototype.orS=function(k){for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)|k);return this},D.prototype.orM=function(k){if(k=T.checkMatrix(k),this.rows!==k.rows||this.columns!==k.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)|k.get(N,R));return this},D.or=function(k,N){return new T(k).or(N)},D.prototype.xor=function(k){return typeof k=="number"?this.xorS(k):this.xorM(k)},D.prototype.xorS=function(k){for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)^k);return this},D.prototype.xorM=function(k){if(k=T.checkMatrix(k),this.rows!==k.rows||this.columns!==k.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)^k.get(N,R));return this},D.xor=function(k,N){return new T(k).xor(N)},D.prototype.leftShift=function(k){return typeof k=="number"?this.leftShiftS(k):this.leftShiftM(k)},D.prototype.leftShiftS=function(k){for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)<<k);return this},D.prototype.leftShiftM=function(k){if(k=T.checkMatrix(k),this.rows!==k.rows||this.columns!==k.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)<<k.get(N,R));return this},D.leftShift=function(k,N){return new T(k).leftShift(N)},D.prototype.signPropagatingRightShift=function(k){return typeof k=="number"?this.signPropagatingRightShiftS(k):this.signPropagatingRightShiftM(k)},D.prototype.signPropagatingRightShiftS=function(k){for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)>>k);return this},D.prototype.signPropagatingRightShiftM=function(k){if(k=T.checkMatrix(k),this.rows!==k.rows||this.columns!==k.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)>>k.get(N,R));return this},D.signPropagatingRightShift=function(k,N){return new T(k).signPropagatingRightShift(N)},D.prototype.rightShift=function(k){return typeof k=="number"?this.rightShiftS(k):this.rightShiftM(k)},D.prototype.rightShiftS=function(k){for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)>>>k);return this},D.prototype.rightShiftM=function(k){if(k=T.checkMatrix(k),this.rows!==k.rows||this.columns!==k.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)>>>k.get(N,R));return this},D.rightShift=function(k,N){return new T(k).rightShift(N)},D.prototype.zeroFillRightShift=D.prototype.rightShift,D.prototype.zeroFillRightShiftS=D.prototype.rightShiftS,D.prototype.zeroFillRightShiftM=D.prototype.rightShiftM,D.zeroFillRightShift=D.rightShift,D.prototype.not=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,~this.get(k,N));return this},D.not=function(k){return new T(k).not()},D.prototype.abs=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.abs(this.get(k,N)));return this},D.abs=function(k){return new T(k).abs()},D.prototype.acos=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.acos(this.get(k,N)));return this},D.acos=function(k){return new T(k).acos()},D.prototype.acosh=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.acosh(this.get(k,N)));return this},D.acosh=function(k){return new T(k).acosh()},D.prototype.asin=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.asin(this.get(k,N)));return this},D.asin=function(k){return new T(k).asin()},D.prototype.asinh=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.asinh(this.get(k,N)));return this},D.asinh=function(k){return new T(k).asinh()},D.prototype.atan=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.atan(this.get(k,N)));return this},D.atan=function(k){return new T(k).atan()},D.prototype.atanh=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.atanh(this.get(k,N)));return this},D.atanh=function(k){return new T(k).atanh()},D.prototype.cbrt=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.cbrt(this.get(k,N)));return this},D.cbrt=function(k){return new T(k).cbrt()},D.prototype.ceil=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.ceil(this.get(k,N)));return this},D.ceil=function(k){return new T(k).ceil()},D.prototype.clz32=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.clz32(this.get(k,N)));return this},D.clz32=function(k){return new T(k).clz32()},D.prototype.cos=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.cos(this.get(k,N)));return this},D.cos=function(k){return new T(k).cos()},D.prototype.cosh=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.cosh(this.get(k,N)));return this},D.cosh=function(k){return new T(k).cosh()},D.prototype.exp=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.exp(this.get(k,N)));return this},D.exp=function(k){return new T(k).exp()},D.prototype.expm1=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.expm1(this.get(k,N)));return this},D.expm1=function(k){return new T(k).expm1()},D.prototype.floor=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.floor(this.get(k,N)));return this},D.floor=function(k){return new T(k).floor()},D.prototype.fround=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.fround(this.get(k,N)));return this},D.fround=function(k){return new T(k).fround()},D.prototype.log=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.log(this.get(k,N)));return this},D.log=function(k){return new T(k).log()},D.prototype.log1p=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.log1p(this.get(k,N)));return this},D.log1p=function(k){return new T(k).log1p()},D.prototype.log10=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.log10(this.get(k,N)));return this},D.log10=function(k){return new T(k).log10()},D.prototype.log2=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.log2(this.get(k,N)));return this},D.log2=function(k){return new T(k).log2()},D.prototype.round=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.round(this.get(k,N)));return this},D.round=function(k){return new T(k).round()},D.prototype.sign=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.sign(this.get(k,N)));return this},D.sign=function(k){return new T(k).sign()},D.prototype.sin=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.sin(this.get(k,N)));return this},D.sin=function(k){return new T(k).sin()},D.prototype.sinh=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.sinh(this.get(k,N)));return this},D.sinh=function(k){return new T(k).sinh()},D.prototype.sqrt=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.sqrt(this.get(k,N)));return this},D.sqrt=function(k){return new T(k).sqrt()},D.prototype.tan=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.tan(this.get(k,N)));return this},D.tan=function(k){return new T(k).tan()},D.prototype.tanh=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.tanh(this.get(k,N)));return this},D.tanh=function(k){return new T(k).tanh()},D.prototype.trunc=function(){for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.set(k,N,Math.trunc(this.get(k,N)));return this},D.trunc=function(k){return new T(k).trunc()},D.pow=function(k,N){return new T(k).pow(N)},D.prototype.pow=function(k){return typeof k=="number"?this.powS(k):this.powM(k)},D.prototype.powS=function(k){for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)**k);return this},D.prototype.powM=function(k){if(k=T.checkMatrix(k),this.rows!==k.rows||this.columns!==k.columns)throw new RangeError("Matrices dimensions must be equal");for(let N=0;N<this.rows;N++)for(let R=0;R<this.columns;R++)this.set(N,R,this.get(N,R)**k.get(N,R));return this}}function c(D,T,M){let k=M?D.rows:D.rows-1;if(T<0||T>k)throw new RangeError("Row index out of range")}function f(D,T,M){let k=M?D.columns:D.columns-1;if(T<0||T>k)throw new RangeError("Column index out of range")}function h(D,T){if(T.to1DArray&&(T=T.to1DArray()),T.length!==D.columns)throw new RangeError("vector size must be the same as the number of columns");return T}function d(D,T){if(T.to1DArray&&(T=T.to1DArray()),T.length!==D.rows)throw new RangeError("vector size must be the same as the number of rows");return T}function v(D,T){if(!e.isAnyArray(T))throw new TypeError("row indices must be an array");for(let M=0;M<T.length;M++)if(T[M]<0||T[M]>=D.rows)throw new RangeError("row indices are out of range")}function p(D,T){if(!e.isAnyArray(T))throw new TypeError("column indices must be an array");for(let M=0;M<T.length;M++)if(T[M]<0||T[M]>=D.columns)throw new RangeError("column indices are out of range")}function g(D,T,M,k,N){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(y("startRow",T),y("endRow",M),y("startColumn",k),y("endColumn",N),T>M||k>N||T<0||T>=D.rows||M<0||M>=D.rows||k<0||k>=D.columns||N<0||N>=D.columns)throw new RangeError("Submatrix indices are out of range")}function m(D,T=0){let M=[];for(let k=0;k<D;k++)M.push(T);return M}function y(D,T){if(typeof T!="number")throw new TypeError(`${D} must be a number`)}function b(D){if(D.isEmpty())throw new Error("Empty matrix has no elements to index")}function _(D){let T=m(D.rows);for(let M=0;M<D.rows;++M)for(let k=0;k<D.columns;++k)T[M]+=D.get(M,k);return T}function x(D){let T=m(D.columns);for(let M=0;M<D.rows;++M)for(let k=0;k<D.columns;++k)T[k]+=D.get(M,k);return T}function E(D){let T=0;for(let M=0;M<D.rows;M++)for(let k=0;k<D.columns;k++)T+=D.get(M,k);return T}function w(D){let T=m(D.rows,1);for(let M=0;M<D.rows;++M)for(let k=0;k<D.columns;++k)T[M]*=D.get(M,k);return T}function S(D){let T=m(D.columns,1);for(let M=0;M<D.rows;++M)for(let k=0;k<D.columns;++k)T[k]*=D.get(M,k);return T}function A(D){let T=1;for(let M=0;M<D.rows;M++)for(let k=0;k<D.columns;k++)T*=D.get(M,k);return T}function P(D,T,M){const k=D.rows,N=D.columns,R=[];for(let $=0;$<k;$++){let B=0,j=0,W=0;for(let le=0;le<N;le++)W=D.get($,le)-M[$],B+=W,j+=W*W;T?R.push((j-B*B/N)/(N-1)):R.push((j-B*B/N)/N)}return R}function O(D,T,M){const k=D.rows,N=D.columns,R=[];for(let $=0;$<N;$++){let B=0,j=0,W=0;for(let le=0;le<k;le++)W=D.get(le,$)-M[$],B+=W,j+=W*W;T?R.push((j-B*B/k)/(k-1)):R.push((j-B*B/k)/k)}return R}function C(D,T,M){const k=D.rows,N=D.columns,R=k*N;let $=0,B=0,j=0;for(let W=0;W<k;W++)for(let le=0;le<N;le++)j=D.get(W,le)-M,$+=j,B+=j*j;return T?(B-$*$/R)/(R-1):(B-$*$/R)/R}function L(D,T){for(let M=0;M<D.rows;M++)for(let k=0;k<D.columns;k++)D.set(M,k,D.get(M,k)-T[M])}function I(D,T){for(let M=0;M<D.rows;M++)for(let k=0;k<D.columns;k++)D.set(M,k,D.get(M,k)-T[k])}function F(D,T){for(let M=0;M<D.rows;M++)for(let k=0;k<D.columns;k++)D.set(M,k,D.get(M,k)-T)}function U(D){const T=[];for(let M=0;M<D.rows;M++){let k=0;for(let N=0;N<D.columns;N++)k+=D.get(M,N)**2/(D.columns-1);T.push(Math.sqrt(k))}return T}function G(D,T){for(let M=0;M<D.rows;M++)for(let k=0;k<D.columns;k++)D.set(M,k,D.get(M,k)/T[M])}function z(D){const T=[];for(let M=0;M<D.columns;M++){let k=0;for(let N=0;N<D.rows;N++)k+=D.get(N,M)**2/(D.rows-1);T.push(Math.sqrt(k))}return T}function Z(D,T){for(let M=0;M<D.rows;M++)for(let k=0;k<D.columns;k++)D.set(M,k,D.get(M,k)/T[k])}function ge(D){const T=D.size-1;let M=0;for(let k=0;k<D.columns;k++)for(let N=0;N<D.rows;N++)M+=D.get(N,k)**2/T;return Math.sqrt(M)}function xe(D,T){for(let M=0;M<D.rows;M++)for(let k=0;k<D.columns;k++)D.set(M,k,D.get(M,k)/T)}class ve{static from1DArray(T,M,k){if(T*M!==k.length)throw new RangeError("data length does not match given dimensions");let R=new Y(T,M);for(let $=0;$<T;$++)for(let B=0;B<M;B++)R.set($,B,k[$*M+B]);return R}static rowVector(T){let M=new Y(1,T.length);for(let k=0;k<T.length;k++)M.set(0,k,T[k]);return M}static columnVector(T){let M=new Y(T.length,1);for(let k=0;k<T.length;k++)M.set(k,0,T[k]);return M}static zeros(T,M){return new Y(T,M)}static ones(T,M){return new Y(T,M).fill(1)}static rand(T,M,k={}){if(typeof k!="object")throw new TypeError("options must be an object");const{random:N=Math.random}=k;let R=new Y(T,M);for(let $=0;$<T;$++)for(let B=0;B<M;B++)R.set($,B,N());return R}static randInt(T,M,k={}){if(typeof k!="object")throw new TypeError("options must be an object");const{min:N=0,max:R=1e3,random:$=Math.random}=k;if(!Number.isInteger(N))throw new TypeError("min must be an integer");if(!Number.isInteger(R))throw new TypeError("max must be an integer");if(N>=R)throw new RangeError("min must be smaller than max");let B=R-N,j=new Y(T,M);for(let W=0;W<T;W++)for(let le=0;le<M;le++){let J=N+Math.round($()*B);j.set(W,le,J)}return j}static eye(T,M,k){M===void 0&&(M=T),k===void 0&&(k=1);let N=Math.min(T,M),R=this.zeros(T,M);for(let $=0;$<N;$++)R.set($,$,k);return R}static diag(T,M,k){let N=T.length;M===void 0&&(M=N),k===void 0&&(k=M);let R=Math.min(N,M,k),$=this.zeros(M,k);for(let B=0;B<R;B++)$.set(B,B,T[B]);return $}static min(T,M){T=this.checkMatrix(T),M=this.checkMatrix(M);let k=T.rows,N=T.columns,R=new Y(k,N);for(let $=0;$<k;$++)for(let B=0;B<N;B++)R.set($,B,Math.min(T.get($,B),M.get($,B)));return R}static max(T,M){T=this.checkMatrix(T),M=this.checkMatrix(M);let k=T.rows,N=T.columns,R=new this(k,N);for(let $=0;$<k;$++)for(let B=0;B<N;B++)R.set($,B,Math.max(T.get($,B),M.get($,B)));return R}static checkMatrix(T){return ve.isMatrix(T)?T:new Y(T)}static isMatrix(T){return T!=null&&T.klass==="Matrix"}get size(){return this.rows*this.columns}apply(T){if(typeof T!="function")throw new TypeError("callback must be a function");for(let M=0;M<this.rows;M++)for(let k=0;k<this.columns;k++)T.call(this,M,k);return this}to1DArray(){let T=[];for(let M=0;M<this.rows;M++)for(let k=0;k<this.columns;k++)T.push(this.get(M,k));return T}to2DArray(){let T=[];for(let M=0;M<this.rows;M++){T.push([]);for(let k=0;k<this.columns;k++)T[M].push(this.get(M,k))}return T}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let T=0;T<this.rows;T++)for(let M=0;M<=T;M++)if(this.get(T,M)!==this.get(M,T))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let T=0;T<this.rows;T++)if(this.get(T,T)!==0)return!1;return!0}isEchelonForm(){let T=0,M=0,k=-1,N=!0,R=!1;for(;T<this.rows&&N;){for(M=0,R=!1;M<this.columns&&R===!1;)this.get(T,M)===0?M++:this.get(T,M)===1&&M>k?(R=!0,k=M):(N=!1,R=!0);T++}return N}isReducedEchelonForm(){let T=0,M=0,k=-1,N=!0,R=!1;for(;T<this.rows&&N;){for(M=0,R=!1;M<this.columns&&R===!1;)this.get(T,M)===0?M++:this.get(T,M)===1&&M>k?(R=!0,k=M):(N=!1,R=!0);for(let $=M+1;$<this.rows;$++)this.get(T,$)!==0&&(N=!1);T++}return N}echelonForm(){let T=this.clone(),M=0,k=0;for(;M<T.rows&&k<T.columns;){let N=M;for(let R=M;R<T.rows;R++)T.get(R,k)>T.get(N,k)&&(N=R);if(T.get(N,k)===0)k++;else{T.swapRows(M,N);let R=T.get(M,k);for(let $=k;$<T.columns;$++)T.set(M,$,T.get(M,$)/R);for(let $=M+1;$<T.rows;$++){let B=T.get($,k)/T.get(M,k);T.set($,k,0);for(let j=k+1;j<T.columns;j++)T.set($,j,T.get($,j)-T.get(M,j)*B)}M++,k++}}return T}reducedEchelonForm(){let T=this.echelonForm(),M=T.columns,k=T.rows,N=k-1;for(;N>=0;)if(T.maxRow(N)===0)N--;else{let R=0,$=!1;for(;R<k&&$===!1;)T.get(N,R)===1?$=!0:R++;for(let B=0;B<N;B++){let j=T.get(B,R);for(let W=R;W<M;W++){let le=T.get(B,W)-j*T.get(N,W);T.set(B,W,le)}}N--}return T}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(T={}){if(typeof T!="object")throw new TypeError("options must be an object");const{rows:M=1,columns:k=1}=T;if(!Number.isInteger(M)||M<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(k)||k<=0)throw new TypeError("columns must be a positive integer");let N=new Y(this.rows*M,this.columns*k);for(let R=0;R<M;R++)for(let $=0;$<k;$++)N.setSubMatrix(this,this.rows*R,this.columns*$);return N}fill(T){for(let M=0;M<this.rows;M++)for(let k=0;k<this.columns;k++)this.set(M,k,T);return this}neg(){return this.mulS(-1)}getRow(T){c(this,T);let M=[];for(let k=0;k<this.columns;k++)M.push(this.get(T,k));return M}getRowVector(T){return Y.rowVector(this.getRow(T))}setRow(T,M){c(this,T),M=h(this,M);for(let k=0;k<this.columns;k++)this.set(T,k,M[k]);return this}swapRows(T,M){c(this,T),c(this,M);for(let k=0;k<this.columns;k++){let N=this.get(T,k);this.set(T,k,this.get(M,k)),this.set(M,k,N)}return this}getColumn(T){f(this,T);let M=[];for(let k=0;k<this.rows;k++)M.push(this.get(k,T));return M}getColumnVector(T){return Y.columnVector(this.getColumn(T))}setColumn(T,M){f(this,T),M=d(this,M);for(let k=0;k<this.rows;k++)this.set(k,T,M[k]);return this}swapColumns(T,M){f(this,T),f(this,M);for(let k=0;k<this.rows;k++){let N=this.get(k,T);this.set(k,T,this.get(k,M)),this.set(k,M,N)}return this}addRowVector(T){T=h(this,T);for(let M=0;M<this.rows;M++)for(let k=0;k<this.columns;k++)this.set(M,k,this.get(M,k)+T[k]);return this}subRowVector(T){T=h(this,T);for(let M=0;M<this.rows;M++)for(let k=0;k<this.columns;k++)this.set(M,k,this.get(M,k)-T[k]);return this}mulRowVector(T){T=h(this,T);for(let M=0;M<this.rows;M++)for(let k=0;k<this.columns;k++)this.set(M,k,this.get(M,k)*T[k]);return this}divRowVector(T){T=h(this,T);for(let M=0;M<this.rows;M++)for(let k=0;k<this.columns;k++)this.set(M,k,this.get(M,k)/T[k]);return this}addColumnVector(T){T=d(this,T);for(let M=0;M<this.rows;M++)for(let k=0;k<this.columns;k++)this.set(M,k,this.get(M,k)+T[M]);return this}subColumnVector(T){T=d(this,T);for(let M=0;M<this.rows;M++)for(let k=0;k<this.columns;k++)this.set(M,k,this.get(M,k)-T[M]);return this}mulColumnVector(T){T=d(this,T);for(let M=0;M<this.rows;M++)for(let k=0;k<this.columns;k++)this.set(M,k,this.get(M,k)*T[M]);return this}divColumnVector(T){T=d(this,T);for(let M=0;M<this.rows;M++)for(let k=0;k<this.columns;k++)this.set(M,k,this.get(M,k)/T[M]);return this}mulRow(T,M){c(this,T);for(let k=0;k<this.columns;k++)this.set(T,k,this.get(T,k)*M);return this}mulColumn(T,M){f(this,T);for(let k=0;k<this.rows;k++)this.set(k,T,this.get(k,T)*M);return this}max(T){if(this.isEmpty())return NaN;switch(T){case"row":{const M=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.get(k,N)>M[k]&&(M[k]=this.get(k,N));return M}case"column":{const M=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.get(k,N)>M[N]&&(M[N]=this.get(k,N));return M}case void 0:{let M=this.get(0,0);for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.get(k,N)>M&&(M=this.get(k,N));return M}default:throw new Error(`invalid option: ${T}`)}}maxIndex(){b(this);let T=this.get(0,0),M=[0,0];for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.get(k,N)>T&&(T=this.get(k,N),M[0]=k,M[1]=N);return M}min(T){if(this.isEmpty())return NaN;switch(T){case"row":{const M=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.get(k,N)<M[k]&&(M[k]=this.get(k,N));return M}case"column":{const M=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.get(k,N)<M[N]&&(M[N]=this.get(k,N));return M}case void 0:{let M=this.get(0,0);for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.get(k,N)<M&&(M=this.get(k,N));return M}default:throw new Error(`invalid option: ${T}`)}}minIndex(){b(this);let T=this.get(0,0),M=[0,0];for(let k=0;k<this.rows;k++)for(let N=0;N<this.columns;N++)this.get(k,N)<T&&(T=this.get(k,N),M[0]=k,M[1]=N);return M}maxRow(T){if(c(this,T),this.isEmpty())return NaN;let M=this.get(T,0);for(let k=1;k<this.columns;k++)this.get(T,k)>M&&(M=this.get(T,k));return M}maxRowIndex(T){c(this,T),b(this);let M=this.get(T,0),k=[T,0];for(let N=1;N<this.columns;N++)this.get(T,N)>M&&(M=this.get(T,N),k[1]=N);return k}minRow(T){if(c(this,T),this.isEmpty())return NaN;let M=this.get(T,0);for(let k=1;k<this.columns;k++)this.get(T,k)<M&&(M=this.get(T,k));return M}minRowIndex(T){c(this,T),b(this);let M=this.get(T,0),k=[T,0];for(let N=1;N<this.columns;N++)this.get(T,N)<M&&(M=this.get(T,N),k[1]=N);return k}maxColumn(T){if(f(this,T),this.isEmpty())return NaN;let M=this.get(0,T);for(let k=1;k<this.rows;k++)this.get(k,T)>M&&(M=this.get(k,T));return M}maxColumnIndex(T){f(this,T),b(this);let M=this.get(0,T),k=[0,T];for(let N=1;N<this.rows;N++)this.get(N,T)>M&&(M=this.get(N,T),k[0]=N);return k}minColumn(T){if(f(this,T),this.isEmpty())return NaN;let M=this.get(0,T);for(let k=1;k<this.rows;k++)this.get(k,T)<M&&(M=this.get(k,T));return M}minColumnIndex(T){f(this,T),b(this);let M=this.get(0,T),k=[0,T];for(let N=1;N<this.rows;N++)this.get(N,T)<M&&(M=this.get(N,T),k[0]=N);return k}diag(){let T=Math.min(this.rows,this.columns),M=[];for(let k=0;k<T;k++)M.push(this.get(k,k));return M}norm(T="frobenius"){switch(T){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${T}`)}}cumulativeSum(){let T=0;for(let M=0;M<this.rows;M++)for(let k=0;k<this.columns;k++)T+=this.get(M,k),this.set(M,k,T);return this}dot(T){ve.isMatrix(T)&&(T=T.to1DArray());let M=this.to1DArray();if(M.length!==T.length)throw new RangeError("vectors do not have the same size");let k=0;for(let N=0;N<M.length;N++)k+=M[N]*T[N];return k}mmul(T){T=Y.checkMatrix(T);let M=this.rows,k=this.columns,N=T.columns,R=new Y(M,N),$=new Float64Array(k);for(let B=0;B<N;B++){for(let j=0;j<k;j++)$[j]=T.get(j,B);for(let j=0;j<M;j++){let W=0;for(let le=0;le<k;le++)W+=this.get(j,le)*$[le];R.set(j,B,W)}}return R}mpow(T){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(T)||T<0)throw new RangeError("Exponent must be a non-negative integer");let M=Y.eye(this.rows),k=this;for(let N=T;N>=1;N/=2)(N&1)!==0&&(M=M.mmul(k)),k=k.mmul(k);return M}strassen2x2(T){T=Y.checkMatrix(T);let M=new Y(2,2);const k=this.get(0,0),N=T.get(0,0),R=this.get(0,1),$=T.get(0,1),B=this.get(1,0),j=T.get(1,0),W=this.get(1,1),le=T.get(1,1),J=(k+W)*(N+le),Ee=(B+W)*N,Ie=k*($-le),me=W*(j-N),Te=(k+R)*le,We=(B-k)*(N+$),ee=(R-W)*(j+le),Le=J+me-Te+ee,Ke=Ie+Te,vt=Ee+me,bt=J-Ee+Ie+We;return M.set(0,0,Le),M.set(0,1,Ke),M.set(1,0,vt),M.set(1,1,bt),M}strassen3x3(T){T=Y.checkMatrix(T);let M=new Y(3,3);const k=this.get(0,0),N=this.get(0,1),R=this.get(0,2),$=this.get(1,0),B=this.get(1,1),j=this.get(1,2),W=this.get(2,0),le=this.get(2,1),J=this.get(2,2),Ee=T.get(0,0),Ie=T.get(0,1),me=T.get(0,2),Te=T.get(1,0),We=T.get(1,1),ee=T.get(1,2),Le=T.get(2,0),Ke=T.get(2,1),vt=T.get(2,2),bt=(k+N+R-$-B-le-J)*We,yr=(k-$)*(-Ie+We),st=B*(-Ee+Ie+Te-We-ee-Le+vt),ut=(-k+$+B)*(Ee-Ie+We),tr=($+B)*(-Ee+Ie),ie=k*Ee,Pe=(-k+W+le)*(Ee-me+ee),Ve=(-k+W)*(me-ee),Ce=(W+le)*(-Ee+me),br=(k+N+R-B-j-W-le)*ee,Ut=le*(-Ee+me+Te-We-ee-Le+Ke),lr=(-R+le+J)*(We+Le-Ke),wr=(R-J)*(We-Ke),vn=R*Le,da=(le+J)*(-Le+Ke),en=(-R+B+j)*(ee+Le-vt),ja=(R-j)*(ee-vt),_s=(B+j)*(-Le+vt),Pt=N*Te,pn=j*Ke,ki=$*me,Si=W*Ie,tn=J*vt,tq=ie+vn+Pt,rq=bt+ut+tr+ie+lr+vn+da,nq=ie+Pe+Ce+br+vn+en+_s,iq=yr+st+ut+ie+vn+en+ja,aq=yr+ut+tr+ie+pn,sq=vn+en+ja+_s+ki,oq=ie+Pe+Ve+Ut+lr+wr+vn,lq=lr+wr+vn+da+Si,uq=ie+Pe+Ve+Ce+tn;return M.set(0,0,tq),M.set(0,1,rq),M.set(0,2,nq),M.set(1,0,iq),M.set(1,1,aq),M.set(1,2,sq),M.set(2,0,oq),M.set(2,1,lq),M.set(2,2,uq),M}mmulStrassen(T){T=Y.checkMatrix(T);let M=this.clone(),k=M.rows,N=M.columns,R=T.rows,$=T.columns;N!==R&&console.warn(`Multiplying ${k} x ${N} and ${R} x ${$} matrix: dimensions do not match.`);function B(J,Ee,Ie){let me=J.rows,Te=J.columns;if(me===Ee&&Te===Ie)return J;{let We=ve.zeros(Ee,Ie);return We=We.setSubMatrix(J,0,0),We}}let j=Math.max(k,R),W=Math.max(N,$);M=B(M,j,W),T=B(T,j,W);function le(J,Ee,Ie,me){if(Ie<=512||me<=512)return J.mmul(Ee);Ie%2===1&&me%2===1?(J=B(J,Ie+1,me+1),Ee=B(Ee,Ie+1,me+1)):Ie%2===1?(J=B(J,Ie+1,me),Ee=B(Ee,Ie+1,me)):me%2===1&&(J=B(J,Ie,me+1),Ee=B(Ee,Ie,me+1));let Te=parseInt(J.rows/2,10),We=parseInt(J.columns/2,10),ee=J.subMatrix(0,Te-1,0,We-1),Le=Ee.subMatrix(0,Te-1,0,We-1),Ke=J.subMatrix(0,Te-1,We,J.columns-1),vt=Ee.subMatrix(0,Te-1,We,Ee.columns-1),bt=J.subMatrix(Te,J.rows-1,0,We-1),yr=Ee.subMatrix(Te,Ee.rows-1,0,We-1),st=J.subMatrix(Te,J.rows-1,We,J.columns-1),ut=Ee.subMatrix(Te,Ee.rows-1,We,Ee.columns-1),tr=le(ve.add(ee,st),ve.add(Le,ut),Te,We),ie=le(ve.add(bt,st),Le,Te,We),Pe=le(ee,ve.sub(vt,ut),Te,We),Ve=le(st,ve.sub(yr,Le),Te,We),Ce=le(ve.add(ee,Ke),ut,Te,We),br=le(ve.sub(bt,ee),ve.add(Le,vt),Te,We),Ut=le(ve.sub(Ke,st),ve.add(yr,ut),Te,We),lr=ve.add(tr,Ve);lr.sub(Ce),lr.add(Ut);let wr=ve.add(Pe,Ce),vn=ve.add(ie,Ve),da=ve.sub(tr,ie);da.add(Pe),da.add(br);let en=ve.zeros(2*lr.rows,2*lr.columns);return en=en.setSubMatrix(lr,0,0),en=en.setSubMatrix(wr,lr.rows,0),en=en.setSubMatrix(vn,0,lr.columns),en=en.setSubMatrix(da,lr.rows,lr.columns),en.subMatrix(0,Ie-1,0,me-1)}return le(M,T,j,W)}scaleRows(T={}){if(typeof T!="object")throw new TypeError("options must be an object");const{min:M=0,max:k=1}=T;if(!Number.isFinite(M))throw new TypeError("min must be a number");if(!Number.isFinite(k))throw new TypeError("max must be a number");if(M>=k)throw new RangeError("min must be smaller than max");let N=new Y(this.rows,this.columns);for(let R=0;R<this.rows;R++){const $=this.getRow(R);$.length>0&&t($,{min:M,max:k,output:$}),N.setRow(R,$)}return N}scaleColumns(T={}){if(typeof T!="object")throw new TypeError("options must be an object");const{min:M=0,max:k=1}=T;if(!Number.isFinite(M))throw new TypeError("min must be a number");if(!Number.isFinite(k))throw new TypeError("max must be a number");if(M>=k)throw new RangeError("min must be smaller than max");let N=new Y(this.rows,this.columns);for(let R=0;R<this.columns;R++){const $=this.getColumn(R);$.length&&t($,{min:M,max:k,output:$}),N.setColumn(R,$)}return N}flipRows(){const T=Math.ceil(this.columns/2);for(let M=0;M<this.rows;M++)for(let k=0;k<T;k++){let N=this.get(M,k),R=this.get(M,this.columns-1-k);this.set(M,k,R),this.set(M,this.columns-1-k,N)}return this}flipColumns(){const T=Math.ceil(this.rows/2);for(let M=0;M<this.columns;M++)for(let k=0;k<T;k++){let N=this.get(k,M),R=this.get(this.rows-1-k,M);this.set(k,M,R),this.set(this.rows-1-k,M,N)}return this}kroneckerProduct(T){T=Y.checkMatrix(T);let M=this.rows,k=this.columns,N=T.rows,R=T.columns,$=new Y(M*N,k*R);for(let B=0;B<M;B++)for(let j=0;j<k;j++)for(let W=0;W<N;W++)for(let le=0;le<R;le++)$.set(N*B+W,R*j+le,this.get(B,j)*T.get(W,le));return $}kroneckerSum(T){if(T=Y.checkMatrix(T),!this.isSquare()||!T.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let M=this.rows,k=T.rows,N=this.kroneckerProduct(Y.eye(k,k)),R=Y.eye(M,M).kroneckerProduct(T);return N.add(R)}transpose(){let T=new Y(this.columns,this.rows);for(let M=0;M<this.rows;M++)for(let k=0;k<this.columns;k++)T.set(k,M,this.get(M,k));return T}sortRows(T=je){for(let M=0;M<this.rows;M++)this.setRow(M,this.getRow(M).sort(T));return this}sortColumns(T=je){for(let M=0;M<this.columns;M++)this.setColumn(M,this.getColumn(M).sort(T));return this}subMatrix(T,M,k,N){g(this,T,M,k,N);let R=new Y(M-T+1,N-k+1);for(let $=T;$<=M;$++)for(let B=k;B<=N;B++)R.set($-T,B-k,this.get($,B));return R}subMatrixRow(T,M,k){if(M===void 0&&(M=0),k===void 0&&(k=this.columns-1),M>k||M<0||M>=this.columns||k<0||k>=this.columns)throw new RangeError("Argument out of range");let N=new Y(T.length,k-M+1);for(let R=0;R<T.length;R++)for(let $=M;$<=k;$++){if(T[R]<0||T[R]>=this.rows)throw new RangeError(`Row index out of range: ${T[R]}`);N.set(R,$-M,this.get(T[R],$))}return N}subMatrixColumn(T,M,k){if(M===void 0&&(M=0),k===void 0&&(k=this.rows-1),M>k||M<0||M>=this.rows||k<0||k>=this.rows)throw new RangeError("Argument out of range");let N=new Y(k-M+1,T.length);for(let R=0;R<T.length;R++)for(let $=M;$<=k;$++){if(T[R]<0||T[R]>=this.columns)throw new RangeError(`Column index out of range: ${T[R]}`);N.set($-M,R,this.get($,T[R]))}return N}setSubMatrix(T,M,k){if(T=Y.checkMatrix(T),T.isEmpty())return this;let N=M+T.rows-1,R=k+T.columns-1;g(this,M,N,k,R);for(let $=0;$<T.rows;$++)for(let B=0;B<T.columns;B++)this.set(M+$,k+B,T.get($,B));return this}selection(T,M){v(this,T),p(this,M);let k=new Y(T.length,M.length);for(let N=0;N<T.length;N++){let R=T[N];for(let $=0;$<M.length;$++){let B=M[$];k.set(N,$,this.get(R,B))}}return k}trace(){let T=Math.min(this.rows,this.columns),M=0;for(let k=0;k<T;k++)M+=this.get(k,k);return M}clone(){return this.constructor.copy(this,new Y(this.rows,this.columns))}static copy(T,M){for(const[k,N,R]of T.entries())M.set(k,N,R);return M}sum(T){switch(T){case"row":return _(this);case"column":return x(this);case void 0:return E(this);default:throw new Error(`invalid option: ${T}`)}}product(T){switch(T){case"row":return w(this);case"column":return S(this);case void 0:return A(this);default:throw new Error(`invalid option: ${T}`)}}mean(T){const M=this.sum(T);switch(T){case"row":{for(let k=0;k<this.rows;k++)M[k]/=this.columns;return M}case"column":{for(let k=0;k<this.columns;k++)M[k]/=this.rows;return M}case void 0:return M/this.size;default:throw new Error(`invalid option: ${T}`)}}variance(T,M={}){if(typeof T=="object"&&(M=T,T=void 0),typeof M!="object")throw new TypeError("options must be an object");const{unbiased:k=!0,mean:N=this.mean(T)}=M;if(typeof k!="boolean")throw new TypeError("unbiased must be a boolean");switch(T){case"row":{if(!e.isAnyArray(N))throw new TypeError("mean must be an array");return P(this,k,N)}case"column":{if(!e.isAnyArray(N))throw new TypeError("mean must be an array");return O(this,k,N)}case void 0:{if(typeof N!="number")throw new TypeError("mean must be a number");return C(this,k,N)}default:throw new Error(`invalid option: ${T}`)}}standardDeviation(T,M){typeof T=="object"&&(M=T,T=void 0);const k=this.variance(T,M);if(T===void 0)return Math.sqrt(k);for(let N=0;N<k.length;N++)k[N]=Math.sqrt(k[N]);return k}center(T,M={}){if(typeof T=="object"&&(M=T,T=void 0),typeof M!="object")throw new TypeError("options must be an object");const{center:k=this.mean(T)}=M;switch(T){case"row":{if(!e.isAnyArray(k))throw new TypeError("center must be an array");return L(this,k),this}case"column":{if(!e.isAnyArray(k))throw new TypeError("center must be an array");return I(this,k),this}case void 0:{if(typeof k!="number")throw new TypeError("center must be a number");return F(this,k),this}default:throw new Error(`invalid option: ${T}`)}}scale(T,M={}){if(typeof T=="object"&&(M=T,T=void 0),typeof M!="object")throw new TypeError("options must be an object");let k=M.scale;switch(T){case"row":{if(k===void 0)k=U(this);else if(!e.isAnyArray(k))throw new TypeError("scale must be an array");return G(this,k),this}case"column":{if(k===void 0)k=z(this);else if(!e.isAnyArray(k))throw new TypeError("scale must be an array");return Z(this,k),this}case void 0:{if(k===void 0)k=ge(this);else if(typeof k!="number")throw new TypeError("scale must be a number");return xe(this,k),this}default:throw new Error(`invalid option: ${T}`)}}toString(T){return a(this,T)}[Symbol.iterator](){return this.entries()}*entries(){for(let T=0;T<this.rows;T++)for(let M=0;M<this.columns;M++)yield[T,M,this.get(T,M)]}*values(){for(let T=0;T<this.rows;T++)for(let M=0;M<this.columns;M++)yield this.get(T,M)}}ve.prototype.klass="Matrix",typeof Symbol<"u"&&(ve.prototype[Symbol.for("nodejs.util.inspect.custom")]=i);function je(D,T){return D-T}function te(D){return D.every(T=>typeof T=="number")}ve.random=ve.rand,ve.randomInt=ve.randInt,ve.diagonal=ve.diag,ve.prototype.diagonal=ve.prototype.diag,ve.identity=ve.eye,ve.prototype.negate=ve.prototype.neg,ve.prototype.tensorProduct=ve.prototype.kroneckerProduct;class Y extends ve{data;#e(T,M){if(this.data=[],Number.isInteger(M)&&M>=0)for(let k=0;k<T;k++)this.data.push(new Float64Array(M));else throw new TypeError("nColumns must be a positive integer");this.rows=T,this.columns=M}constructor(T,M){if(super(),Y.isMatrix(T))this.#e(T.rows,T.columns),Y.copy(T,this);else if(Number.isInteger(T)&&T>=0)this.#e(T,M);else if(e.isAnyArray(T)){const k=T;if(T=k.length,M=T?k[0].length:0,typeof M!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let N=0;N<T;N++){if(k[N].length!==M)throw new RangeError("Inconsistent array dimensions");if(!te(k[N]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(k[N]))}this.rows=T,this.columns=M}else throw new TypeError("First argument must be a positive number or an array")}set(T,M,k){return this.data[T][M]=k,this}get(T,M){return this.data[T][M]}removeRow(T){return c(this,T),this.data.splice(T,1),this.rows-=1,this}addRow(T,M){return M===void 0&&(M=T,T=this.rows),c(this,T,!0),M=Float64Array.from(h(this,M)),this.data.splice(T,0,M),this.rows+=1,this}removeColumn(T){f(this,T);for(let M=0;M<this.rows;M++){const k=new Float64Array(this.columns-1);for(let N=0;N<T;N++)k[N]=this.data[M][N];for(let N=T+1;N<this.columns;N++)k[N-1]=this.data[M][N];this.data[M]=k}return this.columns-=1,this}addColumn(T,M){typeof M>"u"&&(M=T,T=this.columns),f(this,T,!0),M=d(this,M);for(let k=0;k<this.rows;k++){const N=new Float64Array(this.columns+1);let R=0;for(;R<T;R++)N[R]=this.data[k][R];for(N[R++]=M[k];R<this.columns+1;R++)N[R]=this.data[k][R-1];this.data[k]=N}return this.columns+=1,this}}u(ve,Y);class fe extends ve{#e;get size(){return this.#e.size}get rows(){return this.#e.rows}get columns(){return this.#e.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(T){return Y.isMatrix(T)&&T.klassType==="SymmetricMatrix"}static zeros(T){return new this(T)}static ones(T){return new this(T).fill(1)}constructor(T){if(super(),Y.isMatrix(T)){if(!T.isSymmetric())throw new TypeError("not symmetric data");this.#e=Y.copy(T,new Y(T.rows,T.rows))}else if(Number.isInteger(T)&&T>=0)this.#e=new Y(T,T);else if(this.#e=new Y(T),!this.isSymmetric())throw new TypeError("not symmetric data")}clone(){const T=new fe(this.diagonalSize);for(const[M,k,N]of this.upperRightEntries())T.set(M,k,N);return T}toMatrix(){return new Y(this)}get(T,M){return this.#e.get(T,M)}set(T,M,k){return this.#e.set(T,M,k),this.#e.set(M,T,k),this}removeCross(T){return this.#e.removeRow(T),this.#e.removeColumn(T),this}addCross(T,M){M===void 0&&(M=T,T=this.diagonalSize);const k=M.slice();return k.splice(T,1),this.#e.addRow(T,k),this.#e.addColumn(T,M),this}applyMask(T){if(T.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const M=[];for(const[k,N]of T.entries())N||M.push(k);M.reverse();for(const k of M)this.removeCross(k);return this}toCompact(){const{diagonalSize:T}=this,M=new Array(T*(T+1)/2);for(let k=0,N=0,R=0;R<M.length;R++)M[R]=this.get(N,k),++k>=T&&(k=++N);return M}static fromCompact(T){const M=T.length,k=(Math.sqrt(8*M+1)-1)/2;if(!Number.isInteger(k))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(T)}`);const N=new fe(k);for(let R=0,$=0,B=0;B<M;B++)N.set(R,$,T[B]),++R>=k&&(R=++$);return N}*upperRightEntries(){for(let T=0,M=0;T<this.diagonalSize;void 0){const k=this.get(T,M);yield[T,M,k],++M>=this.diagonalSize&&(M=++T)}}*upperRightValues(){for(let T=0,M=0;T<this.diagonalSize;void 0)yield this.get(T,M),++M>=this.diagonalSize&&(M=++T)}}fe.prototype.klassType="SymmetricMatrix";class Q extends fe{static isDistanceMatrix(T){return fe.isSymmetricMatrix(T)&&T.klassSubType==="DistanceMatrix"}constructor(T){if(super(T),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(T,M,k){return T===M&&(k=0),super.set(T,M,k)}addCross(T,M){return M===void 0&&(M=T,T=this.diagonalSize),M=M.slice(),M[T]=0,super.addCross(T,M)}toSymmetricMatrix(){return new fe(this)}clone(){const T=new Q(this.diagonalSize);for(const[M,k,N]of this.upperRightEntries())M!==k&&T.set(M,k,N);return T}toCompact(){const{diagonalSize:T}=this,M=(T-1)*T/2,k=new Array(M);for(let N=1,R=0,$=0;$<k.length;$++)k[$]=this.get(R,N),++N>=T&&(N=++R+1);return k}static fromCompact(T){const M=T.length;if(M===0)return new this(0);const k=(Math.sqrt(8*M+1)+1)/2;if(!Number.isInteger(k))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(T)}`);const N=new this(k);for(let R=1,$=0,B=0;B<M;B++)N.set(R,$,T[B]),++R>=k&&(R=++$+1);return N}}Q.prototype.klassSubType="DistanceMatrix";class oe extends ve{constructor(T,M,k){super(),this.matrix=T,this.rows=M,this.columns=k}}class ye extends oe{constructor(T,M){f(T,M),super(T,T.rows,1),this.column=M}set(T,M,k){return this.matrix.set(T,this.column,k),this}get(T){return this.matrix.get(T,this.column)}}class we extends oe{constructor(T,M){p(T,M),super(T,T.rows,M.length),this.columnIndices=M}set(T,M,k){return this.matrix.set(T,this.columnIndices[M],k),this}get(T,M){return this.matrix.get(T,this.columnIndices[M])}}class Ae extends oe{constructor(T){super(T,T.rows,T.columns)}set(T,M,k){return this.matrix.set(T,this.columns-M-1,k),this}get(T,M){return this.matrix.get(T,this.columns-M-1)}}class H extends oe{constructor(T){super(T,T.rows,T.columns)}set(T,M,k){return this.matrix.set(this.rows-T-1,M,k),this}get(T,M){return this.matrix.get(this.rows-T-1,M)}}class K extends oe{constructor(T,M){c(T,M),super(T,1,T.columns),this.row=M}set(T,M,k){return this.matrix.set(this.row,M,k),this}get(T,M){return this.matrix.get(this.row,M)}}class ce extends oe{constructor(T,M){v(T,M),super(T,M.length,T.columns),this.rowIndices=M}set(T,M,k){return this.matrix.set(this.rowIndices[T],M,k),this}get(T,M){return this.matrix.get(this.rowIndices[T],M)}}class de extends oe{constructor(T,M,k){v(T,M),p(T,k),super(T,M.length,k.length),this.rowIndices=M,this.columnIndices=k}set(T,M,k){return this.matrix.set(this.rowIndices[T],this.columnIndices[M],k),this}get(T,M){return this.matrix.get(this.rowIndices[T],this.columnIndices[M])}}class _e extends oe{constructor(T,M,k,N,R){g(T,M,k,N,R),super(T,k-M+1,R-N+1),this.startRow=M,this.startColumn=N}set(T,M,k){return this.matrix.set(this.startRow+T,this.startColumn+M,k),this}get(T,M){return this.matrix.get(this.startRow+T,this.startColumn+M)}}class pe extends oe{constructor(T){super(T,T.columns,T.rows)}set(T,M,k){return this.matrix.set(M,T,k),this}get(T,M){return this.matrix.get(M,T)}}class V extends ve{constructor(T,M={}){const{rows:k=1}=M;if(T.length%k!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=k,this.columns=T.length/k,this.data=T}set(T,M,k){let N=this._calculateIndex(T,M);return this.data[N]=k,this}get(T,M){let k=this._calculateIndex(T,M);return this.data[k]}_calculateIndex(T,M){return T*this.columns+M}}class q extends ve{constructor(T){super(),this.data=T,this.rows=T.length,this.columns=T[0].length}set(T,M,k){return this.data[T][M]=k,this}get(T,M){return this.data[T][M]}}function ne(D,T){if(e.isAnyArray(D))return D[0]&&e.isAnyArray(D[0])?new q(D):new V(D,T);throw new Error("the argument is not an array")}class ue{constructor(T){T=q.checkMatrix(T);let M=T.clone(),k=M.rows,N=M.columns,R=new Float64Array(k),$=1,B,j,W,le,J,Ee,Ie,me,Te;for(B=0;B<k;B++)R[B]=B;for(me=new Float64Array(k),j=0;j<N;j++){for(B=0;B<k;B++)me[B]=M.get(B,j);for(B=0;B<k;B++){for(Te=Math.min(B,j),J=0,W=0;W<Te;W++)J+=M.get(B,W)*me[W];me[B]-=J,M.set(B,j,me[B])}for(le=j,B=j+1;B<k;B++)Math.abs(me[B])>Math.abs(me[le])&&(le=B);if(le!==j){for(W=0;W<N;W++)Ee=M.get(le,W),M.set(le,W,M.get(j,W)),M.set(j,W,Ee);Ie=R[le],R[le]=R[j],R[j]=Ie,$=-$}if(j<k&&M.get(j,j)!==0)for(B=j+1;B<k;B++)M.set(B,j,M.get(B,j)/M.get(j,j))}this.LU=M,this.pivotVector=R,this.pivotSign=$}isSingular(){let T=this.LU,M=T.columns;for(let k=0;k<M;k++)if(T.get(k,k)===0)return!0;return!1}solve(T){T=Y.checkMatrix(T);let M=this.LU;if(M.rows!==T.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let N=T.columns,R=T.subMatrixRow(this.pivotVector,0,N-1),$=M.columns,B,j,W;for(W=0;W<$;W++)for(B=W+1;B<$;B++)for(j=0;j<N;j++)R.set(B,j,R.get(B,j)-R.get(W,j)*M.get(B,W));for(W=$-1;W>=0;W--){for(j=0;j<N;j++)R.set(W,j,R.get(W,j)/M.get(W,W));for(B=0;B<W;B++)for(j=0;j<N;j++)R.set(B,j,R.get(B,j)-R.get(W,j)*M.get(B,W))}return R}get determinant(){let T=this.LU;if(!T.isSquare())throw new Error("Matrix must be square");let M=this.pivotSign,k=T.columns;for(let N=0;N<k;N++)M*=T.get(N,N);return M}get lowerTriangularMatrix(){let T=this.LU,M=T.rows,k=T.columns,N=new Y(M,k);for(let R=0;R<M;R++)for(let $=0;$<k;$++)R>$?N.set(R,$,T.get(R,$)):R===$?N.set(R,$,1):N.set(R,$,0);return N}get upperTriangularMatrix(){let T=this.LU,M=T.rows,k=T.columns,N=new Y(M,k);for(let R=0;R<M;R++)for(let $=0;$<k;$++)R<=$?N.set(R,$,T.get(R,$)):N.set(R,$,0);return N}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function Oe(D,T){let M=0;return Math.abs(D)>Math.abs(T)?(M=T/D,Math.abs(D)*Math.sqrt(1+M*M)):T!==0?(M=D/T,Math.abs(T)*Math.sqrt(1+M*M)):0}class be{constructor(T){T=q.checkMatrix(T);let M=T.clone(),k=T.rows,N=T.columns,R=new Float64Array(N),$,B,j,W;for(j=0;j<N;j++){let le=0;for($=j;$<k;$++)le=Oe(le,M.get($,j));if(le!==0){for(M.get(j,j)<0&&(le=-le),$=j;$<k;$++)M.set($,j,M.get($,j)/le);for(M.set(j,j,M.get(j,j)+1),B=j+1;B<N;B++){for(W=0,$=j;$<k;$++)W+=M.get($,j)*M.get($,B);for(W=-W/M.get(j,j),$=j;$<k;$++)M.set($,B,M.get($,B)+W*M.get($,j))}}R[j]=-le}this.QR=M,this.Rdiag=R}solve(T){T=Y.checkMatrix(T);let M=this.QR,k=M.rows;if(T.rows!==k)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let N=T.columns,R=T.clone(),$=M.columns,B,j,W,le;for(W=0;W<$;W++)for(j=0;j<N;j++){for(le=0,B=W;B<k;B++)le+=M.get(B,W)*R.get(B,j);for(le=-le/M.get(W,W),B=W;B<k;B++)R.set(B,j,R.get(B,j)+le*M.get(B,W))}for(W=$-1;W>=0;W--){for(j=0;j<N;j++)R.set(W,j,R.get(W,j)/this.Rdiag[W]);for(B=0;B<W;B++)for(j=0;j<N;j++)R.set(B,j,R.get(B,j)-R.get(W,j)*M.get(B,W))}return R.subMatrix(0,$-1,0,N-1)}isFullRank(){let T=this.QR.columns;for(let M=0;M<T;M++)if(this.Rdiag[M]===0)return!1;return!0}get upperTriangularMatrix(){let T=this.QR,M=T.columns,k=new Y(M,M),N,R;for(N=0;N<M;N++)for(R=0;R<M;R++)N<R?k.set(N,R,T.get(N,R)):N===R?k.set(N,R,this.Rdiag[N]):k.set(N,R,0);return k}get orthogonalMatrix(){let T=this.QR,M=T.rows,k=T.columns,N=new Y(M,k),R,$,B,j;for(B=k-1;B>=0;B--){for(R=0;R<M;R++)N.set(R,B,0);for(N.set(B,B,1),$=B;$<k;$++)if(T.get(B,B)!==0){for(j=0,R=B;R<M;R++)j+=T.get(R,B)*N.get(R,$);for(j=-j/T.get(B,B),R=B;R<M;R++)N.set(R,$,N.get(R,$)+j*T.get(R,B))}}return N}}class re{constructor(T,M={}){if(T=q.checkMatrix(T),T.isEmpty())throw new Error("Matrix must be non-empty");let k=T.rows,N=T.columns;const{computeLeftSingularVectors:R=!0,computeRightSingularVectors:$=!0,autoTranspose:B=!1}=M;let j=!!R,W=!!$,le=!1,J;if(k<N)if(!B)J=T.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{J=T.transpose(),k=J.rows,N=J.columns,le=!0;let ie=j;j=W,W=ie}else J=T.clone();let Ee=Math.min(k,N),Ie=Math.min(k+1,N),me=new Float64Array(Ie),Te=new Y(k,Ee),We=new Y(N,N),ee=new Float64Array(N),Le=new Float64Array(k),Ke=new Float64Array(Ie);for(let ie=0;ie<Ie;ie++)Ke[ie]=ie;let vt=Math.min(k-1,N),bt=Math.max(0,Math.min(N-2,k)),yr=Math.max(vt,bt);for(let ie=0;ie<yr;ie++){if(ie<vt){me[ie]=0;for(let Pe=ie;Pe<k;Pe++)me[ie]=Oe(me[ie],J.get(Pe,ie));if(me[ie]!==0){J.get(ie,ie)<0&&(me[ie]=-me[ie]);for(let Pe=ie;Pe<k;Pe++)J.set(Pe,ie,J.get(Pe,ie)/me[ie]);J.set(ie,ie,J.get(ie,ie)+1)}me[ie]=-me[ie]}for(let Pe=ie+1;Pe<N;Pe++){if(ie<vt&&me[ie]!==0){let Ve=0;for(let Ce=ie;Ce<k;Ce++)Ve+=J.get(Ce,ie)*J.get(Ce,Pe);Ve=-Ve/J.get(ie,ie);for(let Ce=ie;Ce<k;Ce++)J.set(Ce,Pe,J.get(Ce,Pe)+Ve*J.get(Ce,ie))}ee[Pe]=J.get(ie,Pe)}if(j&&ie<vt)for(let Pe=ie;Pe<k;Pe++)Te.set(Pe,ie,J.get(Pe,ie));if(ie<bt){ee[ie]=0;for(let Pe=ie+1;Pe<N;Pe++)ee[ie]=Oe(ee[ie],ee[Pe]);if(ee[ie]!==0){ee[ie+1]<0&&(ee[ie]=0-ee[ie]);for(let Pe=ie+1;Pe<N;Pe++)ee[Pe]/=ee[ie];ee[ie+1]+=1}if(ee[ie]=-ee[ie],ie+1<k&&ee[ie]!==0){for(let Pe=ie+1;Pe<k;Pe++)Le[Pe]=0;for(let Pe=ie+1;Pe<k;Pe++)for(let Ve=ie+1;Ve<N;Ve++)Le[Pe]+=ee[Ve]*J.get(Pe,Ve);for(let Pe=ie+1;Pe<N;Pe++){let Ve=-ee[Pe]/ee[ie+1];for(let Ce=ie+1;Ce<k;Ce++)J.set(Ce,Pe,J.get(Ce,Pe)+Ve*Le[Ce])}}if(W)for(let Pe=ie+1;Pe<N;Pe++)We.set(Pe,ie,ee[Pe])}}let st=Math.min(N,k+1);if(vt<N&&(me[vt]=J.get(vt,vt)),k<st&&(me[st-1]=0),bt+1<st&&(ee[bt]=J.get(bt,st-1)),ee[st-1]=0,j){for(let ie=vt;ie<Ee;ie++){for(let Pe=0;Pe<k;Pe++)Te.set(Pe,ie,0);Te.set(ie,ie,1)}for(let ie=vt-1;ie>=0;ie--)if(me[ie]!==0){for(let Pe=ie+1;Pe<Ee;Pe++){let Ve=0;for(let Ce=ie;Ce<k;Ce++)Ve+=Te.get(Ce,ie)*Te.get(Ce,Pe);Ve=-Ve/Te.get(ie,ie);for(let Ce=ie;Ce<k;Ce++)Te.set(Ce,Pe,Te.get(Ce,Pe)+Ve*Te.get(Ce,ie))}for(let Pe=ie;Pe<k;Pe++)Te.set(Pe,ie,-Te.get(Pe,ie));Te.set(ie,ie,1+Te.get(ie,ie));for(let Pe=0;Pe<ie-1;Pe++)Te.set(Pe,ie,0)}else{for(let Pe=0;Pe<k;Pe++)Te.set(Pe,ie,0);Te.set(ie,ie,1)}}if(W)for(let ie=N-1;ie>=0;ie--){if(ie<bt&&ee[ie]!==0)for(let Pe=ie+1;Pe<N;Pe++){let Ve=0;for(let Ce=ie+1;Ce<N;Ce++)Ve+=We.get(Ce,ie)*We.get(Ce,Pe);Ve=-Ve/We.get(ie+1,ie);for(let Ce=ie+1;Ce<N;Ce++)We.set(Ce,Pe,We.get(Ce,Pe)+Ve*We.get(Ce,ie))}for(let Pe=0;Pe<N;Pe++)We.set(Pe,ie,0);We.set(ie,ie,1)}let ut=st-1,tr=Number.EPSILON;for(;st>0;){let ie,Pe;for(ie=st-2;ie>=-1&&ie!==-1;ie--){const Ve=Number.MIN_VALUE+tr*Math.abs(me[ie]+Math.abs(me[ie+1]));if(Math.abs(ee[ie])<=Ve||Number.isNaN(ee[ie])){ee[ie]=0;break}}if(ie===st-2)Pe=4;else{let Ve;for(Ve=st-1;Ve>=ie&&Ve!==ie;Ve--){let Ce=(Ve!==st?Math.abs(ee[Ve]):0)+(Ve!==ie+1?Math.abs(ee[Ve-1]):0);if(Math.abs(me[Ve])<=tr*Ce){me[Ve]=0;break}}Ve===ie?Pe=3:Ve===st-1?Pe=1:(Pe=2,ie=Ve)}switch(ie++,Pe){case 1:{let Ve=ee[st-2];ee[st-2]=0;for(let Ce=st-2;Ce>=ie;Ce--){let br=Oe(me[Ce],Ve),Ut=me[Ce]/br,lr=Ve/br;if(me[Ce]=br,Ce!==ie&&(Ve=-lr*ee[Ce-1],ee[Ce-1]=Ut*ee[Ce-1]),W)for(let wr=0;wr<N;wr++)br=Ut*We.get(wr,Ce)+lr*We.get(wr,st-1),We.set(wr,st-1,-lr*We.get(wr,Ce)+Ut*We.get(wr,st-1)),We.set(wr,Ce,br)}break}case 2:{let Ve=ee[ie-1];ee[ie-1]=0;for(let Ce=ie;Ce<st;Ce++){let br=Oe(me[Ce],Ve),Ut=me[Ce]/br,lr=Ve/br;if(me[Ce]=br,Ve=-lr*ee[Ce],ee[Ce]=Ut*ee[Ce],j)for(let wr=0;wr<k;wr++)br=Ut*Te.get(wr,Ce)+lr*Te.get(wr,ie-1),Te.set(wr,ie-1,-lr*Te.get(wr,Ce)+Ut*Te.get(wr,ie-1)),Te.set(wr,Ce,br)}break}case 3:{const Ve=Math.max(Math.abs(me[st-1]),Math.abs(me[st-2]),Math.abs(ee[st-2]),Math.abs(me[ie]),Math.abs(ee[ie])),Ce=me[st-1]/Ve,br=me[st-2]/Ve,Ut=ee[st-2]/Ve,lr=me[ie]/Ve,wr=ee[ie]/Ve,vn=((br+Ce)*(br-Ce)+Ut*Ut)/2,da=Ce*Ut*(Ce*Ut);let en=0;(vn!==0||da!==0)&&(vn<0?en=0-Math.sqrt(vn*vn+da):en=Math.sqrt(vn*vn+da),en=da/(vn+en));let ja=(lr+Ce)*(lr-Ce)+en,_s=lr*wr;for(let Pt=ie;Pt<st-1;Pt++){let pn=Oe(ja,_s);pn===0&&(pn=Number.MIN_VALUE);let ki=ja/pn,Si=_s/pn;if(Pt!==ie&&(ee[Pt-1]=pn),ja=ki*me[Pt]+Si*ee[Pt],ee[Pt]=ki*ee[Pt]-Si*me[Pt],_s=Si*me[Pt+1],me[Pt+1]=ki*me[Pt+1],W)for(let tn=0;tn<N;tn++)pn=ki*We.get(tn,Pt)+Si*We.get(tn,Pt+1),We.set(tn,Pt+1,-Si*We.get(tn,Pt)+ki*We.get(tn,Pt+1)),We.set(tn,Pt,pn);if(pn=Oe(ja,_s),pn===0&&(pn=Number.MIN_VALUE),ki=ja/pn,Si=_s/pn,me[Pt]=pn,ja=ki*ee[Pt]+Si*me[Pt+1],me[Pt+1]=-Si*ee[Pt]+ki*me[Pt+1],_s=Si*ee[Pt+1],ee[Pt+1]=ki*ee[Pt+1],j&&Pt<k-1)for(let tn=0;tn<k;tn++)pn=ki*Te.get(tn,Pt)+Si*Te.get(tn,Pt+1),Te.set(tn,Pt+1,-Si*Te.get(tn,Pt)+ki*Te.get(tn,Pt+1)),Te.set(tn,Pt,pn)}ee[st-2]=ja;break}case 4:{if(me[ie]<=0&&(me[ie]=me[ie]<0?-me[ie]:0,W))for(let Ve=0;Ve<=ut;Ve++)We.set(Ve,ie,-We.get(Ve,ie));for(;ie<ut&&!(me[ie]>=me[ie+1]);){let Ve=me[ie];if(me[ie]=me[ie+1],me[ie+1]=Ve,W&&ie<N-1)for(let Ce=0;Ce<N;Ce++)Ve=We.get(Ce,ie+1),We.set(Ce,ie+1,We.get(Ce,ie)),We.set(Ce,ie,Ve);if(j&&ie<k-1)for(let Ce=0;Ce<k;Ce++)Ve=Te.get(Ce,ie+1),Te.set(Ce,ie+1,Te.get(Ce,ie)),Te.set(Ce,ie,Ve);ie++}st--;break}}}if(le){let ie=We;We=Te,Te=ie}this.m=k,this.n=N,this.s=me,this.U=Te,this.V=We}solve(T){let M=T,k=this.threshold,N=this.s.length,R=Y.zeros(N,N);for(let Ee=0;Ee<N;Ee++)Math.abs(this.s[Ee])<=k?R.set(Ee,Ee,0):R.set(Ee,Ee,1/this.s[Ee]);let $=this.U,B=this.rightSingularVectors,j=B.mmul(R),W=B.rows,le=$.rows,J=Y.zeros(W,le);for(let Ee=0;Ee<W;Ee++)for(let Ie=0;Ie<le;Ie++){let me=0;for(let Te=0;Te<N;Te++)me+=j.get(Ee,Te)*$.get(Ie,Te);J.set(Ee,Ie,me)}return J.mmul(M)}solveForDiagonal(T){return this.solve(Y.diag(T))}inverse(){let T=this.V,M=this.threshold,k=T.rows,N=T.columns,R=new Y(k,this.s.length);for(let le=0;le<k;le++)for(let J=0;J<N;J++)Math.abs(this.s[J])>M&&R.set(le,J,T.get(le,J)/this.s[J]);let $=this.U,B=$.rows,j=$.columns,W=new Y(k,B);for(let le=0;le<k;le++)for(let J=0;J<B;J++){let Ee=0;for(let Ie=0;Ie<j;Ie++)Ee+=R.get(le,Ie)*$.get(J,Ie);W.set(le,J,Ee)}return W}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let T=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,M=0,k=this.s;for(let N=0,R=k.length;N<R;N++)k[N]>T&&M++;return M}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Y.diag(this.s)}}function he(D,T=!1){return D=q.checkMatrix(D),T?new re(D).inverse():Be(D,Y.eye(D.rows))}function Be(D,T,M=!1){return D=q.checkMatrix(D),T=q.checkMatrix(T),M?new re(D).solve(T):D.isSquare()?new ue(D).solve(T):new be(D).solve(T)}function nt(D){if(D=Y.checkMatrix(D),D.isSquare()){if(D.columns===0)return 1;let T,M,k,N;if(D.columns===2)return T=D.get(0,0),M=D.get(0,1),k=D.get(1,0),N=D.get(1,1),T*N-M*k;if(D.columns===3){let R,$,B;return R=new de(D,[1,2],[1,2]),$=new de(D,[1,2],[0,2]),B=new de(D,[1,2],[0,1]),T=D.get(0,0),M=D.get(0,1),k=D.get(0,2),T*nt(R)-M*nt($)+k*nt(B)}else return new ue(D).determinant}else throw Error("determinant can only be calculated for a square matrix")}function lt(D,T){let M=[];for(let k=0;k<D;k++)k!==T&&M.push(k);return M}function Zt(D,T,M,k=1e-9,N=1e-9){if(D>N)return new Array(T.rows+1).fill(0);{let R=T.addRow(M,[0]);for(let $=0;$<R.rows;$++)Math.abs(R.get($,0))<k&&R.set($,0,0);return R.to1DArray()}}function qt(D,T={}){const{thresholdValue:M=1e-9,thresholdError:k=1e-9}=T;D=Y.checkMatrix(D);let N=D.rows,R=new Y(N,N);for(let $=0;$<N;$++){let B=Y.columnVector(D.getRow($)),j=D.subMatrixRow(lt(N,$)).transpose(),le=new re(j).solve(B),J=Y.sub(B,j.mmul(le)).abs().max();R.setRow($,Zt(J,le,$,M,k))}return R}function On(D,T=Number.EPSILON){if(D=Y.checkMatrix(D),D.isEmpty())return D.transpose();let M=new re(D,{autoTranspose:!0}),k=M.leftSingularVectors,N=M.rightSingularVectors,R=M.diagonal;for(let $=0;$<R.length;$++)Math.abs(R[$])>T?R[$]=1/R[$]:R[$]=0;return N.mmul(Y.diag(R).mmul(k.transpose()))}function Cn(D,T=D,M={}){D=new Y(D);let k=!1;if(typeof T=="object"&&!Y.isMatrix(T)&&!e.isAnyArray(T)?(M=T,T=D,k=!0):T=new Y(T),D.rows!==T.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:N=!0}=M;N&&(D=D.center("column"),k||(T=T.center("column")));const R=D.transpose().mmul(T);for(let $=0;$<R.rows;$++)for(let B=0;B<R.columns;B++)R.set($,B,R.get($,B)*(1/(D.rows-1)));return R}function Rn(D,T=D,M={}){D=new Y(D);let k=!1;if(typeof T=="object"&&!Y.isMatrix(T)&&!e.isAnyArray(T)?(M=T,T=D,k=!0):T=new Y(T),D.rows!==T.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:N=!0,scale:R=!0}=M;N&&(D.center("column"),k||T.center("column")),R&&(D.scale("column"),k||T.scale("column"));const $=D.standardDeviation("column",{unbiased:!0}),B=k?$:T.standardDeviation("column",{unbiased:!0}),j=D.transpose().mmul(T);for(let W=0;W<j.rows;W++)for(let le=0;le<j.columns;le++)j.set(W,le,j.get(W,le)*(1/($[W]*B[le]))*(1/(D.rows-1)));return j}class _i{constructor(T,M={}){const{assumeSymmetric:k=!1}=M;if(T=q.checkMatrix(T),!T.isSquare())throw new Error("Matrix is not a square matrix");if(T.isEmpty())throw new Error("Matrix must be non-empty");let N=T.columns,R=new Y(N,N),$=new Float64Array(N),B=new Float64Array(N),j=T,W,le,J=!1;if(k?J=!0:J=T.isSymmetric(),J){for(W=0;W<N;W++)for(le=0;le<N;le++)R.set(W,le,j.get(W,le));jn(N,B,$,R),ji(N,B,$,R)}else{let Ee=new Y(N,N),Ie=new Float64Array(N);for(le=0;le<N;le++)for(W=0;W<N;W++)Ee.set(W,le,j.get(W,le));kh(N,Ee,Ie,R),Sh(N,B,$,R,Ee)}this.n=N,this.e=B,this.d=$,this.V=R}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let T=this.n,M=this.e,k=this.d,N=new Y(T,T),R,$;for(R=0;R<T;R++){for($=0;$<T;$++)N.set(R,$,0);N.set(R,R,k[R]),M[R]>0?N.set(R,R+1,M[R]):M[R]<0&&N.set(R,R-1,M[R])}return N}}function jn(D,T,M,k){let N,R,$,B,j,W,le,J;for(j=0;j<D;j++)M[j]=k.get(D-1,j);for(B=D-1;B>0;B--){for(J=0,$=0,W=0;W<B;W++)J=J+Math.abs(M[W]);if(J===0)for(T[B]=M[B-1],j=0;j<B;j++)M[j]=k.get(B-1,j),k.set(B,j,0),k.set(j,B,0);else{for(W=0;W<B;W++)M[W]/=J,$+=M[W]*M[W];for(N=M[B-1],R=Math.sqrt($),N>0&&(R=-R),T[B]=J*R,$=$-N*R,M[B-1]=N-R,j=0;j<B;j++)T[j]=0;for(j=0;j<B;j++){for(N=M[j],k.set(j,B,N),R=T[j]+k.get(j,j)*N,W=j+1;W<=B-1;W++)R+=k.get(W,j)*M[W],T[W]+=k.get(W,j)*N;T[j]=R}for(N=0,j=0;j<B;j++)T[j]/=$,N+=T[j]*M[j];for(le=N/($+$),j=0;j<B;j++)T[j]-=le*M[j];for(j=0;j<B;j++){for(N=M[j],R=T[j],W=j;W<=B-1;W++)k.set(W,j,k.get(W,j)-(N*T[W]+R*M[W]));M[j]=k.get(B-1,j),k.set(B,j,0)}}M[B]=$}for(B=0;B<D-1;B++){if(k.set(D-1,B,k.get(B,B)),k.set(B,B,1),$=M[B+1],$!==0){for(W=0;W<=B;W++)M[W]=k.get(W,B+1)/$;for(j=0;j<=B;j++){for(R=0,W=0;W<=B;W++)R+=k.get(W,B+1)*k.get(W,j);for(W=0;W<=B;W++)k.set(W,j,k.get(W,j)-R*M[W])}}for(W=0;W<=B;W++)k.set(W,B+1,0)}for(j=0;j<D;j++)M[j]=k.get(D-1,j),k.set(D-1,j,0);k.set(D-1,D-1,1),T[0]=0}function ji(D,T,M,k){let N,R,$,B,j,W,le,J,Ee,Ie,me,Te,We,ee,Le,Ke;for($=1;$<D;$++)T[$-1]=T[$];T[D-1]=0;let vt=0,bt=0,yr=Number.EPSILON;for(W=0;W<D;W++){for(bt=Math.max(bt,Math.abs(M[W])+Math.abs(T[W])),le=W;le<D&&!(Math.abs(T[le])<=yr*bt);)le++;if(le>W)do{for(N=M[W],J=(M[W+1]-N)/(2*T[W]),Ee=Oe(J,1),J<0&&(Ee=-Ee),M[W]=T[W]/(J+Ee),M[W+1]=T[W]*(J+Ee),Ie=M[W+1],R=N-M[W],$=W+2;$<D;$++)M[$]-=R;for(vt=vt+R,J=M[le],me=1,Te=me,We=me,ee=T[W+1],Le=0,Ke=0,$=le-1;$>=W;$--)for(We=Te,Te=me,Ke=Le,N=me*T[$],R=me*J,Ee=Oe(J,T[$]),T[$+1]=Le*Ee,Le=T[$]/Ee,me=J/Ee,J=me*M[$]-Le*N,M[$+1]=R+Le*(me*N+Le*M[$]),j=0;j<D;j++)R=k.get(j,$+1),k.set(j,$+1,Le*k.get(j,$)+me*R),k.set(j,$,me*k.get(j,$)-Le*R);J=-Le*Ke*We*ee*T[W]/Ie,T[W]=Le*J,M[W]=me*J}while(Math.abs(T[W])>yr*bt);M[W]=M[W]+vt,T[W]=0}for($=0;$<D-1;$++){for(j=$,J=M[$],B=$+1;B<D;B++)M[B]<J&&(j=B,J=M[B]);if(j!==$)for(M[j]=M[$],M[$]=J,B=0;B<D;B++)J=k.get(B,$),k.set(B,$,k.get(B,j)),k.set(B,j,J)}}function kh(D,T,M,k){let N=0,R=D-1,$,B,j,W,le,J,Ee;for(J=N+1;J<=R-1;J++){for(Ee=0,W=J;W<=R;W++)Ee=Ee+Math.abs(T.get(W,J-1));if(Ee!==0){for(j=0,W=R;W>=J;W--)M[W]=T.get(W,J-1)/Ee,j+=M[W]*M[W];for(B=Math.sqrt(j),M[J]>0&&(B=-B),j=j-M[J]*B,M[J]=M[J]-B,le=J;le<D;le++){for($=0,W=R;W>=J;W--)$+=M[W]*T.get(W,le);for($=$/j,W=J;W<=R;W++)T.set(W,le,T.get(W,le)-$*M[W])}for(W=0;W<=R;W++){for($=0,le=R;le>=J;le--)$+=M[le]*T.get(W,le);for($=$/j,le=J;le<=R;le++)T.set(W,le,T.get(W,le)-$*M[le])}M[J]=Ee*M[J],T.set(J,J-1,Ee*B)}}for(W=0;W<D;W++)for(le=0;le<D;le++)k.set(W,le,W===le?1:0);for(J=R-1;J>=N+1;J--)if(T.get(J,J-1)!==0){for(W=J+1;W<=R;W++)M[W]=T.get(W,J-1);for(le=J;le<=R;le++){for(B=0,W=J;W<=R;W++)B+=M[W]*k.get(W,le);for(B=B/M[J]/T.get(J,J-1),W=J;W<=R;W++)k.set(W,le,k.get(W,le)+B*M[W])}}}function Sh(D,T,M,k,N){let R=D-1,$=0,B=D-1,j=Number.EPSILON,W=0,le=0,J=0,Ee=0,Ie=0,me=0,Te=0,We=0,ee,Le,Ke,vt,bt,yr,st,ut,tr,ie,Pe,Ve,Ce,br,Ut;for(ee=0;ee<D;ee++)for((ee<$||ee>B)&&(M[ee]=N.get(ee,ee),T[ee]=0),Le=Math.max(ee-1,0);Le<D;Le++)le=le+Math.abs(N.get(ee,Le));for(;R>=$;){for(vt=R;vt>$&&(me=Math.abs(N.get(vt-1,vt-1))+Math.abs(N.get(vt,vt)),me===0&&(me=le),!(Math.abs(N.get(vt,vt-1))<j*me));)vt--;if(vt===R)N.set(R,R,N.get(R,R)+W),M[R]=N.get(R,R),T[R]=0,R--,We=0;else if(vt===R-1){if(st=N.get(R,R-1)*N.get(R-1,R),J=(N.get(R-1,R-1)-N.get(R,R))/2,Ee=J*J+st,Te=Math.sqrt(Math.abs(Ee)),N.set(R,R,N.get(R,R)+W),N.set(R-1,R-1,N.get(R-1,R-1)+W),ut=N.get(R,R),Ee>=0){for(Te=J>=0?J+Te:J-Te,M[R-1]=ut+Te,M[R]=M[R-1],Te!==0&&(M[R]=ut-st/Te),T[R-1]=0,T[R]=0,ut=N.get(R,R-1),me=Math.abs(ut)+Math.abs(Te),J=ut/me,Ee=Te/me,Ie=Math.sqrt(J*J+Ee*Ee),J=J/Ie,Ee=Ee/Ie,Le=R-1;Le<D;Le++)Te=N.get(R-1,Le),N.set(R-1,Le,Ee*Te+J*N.get(R,Le)),N.set(R,Le,Ee*N.get(R,Le)-J*Te);for(ee=0;ee<=R;ee++)Te=N.get(ee,R-1),N.set(ee,R-1,Ee*Te+J*N.get(ee,R)),N.set(ee,R,Ee*N.get(ee,R)-J*Te);for(ee=$;ee<=B;ee++)Te=k.get(ee,R-1),k.set(ee,R-1,Ee*Te+J*k.get(ee,R)),k.set(ee,R,Ee*k.get(ee,R)-J*Te)}else M[R-1]=ut+J,M[R]=ut+J,T[R-1]=Te,T[R]=-Te;R=R-2,We=0}else{if(ut=N.get(R,R),tr=0,st=0,vt<R&&(tr=N.get(R-1,R-1),st=N.get(R,R-1)*N.get(R-1,R)),We===10){for(W+=ut,ee=$;ee<=R;ee++)N.set(ee,ee,N.get(ee,ee)-ut);me=Math.abs(N.get(R,R-1))+Math.abs(N.get(R-1,R-2)),ut=tr=.75*me,st=-.4375*me*me}if(We===30&&(me=(tr-ut)/2,me=me*me+st,me>0)){for(me=Math.sqrt(me),tr<ut&&(me=-me),me=ut-st/((tr-ut)/2+me),ee=$;ee<=R;ee++)N.set(ee,ee,N.get(ee,ee)-me);W+=me,ut=tr=st=.964}for(We=We+1,bt=R-2;bt>=vt&&(Te=N.get(bt,bt),Ie=ut-Te,me=tr-Te,J=(Ie*me-st)/N.get(bt+1,bt)+N.get(bt,bt+1),Ee=N.get(bt+1,bt+1)-Te-Ie-me,Ie=N.get(bt+2,bt+1),me=Math.abs(J)+Math.abs(Ee)+Math.abs(Ie),J=J/me,Ee=Ee/me,Ie=Ie/me,!(bt===vt||Math.abs(N.get(bt,bt-1))*(Math.abs(Ee)+Math.abs(Ie))<j*(Math.abs(J)*(Math.abs(N.get(bt-1,bt-1))+Math.abs(Te)+Math.abs(N.get(bt+1,bt+1))))));)bt--;for(ee=bt+2;ee<=R;ee++)N.set(ee,ee-2,0),ee>bt+2&&N.set(ee,ee-3,0);for(Ke=bt;Ke<=R-1&&(br=Ke!==R-1,Ke!==bt&&(J=N.get(Ke,Ke-1),Ee=N.get(Ke+1,Ke-1),Ie=br?N.get(Ke+2,Ke-1):0,ut=Math.abs(J)+Math.abs(Ee)+Math.abs(Ie),ut!==0&&(J=J/ut,Ee=Ee/ut,Ie=Ie/ut)),ut!==0);Ke++)if(me=Math.sqrt(J*J+Ee*Ee+Ie*Ie),J<0&&(me=-me),me!==0){for(Ke!==bt?N.set(Ke,Ke-1,-me*ut):vt!==bt&&N.set(Ke,Ke-1,-N.get(Ke,Ke-1)),J=J+me,ut=J/me,tr=Ee/me,Te=Ie/me,Ee=Ee/J,Ie=Ie/J,Le=Ke;Le<D;Le++)J=N.get(Ke,Le)+Ee*N.get(Ke+1,Le),br&&(J=J+Ie*N.get(Ke+2,Le),N.set(Ke+2,Le,N.get(Ke+2,Le)-J*Te)),N.set(Ke,Le,N.get(Ke,Le)-J*ut),N.set(Ke+1,Le,N.get(Ke+1,Le)-J*tr);for(ee=0;ee<=Math.min(R,Ke+3);ee++)J=ut*N.get(ee,Ke)+tr*N.get(ee,Ke+1),br&&(J=J+Te*N.get(ee,Ke+2),N.set(ee,Ke+2,N.get(ee,Ke+2)-J*Ie)),N.set(ee,Ke,N.get(ee,Ke)-J),N.set(ee,Ke+1,N.get(ee,Ke+1)-J*Ee);for(ee=$;ee<=B;ee++)J=ut*k.get(ee,Ke)+tr*k.get(ee,Ke+1),br&&(J=J+Te*k.get(ee,Ke+2),k.set(ee,Ke+2,k.get(ee,Ke+2)-J*Ie)),k.set(ee,Ke,k.get(ee,Ke)-J),k.set(ee,Ke+1,k.get(ee,Ke+1)-J*Ee)}}}if(le!==0){for(R=D-1;R>=0;R--)if(J=M[R],Ee=T[R],Ee===0)for(vt=R,N.set(R,R,1),ee=R-1;ee>=0;ee--){for(st=N.get(ee,ee)-J,Ie=0,Le=vt;Le<=R;Le++)Ie=Ie+N.get(ee,Le)*N.get(Le,R);if(T[ee]<0)Te=st,me=Ie;else if(vt=ee,T[ee]===0?N.set(ee,R,st!==0?-Ie/st:-Ie/(j*le)):(ut=N.get(ee,ee+1),tr=N.get(ee+1,ee),Ee=(M[ee]-J)*(M[ee]-J)+T[ee]*T[ee],yr=(ut*me-Te*Ie)/Ee,N.set(ee,R,yr),N.set(ee+1,R,Math.abs(ut)>Math.abs(Te)?(-Ie-st*yr)/ut:(-me-tr*yr)/Te)),yr=Math.abs(N.get(ee,R)),j*yr*yr>1)for(Le=ee;Le<=R;Le++)N.set(Le,R,N.get(Le,R)/yr)}else if(Ee<0)for(vt=R-1,Math.abs(N.get(R,R-1))>Math.abs(N.get(R-1,R))?(N.set(R-1,R-1,Ee/N.get(R,R-1)),N.set(R-1,R,-(N.get(R,R)-J)/N.get(R,R-1))):(Ut=Th(0,-N.get(R-1,R),N.get(R-1,R-1)-J,Ee),N.set(R-1,R-1,Ut[0]),N.set(R-1,R,Ut[1])),N.set(R,R-1,0),N.set(R,R,1),ee=R-2;ee>=0;ee--){for(ie=0,Pe=0,Le=vt;Le<=R;Le++)ie=ie+N.get(ee,Le)*N.get(Le,R-1),Pe=Pe+N.get(ee,Le)*N.get(Le,R);if(st=N.get(ee,ee)-J,T[ee]<0)Te=st,Ie=ie,me=Pe;else if(vt=ee,T[ee]===0?(Ut=Th(-ie,-Pe,st,Ee),N.set(ee,R-1,Ut[0]),N.set(ee,R,Ut[1])):(ut=N.get(ee,ee+1),tr=N.get(ee+1,ee),Ve=(M[ee]-J)*(M[ee]-J)+T[ee]*T[ee]-Ee*Ee,Ce=(M[ee]-J)*2*Ee,Ve===0&&Ce===0&&(Ve=j*le*(Math.abs(st)+Math.abs(Ee)+Math.abs(ut)+Math.abs(tr)+Math.abs(Te))),Ut=Th(ut*Ie-Te*ie+Ee*Pe,ut*me-Te*Pe-Ee*ie,Ve,Ce),N.set(ee,R-1,Ut[0]),N.set(ee,R,Ut[1]),Math.abs(ut)>Math.abs(Te)+Math.abs(Ee)?(N.set(ee+1,R-1,(-ie-st*N.get(ee,R-1)+Ee*N.get(ee,R))/ut),N.set(ee+1,R,(-Pe-st*N.get(ee,R)-Ee*N.get(ee,R-1))/ut)):(Ut=Th(-Ie-tr*N.get(ee,R-1),-me-tr*N.get(ee,R),Te,Ee),N.set(ee+1,R-1,Ut[0]),N.set(ee+1,R,Ut[1]))),yr=Math.max(Math.abs(N.get(ee,R-1)),Math.abs(N.get(ee,R))),j*yr*yr>1)for(Le=ee;Le<=R;Le++)N.set(Le,R-1,N.get(Le,R-1)/yr),N.set(Le,R,N.get(Le,R)/yr)}for(ee=0;ee<D;ee++)if(ee<$||ee>B)for(Le=ee;Le<D;Le++)k.set(ee,Le,N.get(ee,Le));for(Le=D-1;Le>=$;Le--)for(ee=$;ee<=B;ee++){for(Te=0,Ke=$;Ke<=Math.min(Le,B);Ke++)Te=Te+k.get(ee,Ke)*N.get(Ke,Le);k.set(ee,Le,Te)}}}function Th(D,T,M,k){let N,R;return Math.abs(M)>Math.abs(k)?(N=k/M,R=M+N*k,[(D+N*T)/R,(T-N*D)/R]):(N=M/k,R=k+N*M,[(N*D+T)/R,(N*T-D)/R])}class GS{constructor(T){if(T=q.checkMatrix(T),!T.isSymmetric())throw new Error("Matrix is not symmetric");let M=T,k=M.rows,N=new Y(k,k),R=!0,$,B,j;for(B=0;B<k;B++){let W=0;for(j=0;j<B;j++){let le=0;for($=0;$<j;$++)le+=N.get(j,$)*N.get(B,$);le=(M.get(B,j)-le)/N.get(j,j),N.set(B,j,le),W=W+le*le}for(W=M.get(B,B)-W,R&&=W>0,N.set(B,B,Math.sqrt(Math.max(W,0))),j=B+1;j<k;j++)N.set(B,j,0)}this.L=N,this.positiveDefinite=R}isPositiveDefinite(){return this.positiveDefinite}solve(T){T=q.checkMatrix(T);let M=this.L,k=M.rows;if(T.rows!==k)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let N=T.columns,R=T.clone(),$,B,j;for(j=0;j<k;j++)for(B=0;B<N;B++){for($=0;$<j;$++)R.set(j,B,R.get(j,B)-R.get($,B)*M.get(j,$));R.set(j,B,R.get(j,B)/M.get(j,j))}for(j=k-1;j>=0;j--)for(B=0;B<N;B++){for($=j+1;$<k;$++)R.set(j,B,R.get(j,B)-R.get($,B)*M.get($,j));R.set(j,B,R.get(j,B)/M.get(j,j))}return R}get lowerTriangularMatrix(){return this.L}}class qS{constructor(T,M={}){T=q.checkMatrix(T);let{Y:k}=M;const{scaleScores:N=!1,maxIterations:R=1e3,terminationCriteria:$=1e-10}=M;let B;if(k){if(e.isAnyArray(k)&&typeof k[0]=="number"?k=Y.columnVector(k):k=q.checkMatrix(k),k.rows!==T.rows)throw new Error("Y should have the same number of rows as X");B=k.getColumnVector(0)}else B=T.getColumnVector(0);let j=1,W,le,J,Ee;for(let Ie=0;Ie<R&&j>$;Ie++)J=T.transpose().mmul(B).div(B.transpose().mmul(B).get(0,0)),J=J.div(J.norm()),W=T.mmul(J).div(J.transpose().mmul(J).get(0,0)),Ie>0&&(j=W.clone().sub(Ee).pow(2).sum()),Ee=W.clone(),k?(le=k.transpose().mmul(W).div(W.transpose().mmul(W).get(0,0)),le=le.div(le.norm()),B=k.mmul(le).div(le.transpose().mmul(le).get(0,0))):B=W;if(k){let Ie=T.transpose().mmul(W).div(W.transpose().mmul(W).get(0,0));Ie=Ie.div(Ie.norm());let me=T.clone().sub(W.clone().mmul(Ie.transpose())),Te=B.transpose().mmul(W).div(W.transpose().mmul(W).get(0,0)),We=k.clone().sub(W.clone().mulS(Te.get(0,0)).mmul(le.transpose()));this.t=W,this.p=Ie.transpose(),this.w=J.transpose(),this.q=le,this.u=B,this.s=W.transpose().mmul(W),this.xResidual=me,this.yResidual=We,this.betas=Te}else this.w=J.transpose(),this.s=W.transpose().mmul(W).sqrt(),N?this.t=W.clone().div(this.s.get(0,0)):this.t=W,this.xResidual=T.sub(W.mmul(J.transpose()))}}return Tt.AbstractMatrix=ve,Tt.CHO=GS,Tt.CholeskyDecomposition=GS,Tt.DistanceMatrix=Q,Tt.EVD=_i,Tt.EigenvalueDecomposition=_i,Tt.LU=ue,Tt.LuDecomposition=ue,Tt.Matrix=Y,Tt.MatrixColumnSelectionView=we,Tt.MatrixColumnView=ye,Tt.MatrixFlipColumnView=Ae,Tt.MatrixFlipRowView=H,Tt.MatrixRowSelectionView=ce,Tt.MatrixRowView=K,Tt.MatrixSelectionView=de,Tt.MatrixSubView=_e,Tt.MatrixTransposeView=pe,Tt.NIPALS=qS,Tt.Nipals=qS,Tt.QR=be,Tt.QrDecomposition=be,Tt.SVD=re,Tt.SingularValueDecomposition=re,Tt.SymmetricMatrix=fe,Tt.WrapperMatrix1D=V,Tt.WrapperMatrix2D=q,Tt.correlation=Rn,Tt.covariance=Cn,Tt.default=Y,Tt.determinant=nt,Tt.inverse=he,Tt.linearDependencies=qt,Tt.pseudoInverse=On,Tt.solve=Be,Tt.wrap=ne,Tt}var pg=Ede();const tO=Vp(pg),To=pg.Matrix,qz=pg.SingularValueDecomposition;tO.Matrix?tO.Matrix:pg.Matrix;const _de={center:[0,0],linkDistance:50};class kde{constructor(t={}){this.options=t,this.id="mds",this.options=Object.assign(Object.assign({},_de),t)}execute(t,r){return _t(this,void 0,void 0,function*(){return this.genericMDSLayout(!1,t,r)})}assign(t,r){return _t(this,void 0,void 0,function*(){yield this.genericMDSLayout(!0,t,r)})}genericMDSLayout(t,r,n){return _t(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{center:a=[0,0],linkDistance:s=50}=i,o=r.getAllNodes(),l=r.getAllEdges();if(!o?.length||o.length===1)return Ul(r,t,a);const u=$z({nodes:o,edges:l}),c=Fz(u);Sde(c);const f=phe(c,s),h=Tde(f),d=[];return h.forEach((p,g)=>{const m=Di(o[g]);m.data.x=p[0]+a[0],m.data.y=p[1]+a[1],d.push(m)}),t&&d.forEach(p=>r.mergeNodeData(p.id,{x:p.data.x,y:p.data.y})),{nodes:d,edges:l}})}}const Sde=e=>{let t=-999999;e.forEach(r=>{r.forEach(n=>{n!==1/0&&t<n&&(t=n)})}),e.forEach((r,n)=>{r.forEach((i,a)=>{i===1/0&&(e[n][a]=t)})})},Tde=e=>{const r=To.mul(To.pow(e,2),-.5),n=r.mean("row"),i=r.mean("column"),a=r.mean();r.add(a).subRowVector(n).subColumnVector(i);const s=new qz(r),o=To.sqrt(s.diagonalMatrix).diagonal();return s.leftSingularVectors.toJSON().map(l=>To.mul([l],[o]).toJSON()[0].splice(0,2))};function Mde(e){return!!e.tick&&!!e.stop}const Nde={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},Ade={center:[0,0],comboPadding:10,treeKey:"combo"};class Rxe{constructor(t={}){this.options=t,this.id="comboCombined",this.options=Object.assign(Object.assign({},Ade),t)}execute(t,r){return _t(this,void 0,void 0,function*(){return this.genericComboCombinedLayout(!1,t,r)})}assign(t,r){return _t(this,void 0,void 0,function*(){yield this.genericComboCombinedLayout(!0,t,r)})}genericComboCombinedLayout(t,r,n){return _t(this,void 0,void 0,function*(){const i=this.initVals(Object.assign(Object.assign({},this.options),n)),{center:a,treeKey:s,outerLayout:o}=i,l=r.getAllNodes().filter(S=>!S.data._isCombo),u=r.getAllNodes().filter(S=>S.data._isCombo),c=r.getAllEdges(),f=l?.length;if(!f||f===1)return Ul(r,t,a);const h=[],d=new Map;l.forEach(S=>{d.set(S.id,S)});const v=new Map;u.forEach(S=>{v.set(S.id,S)});const p=new Map,g=this.getInnerGraphs(r,s,d,v,c,i,p);yield Promise.all(g);const m=new Map,y=[],b=new Map;let _=!0;r.getRoots(s).forEach(S=>{const A=p.get(S.id),P=v.get(S.id)||d.get(S.id),O={id:S.id,data:Object.assign(Object.assign({},S.data),{x:A.data.x||P.data.x,y:A.data.y||P.data.y,fx:A.data.fx||P.data.fx,fy:A.data.fy||P.data.fy,mass:A.data.mass||P.data.mass,size:A.data.size})};y.push(O),m.set(S.id,!0),!isNaN(O.data.x)&&O.data.x!==0&&!isNaN(O.data.y)&&O.data.y!==0?_=!1:(O.data.x=Math.random()*100,O.data.y=Math.random()*100),A2(r,[S],C=>{C.id!==S.id&&b.set(C.id,S.id)},"TB",s)});const x=[];c.forEach(S=>{const A=b.get(S.source)||S.source,P=b.get(S.target)||S.target;A!==P&&m.has(A)&&m.has(P)&&x.push({id:S.id,source:A,target:P,data:{}})});let E;if(y?.length){if(y.length===1)y[0].data.x=a[0],y[0].data.y=a[1];else{const S=new dn({nodes:y,edges:x}),A=o||new fde;_&&Nde[A.id]&&(yield(y.length<100?new kde:new XP).assign(S));const P=Object.assign({center:a,kg:5,preventOverlap:!0,animate:!1},A.id==="force"?{gravity:1,factor:4,linkDistance:(O,C,L)=>{const I=Math.max(...C.data.size)||32,F=Math.max(...L.data.size)||32;return I/2+F/2+200}}:{});E=yield rO(A,S,P)}p.forEach(S=>{var A;const P=E.nodes.find(L=>L.id===S.id);if(P){const{x:L,y:I}=P.data;S.data.visited=!0,S.data.x=L,S.data.y=I,h.push({id:S.id,data:{x:L,y:I}})}const{x:O,y:C}=S.data;(A=S.data.nodes)===null||A===void 0||A.forEach(L=>{h.push({id:L.id,data:{x:L.data.x+O,y:L.data.y+C}})})}),p.forEach(({data:S})=>{const{x:A,y:P,visited:O,nodes:C}=S;C?.forEach(L=>{if(!O){const I=h.find(F=>F.id===L.id);I.data.x+=A||0,I.data.y+=P||0}})})}return t&&h.forEach(S=>{r.mergeNodeData(S.id,{x:S.data.x,y:S.data.y})}),{nodes:h,edges:c}})}initVals(t){const r=Object.assign({},t),{nodeSize:n,spacing:i,comboPadding:a}=t;let s,o;if(rt(i)?o=()=>i:Gt(i)?o=i:o=()=>0,r.spacing=o,!n)s=u=>{const c=o(u);return u.size?Ds(u.size)?((u.size[0]>u.size[1]?u.size[0]:u.size[1])+c)/2:gs(u.size)?((u.size.width>u.size.height?u.size.width:u.size.height)+c)/2:(u.size+c)/2:32+c/2};else if(Gt(n))s=u=>{const c=n(u),f=o(u);return Ds(u.size)?((u.size[0]>u.size[1]?u.size[0]:u.size[1])+f)/2:((c||32)+f)/2};else if(Ds(n)){const c=(n[0]>n[1]?n[0]:n[1])/2;s=f=>c+o(f)/2}else{const u=n/2;s=c=>u+o(c)/2}r.nodeSize=s;let l;return rt(a)?l=()=>a:Ds(a)?l=()=>Math.max.apply(null,a):Gt(a)?l=a:l=()=>0,r.comboPadding=l,r}getInnerGraphs(t,r,n,i,a,s,o){const{nodeSize:l,comboPadding:u,spacing:c,innerLayout:f}=s,h=f||new XP({}),d={center:[0,0],preventOverlap:!0,nodeSpacing:c},v=[],p=g=>{let m=u?.(g)||10;return Ds(m)&&(m=Math.max(...m)),{size:m?[m*2,m*2]:[30,30],padding:m}};return t.getRoots(r).forEach(g=>{o.set(g.id,{id:g.id,data:{nodes:[],size:p(g).size}});let m=Promise.resolve();A2(t,[g],y=>{var b;if(!y.data._isCombo)return;const{size:_,padding:x}=p(y);if(!(!((b=t.getChildren(y.id,r))===null||b===void 0)&&b.length))o.set(y.id,{id:y.id,data:Object.assign(Object.assign({},y.data),{size:_})});else{const E=o.get(y.id);o.set(y.id,{id:y.id,data:Object.assign({nodes:[]},E?.data)});const w=new Map,S=t.getChildren(y.id,r).map(O=>{if(O.data._isCombo)return o.has(O.id)||o.set(O.id,{id:O.id,data:Object.assign({},O.data)}),w.set(O.id,!0),o.get(O.id);const C=n.get(O.id)||i.get(O.id);return w.set(O.id,!0),{id:O.id,data:Object.assign(Object.assign({},C.data),O.data)}}),A={nodes:S,edges:a.filter(O=>w.has(O.source)&&w.has(O.target))};let P=1/0;S.forEach(O=>{var C;let{size:L}=O.data;L||(L=((C=o.get(O.id))===null||C===void 0?void 0:C.data.size)||l?.(O)||[30,30]),rt(L)&&(L=[L,L]);const[I,F]=L;P>I&&(P=I),P>F&&(P=F),O.data.size=L}),m=m.then(()=>_t(this,void 0,void 0,function*(){const O=new dn(A);yield rO(h,O,d,!0);const{minX:C,minY:L,maxX:I,maxY:F}=ghe(S),U={x:(I+C)/2,y:(F+L)/2};A.nodes.forEach(z=>{z.data.x-=U.x,z.data.y-=U.y});const G=[Math.max(I-C,P)+x*2,Math.max(F-L,P)+x*2];o.get(y.id).data.size=G,o.get(y.id).data.nodes=S}))}return!0},"BT",r),v.push(m)}),v}}function rO(e,t,r,n){var i;return _t(this,void 0,void 0,function*(){return Mde(e)?(e.execute(t,r),e.stop(),e.tick((i=r.iterations)!==null&&i!==void 0?i:300)):n?yield e.assign(t,r):yield e.execute(t,r)})}function Pde(e,t){var r,n=1;e==null&&(e=0),t==null&&(t=0);function i(){var a,s=r.length,o,l=0,u=0;for(a=0;a<s;++a)o=r[a],l+=o.x,u+=o.y;for(l=(l/s-e)*n,u=(u/s-t)*n,a=0;a<s;++a)o=r[a],o.x-=l,o.y-=u}return i.initialize=function(a){r=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(n=+a,i):n},i}function sn(e){return function(){return e}}function Mo(e){return(e()-.5)*1e-6}function Ode(e){return e.x+e.vx}function Cde(e){return e.y+e.vy}function Rde(e){var t,r,n,i=1,a=1;typeof e!="function"&&(e=sn(e==null?1:+e));function s(){for(var u,c=t.length,f,h,d,v,p,g,m=0;m<a;++m)for(f=vg(t,Ode,Cde).visitAfter(o),u=0;u<c;++u)h=t[u],p=r[h.index],g=p*p,d=h.x+h.vx,v=h.y+h.vy,f.visit(y);function y(b,_,x,E,w){var S=b.data,A=b.r,P=p+A;if(S){if(S.index>h.index){var O=d-S.x-S.vx,C=v-S.y-S.vy,L=O*O+C*C;L<P*P&&(O===0&&(O=Mo(n),L+=O*O),C===0&&(C=Mo(n),L+=C*C),L=(P-(L=Math.sqrt(L)))/L*i,h.vx+=(O*=L)*(P=(A*=A)/(g+A)),h.vy+=(C*=L)*P,S.vx-=O*(P=1-P),S.vy-=C*P)}return}return _>d+P||E<d-P||x>v+P||w<v-P}}function o(u){if(u.data)return u.r=r[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,f;for(r=new Array(c),u=0;u<c;++u)f=t[u],r[f.index]=+e(f,u,t)}}return s.initialize=function(u,c){t=u,n=c,l()},s.iterations=function(u){return arguments.length?(a=+u,s):a},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:sn(+u),l(),s):e},s}function Lde(e){return e.index}function nO(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function Ide(e){var t=Lde,r=f,n,i=sn(30),a,s,o,l,u,c=1;e==null&&(e=[]);function f(g){return 1/Math.min(o[g.source.index],o[g.target.index])}function h(g){for(var m=0,y=e.length;m<c;++m)for(var b=0,_,x,E,w,S,A,P;b<y;++b)_=e[b],x=_.source,E=_.target,w=E.x+E.vx-x.x-x.vx||Mo(u),S=E.y+E.vy-x.y-x.vy||Mo(u),A=Math.sqrt(w*w+S*S),A=(A-a[b])/A*g*n[b],w*=A,S*=A,E.vx-=w*(P=l[b]),E.vy-=S*P,x.vx+=w*(P=1-P),x.vy+=S*P}function d(){if(s){var g,m=s.length,y=e.length,b=new Map(s.map((x,E)=>[t(x,E,s),x])),_;for(g=0,o=new Array(m);g<y;++g)_=e[g],_.index=g,typeof _.source!="object"&&(_.source=nO(b,_.source)),typeof _.target!="object"&&(_.target=nO(b,_.target)),o[_.source.index]=(o[_.source.index]||0)+1,o[_.target.index]=(o[_.target.index]||0)+1;for(g=0,l=new Array(y);g<y;++g)_=e[g],l[g]=o[_.source.index]/(o[_.source.index]+o[_.target.index]);n=new Array(y),v(),a=new Array(y),p()}}function v(){if(s)for(var g=0,m=e.length;g<m;++g)n[g]=+r(e[g],g,e)}function p(){if(s)for(var g=0,m=e.length;g<m;++g)a[g]=+i(e[g],g,e)}return h.initialize=function(g,m){s=g,u=m,d()},h.links=function(g){return arguments.length?(e=g,d(),h):e},h.id=function(g){return arguments.length?(t=g,h):t},h.iterations=function(g){return arguments.length?(c=+g,h):c},h.strength=function(g){return arguments.length?(r=typeof g=="function"?g:sn(+g),v(),h):r},h.distance=function(g){return arguments.length?(i=typeof g=="function"?g:sn(+g),p(),h):i},h}var Dde={value:()=>{}};function jz(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new sv(r)}function sv(e){this._=e}function Fde(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}sv.prototype=jz.prototype={constructor:sv,on:function(e,t){var r=this._,n=Fde(e+"",r),i,a=-1,s=n.length;if(arguments.length<2){for(;++a<s;)if((i=(e=n[a]).type)&&(i=$de(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=n[a]).type)r[i]=iO(r[i],e.name,t);else if(t==null)for(i in r)r[i]=iO(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new sv(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};function $de(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function iO(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Dde,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var ec=0,jc=0,Rc=0,Wz=1e3,sp,Wc,op=0,Gl=0,gg=0,Xf=typeof performance=="object"&&performance.now?performance:Date,Vz=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Uz(){return Gl||(Vz(Bde),Gl=Xf.now()+gg)}function Bde(){Gl=0}function O2(){this._call=this._time=this._next=null}O2.prototype=Hz.prototype={constructor:O2,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Uz():+r)+(t==null?0:+t),!this._next&&Wc!==this&&(Wc?Wc._next=this:sp=this,Wc=this),this._call=e,this._time=r,C2()},stop:function(){this._call&&(this._call=null,this._time=1/0,C2())}};function Hz(e,t,r){var n=new O2;return n.restart(e,t,r),n}function zde(){Uz(),++ec;for(var e=sp,t;e;)(t=Gl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ec}function aO(){Gl=(op=Xf.now())+gg,ec=jc=0;try{zde()}finally{ec=0,qde(),Gl=0}}function Gde(){var e=Xf.now(),t=e-op;t>Wz&&(gg-=t,op=e)}function qde(){for(var e,t=sp,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:sp=r);Wc=e,C2(n)}function C2(e){if(!ec){jc&&(jc=clearTimeout(jc));var t=e-Gl;t>24?(e<1/0&&(jc=setTimeout(aO,e-Xf.now()-gg)),Rc&&(Rc=clearInterval(Rc))):(Rc||(op=Xf.now(),Rc=setInterval(Gde,Wz)),ec=1,Vz(aO))}}const jde=1664525,Wde=1013904223,sO=4294967296;function Vde(){let e=1;return()=>(e=(jde*e+Wde)%sO)/sO}function Ude(e){return e.x}function Hde(e){return e.y}var Yde=10,Xde=Math.PI*(3-Math.sqrt(5));function Kde(e){var t,r=1,n=.001,i=1-Math.pow(n,1/300),a=0,s=.6,o=new Map,l=Hz(f),u=jz("tick","end"),c=Vde();e==null&&(e=[]);function f(){h(),u.call("tick",t),r<n&&(l.stop(),u.call("end",t))}function h(p){var g,m=e.length,y;p===void 0&&(p=1);for(var b=0;b<p;++b)for(r+=(a-r)*i,o.forEach(function(_){_(r)}),g=0;g<m;++g)y=e[g],y.fx==null?y.x+=y.vx*=s:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=s:(y.y=y.fy,y.vy=0);return t}function d(){for(var p=0,g=e.length,m;p<g;++p){if(m=e[p],m.index=p,m.fx!=null&&(m.x=m.fx),m.fy!=null&&(m.y=m.fy),isNaN(m.x)||isNaN(m.y)){var y=Yde*Math.sqrt(.5+p),b=p*Xde;m.x=y*Math.cos(b),m.y=y*Math.sin(b)}(isNaN(m.vx)||isNaN(m.vy))&&(m.vx=m.vy=0)}}function v(p){return p.initialize&&p.initialize(e,c),p}return d(),t={tick:h,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(p){return arguments.length?(e=p,d(),o.forEach(v),t):e},alpha:function(p){return arguments.length?(r=+p,t):r},alphaMin:function(p){return arguments.length?(n=+p,t):n},alphaDecay:function(p){return arguments.length?(i=+p,t):+i},alphaTarget:function(p){return arguments.length?(a=+p,t):a},velocityDecay:function(p){return arguments.length?(s=1-p,t):1-s},randomSource:function(p){return arguments.length?(c=p,o.forEach(v),t):c},force:function(p,g){return arguments.length>1?(g==null?o.delete(p):o.set(p,v(g)),t):o.get(p)},find:function(p,g,m){var y=0,b=e.length,_,x,E,w,S;for(m==null?m=1/0:m*=m,y=0;y<b;++y)w=e[y],_=p-w.x,x=g-w.y,E=_*_+x*x,E<m&&(S=w,m=E);return S},on:function(p,g){return arguments.length>1?(u.on(p,g),t):u.on(p)}}}function Zde(){var e,t,r,n,i=sn(-30),a,s=1,o=1/0,l=.81;function u(d){var v,p=e.length,g=vg(e,Ude,Hde).visitAfter(f);for(n=d,v=0;v<p;++v)t=e[v],g.visit(h)}function c(){if(e){var d,v=e.length,p;for(a=new Array(v),d=0;d<v;++d)p=e[d],a[p.index]=+i(p,d,e)}}function f(d){var v=0,p,g,m=0,y,b,_;if(d.length){for(y=b=_=0;_<4;++_)(p=d[_])&&(g=Math.abs(p.value))&&(v+=p.value,m+=g,y+=g*p.x,b+=g*p.y);d.x=y/m,d.y=b/m}else{p=d,p.x=p.data.x,p.y=p.data.y;do v+=a[p.data.index];while(p=p.next)}d.value=v}function h(d,v,p,g){if(!d.value)return!0;var m=d.x-t.x,y=d.y-t.y,b=g-v,_=m*m+y*y;if(b*b/l<_)return _<o&&(m===0&&(m=Mo(r),_+=m*m),y===0&&(y=Mo(r),_+=y*y),_<s&&(_=Math.sqrt(s*_)),t.vx+=m*d.value*n/_,t.vy+=y*d.value*n/_),!0;if(d.length||_>=o)return;(d.data!==t||d.next)&&(m===0&&(m=Mo(r),_+=m*m),y===0&&(y=Mo(r),_+=y*y),_<s&&(_=Math.sqrt(s*_)));do d.data!==t&&(b=a[d.data.index]*n/_,t.vx+=m*b,t.vy+=y*b);while(d=d.next)}return u.initialize=function(d,v){e=d,r=v,c()},u.strength=function(d){return arguments.length?(i=typeof d=="function"?d:sn(+d),c(),u):i},u.distanceMin=function(d){return arguments.length?(s=d*d,u):Math.sqrt(s)},u.distanceMax=function(d){return arguments.length?(o=d*d,u):Math.sqrt(o)},u.theta=function(d){return arguments.length?(l=d*d,u):Math.sqrt(l)},u}function Qde(e,t,r){var n,i=sn(.1),a,s;typeof e!="function"&&(e=sn(+e)),t==null&&(t=0),r==null&&(r=0);function o(u){for(var c=0,f=n.length;c<f;++c){var h=n[c],d=h.x-t||1e-6,v=h.y-r||1e-6,p=Math.sqrt(d*d+v*v),g=(s[c]-p)*a[c]*u/p;h.vx+=d*g,h.vy+=v*g}}function l(){if(n){var u,c=n.length;for(a=new Array(c),s=new Array(c),u=0;u<c;++u)s[u]=+e(n[u],u,n),a[u]=isNaN(s[u])?0:+i(n[u],u,n)}}return o.initialize=function(u){n=u,l()},o.strength=function(u){return arguments.length?(i=typeof u=="function"?u:sn(+u),l(),o):i},o.radius=function(u){return arguments.length?(e=typeof u=="function"?u:sn(+u),l(),o):e},o.x=function(u){return arguments.length?(t=+u,o):t},o.y=function(u){return arguments.length?(r=+u,o):r},o}function Jde(e){var t=sn(.1),r,n,i;typeof e!="function"&&(e=sn(e==null?0:+e));function a(o){for(var l=0,u=r.length,c;l<u;++l)c=r[l],c.vx+=(i[l]-c.x)*n[l]*o}function s(){if(r){var o,l=r.length;for(n=new Array(l),i=new Array(l),o=0;o<l;++o)n[o]=isNaN(i[o]=+e(r[o],o,r))?0:+t(r[o],o,r)}}return a.initialize=function(o){r=o,s()},a.strength=function(o){return arguments.length?(t=typeof o=="function"?o:sn(+o),s(),a):t},a.x=function(o){return arguments.length?(e=typeof o=="function"?o:sn(+o),s(),a):e},a}function eve(e){var t=sn(.1),r,n,i;typeof e!="function"&&(e=sn(e==null?0:+e));function a(o){for(var l=0,u=r.length,c;l<u;++l)c=r[l],c.vy+=(i[l]-c.y)*n[l]*o}function s(){if(r){var o,l=r.length;for(n=new Array(l),i=new Array(l),o=0;o<l;++o)n[o]=isNaN(i[o]=+e(r[o],o,r))?0:+t(r[o],o,r)}}return a.initialize=function(o){r=o,s()},a.strength=function(o){return arguments.length?(t=typeof o=="function"?o:sn(+o),s(),a):t},a.y=function(o){return arguments.length?(e=typeof o=="function"?o:sn(+o),s(),a):e},a}class Lxe{constructor(t){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:Ide,manyBody:Zde,center:Pde,collide:Rde,radial:Qde,x:Jde,y:eve},this.options={link:{id:r=>r.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},ms(this.options,t),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation)}execute(t,r){return _t(this,void 0,void 0,function*(){return this.genericLayout(!1,t,r)})}assign(t,r){return _t(this,void 0,void 0,function*(){yield this.genericLayout(!0,t,r)})}stop(){this.simulation.stop()}tick(t){return this.simulation.tick(t),this.getResult()}restart(){this.simulation.restart()}setFixedPosition(t,r){const n=this.context.nodes.find(i=>i.id===t);n&&r.forEach((i,a)=>{if(typeof i=="number"||i===null){const s=["fx","fy","fz"][a];n[s]=i}})}getOptions(t){var r,n;const i=ms({},this.options,t);return i.collide&&((r=i.collide)===null||r===void 0?void 0:r.radius)===void 0&&(i.collide=i.collide||{},i.collide.radius=(n=i.nodeSize)!==null&&n!==void 0?n:10),i.iterations===void 0&&(i.link&&i.link.iterations===void 0&&(i.iterations=i.link.iterations),i.collide&&i.collide.iterations===void 0&&(i.iterations=i.collide.iterations)),this.context.options=i,i}genericLayout(t,r,n){var i;return _t(this,void 0,void 0,function*(){const a=this.getOptions(n),s=r.getAllNodes().map(({id:c,data:f})=>Object.assign(Object.assign({id:c},f),LN(f.data,this.config.inputNodeAttrs))),o=r.getAllEdges().map(c=>Object.assign({},c));Object.assign(this.context,{assign:t,nodes:s,edges:o,graph:r});const l=new Promise(c=>{this.resolver=c}),u=this.setSimulation(a);return u.nodes(s),(i=u.force("link"))===null||i===void 0||i.links(o),l})}getResult(){const{assign:t,nodes:r,edges:n,graph:i}=this.context,a=r.map(o=>({id:o.id,data:Object.assign(Object.assign({},o.data),LN(o,this.config.outputNodeAttrs))})),s=n.map(({id:o,source:l,target:u,data:c})=>({id:o,source:typeof l=="object"?l.id:l,target:typeof u=="object"?u.id:u,data:c}));return t&&a.forEach(o=>i.mergeNodeData(o.id,o.data)),{nodes:a,edges:s}}initSimulation(){return Kde()}setSimulation(t){const r=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=r.on("tick",()=>{var n;return(n=t.onTick)===null||n===void 0?void 0:n.call(t,this.getResult())}).on("end",()=>{var n;return(n=this.resolver)===null||n===void 0?void 0:n.call(this,this.getResult())})),oO(r,this.config.simulationAttrs.map(n=>[n,t[n]])),Object.entries(this.forceMap).forEach(([n,i])=>{const a=n;if(t[n]){let s=r.force(a);s||(s=i(),r.force(a,s)),oO(s,Object.entries(t[a]))}else r.force(a,null)}),r}}const oO=(e,t)=>t.reduce((r,[n,i])=>!r[n]||i===void 0?r:r[n].call(e,i),e);function nS(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nm,lO;function tve(){if(lO)return Nm;lO=1;function e(){this.__data__=[],this.size=0}return Nm=e,Nm}var Am,uO;function cc(){if(uO)return Am;uO=1;function e(t,r){return t===r||t!==t&&r!==r}return Am=e,Am}var Pm,cO;function mg(){if(cO)return Pm;cO=1;var e=cc();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return Pm=t,Pm}var Om,fO;function rve(){if(fO)return Om;fO=1;var e=mg(),t=Array.prototype,r=t.splice;function n(i){var a=this.__data__,s=e(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return Om=n,Om}var Cm,hO;function nve(){if(hO)return Cm;hO=1;var e=mg();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Cm=t,Cm}var Rm,dO;function ive(){if(dO)return Rm;dO=1;var e=mg();function t(r){return e(this.__data__,r)>-1}return Rm=t,Rm}var Lm,vO;function ave(){if(vO)return Lm;vO=1;var e=mg();function t(r,n){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Lm=t,Lm}var Im,pO;function yg(){if(pO)return Im;pO=1;var e=tve(),t=rve(),r=nve(),n=ive(),i=ave();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Im=a,Im}var Dm,gO;function sve(){if(gO)return Dm;gO=1;var e=yg();function t(){this.__data__=new e,this.size=0}return Dm=t,Dm}var Fm,mO;function ove(){if(mO)return Fm;mO=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Fm=e,Fm}var $m,yO;function lve(){if(yO)return $m;yO=1;function e(t){return this.__data__.get(t)}return $m=e,$m}var Bm,bO;function uve(){if(bO)return Bm;bO=1;function e(t){return this.__data__.has(t)}return Bm=e,Bm}var zm,wO;function Yz(){if(wO)return zm;wO=1;var e=typeof Bh=="object"&&Bh&&Bh.Object===Object&&Bh;return zm=e,zm}var Gm,xO;function za(){if(xO)return Gm;xO=1;var e=Yz(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Gm=r,Gm}var qm,EO;function fc(){if(EO)return qm;EO=1;var e=za(),t=e.Symbol;return qm=t,qm}var jm,_O;function cve(){if(_O)return jm;_O=1;var e=fc(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function a(s){var o=r.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=n.call(s);return u&&(o?s[i]=l:delete s[i]),c}return jm=a,jm}var Wm,kO;function fve(){if(kO)return Wm;kO=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Wm=r,Wm}var Vm,SO;function Hl(){if(SO)return Vm;SO=1;var e=fc(),t=cve(),r=fve(),n="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?t(o):r(o)}return Vm=s,Vm}var Um,TO;function fa(){if(TO)return Um;TO=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Um=e,Um}var Hm,MO;function yh(){if(MO)return Hm;MO=1;var e=Hl(),t=fa(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!t(o))return!1;var l=e(o);return l==n||l==i||l==r||l==a}return Hm=s,Hm}var Ym,NO;function hve(){if(NO)return Ym;NO=1;var e=za(),t=e["__core-js_shared__"];return Ym=t,Ym}var Xm,AO;function dve(){if(AO)return Xm;AO=1;var e=hve(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return Xm=r,Xm}var Km,PO;function Xz(){if(PO)return Km;PO=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Km=r,Km}var Zm,OO;function vve(){if(OO)return Zm;OO=1;var e=yh(),t=dve(),r=fa(),n=Xz(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||t(h))return!1;var d=e(h)?c:a;return d.test(n(h))}return Zm=f,Zm}var Qm,CO;function pve(){if(CO)return Qm;CO=1;function e(t,r){return t?.[r]}return Qm=e,Qm}var Jm,RO;function Yl(){if(RO)return Jm;RO=1;var e=vve(),t=pve();function r(n,i){var a=t(n,i);return e(a)?a:void 0}return Jm=r,Jm}var ey,LO;function iS(){if(LO)return ey;LO=1;var e=Yl(),t=za(),r=e(t,"Map");return ey=r,ey}var ty,IO;function bg(){if(IO)return ty;IO=1;var e=Yl(),t=e(Object,"create");return ty=t,ty}var ry,DO;function gve(){if(DO)return ry;DO=1;var e=bg();function t(){this.__data__=e?e(null):{},this.size=0}return ry=t,ry}var ny,FO;function mve(){if(FO)return ny;FO=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return ny=e,ny}var iy,$O;function yve(){if($O)return iy;$O=1;var e=bg(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(e){var o=s[a];return o===t?void 0:o}return n.call(s,a)?s[a]:void 0}return iy=i,iy}var ay,BO;function bve(){if(BO)return ay;BO=1;var e=bg(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return ay=n,ay}var sy,zO;function wve(){if(zO)return sy;zO=1;var e=bg(),t="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=e&&i===void 0?t:i,this}return sy=r,sy}var oy,GO;function xve(){if(GO)return oy;GO=1;var e=gve(),t=mve(),r=yve(),n=bve(),i=wve();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,oy=a,oy}var ly,qO;function Eve(){if(qO)return ly;qO=1;var e=xve(),t=yg(),r=iS();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return ly=n,ly}var uy,jO;function _ve(){if(jO)return uy;jO=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return uy=e,uy}var cy,WO;function wg(){if(WO)return cy;WO=1;var e=_ve();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return cy=t,cy}var fy,VO;function kve(){if(VO)return fy;VO=1;var e=wg();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return fy=t,fy}var hy,UO;function Sve(){if(UO)return hy;UO=1;var e=wg();function t(r){return e(this,r).get(r)}return hy=t,hy}var dy,HO;function Tve(){if(HO)return dy;HO=1;var e=wg();function t(r){return e(this,r).has(r)}return dy=t,dy}var vy,YO;function Mve(){if(YO)return vy;YO=1;var e=wg();function t(r,n){var i=e(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return vy=t,vy}var py,XO;function aS(){if(XO)return py;XO=1;var e=Eve(),t=kve(),r=Sve(),n=Tve(),i=Mve();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,py=a,py}var gy,KO;function Nve(){if(KO)return gy;KO=1;var e=yg(),t=iS(),r=aS(),n=200;function i(a,s){var o=this.__data__;if(o instanceof e){var l=o.__data__;if(!t||l.length<n-1)return l.push([a,s]),this.size=++o.size,this;o=this.__data__=new r(l)}return o.set(a,s),this.size=o.size,this}return gy=i,gy}var my,ZO;function xg(){if(ZO)return my;ZO=1;var e=yg(),t=sve(),r=ove(),n=lve(),i=uve(),a=Nve();function s(o){var l=this.__data__=new e(o);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,my=s,my}var yy,QO;function sS(){if(QO)return yy;QO=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i&&r(t[n],n,t)!==!1;);return t}return yy=e,yy}var by,JO;function Kz(){if(JO)return by;JO=1;var e=Yl(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return by=t,by}var wy,eC;function Eg(){if(eC)return wy;eC=1;var e=Kz();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return wy=t,wy}var xy,tC;function _g(){if(tC)return xy;tC=1;var e=Eg(),t=cc(),r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o){var l=a[s];(!(n.call(a,s)&&t(l,o))||o===void 0&&!(s in a))&&e(a,s,o)}return xy=i,xy}var Ey,rC;function bh(){if(rC)return Ey;rC=1;var e=_g(),t=Eg();function r(n,i,a,s){var o=!a;a||(a={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=s?s(a[c],n[c],c,a,n):void 0;f===void 0&&(f=n[c]),o?t(a,c,f):e(a,c,f)}return a}return Ey=r,Ey}var _y,nC;function Ave(){if(nC)return _y;nC=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return _y=e,_y}var ky,iC;function Es(){if(iC)return ky;iC=1;function e(t){return t!=null&&typeof t=="object"}return ky=e,ky}var Sy,aC;function Pve(){if(aC)return Sy;aC=1;var e=Hl(),t=Es(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return Sy=n,Sy}var Ty,sC;function wh(){if(sC)return Ty;sC=1;var e=Pve(),t=Es(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(s){return t(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Ty=a,Ty}var My,oC;function Jr(){if(oC)return My;oC=1;var e=Array.isArray;return My=e,My}var Vc={exports:{}},Ny,lC;function Ove(){if(lC)return Ny;lC=1;function e(){return!1}return Ny=e,Ny}Vc.exports;var uC;function hc(){return uC||(uC=1,function(e,t){var r=za(),n=Ove(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;e.exports=u}(Vc,Vc.exports)),Vc.exports}var Ay,cC;function kg(){if(cC)return Ay;cC=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return Ay=r,Ay}var Py,fC;function oS(){if(fC)return Py;fC=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Py=t,Py}var Oy,hC;function Cve(){if(hC)return Oy;hC=1;var e=Hl(),t=oS(),r=Es(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",h="[object RegExp]",d="[object Set]",v="[object String]",p="[object WeakMap]",g="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",E="[object Int32Array]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",A="[object Uint16Array]",P="[object Uint32Array]",O={};O[y]=O[b]=O[_]=O[x]=O[E]=O[w]=O[S]=O[A]=O[P]=!0,O[n]=O[i]=O[g]=O[a]=O[m]=O[s]=O[o]=O[l]=O[u]=O[c]=O[f]=O[h]=O[d]=O[v]=O[p]=!1;function C(L){return r(L)&&t(L.length)&&!!O[e(L)]}return Oy=C,Oy}var Cy,dC;function Sg(){if(dC)return Cy;dC=1;function e(t){return function(r){return t(r)}}return Cy=e,Cy}var Uc={exports:{}};Uc.exports;var vC;function lS(){return vC||(vC=1,function(e,t){var r=Yz(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o}(Uc,Uc.exports)),Uc.exports}var Ry,pC;function xh(){if(pC)return Ry;pC=1;var e=Cve(),t=Sg(),r=lS(),n=r&&r.isTypedArray,i=n?t(n):e;return Ry=i,Ry}var Ly,gC;function Zz(){if(gC)return Ly;gC=1;var e=Ave(),t=wh(),r=Jr(),n=hc(),i=kg(),a=xh(),s=Object.prototype,o=s.hasOwnProperty;function l(u,c){var f=r(u),h=!f&&t(u),d=!f&&!h&&n(u),v=!f&&!h&&!d&&a(u),p=f||h||d||v,g=p?e(u.length,String):[],m=g.length;for(var y in u)(c||o.call(u,y))&&!(p&&(y=="length"||d&&(y=="offset"||y=="parent")||v&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,m)))&&g.push(y);return g}return Ly=l,Ly}var Iy,mC;function Tg(){if(mC)return Iy;mC=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return Iy=t,Iy}var Dy,yC;function Qz(){if(yC)return Dy;yC=1;function e(t,r){return function(n){return t(r(n))}}return Dy=e,Dy}var Fy,bC;function Rve(){if(bC)return Fy;bC=1;var e=Qz(),t=e(Object.keys,Object);return Fy=t,Fy}var $y,wC;function uS(){if(wC)return $y;wC=1;var e=Tg(),t=Rve(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!e(a))return t(a);var s=[];for(var o in Object(a))n.call(a,o)&&o!="constructor"&&s.push(o);return s}return $y=i,$y}var By,xC;function ao(){if(xC)return By;xC=1;var e=yh(),t=oS();function r(n){return n!=null&&t(n.length)&&!e(n)}return By=r,By}var zy,EC;function Xo(){if(EC)return zy;EC=1;var e=Zz(),t=uS(),r=ao();function n(i){return r(i)?e(i):t(i)}return zy=n,zy}var Gy,_C;function Lve(){if(_C)return Gy;_C=1;var e=bh(),t=Xo();function r(n,i){return n&&e(i,t(i),n)}return Gy=r,Gy}var qy,kC;function Ive(){if(kC)return qy;kC=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return qy=e,qy}var jy,SC;function Dve(){if(SC)return jy;SC=1;var e=fa(),t=Tg(),r=Ive(),n=Object.prototype,i=n.hasOwnProperty;function a(s){if(!e(s))return r(s);var o=t(s),l=[];for(var u in s)u=="constructor"&&(o||!i.call(s,u))||l.push(u);return l}return jy=a,jy}var Wy,TC;function Xl(){if(TC)return Wy;TC=1;var e=Zz(),t=Dve(),r=ao();function n(i){return r(i)?e(i,!0):t(i)}return Wy=n,Wy}var Vy,MC;function Fve(){if(MC)return Vy;MC=1;var e=bh(),t=Xl();function r(n,i){return n&&e(i,t(i),n)}return Vy=r,Vy}var Hc={exports:{}};Hc.exports;var NC;function Jz(){return NC||(NC=1,function(e,t){var r=za(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,h=o?o(f):new u.constructor(f);return u.copy(h),h}e.exports=l}(Hc,Hc.exports)),Hc.exports}var Uy,AC;function e6(){if(AC)return Uy;AC=1;function e(t,r){var n=-1,i=t.length;for(r||(r=Array(i));++n<i;)r[n]=t[n];return r}return Uy=e,Uy}var Hy,PC;function t6(){if(PC)return Hy;PC=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=0,s=[];++n<i;){var o=t[n];r(o,n,t)&&(s[a++]=o)}return s}return Hy=e,Hy}var Yy,OC;function r6(){if(OC)return Yy;OC=1;function e(){return[]}return Yy=e,Yy}var Xy,CC;function cS(){if(CC)return Xy;CC=1;var e=t6(),t=r6(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(o){return n.call(s,o)}))}:t;return Xy=a,Xy}var Ky,RC;function $ve(){if(RC)return Ky;RC=1;var e=bh(),t=cS();function r(n,i){return e(n,t(n),i)}return Ky=r,Ky}var Zy,LC;function fS(){if(LC)return Zy;LC=1;function e(t,r){for(var n=-1,i=r.length,a=t.length;++n<i;)t[a+n]=r[n];return t}return Zy=e,Zy}var Qy,IC;function Mg(){if(IC)return Qy;IC=1;var e=Qz(),t=e(Object.getPrototypeOf,Object);return Qy=t,Qy}var Jy,DC;function n6(){if(DC)return Jy;DC=1;var e=fS(),t=Mg(),r=cS(),n=r6(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)e(o,r(s)),s=t(s);return o}:n;return Jy=a,Jy}var e1,FC;function Bve(){if(FC)return e1;FC=1;var e=bh(),t=n6();function r(n,i){return e(n,t(n),i)}return e1=r,e1}var t1,$C;function i6(){if($C)return t1;$C=1;var e=fS(),t=Jr();function r(n,i,a){var s=i(n);return t(n)?s:e(s,a(n))}return t1=r,t1}var r1,BC;function a6(){if(BC)return r1;BC=1;var e=i6(),t=cS(),r=Xo();function n(i){return e(i,r,t)}return r1=n,r1}var n1,zC;function zve(){if(zC)return n1;zC=1;var e=i6(),t=n6(),r=Xl();function n(i){return e(i,r,t)}return n1=n,n1}var i1,GC;function Gve(){if(GC)return i1;GC=1;var e=Yl(),t=za(),r=e(t,"DataView");return i1=r,i1}var a1,qC;function qve(){if(qC)return a1;qC=1;var e=Yl(),t=za(),r=e(t,"Promise");return a1=r,a1}var s1,jC;function s6(){if(jC)return s1;jC=1;var e=Yl(),t=za(),r=e(t,"Set");return s1=r,s1}var o1,WC;function jve(){if(WC)return o1;WC=1;var e=Yl(),t=za(),r=e(t,"WeakMap");return o1=r,o1}var l1,VC;function dc(){if(VC)return l1;VC=1;var e=Gve(),t=iS(),r=qve(),n=s6(),i=jve(),a=Hl(),s=Xz(),o="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",h="[object DataView]",d=s(e),v=s(t),p=s(r),g=s(n),m=s(i),y=a;return(e&&y(new e(new ArrayBuffer(1)))!=h||t&&y(new t)!=o||r&&y(r.resolve())!=u||n&&y(new n)!=c||i&&y(new i)!=f)&&(y=function(b){var _=a(b),x=_==l?b.constructor:void 0,E=x?s(x):"";if(E)switch(E){case d:return h;case v:return o;case p:return u;case g:return c;case m:return f}return _}),l1=y,l1}var u1,UC;function Wve(){if(UC)return u1;UC=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&t.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return u1=r,u1}var c1,HC;function o6(){if(HC)return c1;HC=1;var e=za(),t=e.Uint8Array;return c1=t,c1}var f1,YC;function hS(){if(YC)return f1;YC=1;var e=o6();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return f1=t,f1}var h1,XC;function Vve(){if(XC)return h1;XC=1;var e=hS();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return h1=t,h1}var d1,KC;function Uve(){if(KC)return d1;KC=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return d1=t,d1}var v1,ZC;function Hve(){if(ZC)return v1;ZC=1;var e=fc(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return v1=n,v1}var p1,QC;function l6(){if(QC)return p1;QC=1;var e=hS();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return p1=t,p1}var g1,JC;function Yve(){if(JC)return g1;JC=1;var e=hS(),t=Vve(),r=Uve(),n=Hve(),i=l6(),a="[object Boolean]",s="[object Date]",o="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",h="[object Symbol]",d="[object ArrayBuffer]",v="[object DataView]",p="[object Float32Array]",g="[object Float64Array]",m="[object Int8Array]",y="[object Int16Array]",b="[object Int32Array]",_="[object Uint8Array]",x="[object Uint8ClampedArray]",E="[object Uint16Array]",w="[object Uint32Array]";function S(A,P,O){var C=A.constructor;switch(P){case d:return e(A);case a:case s:return new C(+A);case v:return t(A,O);case p:case g:case m:case y:case b:case _:case x:case E:case w:return i(A,O);case o:return new C;case l:case f:return new C(A);case u:return r(A);case c:return new C;case h:return n(A)}}return g1=S,g1}var m1,eR;function u6(){if(eR)return m1;eR=1;var e=fa(),t=Object.create,r=function(){function n(){}return function(i){if(!e(i))return{};if(t)return t(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return m1=r,m1}var y1,tR;function c6(){if(tR)return y1;tR=1;var e=u6(),t=Mg(),r=Tg();function n(i){return typeof i.constructor=="function"&&!r(i)?e(t(i)):{}}return y1=n,y1}var b1,rR;function Xve(){if(rR)return b1;rR=1;var e=dc(),t=Es(),r="[object Map]";function n(i){return t(i)&&e(i)==r}return b1=n,b1}var w1,nR;function Kve(){if(nR)return w1;nR=1;var e=Xve(),t=Sg(),r=lS(),n=r&&r.isMap,i=n?t(n):e;return w1=i,w1}var x1,iR;function Zve(){if(iR)return x1;iR=1;var e=dc(),t=Es(),r="[object Set]";function n(i){return t(i)&&e(i)==r}return x1=n,x1}var E1,aR;function Qve(){if(aR)return E1;aR=1;var e=Zve(),t=Sg(),r=lS(),n=r&&r.isSet,i=n?t(n):e;return E1=i,E1}var _1,sR;function f6(){if(sR)return _1;sR=1;var e=xg(),t=sS(),r=_g(),n=Lve(),i=Fve(),a=Jz(),s=e6(),o=$ve(),l=Bve(),u=a6(),c=zve(),f=dc(),h=Wve(),d=Yve(),v=c6(),p=Jr(),g=hc(),m=Kve(),y=fa(),b=Qve(),_=Xo(),x=Xl(),E=1,w=2,S=4,A="[object Arguments]",P="[object Array]",O="[object Boolean]",C="[object Date]",L="[object Error]",I="[object Function]",F="[object GeneratorFunction]",U="[object Map]",G="[object Number]",z="[object Object]",Z="[object RegExp]",ge="[object Set]",xe="[object String]",ve="[object Symbol]",je="[object WeakMap]",te="[object ArrayBuffer]",Y="[object DataView]",fe="[object Float32Array]",Q="[object Float64Array]",oe="[object Int8Array]",ye="[object Int16Array]",we="[object Int32Array]",Ae="[object Uint8Array]",H="[object Uint8ClampedArray]",K="[object Uint16Array]",ce="[object Uint32Array]",de={};de[A]=de[P]=de[te]=de[Y]=de[O]=de[C]=de[fe]=de[Q]=de[oe]=de[ye]=de[we]=de[U]=de[G]=de[z]=de[Z]=de[ge]=de[xe]=de[ve]=de[Ae]=de[H]=de[K]=de[ce]=!0,de[L]=de[I]=de[je]=!1;function _e(pe,V,q,ne,ue,Oe){var be,re=V&E,he=V&w,Be=V&S;if(q&&(be=ue?q(pe,ne,ue,Oe):q(pe)),be!==void 0)return be;if(!y(pe))return pe;var nt=p(pe);if(nt){if(be=h(pe),!re)return s(pe,be)}else{var lt=f(pe),Zt=lt==I||lt==F;if(g(pe))return a(pe,re);if(lt==z||lt==A||Zt&&!ue){if(be=he||Zt?{}:v(pe),!re)return he?l(pe,i(be,pe)):o(pe,n(be,pe))}else{if(!de[lt])return ue?pe:{};be=d(pe,lt,re)}}Oe||(Oe=new e);var qt=Oe.get(pe);if(qt)return qt;Oe.set(pe,be),b(pe)?pe.forEach(function(Rn){be.add(_e(Rn,V,q,Rn,pe,Oe))}):m(pe)&&pe.forEach(function(Rn,_i){be.set(_i,_e(Rn,V,q,_i,pe,Oe))});var On=Be?he?c:u:he?x:_,Cn=nt?void 0:On(pe);return t(Cn||pe,function(Rn,_i){Cn&&(_i=Rn,Rn=pe[_i]),r(be,_i,_e(Rn,V,q,_i,pe,Oe))}),be}return _1=_e,_1}var k1,oR;function Jve(){if(oR)return k1;oR=1;var e=f6(),t=4;function r(n){return e(n,t)}return k1=r,k1}var S1,lR;function dS(){if(lR)return S1;lR=1;function e(t){return function(){return t}}return S1=e,S1}var T1,uR;function epe(){if(uR)return T1;uR=1;function e(t){return function(r,n,i){for(var a=-1,s=Object(r),o=i(r),l=o.length;l--;){var u=o[t?l:++a];if(n(s[u],u,s)===!1)break}return r}}return T1=e,T1}var M1,cR;function vS(){if(cR)return M1;cR=1;var e=epe(),t=e();return M1=t,M1}var N1,fR;function pS(){if(fR)return N1;fR=1;var e=vS(),t=Xo();function r(n,i){return n&&e(n,i,t)}return N1=r,N1}var A1,hR;function tpe(){if(hR)return A1;hR=1;var e=ao();function t(r,n){return function(i,a){if(i==null)return i;if(!e(i))return r(i,a);for(var s=i.length,o=n?s:-1,l=Object(i);(n?o--:++o<s)&&a(l[o],o,l)!==!1;);return i}}return A1=t,A1}var P1,dR;function Ng(){if(dR)return P1;dR=1;var e=pS(),t=tpe(),r=t(e);return P1=r,P1}var O1,vR;function Kl(){if(vR)return O1;vR=1;function e(t){return t}return O1=e,O1}var C1,pR;function h6(){if(pR)return C1;pR=1;var e=Kl();function t(r){return typeof r=="function"?r:e}return C1=t,C1}var R1,gR;function d6(){if(gR)return R1;gR=1;var e=sS(),t=Ng(),r=h6(),n=Jr();function i(a,s){var o=n(a)?e:t;return o(a,r(s))}return R1=i,R1}var L1,mR;function v6(){return mR||(mR=1,L1=d6()),L1}var I1,yR;function rpe(){if(yR)return I1;yR=1;var e=Ng();function t(r,n){var i=[];return e(r,function(a,s,o){n(a,s,o)&&i.push(a)}),i}return I1=t,I1}var D1,bR;function npe(){if(bR)return D1;bR=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return D1=t,D1}var F1,wR;function ipe(){if(wR)return F1;wR=1;function e(t){return this.__data__.has(t)}return F1=e,F1}var $1,xR;function p6(){if(xR)return $1;xR=1;var e=aS(),t=npe(),r=ipe();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new e;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,$1=n,$1}var B1,ER;function ape(){if(ER)return B1;ER=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return B1=e,B1}var z1,_R;function g6(){if(_R)return z1;_R=1;function e(t,r){return t.has(r)}return z1=e,z1}var G1,kR;function m6(){if(kR)return G1;kR=1;var e=p6(),t=ape(),r=g6(),n=1,i=2;function a(s,o,l,u,c,f){var h=l&n,d=s.length,v=o.length;if(d!=v&&!(h&&v>d))return!1;var p=f.get(s),g=f.get(o);if(p&&g)return p==o&&g==s;var m=-1,y=!0,b=l&i?new e:void 0;for(f.set(s,o),f.set(o,s);++m<d;){var _=s[m],x=o[m];if(u)var E=h?u(x,_,m,o,s,f):u(_,x,m,s,o,f);if(E!==void 0){if(E)continue;y=!1;break}if(b){if(!t(o,function(w,S){if(!r(b,S)&&(_===w||c(_,w,l,u,f)))return b.push(S)})){y=!1;break}}else if(!(_===x||c(_,x,l,u,f))){y=!1;break}}return f.delete(s),f.delete(o),y}return G1=a,G1}var q1,SR;function spe(){if(SR)return q1;SR=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,a){n[++r]=[a,i]}),n}return q1=e,q1}var j1,TR;function gS(){if(TR)return j1;TR=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return j1=e,j1}var W1,MR;function ope(){if(MR)return W1;MR=1;var e=fc(),t=o6(),r=cc(),n=m6(),i=spe(),a=gS(),s=1,o=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",h="[object Number]",d="[object RegExp]",v="[object Set]",p="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",b=e?e.prototype:void 0,_=b?b.valueOf:void 0;function x(E,w,S,A,P,O,C){switch(S){case y:if(E.byteLength!=w.byteLength||E.byteOffset!=w.byteOffset)return!1;E=E.buffer,w=w.buffer;case m:return!(E.byteLength!=w.byteLength||!O(new t(E),new t(w)));case l:case u:case h:return r(+E,+w);case c:return E.name==w.name&&E.message==w.message;case d:case p:return E==w+"";case f:var L=i;case v:var I=A&s;if(L||(L=a),E.size!=w.size&&!I)return!1;var F=C.get(E);if(F)return F==w;A|=o,C.set(E,w);var U=n(L(E),L(w),A,P,O,C);return C.delete(E),U;case g:if(_)return _.call(E)==_.call(w)}return!1}return W1=x,W1}var V1,NR;function lpe(){if(NR)return V1;NR=1;var e=a6(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o,l,u,c){var f=o&t,h=e(a),d=h.length,v=e(s),p=v.length;if(d!=p&&!f)return!1;for(var g=d;g--;){var m=h[g];if(!(f?m in s:n.call(s,m)))return!1}var y=c.get(a),b=c.get(s);if(y&&b)return y==s&&b==a;var _=!0;c.set(a,s),c.set(s,a);for(var x=f;++g<d;){m=h[g];var E=a[m],w=s[m];if(l)var S=f?l(w,E,m,s,a,c):l(E,w,m,a,s,c);if(!(S===void 0?E===w||u(E,w,o,l,c):S)){_=!1;break}x||(x=m=="constructor")}if(_&&!x){var A=a.constructor,P=s.constructor;A!=P&&"constructor"in a&&"constructor"in s&&!(typeof A=="function"&&A instanceof A&&typeof P=="function"&&P instanceof P)&&(_=!1)}return c.delete(a),c.delete(s),_}return V1=i,V1}var U1,AR;function upe(){if(AR)return U1;AR=1;var e=xg(),t=m6(),r=ope(),n=lpe(),i=dc(),a=Jr(),s=hc(),o=xh(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",h=Object.prototype,d=h.hasOwnProperty;function v(p,g,m,y,b,_){var x=a(p),E=a(g),w=x?c:i(p),S=E?c:i(g);w=w==u?f:w,S=S==u?f:S;var A=w==f,P=S==f,O=w==S;if(O&&s(p)){if(!s(g))return!1;x=!0,A=!1}if(O&&!A)return _||(_=new e),x||o(p)?t(p,g,m,y,b,_):r(p,g,w,m,y,b,_);if(!(m&l)){var C=A&&d.call(p,"__wrapped__"),L=P&&d.call(g,"__wrapped__");if(C||L){var I=C?p.value():p,F=L?g.value():g;return _||(_=new e),b(I,F,m,y,_)}}return O?(_||(_=new e),n(p,g,m,y,b,_)):!1}return U1=v,U1}var H1,PR;function y6(){if(PR)return H1;PR=1;var e=upe(),t=Es();function r(n,i,a,s,o){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,a,s,r,o)}return H1=r,H1}var Y1,OR;function cpe(){if(OR)return Y1;OR=1;var e=xg(),t=y6(),r=1,n=2;function i(a,s,o,l){var u=o.length,c=u,f=!l;if(a==null)return!c;for(a=Object(a);u--;){var h=o[u];if(f&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++u<c;){h=o[u];var d=h[0],v=a[d],p=h[1];if(f&&h[2]){if(v===void 0&&!(d in a))return!1}else{var g=new e;if(l)var m=l(v,p,d,a,s,g);if(!(m===void 0?t(p,v,r|n,l,g):m))return!1}}return!0}return Y1=i,Y1}var X1,CR;function b6(){if(CR)return X1;CR=1;var e=fa();function t(r){return r===r&&!e(r)}return X1=t,X1}var K1,RR;function fpe(){if(RR)return K1;RR=1;var e=b6(),t=Xo();function r(n){for(var i=t(n),a=i.length;a--;){var s=i[a],o=n[s];i[a]=[s,o,e(o)]}return i}return K1=r,K1}var Z1,LR;function w6(){if(LR)return Z1;LR=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Z1=e,Z1}var Q1,IR;function hpe(){if(IR)return Q1;IR=1;var e=cpe(),t=fpe(),r=w6();function n(i){var a=t(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||e(s,i,a)}}return Q1=n,Q1}var J1,DR;function vc(){if(DR)return J1;DR=1;var e=Hl(),t=Es(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return J1=n,J1}var eb,FR;function mS(){if(FR)return eb;FR=1;var e=Jr(),t=vc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(e(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||t(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return eb=i,eb}var tb,$R;function dpe(){if($R)return tb;$R=1;var e=aS(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],l=a.cache;if(l.has(o))return l.get(o);var u=n.apply(this,s);return a.cache=l.set(o,u)||l,u};return a.cache=new(r.Cache||e),a}return r.Cache=e,tb=r,tb}var rb,BR;function vpe(){if(BR)return rb;BR=1;var e=dpe(),t=500;function r(n){var i=e(n,function(s){return a.size===t&&a.clear(),s}),a=i.cache;return i}return rb=r,rb}var nb,zR;function ppe(){if(zR)return nb;zR=1;var e=vpe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(s,o,l,u){a.push(l?u.replace(r,"$1"):o||s)}),a});return nb=n,nb}var ib,GR;function Ag(){if(GR)return ib;GR=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=r(t[n],n,t);return a}return ib=e,ib}var ab,qR;function gpe(){if(qR)return ab;qR=1;var e=fc(),t=Ag(),r=Jr(),n=vc(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return t(o,s)+"";if(n(o))return a?a.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return ab=s,ab}var sb,jR;function x6(){if(jR)return sb;jR=1;var e=gpe();function t(r){return r==null?"":e(r)}return sb=t,sb}var ob,WR;function Pg(){if(WR)return ob;WR=1;var e=Jr(),t=mS(),r=ppe(),n=x6();function i(a,s){return e(a)?a:t(a,s)?[a]:r(n(a))}return ob=i,ob}var lb,VR;function Eh(){if(VR)return lb;VR=1;var e=vc();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return lb=t,lb}var ub,UR;function Og(){if(UR)return ub;UR=1;var e=Pg(),t=Eh();function r(n,i){i=e(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[t(i[a++])];return a&&a==s?n:void 0}return ub=r,ub}var cb,HR;function mpe(){if(HR)return cb;HR=1;var e=Og();function t(r,n,i){var a=r==null?void 0:e(r,n);return a===void 0?i:a}return cb=t,cb}var fb,YR;function ype(){if(YR)return fb;YR=1;function e(t,r){return t!=null&&r in Object(t)}return fb=e,fb}var hb,XR;function E6(){if(XR)return hb;XR=1;var e=Pg(),t=wh(),r=Jr(),n=kg(),i=oS(),a=Eh();function s(o,l,u){l=e(l,o);for(var c=-1,f=l.length,h=!1;++c<f;){var d=a(l[c]);if(!(h=o!=null&&u(o,d)))break;o=o[d]}return h||++c!=f?h:(f=o==null?0:o.length,!!f&&i(f)&&n(d,f)&&(r(o)||t(o)))}return hb=s,hb}var db,KR;function _6(){if(KR)return db;KR=1;var e=ype(),t=E6();function r(n,i){return n!=null&&t(n,i,e)}return db=r,db}var vb,ZR;function bpe(){if(ZR)return vb;ZR=1;var e=y6(),t=mpe(),r=_6(),n=mS(),i=b6(),a=w6(),s=Eh(),o=1,l=2;function u(c,f){return n(c)&&i(f)?a(s(c),f):function(h){var d=t(h,c);return d===void 0&&d===f?r(h,c):e(f,d,o|l)}}return vb=u,vb}var pb,QR;function k6(){if(QR)return pb;QR=1;function e(t){return function(r){return r?.[t]}}return pb=e,pb}var gb,JR;function wpe(){if(JR)return gb;JR=1;var e=Og();function t(r){return function(n){return e(n,r)}}return gb=t,gb}var mb,eL;function xpe(){if(eL)return mb;eL=1;var e=k6(),t=wpe(),r=mS(),n=Eh();function i(a){return r(a)?e(n(a)):t(a)}return mb=i,mb}var yb,tL;function so(){if(tL)return yb;tL=1;var e=hpe(),t=bpe(),r=Kl(),n=Jr(),i=xpe();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?t(s[0],s[1]):e(s):i(s)}return yb=a,yb}var bb,rL;function S6(){if(rL)return bb;rL=1;var e=t6(),t=rpe(),r=so(),n=Jr();function i(a,s){var o=n(a)?e:t;return o(a,r(s,3))}return bb=i,bb}var wb,nL;function Epe(){if(nL)return wb;nL=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n,i){return n!=null&&t.call(n,i)}return wb=r,wb}var xb,iL;function T6(){if(iL)return xb;iL=1;var e=Epe(),t=E6();function r(n,i){return n!=null&&t(n,i,e)}return xb=r,xb}var Eb,aL;function _pe(){if(aL)return Eb;aL=1;var e=uS(),t=dc(),r=wh(),n=Jr(),i=ao(),a=hc(),s=Tg(),o=xh(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function h(d){if(d==null)return!0;if(i(d)&&(n(d)||typeof d=="string"||typeof d.splice=="function"||a(d)||o(d)||r(d)))return!d.length;var v=t(d);if(v==l||v==u)return!d.size;if(s(d))return!e(d).length;for(var p in d)if(f.call(d,p))return!1;return!0}return Eb=h,Eb}var _b,sL;function M6(){if(sL)return _b;sL=1;function e(t){return t===void 0}return _b=e,_b}var kb,oL;function N6(){if(oL)return kb;oL=1;var e=Ng(),t=ao();function r(n,i){var a=-1,s=t(n)?Array(n.length):[];return e(n,function(o,l,u){s[++a]=i(o,l,u)}),s}return kb=r,kb}var Sb,lL;function A6(){if(lL)return Sb;lL=1;var e=Ag(),t=so(),r=N6(),n=Jr();function i(a,s){var o=n(a)?e:r;return o(a,t(s,3))}return Sb=i,Sb}var Tb,uL;function kpe(){if(uL)return Tb;uL=1;function e(t,r,n,i){var a=-1,s=t==null?0:t.length;for(i&&s&&(n=t[++a]);++a<s;)n=r(n,t[a],a,t);return n}return Tb=e,Tb}var Mb,cL;function Spe(){if(cL)return Mb;cL=1;function e(t,r,n,i,a){return a(t,function(s,o,l){n=i?(i=!1,s):r(n,s,o,l)}),n}return Mb=e,Mb}var Nb,fL;function P6(){if(fL)return Nb;fL=1;var e=kpe(),t=Ng(),r=so(),n=Spe(),i=Jr();function a(s,o,l){var u=i(s)?e:n,c=arguments.length<3;return u(s,r(o,4),l,c,t)}return Nb=a,Nb}var Ab,hL;function Tpe(){if(hL)return Ab;hL=1;var e=Hl(),t=Jr(),r=Es(),n="[object String]";function i(a){return typeof a=="string"||!t(a)&&r(a)&&e(a)==n}return Ab=i,Ab}var Pb,dL;function Mpe(){if(dL)return Pb;dL=1;var e=k6(),t=e("length");return Pb=t,Pb}var Ob,vL;function Npe(){if(vL)return Ob;vL=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+e+i+a+"]");function l(u){return o.test(u)}return Ob=l,Ob}var Cb,pL;function Ape(){if(pL)return Cb;pL=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",s="["+e+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",d="\\u200d",v=u+"?",p="["+a+"]?",g="(?:"+d+"(?:"+[c,f,h].join("|")+")"+p+v+")*",m=p+v+g,y="(?:"+[c+o+"?",o,f,h,s].join("|")+")",b=RegExp(l+"(?="+l+")|"+y+m,"g");function _(x){for(var E=b.lastIndex=0;b.test(x);)++E;return E}return Cb=_,Cb}var Rb,gL;function Ppe(){if(gL)return Rb;gL=1;var e=Mpe(),t=Npe(),r=Ape();function n(i){return t(i)?r(i):e(i)}return Rb=n,Rb}var Lb,mL;function Ope(){if(mL)return Lb;mL=1;var e=uS(),t=dc(),r=ao(),n=Tpe(),i=Ppe(),a="[object Map]",s="[object Set]";function o(l){if(l==null)return 0;if(r(l))return n(l)?i(l):l.length;var u=t(l);return u==a||u==s?l.size:e(l).length}return Lb=o,Lb}var Ib,yL;function Cpe(){if(yL)return Ib;yL=1;var e=sS(),t=u6(),r=pS(),n=so(),i=Mg(),a=Jr(),s=hc(),o=yh(),l=fa(),u=xh();function c(f,h,d){var v=a(f),p=v||s(f)||u(f);if(h=n(h,4),d==null){var g=f&&f.constructor;p?d=v?new g:[]:l(f)?d=o(g)?t(i(f)):{}:d={}}return(p?e:r)(f,function(m,y,b){return h(d,m,y,b)}),d}return Ib=c,Ib}var Db,bL;function Rpe(){if(bL)return Db;bL=1;var e=fc(),t=wh(),r=Jr(),n=e?e.isConcatSpreadable:void 0;function i(a){return r(a)||t(a)||!!(n&&a&&a[n])}return Db=i,Db}var Fb,wL;function yS(){if(wL)return Fb;wL=1;var e=fS(),t=Rpe();function r(n,i,a,s,o){var l=-1,u=n.length;for(a||(a=t),o||(o=[]);++l<u;){var c=n[l];i>0&&a(c)?i>1?r(c,i-1,a,s,o):e(o,c):s||(o[o.length]=c)}return o}return Fb=r,Fb}var $b,xL;function Lpe(){if(xL)return $b;xL=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return $b=e,$b}var Bb,EL;function O6(){if(EL)return Bb;EL=1;var e=Lpe(),t=Math.max;function r(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var s=arguments,o=-1,l=t(s.length-i,0),u=Array(l);++o<l;)u[o]=s[i+o];o=-1;for(var c=Array(i+1);++o<i;)c[o]=s[o];return c[i]=a(u),e(n,this,c)}}return Bb=r,Bb}var zb,_L;function Ipe(){if(_L)return zb;_L=1;var e=dS(),t=Kz(),r=Kl(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:r;return zb=n,zb}var Gb,kL;function Dpe(){if(kL)return Gb;kL=1;var e=800,t=16,r=Date.now;function n(i){var a=0,s=0;return function(){var o=r(),l=t-(o-s);if(s=o,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Gb=n,Gb}var qb,SL;function C6(){if(SL)return qb;SL=1;var e=Ipe(),t=Dpe(),r=t(e);return qb=r,qb}var jb,TL;function Cg(){if(TL)return jb;TL=1;var e=Kl(),t=O6(),r=C6();function n(i,a){return r(t(i,a,e),i+"")}return jb=n,jb}var Wb,ML;function R6(){if(ML)return Wb;ML=1;function e(t,r,n,i){for(var a=t.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(t[s],s,t))return s;return-1}return Wb=e,Wb}var Vb,NL;function Fpe(){if(NL)return Vb;NL=1;function e(t){return t!==t}return Vb=e,Vb}var Ub,AL;function $pe(){if(AL)return Ub;AL=1;function e(t,r,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===r)return i;return-1}return Ub=e,Ub}var Hb,PL;function Bpe(){if(PL)return Hb;PL=1;var e=R6(),t=Fpe(),r=$pe();function n(i,a,s){return a===a?r(i,a,s):e(i,t,s)}return Hb=n,Hb}var Yb,OL;function zpe(){if(OL)return Yb;OL=1;var e=Bpe();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return Yb=t,Yb}var Xb,CL;function Gpe(){if(CL)return Xb;CL=1;function e(t,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(r,t[i]))return!0;return!1}return Xb=e,Xb}var Kb,RL;function qpe(){if(RL)return Kb;RL=1;function e(){}return Kb=e,Kb}var Zb,LL;function jpe(){if(LL)return Zb;LL=1;var e=s6(),t=qpe(),r=gS(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(a){return new e(a)}:t;return Zb=i,Zb}var Qb,IL;function Wpe(){if(IL)return Qb;IL=1;var e=p6(),t=zpe(),r=Gpe(),n=g6(),i=jpe(),a=gS(),s=200;function o(l,u,c){var f=-1,h=t,d=l.length,v=!0,p=[],g=p;if(c)v=!1,h=r;else if(d>=s){var m=u?null:i(l);if(m)return a(m);v=!1,h=n,g=new e}else g=u?[]:p;e:for(;++f<d;){var y=l[f],b=u?u(y):y;if(y=c||y!==0?y:0,v&&b===b){for(var _=g.length;_--;)if(g[_]===b)continue e;u&&g.push(b),p.push(y)}else h(g,b,c)||(g!==p&&g.push(b),p.push(y))}return p}return Qb=o,Qb}var Jb,DL;function L6(){if(DL)return Jb;DL=1;var e=ao(),t=Es();function r(n){return t(n)&&e(n)}return Jb=r,Jb}var ew,FL;function Vpe(){if(FL)return ew;FL=1;var e=yS(),t=Cg(),r=Wpe(),n=L6(),i=t(function(a){return r(e(a,1,n,!0))});return ew=i,ew}var tw,$L;function Upe(){if($L)return tw;$L=1;var e=Ag();function t(r,n){return e(n,function(i){return r[i]})}return tw=t,tw}var rw,BL;function I6(){if(BL)return rw;BL=1;var e=Upe(),t=Xo();function r(n){return n==null?[]:e(n,t(n))}return rw=r,rw}var nw,zL;function ha(){if(zL)return nw;zL=1;var e;if(typeof nS=="function")try{e={clone:Jve(),constant:dS(),each:v6(),filter:S6(),has:T6(),isArray:Jr(),isEmpty:_pe(),isFunction:yh(),isUndefined:M6(),keys:Xo(),map:A6(),reduce:P6(),size:Ope(),transform:Cpe(),union:Vpe(),values:I6()}}catch{}return e||(e=window._),nw=e,nw}var iw,GL;function bS(){if(GL)return iw;GL=1;var e=ha();iw=i;var t="\0",r="\0",n="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var h=arguments,d=this;return e.each(c,function(v){h.length>1?d.setNode(v,f):d.setNode(v)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=r,this._children[c]={},this._children[r][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var h=function(d){f.removeEdge(f._edgeObjs[d])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(d){f.setParent(d)}),delete this._children[c]),e.each(e.keys(this._in[c]),h),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),h),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=r;else{f+="";for(var h=f;!e.isUndefined(h);h=this.parent(h))if(h===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==r)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=r),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===r)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var h=this;e.each(this._nodes,function(p,g){c(g)&&f.setNode(g,p)}),e.each(this._edgeObjs,function(p){f.hasNode(p.v)&&f.hasNode(p.w)&&f.setEdge(p,h.edge(p))});var d={};function v(p){var g=h.parent(p);return g===void 0||f.hasNode(g)?(d[p]=g,g):g in d?d[g]:v(g)}return this._isCompound&&e.each(f.nodes(),function(p){f.setParent(p,v(p))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var h=this,d=arguments;return e.reduce(c,function(v,p){return d.length>1?h.setEdge(v,p,f):h.setEdge(v,p),p}),this},i.prototype.setEdge=function(){var c,f,h,d,v=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(c=p.v,f=p.w,h=p.name,arguments.length===2&&(d=arguments[1],v=!0)):(c=p,f=arguments[1],h=arguments[3],arguments.length>2&&(d=arguments[2],v=!0)),c=""+c,f=""+f,e.isUndefined(h)||(h=""+h);var g=o(this._isDirected,c,f,h);if(e.has(this._edgeLabels,g))return v&&(this._edgeLabels[g]=d),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[g]=v?d:this._defaultEdgeLabelFn(c,f,h);var m=l(this._isDirected,c,f,h);return c=m.v,f=m.w,Object.freeze(m),this._edgeObjs[g]=m,a(this._preds[f],c),a(this._sucs[c],f),this._in[f][g]=m,this._out[c][g]=m,this._edgeCount++,this},i.prototype.edge=function(c,f,h){var d=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,f,h);return this._edgeLabels[d]},i.prototype.hasEdge=function(c,f,h){var d=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,f,h);return e.has(this._edgeLabels,d)},i.prototype.removeEdge=function(c,f,h){var d=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,f,h),v=this._edgeObjs[d];return v&&(c=v.v,f=v.w,delete this._edgeLabels[d],delete this._edgeObjs[d],s(this._preds[f],c),s(this._sucs[c],f),delete this._in[f][d],delete this._out[c][d],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var h=this._in[c];if(h){var d=e.values(h);return f?e.filter(d,function(v){return v.v===f}):d}},i.prototype.outEdges=function(c,f){var h=this._out[c];if(h){var d=e.values(h);return f?e.filter(d,function(v){return v.w===f}):d}},i.prototype.nodeEdges=function(c,f){var h=this.inEdges(c,f);if(h)return h.concat(this.outEdges(c,f))};function a(c,f){c[f]?c[f]++:c[f]=1}function s(c,f){--c[f]||delete c[f]}function o(c,f,h,d){var v=""+f,p=""+h;if(!c&&v>p){var g=v;v=p,p=g}return v+n+p+n+(e.isUndefined(d)?t:d)}function l(c,f,h,d){var v=""+f,p=""+h;if(!c&&v>p){var g=v;v=p,p=g}var m={v,w:p};return d&&(m.name=d),m}function u(c,f){return o(c,f.v,f.w,f.name)}return iw}var aw,qL;function Hpe(){return qL||(qL=1,aw="2.1.8"),aw}var sw,jL;function Ype(){return jL||(jL=1,sw={Graph:bS(),version:Hpe()}),sw}var ow,WL;function Xpe(){if(WL)return ow;WL=1;var e=ha(),t=bS();ow={write:r,read:a};function r(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:i(s)};return e.isUndefined(s.graph())||(o.value=e.clone(s.graph())),o}function n(s){return e.map(s.nodes(),function(o){var l=s.node(o),u=s.parent(o),c={v:o};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(s){return e.map(s.edges(),function(o){var l=s.edge(o),u={v:o.v,w:o.w};return e.isUndefined(o.name)||(u.name=o.name),e.isUndefined(l)||(u.value=l),u})}function a(s){var o=new t(s.options).setGraph(s.value);return e.each(s.nodes,function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),e.each(s.edges,function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return ow}var lw,VL;function Kpe(){if(VL)return lw;VL=1;var e=ha();lw=t;function t(r){var n={},i=[],a;function s(o){e.has(n,o)||(n[o]=!0,a.push(o),e.each(r.successors(o),s),e.each(r.predecessors(o),s))}return e.each(r.nodes(),function(o){a=[],s(o),a.length&&i.push(a)}),i}return lw}var uw,UL;function D6(){if(UL)return uw;UL=1;var e=ha();uw=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(r){return r.key})},t.prototype.has=function(r){return e.has(this._keyIndices,r)},t.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(r,n){var i=this._keyIndices;if(r=String(r),!e.has(i,r)){var a=this._arr,s=a.length;return i[r]=s,a.push({key:r,priority:n}),this._decrease(s),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},t.prototype.decrease=function(r,n){var i=this._keyIndices[r];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)},t.prototype._heapify=function(r){var n=this._arr,i=2*r,a=i+1,s=r;i<n.length&&(s=n[i].priority<n[s].priority?i:s,a<n.length&&(s=n[a].priority<n[s].priority?a:s),s!==r&&(this._swap(r,s),this._heapify(s)))},t.prototype._decrease=function(r){for(var n=this._arr,i=n[r].priority,a;r!==0&&(a=r>>1,!(n[a].priority<i));)this._swap(r,a),r=a},t.prototype._swap=function(r,n){var i=this._arr,a=this._keyIndices,s=i[r],o=i[n];i[r]=o,i[n]=s,a[o.key]=r,a[s.key]=n},uw}var cw,HL;function F6(){if(HL)return cw;HL=1;var e=ha(),t=D6();cw=n;var r=e.constant(1);function n(a,s,o,l){return i(a,String(s),o||r,l||function(u){return a.outEdges(u)})}function i(a,s,o,l){var u={},c=new t,f,h,d=function(v){var p=v.v!==f?v.v:v.w,g=u[p],m=o(v),y=h.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+m);y<g.distance&&(g.distance=y,g.predecessor=f,c.decrease(p,y))};for(a.nodes().forEach(function(v){var p=v===s?0:Number.POSITIVE_INFINITY;u[v]={distance:p},c.add(v,p)});c.size()>0&&(f=c.removeMin(),h=u[f],h.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(d);return u}return cw}var fw,YL;function Zpe(){if(YL)return fw;YL=1;var e=F6(),t=ha();fw=r;function r(n,i,a){return t.transform(n.nodes(),function(s,o){s[o]=e(n,o,i,a)},{})}return fw}var hw,XL;function $6(){if(XL)return hw;XL=1;var e=ha();hw=t;function t(r){var n=0,i=[],a={},s=[];function o(l){var u=a[l]={onStack:!0,lowlink:n,index:n++};if(i.push(l),r.successors(l).forEach(function(h){e.has(a,h)?a[h].onStack&&(u.lowlink=Math.min(u.lowlink,a[h].index)):(o(h),u.lowlink=Math.min(u.lowlink,a[h].lowlink))}),u.lowlink===u.index){var c=[],f;do f=i.pop(),a[f].onStack=!1,c.push(f);while(l!==f);s.push(c)}}return r.nodes().forEach(function(l){e.has(a,l)||o(l)}),s}return hw}var dw,KL;function Qpe(){if(KL)return dw;KL=1;var e=ha(),t=$6();dw=r;function r(n){return e.filter(t(n),function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return dw}var vw,ZL;function Jpe(){if(ZL)return vw;ZL=1;var e=ha();vw=r;var t=e.constant(1);function r(i,a,s){return n(i,a||t,s||function(o){return i.outEdges(o)})}function n(i,a,s){var o={},l=i.nodes();return l.forEach(function(u){o[u]={},o[u][u]={distance:0},l.forEach(function(c){u!==c&&(o[u][c]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(c){var f=c.v===u?c.w:c.v,h=a(c);o[u][f]={distance:h,predecessor:u}})}),l.forEach(function(u){var c=o[u];l.forEach(function(f){var h=o[f];l.forEach(function(d){var v=h[u],p=c[d],g=h[d],m=v.distance+p.distance;m<g.distance&&(g.distance=m,g.predecessor=p.predecessor)})})}),o}return vw}var pw,QL;function B6(){if(QL)return pw;QL=1;var e=ha();pw=t,t.CycleException=r;function t(n){var i={},a={},s=[];function o(l){if(e.has(a,l))throw new r;e.has(i,l)||(a[l]=!0,i[l]=!0,e.each(n.predecessors(l),o),delete a[l],s.push(l))}if(e.each(n.sinks(),o),e.size(i)!==n.nodeCount())throw new r;return s}function r(){}return r.prototype=new Error,pw}var gw,JL;function ege(){if(JL)return gw;JL=1;var e=B6();gw=t;function t(r){try{e(r)}catch(n){if(n instanceof e.CycleException)return!1;throw n}return!0}return gw}var mw,eI;function z6(){if(eI)return mw;eI=1;var e=ha();mw=t;function t(n,i,a){e.isArray(i)||(i=[i]);var s=(n.isDirected()?n.successors:n.neighbors).bind(n),o=[],l={};return e.each(i,function(u){if(!n.hasNode(u))throw new Error("Graph does not have node: "+u);r(n,u,a==="post",l,s,o)}),o}function r(n,i,a,s,o,l){e.has(s,i)||(s[i]=!0,a||l.push(i),e.each(o(i),function(u){r(n,u,a,s,o,l)}),a&&l.push(i))}return mw}var yw,tI;function tge(){if(tI)return yw;tI=1;var e=z6();yw=t;function t(r,n){return e(r,n,"post")}return yw}var bw,rI;function rge(){if(rI)return bw;rI=1;var e=z6();bw=t;function t(r,n){return e(r,n,"pre")}return bw}var ww,nI;function nge(){if(nI)return ww;nI=1;var e=ha(),t=bS(),r=D6();ww=n;function n(i,a){var s=new t,o={},l=new r,u;function c(h){var d=h.v===u?h.w:h.v,v=l.priority(d);if(v!==void 0){var p=a(h);p<v&&(o[d]=u,l.decrease(d,p))}}if(i.nodeCount()===0)return s;e.each(i.nodes(),function(h){l.add(h,Number.POSITIVE_INFINITY),s.setNode(h)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),e.has(o,u))s.setEdge(u,o[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(c)}return s}return ww}var xw,iI;function ige(){return iI||(iI=1,xw={components:Kpe(),dijkstra:F6(),dijkstraAll:Zpe(),findCycles:Qpe(),floydWarshall:Jpe(),isAcyclic:ege(),postorder:tge(),preorder:rge(),prim:nge(),tarjan:$6(),topsort:B6()}),xw}var Ew,aI;function age(){if(aI)return Ew;aI=1;var e=Ype();return Ew={Graph:e.Graph,json:Xpe(),alg:ige(),version:e.version},Ew}var _w,sI;function Da(){if(sI)return _w;sI=1;var e;if(typeof nS=="function")try{e=age()}catch{}return e||(e=window.graphlib),_w=e,_w}var kw,oI;function sge(){if(oI)return kw;oI=1;var e=f6(),t=1,r=4;function n(i){return e(i,t|r)}return kw=n,kw}var Sw,lI;function Rg(){if(lI)return Sw;lI=1;var e=cc(),t=ao(),r=kg(),n=fa();function i(a,s,o){if(!n(o))return!1;var l=typeof s;return(l=="number"?t(o)&&r(s,o.length):l=="string"&&s in o)?e(o[s],a):!1}return Sw=i,Sw}var Tw,uI;function oge(){if(uI)return Tw;uI=1;var e=Cg(),t=cc(),r=Rg(),n=Xl(),i=Object.prototype,a=i.hasOwnProperty,s=e(function(o,l){o=Object(o);var u=-1,c=l.length,f=c>2?l[2]:void 0;for(f&&r(l[0],l[1],f)&&(c=1);++u<c;)for(var h=l[u],d=n(h),v=-1,p=d.length;++v<p;){var g=d[v],m=o[g];(m===void 0||t(m,i[g])&&!a.call(o,g))&&(o[g]=h[g])}return o});return Tw=s,Tw}var Mw,cI;function lge(){if(cI)return Mw;cI=1;var e=so(),t=ao(),r=Xo();function n(i){return function(a,s,o){var l=Object(a);if(!t(a)){var u=e(s,3);a=r(a),s=function(f){return u(l[f],f,l)}}var c=i(a,s,o);return c>-1?l[u?a[c]:c]:void 0}}return Mw=n,Mw}var Nw,fI;function uge(){if(fI)return Nw;fI=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Nw=t,Nw}var Aw,hI;function cge(){if(hI)return Aw;hI=1;var e=uge(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Aw=r,Aw}var Pw,dI;function fge(){if(dI)return Pw;dI=1;var e=cge(),t=fa(),r=vc(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=a.test(u);return f||s.test(u)?o(u.slice(2),f?2:8):i.test(u)?n:+u}return Pw=l,Pw}var Ow,vI;function G6(){if(vI)return Ow;vI=1;var e=fge(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*r}return i===i?i:0}return Ow=n,Ow}var Cw,pI;function hge(){if(pI)return Cw;pI=1;var e=G6();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return Cw=t,Cw}var Rw,gI;function dge(){if(gI)return Rw;gI=1;var e=R6(),t=so(),r=hge(),n=Math.max;function i(a,s,o){var l=a==null?0:a.length;if(!l)return-1;var u=o==null?0:r(o);return u<0&&(u=n(l+u,0)),e(a,t(s,3),u)}return Rw=i,Rw}var Lw,mI;function vge(){if(mI)return Lw;mI=1;var e=lge(),t=dge(),r=e(t);return Lw=r,Lw}var Iw,yI;function q6(){if(yI)return Iw;yI=1;var e=yS();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return Iw=t,Iw}var Dw,bI;function pge(){if(bI)return Dw;bI=1;var e=vS(),t=h6(),r=Xl();function n(i,a){return i==null?i:e(i,t(a),r)}return Dw=n,Dw}var Fw,wI;function gge(){if(wI)return Fw;wI=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Fw=e,Fw}var $w,xI;function mge(){if(xI)return $w;xI=1;var e=Eg(),t=pS(),r=so();function n(i,a){var s={};return a=r(a,3),t(i,function(o,l,u){e(s,l,a(o,l,u))}),s}return $w=n,$w}var Bw,EI;function wS(){if(EI)return Bw;EI=1;var e=vc();function t(r,n,i){for(var a=-1,s=r.length;++a<s;){var o=r[a],l=n(o);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=o}return c}return Bw=t,Bw}var zw,_I;function yge(){if(_I)return zw;_I=1;function e(t,r){return t>r}return zw=e,zw}var Gw,kI;function bge(){if(kI)return Gw;kI=1;var e=wS(),t=yge(),r=Kl();function n(i){return i&&i.length?e(i,r,t):void 0}return Gw=n,Gw}var qw,SI;function j6(){if(SI)return qw;SI=1;var e=Eg(),t=cc();function r(n,i,a){(a!==void 0&&!t(n[i],a)||a===void 0&&!(i in n))&&e(n,i,a)}return qw=r,qw}var jw,TI;function wge(){if(TI)return jw;TI=1;var e=Hl(),t=Mg(),r=Es(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,l=s.call(Object);function u(c){if(!r(c)||e(c)!=n)return!1;var f=t(c);if(f===null)return!0;var h=o.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==l}return jw=u,jw}var Ww,MI;function W6(){if(MI)return Ww;MI=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return Ww=e,Ww}var Vw,NI;function xge(){if(NI)return Vw;NI=1;var e=bh(),t=Xl();function r(n){return e(n,t(n))}return Vw=r,Vw}var Uw,AI;function Ege(){if(AI)return Uw;AI=1;var e=j6(),t=Jz(),r=l6(),n=e6(),i=c6(),a=wh(),s=Jr(),o=L6(),l=hc(),u=yh(),c=fa(),f=wge(),h=xh(),d=W6(),v=xge();function p(g,m,y,b,_,x,E){var w=d(g,y),S=d(m,y),A=E.get(S);if(A){e(g,y,A);return}var P=x?x(w,S,y+"",g,m,E):void 0,O=P===void 0;if(O){var C=s(S),L=!C&&l(S),I=!C&&!L&&h(S);P=S,C||L||I?s(w)?P=w:o(w)?P=n(w):L?(O=!1,P=t(S,!0)):I?(O=!1,P=r(S,!0)):P=[]:f(S)||a(S)?(P=w,a(w)?P=v(w):(!c(w)||u(w))&&(P=i(S))):O=!1}O&&(E.set(S,P),_(P,S,b,x,E),E.delete(S)),e(g,y,P)}return Uw=p,Uw}var Hw,PI;function _ge(){if(PI)return Hw;PI=1;var e=xg(),t=j6(),r=vS(),n=Ege(),i=fa(),a=Xl(),s=W6();function o(l,u,c,f,h){l!==u&&r(u,function(d,v){if(h||(h=new e),i(d))n(l,u,v,c,o,f,h);else{var p=f?f(s(l,v),d,v+"",l,u,h):void 0;p===void 0&&(p=d),t(l,v,p)}},a)}return Hw=o,Hw}var Yw,OI;function kge(){if(OI)return Yw;OI=1;var e=Cg(),t=Rg();function r(n){return e(function(i,a){var s=-1,o=a.length,l=o>1?a[o-1]:void 0,u=o>2?a[2]:void 0;for(l=n.length>3&&typeof l=="function"?(o--,l):void 0,u&&t(a[0],a[1],u)&&(l=o<3?void 0:l,o=1),i=Object(i);++s<o;){var c=a[s];c&&n(i,c,s,l)}return i})}return Yw=r,Yw}var Xw,CI;function Sge(){if(CI)return Xw;CI=1;var e=_ge(),t=kge(),r=t(function(n,i,a){e(n,i,a)});return Xw=r,Xw}var Kw,RI;function V6(){if(RI)return Kw;RI=1;function e(t,r){return t<r}return Kw=e,Kw}var Zw,LI;function Tge(){if(LI)return Zw;LI=1;var e=wS(),t=V6(),r=Kl();function n(i){return i&&i.length?e(i,r,t):void 0}return Zw=n,Zw}var Qw,II;function Mge(){if(II)return Qw;II=1;var e=wS(),t=so(),r=V6();function n(i,a){return i&&i.length?e(i,t(a,2),r):void 0}return Qw=n,Qw}var Jw,DI;function Nge(){if(DI)return Jw;DI=1;var e=za(),t=function(){return e.Date.now()};return Jw=t,Jw}var ex,FI;function Age(){if(FI)return ex;FI=1;var e=_g(),t=Pg(),r=kg(),n=fa(),i=Eh();function a(s,o,l,u){if(!n(s))return s;o=t(o,s);for(var c=-1,f=o.length,h=f-1,d=s;d!=null&&++c<f;){var v=i(o[c]),p=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return s;if(c!=h){var g=d[v];p=u?u(g,v,d):void 0,p===void 0&&(p=n(g)?g:r(o[c+1])?[]:{})}e(d,v,p),d=d[v]}return s}return ex=a,ex}var tx,$I;function Pge(){if($I)return tx;$I=1;var e=Og(),t=Age(),r=Pg();function n(i,a,s){for(var o=-1,l=a.length,u={};++o<l;){var c=a[o],f=e(i,c);s(f,c)&&t(u,r(c,i),f)}return u}return tx=n,tx}var rx,BI;function Oge(){if(BI)return rx;BI=1;var e=Pge(),t=_6();function r(n,i){return e(n,i,function(a,s){return t(n,s)})}return rx=r,rx}var nx,zI;function Cge(){if(zI)return nx;zI=1;var e=q6(),t=O6(),r=C6();function n(i){return r(t(i,void 0,e),i+"")}return nx=n,nx}var ix,GI;function Rge(){if(GI)return ix;GI=1;var e=Oge(),t=Cge(),r=t(function(n,i){return n==null?{}:e(n,i)});return ix=r,ix}var ax,qI;function Lge(){if(qI)return ax;qI=1;var e=Math.ceil,t=Math.max;function r(n,i,a,s){for(var o=-1,l=t(e((i-n)/(a||1)),0),u=Array(l);l--;)u[s?l:++o]=n,n+=a;return u}return ax=r,ax}var sx,jI;function Ige(){if(jI)return sx;jI=1;var e=Lge(),t=Rg(),r=G6();function n(i){return function(a,s,o){return o&&typeof o!="number"&&t(a,s,o)&&(s=o=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),o=o===void 0?a<s?1:-1:r(o),e(a,s,o,i)}}return sx=n,sx}var ox,WI;function Dge(){if(WI)return ox;WI=1;var e=Ige(),t=e();return ox=t,ox}var lx,VI;function Fge(){if(VI)return lx;VI=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return lx=e,lx}var ux,UI;function $ge(){if(UI)return ux;UI=1;var e=vc();function t(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,o=e(r),l=n!==void 0,u=n===null,c=n===n,f=e(n);if(!u&&!f&&!o&&r>n||o&&l&&c&&!u&&!f||a&&l&&c||!i&&c||!s)return 1;if(!a&&!o&&!f&&r<n||f&&i&&s&&!a&&!o||u&&i&&s||!l&&s||!c)return-1}return 0}return ux=t,ux}var cx,HI;function Bge(){if(HI)return cx;HI=1;var e=$ge();function t(r,n,i){for(var a=-1,s=r.criteria,o=n.criteria,l=s.length,u=i.length;++a<l;){var c=e(s[a],o[a]);if(c){if(a>=u)return c;var f=i[a];return c*(f=="desc"?-1:1)}}return r.index-n.index}return cx=t,cx}var fx,YI;function zge(){if(YI)return fx;YI=1;var e=Ag(),t=Og(),r=so(),n=N6(),i=Fge(),a=Sg(),s=Bge(),o=Kl(),l=Jr();function u(c,f,h){f.length?f=e(f,function(p){return l(p)?function(g){return t(g,p.length===1?p[0]:p)}:p}):f=[o];var d=-1;f=e(f,a(r));var v=n(c,function(p,g,m){var y=e(f,function(b){return b(p)});return{criteria:y,index:++d,value:p}});return i(v,function(p,g){return s(p,g,h)})}return fx=u,fx}var hx,XI;function Gge(){if(XI)return hx;XI=1;var e=yS(),t=zge(),r=Cg(),n=Rg(),i=r(function(a,s){if(a==null)return[];var o=s.length;return o>1&&n(a,s[0],s[1])?s=[]:o>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),t(a,e(s,1),[])});return hx=i,hx}var dx,KI;function qge(){if(KI)return dx;KI=1;var e=x6(),t=0;function r(n){var i=++t;return e(n)+i}return dx=r,dx}var vx,ZI;function jge(){if(ZI)return vx;ZI=1;function e(t,r,n){for(var i=-1,a=t.length,s=r.length,o={};++i<a;){var l=i<s?r[i]:void 0;n(o,t[i],l)}return o}return vx=e,vx}var px,QI;function Wge(){if(QI)return px;QI=1;var e=_g(),t=jge();function r(n,i){return t(n||[],i||[],e)}return px=r,px}var gx,JI;function Er(){if(JI)return gx;JI=1;var e;if(typeof nS=="function")try{e={cloneDeep:sge(),constant:dS(),defaults:oge(),each:v6(),filter:S6(),find:vge(),flatten:q6(),forEach:d6(),forIn:pge(),has:T6(),isUndefined:M6(),last:gge(),map:A6(),mapValues:mge(),max:bge(),merge:Sge(),min:Tge(),minBy:Mge(),now:Nge(),pick:Rge(),range:Dge(),reduce:P6(),sortBy:Gge(),uniqueId:qge(),values:I6(),zipObject:Wge()}}catch{}return e||(e=window._),gx=e,gx}var mx,e3;function Vge(){if(e3)return mx;e3=1,mx=e;function e(){var n={};n._next=n._prev=n,this._sentinel=n}e.prototype.dequeue=function(){var n=this._sentinel,i=n._prev;if(i!==n)return t(i),i},e.prototype.enqueue=function(n){var i=this._sentinel;n._prev&&n._next&&t(n),n._next=i._next,i._next._prev=n,i._next=n,n._prev=i},e.prototype.toString=function(){for(var n=[],i=this._sentinel,a=i._prev;a!==i;)n.push(JSON.stringify(a,r)),a=a._prev;return"["+n.join(", ")+"]"};function t(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function r(n,i){if(n!=="_next"&&n!=="_prev")return i}return mx}var yx,t3;function Uge(){if(t3)return yx;t3=1;var e=Er(),t=Da().Graph,r=Vge();yx=i;var n=e.constant(1);function i(u,c){if(u.nodeCount()<=1)return[];var f=o(u,c||n),h=a(f.graph,f.buckets,f.zeroIdx);return e.flatten(e.map(h,function(d){return u.outEdges(d.v,d.w)}),!0)}function a(u,c,f){for(var h=[],d=c[c.length-1],v=c[0],p;u.nodeCount();){for(;p=v.dequeue();)s(u,c,f,p);for(;p=d.dequeue();)s(u,c,f,p);if(u.nodeCount()){for(var g=c.length-2;g>0;--g)if(p=c[g].dequeue(),p){h=h.concat(s(u,c,f,p,!0));break}}}return h}function s(u,c,f,h,d){var v=d?[]:void 0;return e.forEach(u.inEdges(h.v),function(p){var g=u.edge(p),m=u.node(p.v);d&&v.push({v:p.v,w:p.w}),m.out-=g,l(c,f,m)}),e.forEach(u.outEdges(h.v),function(p){var g=u.edge(p),m=p.w,y=u.node(m);y.in-=g,l(c,f,y)}),u.removeNode(h.v),v}function o(u,c){var f=new t,h=0,d=0;e.forEach(u.nodes(),function(g){f.setNode(g,{v:g,in:0,out:0})}),e.forEach(u.edges(),function(g){var m=f.edge(g.v,g.w)||0,y=c(g),b=m+y;f.setEdge(g.v,g.w,b),d=Math.max(d,f.node(g.v).out+=y),h=Math.max(h,f.node(g.w).in+=y)});var v=e.range(d+h+3).map(function(){return new r}),p=h+1;return e.forEach(f.nodes(),function(g){l(v,p,f.node(g))}),{graph:f,buckets:v,zeroIdx:p}}function l(u,c,f){f.out?f.in?u[f.out-f.in+c].enqueue(f):u[u.length-1].enqueue(f):u[0].enqueue(f)}return yx}var bx,r3;function Hge(){if(r3)return bx;r3=1;var e=Er(),t=Uge();bx={run:r,undo:i};function r(a){var s=a.graph().acyclicer==="greedy"?t(a,o(a)):n(a);e.forEach(s,function(l){var u=a.edge(l);a.removeEdge(l),u.forwardName=l.name,u.reversed=!0,a.setEdge(l.w,l.v,u,e.uniqueId("rev"))});function o(l){return function(u){return l.edge(u).weight}}}function n(a){var s=[],o={},l={};function u(c){e.has(l,c)||(l[c]=!0,o[c]=!0,e.forEach(a.outEdges(c),function(f){e.has(o,f.w)?s.push(f):u(f.w)}),delete o[c])}return e.forEach(a.nodes(),u),s}function i(a){e.forEach(a.edges(),function(s){var o=a.edge(s);if(o.reversed){a.removeEdge(s);var l=o.forwardName;delete o.reversed,delete o.forwardName,a.setEdge(s.w,s.v,o,l)}})}return bx}var wx,n3;function gi(){if(n3)return wx;n3=1;var e=Er(),t=Da().Graph;wx={addDummyNode:r,simplify:n,asNonCompoundGraph:i,successorWeights:a,predecessorWeights:s,intersectRect:o,buildLayerMatrix:l,normalizeRanks:u,removeEmptyRanks:c,addBorderNode:f,maxRank:h,partition:d,time:v,notime:p};function r(g,m,y,b){var _;do _=e.uniqueId(b);while(g.hasNode(_));return y.dummy=m,g.setNode(_,y),_}function n(g){var m=new t().setGraph(g.graph());return e.forEach(g.nodes(),function(y){m.setNode(y,g.node(y))}),e.forEach(g.edges(),function(y){var b=m.edge(y.v,y.w)||{weight:0,minlen:1},_=g.edge(y);m.setEdge(y.v,y.w,{weight:b.weight+_.weight,minlen:Math.max(b.minlen,_.minlen)})}),m}function i(g){var m=new t({multigraph:g.isMultigraph()}).setGraph(g.graph());return e.forEach(g.nodes(),function(y){g.children(y).length||m.setNode(y,g.node(y))}),e.forEach(g.edges(),function(y){m.setEdge(y,g.edge(y))}),m}function a(g){var m=e.map(g.nodes(),function(y){var b={};return e.forEach(g.outEdges(y),function(_){b[_.w]=(b[_.w]||0)+g.edge(_).weight}),b});return e.zipObject(g.nodes(),m)}function s(g){var m=e.map(g.nodes(),function(y){var b={};return e.forEach(g.inEdges(y),function(_){b[_.v]=(b[_.v]||0)+g.edge(_).weight}),b});return e.zipObject(g.nodes(),m)}function o(g,m){var y=g.x,b=g.y,_=m.x-y,x=m.y-b,E=g.width/2,w=g.height/2;if(!_&&!x)throw new Error("Not possible to find intersection inside of the rectangle");var S,A;return Math.abs(x)*E>Math.abs(_)*w?(x<0&&(w=-w),S=w*_/x,A=w):(_<0&&(E=-E),S=E,A=E*x/_),{x:y+S,y:b+A}}function l(g){var m=e.map(e.range(h(g)+1),function(){return[]});return e.forEach(g.nodes(),function(y){var b=g.node(y),_=b.rank;e.isUndefined(_)||(m[_][b.order]=y)}),m}function u(g){var m=e.min(e.map(g.nodes(),function(y){return g.node(y).rank}));e.forEach(g.nodes(),function(y){var b=g.node(y);e.has(b,"rank")&&(b.rank-=m)})}function c(g){var m=e.min(e.map(g.nodes(),function(x){return g.node(x).rank})),y=[];e.forEach(g.nodes(),function(x){var E=g.node(x).rank-m;y[E]||(y[E]=[]),y[E].push(x)});var b=0,_=g.graph().nodeRankFactor;e.forEach(y,function(x,E){e.isUndefined(x)&&E%_!==0?--b:b&&e.forEach(x,function(w){g.node(w).rank+=b})})}function f(g,m,y,b){var _={width:0,height:0};return arguments.length>=4&&(_.rank=y,_.order=b),r(g,"border",_,m)}function h(g){return e.max(e.map(g.nodes(),function(m){var y=g.node(m).rank;if(!e.isUndefined(y))return y}))}function d(g,m){var y={lhs:[],rhs:[]};return e.forEach(g,function(b){m(b)?y.lhs.push(b):y.rhs.push(b)}),y}function v(g,m){var y=e.now();try{return m()}finally{console.log(g+" time: "+(e.now()-y)+"ms")}}function p(g,m){return m()}return wx}var xx,i3;function Yge(){if(i3)return xx;i3=1;var e=Er(),t=gi();xx={run:r,undo:i};function r(a){a.graph().dummyChains=[],e.forEach(a.edges(),function(s){n(a,s)})}function n(a,s){var o=s.v,l=a.node(o).rank,u=s.w,c=a.node(u).rank,f=s.name,h=a.edge(s),d=h.labelRank;if(c!==l+1){a.removeEdge(s);var v,p,g;for(g=0,++l;l<c;++g,++l)h.points=[],p={width:0,height:0,edgeLabel:h,edgeObj:s,rank:l},v=t.addDummyNode(a,"edge",p,"_d"),l===d&&(p.width=h.width,p.height=h.height,p.dummy="edge-label",p.labelpos=h.labelpos),a.setEdge(o,v,{weight:h.weight},f),g===0&&a.graph().dummyChains.push(v),o=v;a.setEdge(o,u,{weight:h.weight},f)}}function i(a){e.forEach(a.graph().dummyChains,function(s){var o=a.node(s),l=o.edgeLabel,u;for(a.setEdge(o.edgeObj,l);o.dummy;)u=a.successors(s)[0],a.removeNode(s),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),s=u,o=a.node(s)})}return xx}var Ex,a3;function lp(){if(a3)return Ex;a3=1;var e=Er();Ex={longestPath:t,slack:r};function t(n){var i={};function a(s){var o=n.node(s);if(e.has(i,s))return o.rank;i[s]=!0;var l=e.min(e.map(n.outEdges(s),function(u){return a(u.w)-n.edge(u).minlen}));return(l===Number.POSITIVE_INFINITY||l===void 0||l===null)&&(l=0),o.rank=l}e.forEach(n.sources(),a)}function r(n,i){return n.node(i.w).rank-n.node(i.v).rank-n.edge(i).minlen}return Ex}var _x,s3;function U6(){if(s3)return _x;s3=1;var e=Er(),t=Da().Graph,r=lp().slack;_x=n;function n(o){var l=new t({directed:!1}),u=o.nodes()[0],c=o.nodeCount();l.setNode(u,{});for(var f,h;i(l,o)<c;)f=a(l,o),h=l.hasNode(f.v)?r(o,f):-r(o,f),s(l,o,h);return l}function i(o,l){function u(c){e.forEach(l.nodeEdges(c),function(f){var h=f.v,d=c===h?f.w:h;!o.hasNode(d)&&!r(l,f)&&(o.setNode(d,{}),o.setEdge(c,d,{}),u(d))})}return e.forEach(o.nodes(),u),o.nodeCount()}function a(o,l){return e.minBy(l.edges(),function(u){if(o.hasNode(u.v)!==o.hasNode(u.w))return r(l,u)})}function s(o,l,u){e.forEach(o.nodes(),function(c){l.node(c).rank+=u})}return _x}var kx,o3;function Xge(){if(o3)return kx;o3=1;var e=Er(),t=U6(),r=lp().slack,n=lp().longestPath,i=Da().alg.preorder,a=Da().alg.postorder,s=gi().simplify;kx=o,o.initLowLimValues=f,o.initCutValues=l,o.calcCutValue=c,o.leaveEdge=d,o.enterEdge=v,o.exchangeEdges=p;function o(b){b=s(b),n(b);var _=t(b);f(_),l(_,b);for(var x,E;x=d(_);)E=v(_,b,x),p(_,b,x,E)}function l(b,_){var x=a(b,b.nodes());x=x.slice(0,x.length-1),e.forEach(x,function(E){u(b,_,E)})}function u(b,_,x){var E=b.node(x),w=E.parent;b.edge(x,w).cutvalue=c(b,_,x)}function c(b,_,x){var E=b.node(x),w=E.parent,S=!0,A=_.edge(x,w),P=0;return A||(S=!1,A=_.edge(w,x)),P=A.weight,e.forEach(_.nodeEdges(x),function(O){var C=O.v===x,L=C?O.w:O.v;if(L!==w){var I=C===S,F=_.edge(O).weight;if(P+=I?F:-F,m(b,x,L)){var U=b.edge(x,L).cutvalue;P+=I?-U:U}}}),P}function f(b,_){arguments.length<2&&(_=b.nodes()[0]),h(b,{},1,_)}function h(b,_,x,E,w){var S=x,A=b.node(E);return _[E]=!0,e.forEach(b.neighbors(E),function(P){e.has(_,P)||(x=h(b,_,x,P,E))}),A.low=S,A.lim=x++,w?A.parent=w:delete A.parent,x}function d(b){return e.find(b.edges(),function(_){return b.edge(_).cutvalue<0})}function v(b,_,x){var E=x.v,w=x.w;_.hasEdge(E,w)||(E=x.w,w=x.v);var S=b.node(E),A=b.node(w),P=S,O=!1;S.lim>A.lim&&(P=A,O=!0);var C=e.filter(_.edges(),function(L){return O===y(b,b.node(L.v),P)&&O!==y(b,b.node(L.w),P)});return e.minBy(C,function(L){return r(_,L)})}function p(b,_,x,E){var w=x.v,S=x.w;b.removeEdge(w,S),b.setEdge(E.v,E.w,{}),f(b),l(b,_),g(b,_)}function g(b,_){var x=e.find(b.nodes(),function(w){return!_.node(w).parent}),E=i(b,x);E=E.slice(1),e.forEach(E,function(w){var S=b.node(w).parent,A=_.edge(w,S),P=!1;A||(A=_.edge(S,w),P=!0),_.node(w).rank=_.node(S).rank+(P?A.minlen:-A.minlen)})}function m(b,_,x){return b.hasEdge(_,x)}function y(b,_,x){return x.low<=_.lim&&_.lim<=x.lim}return kx}var Sx,l3;function Kge(){if(l3)return Sx;l3=1;var e=lp(),t=e.longestPath,r=U6(),n=Xge();Sx=i;function i(l){switch(l.graph().ranker){case"network-simplex":o(l);break;case"tight-tree":s(l);break;case"longest-path":a(l);break;default:o(l)}}var a=t;function s(l){t(l),r(l)}function o(l){n(l)}return Sx}var Tx,u3;function Zge(){if(u3)return Tx;u3=1;var e=Er();Tx=t;function t(i){var a=n(i);e.forEach(i.graph().dummyChains,function(s){for(var o=i.node(s),l=o.edgeObj,u=r(i,a,l.v,l.w),c=u.path,f=u.lca,h=0,d=c[h],v=!0;s!==l.w;){if(o=i.node(s),v){for(;(d=c[h])!==f&&i.node(d).maxRank<o.rank;)h++;d===f&&(v=!1)}if(!v){for(;h<c.length-1&&i.node(d=c[h+1]).minRank<=o.rank;)h++;d=c[h]}i.setParent(s,d),s=i.successors(s)[0]}})}function r(i,a,s,o){var l=[],u=[],c=Math.min(a[s].low,a[o].low),f=Math.max(a[s].lim,a[o].lim),h,d;h=s;do h=i.parent(h),l.push(h);while(h&&(a[h].low>c||f>a[h].lim));for(d=h,h=o;(h=i.parent(h))!==d;)u.push(h);return{path:l.concat(u.reverse()),lca:d}}function n(i){var a={},s=0;function o(l){var u=s;e.forEach(i.children(l),o),a[l]={low:u,lim:s++}}return e.forEach(i.children(),o),a}return Tx}var Mx,c3;function Qge(){if(c3)return Mx;c3=1;var e=Er(),t=gi();Mx={run:r,cleanup:s};function r(o){var l=t.addDummyNode(o,"root",{},"_root"),u=i(o),c=e.max(e.values(u))-1,f=2*c+1;o.graph().nestingRoot=l,e.forEach(o.edges(),function(d){o.edge(d).minlen*=f});var h=a(o)+1;e.forEach(o.children(),function(d){n(o,l,f,h,c,u,d)}),o.graph().nodeRankFactor=f}function n(o,l,u,c,f,h,d){var v=o.children(d);if(!v.length){d!==l&&o.setEdge(l,d,{weight:0,minlen:u});return}var p=t.addBorderNode(o,"_bt"),g=t.addBorderNode(o,"_bb"),m=o.node(d);o.setParent(p,d),m.borderTop=p,o.setParent(g,d),m.borderBottom=g,e.forEach(v,function(y){n(o,l,u,c,f,h,y);var b=o.node(y),_=b.borderTop?b.borderTop:y,x=b.borderBottom?b.borderBottom:y,E=b.borderTop?c:2*c,w=_!==x?1:f-h[d]+1;o.setEdge(p,_,{weight:E,minlen:w,nestingEdge:!0}),o.setEdge(x,g,{weight:E,minlen:w,nestingEdge:!0})}),o.parent(d)||o.setEdge(l,p,{weight:0,minlen:f+h[d]})}function i(o){var l={};function u(c,f){var h=o.children(c);h&&h.length&&e.forEach(h,function(d){u(d,f+1)}),l[c]=f}return e.forEach(o.children(),function(c){u(c,1)}),l}function a(o){return e.reduce(o.edges(),function(l,u){return l+o.edge(u).weight},0)}function s(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,e.forEach(o.edges(),function(u){var c=o.edge(u);c.nestingEdge&&o.removeEdge(u)})}return Mx}var Nx,f3;function Jge(){if(f3)return Nx;f3=1;var e=Er(),t=gi();Nx=r;function r(i){function a(s){var o=i.children(s),l=i.node(s);if(o.length&&e.forEach(o,a),e.has(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(var u=l.minRank,c=l.maxRank+1;u<c;++u)n(i,"borderLeft","_bl",s,l,u),n(i,"borderRight","_br",s,l,u)}}e.forEach(i.children(),a)}function n(i,a,s,o,l,u){var c={width:0,height:0,rank:u,borderType:a},f=l[a][u-1],h=t.addDummyNode(i,"border",c,s);l[a][u]=h,i.setParent(h,o),f&&i.setEdge(f,h,{weight:1})}return Nx}var Ax,h3;function e0e(){if(h3)return Ax;h3=1;var e=Er();Ax={adjust:t,undo:r};function t(u){var c=u.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&n(u)}function r(u){var c=u.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&a(u),(c==="lr"||c==="rl")&&(o(u),n(u))}function n(u){e.forEach(u.nodes(),function(c){i(u.node(c))}),e.forEach(u.edges(),function(c){i(u.edge(c))})}function i(u){var c=u.width;u.width=u.height,u.height=c}function a(u){e.forEach(u.nodes(),function(c){s(u.node(c))}),e.forEach(u.edges(),function(c){var f=u.edge(c);e.forEach(f.points,s),e.has(f,"y")&&s(f)})}function s(u){u.y=-u.y}function o(u){e.forEach(u.nodes(),function(c){l(u.node(c))}),e.forEach(u.edges(),function(c){var f=u.edge(c);e.forEach(f.points,l),e.has(f,"x")&&l(f)})}function l(u){var c=u.x;u.x=u.y,u.y=c}return Ax}var Px,d3;function t0e(){if(d3)return Px;d3=1;var e=Er();Px=t;function t(r){var n={},i=e.filter(r.nodes(),function(u){return!r.children(u).length}),a=e.max(e.map(i,function(u){return r.node(u).rank})),s=e.map(e.range(a+1),function(){return[]});function o(u){if(!e.has(n,u)){n[u]=!0;var c=r.node(u);s[c.rank].push(u),e.forEach(r.successors(u),o)}}var l=e.sortBy(i,function(u){return r.node(u).rank});return e.forEach(l,o),s}return Px}var Ox,v3;function r0e(){if(v3)return Ox;v3=1;var e=Er();Ox=t;function t(n,i){for(var a=0,s=1;s<i.length;++s)a+=r(n,i[s-1],i[s]);return a}function r(n,i,a){for(var s=e.zipObject(a,e.map(a,function(h,d){return d})),o=e.flatten(e.map(i,function(h){return e.sortBy(e.map(n.outEdges(h),function(d){return{pos:s[d.w],weight:n.edge(d).weight}}),"pos")}),!0),l=1;l<a.length;)l<<=1;var u=2*l-1;l-=1;var c=e.map(new Array(u),function(){return 0}),f=0;return e.forEach(o.forEach(function(h){var d=h.pos+l;c[d]+=h.weight;for(var v=0;d>0;)d%2&&(v+=c[d+1]),d=d-1>>1,c[d]+=h.weight;f+=h.weight*v})),f}return Ox}var Cx,p3;function n0e(){if(p3)return Cx;p3=1;var e=Er();Cx=t;function t(r,n){return e.map(n,function(i){var a=r.inEdges(i);if(a.length){var s=e.reduce(a,function(o,l){var u=r.edge(l),c=r.node(l.v);return{sum:o.sum+u.weight*c.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:i,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:i}})}return Cx}var Rx,g3;function i0e(){if(g3)return Rx;g3=1;var e=Er();Rx=t;function t(i,a){var s={};e.forEach(i,function(l,u){var c=s[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:u};e.isUndefined(l.barycenter)||(c.barycenter=l.barycenter,c.weight=l.weight)}),e.forEach(a.edges(),function(l){var u=s[l.v],c=s[l.w];!e.isUndefined(u)&&!e.isUndefined(c)&&(c.indegree++,u.out.push(s[l.w]))});var o=e.filter(s,function(l){return!l.indegree});return r(o)}function r(i){var a=[];function s(u){return function(c){c.merged||(e.isUndefined(c.barycenter)||e.isUndefined(u.barycenter)||c.barycenter>=u.barycenter)&&n(u,c)}}function o(u){return function(c){c.in.push(u),--c.indegree===0&&i.push(c)}}for(;i.length;){var l=i.pop();a.push(l),e.forEach(l.in.reverse(),s(l)),e.forEach(l.out,o(l))}return e.map(e.filter(a,function(u){return!u.merged}),function(u){return e.pick(u,["vs","i","barycenter","weight"])})}function n(i,a){var s=0,o=0;i.weight&&(s+=i.barycenter*i.weight,o+=i.weight),a.weight&&(s+=a.barycenter*a.weight,o+=a.weight),i.vs=a.vs.concat(i.vs),i.barycenter=s/o,i.weight=o,i.i=Math.min(a.i,i.i),a.merged=!0}return Rx}var Lx,m3;function a0e(){if(m3)return Lx;m3=1;var e=Er(),t=gi();Lx=r;function r(a,s){var o=t.partition(a,function(p){return e.has(p,"barycenter")}),l=o.lhs,u=e.sortBy(o.rhs,function(p){return-p.i}),c=[],f=0,h=0,d=0;l.sort(i(!!s)),d=n(c,u,d),e.forEach(l,function(p){d+=p.vs.length,c.push(p.vs),f+=p.barycenter*p.weight,h+=p.weight,d=n(c,u,d)});var v={vs:e.flatten(c,!0)};return h&&(v.barycenter=f/h,v.weight=h),v}function n(a,s,o){for(var l;s.length&&(l=e.last(s)).i<=o;)s.pop(),a.push(l.vs),o++;return o}function i(a){return function(s,o){return s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:a?o.i-s.i:s.i-o.i}}return Lx}var Ix,y3;function s0e(){if(y3)return Ix;y3=1;var e=Er(),t=n0e(),r=i0e(),n=a0e();Ix=i;function i(o,l,u,c){var f=o.children(l),h=o.node(l),d=h?h.borderLeft:void 0,v=h?h.borderRight:void 0,p={};d&&(f=e.filter(f,function(x){return x!==d&&x!==v}));var g=t(o,f);e.forEach(g,function(x){if(o.children(x.v).length){var E=i(o,x.v,u,c);p[x.v]=E,e.has(E,"barycenter")&&s(x,E)}});var m=r(g,u);a(m,p);var y=n(m,c);if(d&&(y.vs=e.flatten([d,y.vs,v],!0),o.predecessors(d).length)){var b=o.node(o.predecessors(d)[0]),_=o.node(o.predecessors(v)[0]);e.has(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+b.order+_.order)/(y.weight+2),y.weight+=2}return y}function a(o,l){e.forEach(o,function(u){u.vs=e.flatten(u.vs.map(function(c){return l[c]?l[c].vs:c}),!0)})}function s(o,l){e.isUndefined(o.barycenter)?(o.barycenter=l.barycenter,o.weight=l.weight):(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight)}return Ix}var Dx,b3;function o0e(){if(b3)return Dx;b3=1;var e=Er(),t=Da().Graph;Dx=r;function r(i,a,s){var o=n(i),l=new t({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(u){return i.node(u)});return e.forEach(i.nodes(),function(u){var c=i.node(u),f=i.parent(u);(c.rank===a||c.minRank<=a&&a<=c.maxRank)&&(l.setNode(u),l.setParent(u,f||o),e.forEach(i[s](u),function(h){var d=h.v===u?h.w:h.v,v=l.edge(d,u),p=e.isUndefined(v)?0:v.weight;l.setEdge(d,u,{weight:i.edge(h).weight+p})}),e.has(c,"minRank")&&l.setNode(u,{borderLeft:c.borderLeft[a],borderRight:c.borderRight[a]}))}),l}function n(i){for(var a;i.hasNode(a=e.uniqueId("_root")););return a}return Dx}var Fx,w3;function l0e(){if(w3)return Fx;w3=1;var e=Er();Fx=t;function t(r,n,i){var a={},s;e.forEach(i,function(o){for(var l=r.parent(o),u,c;l;){if(u=r.parent(l),u?(c=a[u],a[u]=l):(c=s,s=l),c&&c!==l){n.setEdge(c,l);return}l=u}})}return Fx}var $x,x3;function u0e(){if(x3)return $x;x3=1;var e=Er(),t=t0e(),r=r0e(),n=s0e(),i=o0e(),a=l0e(),s=Da().Graph,o=gi();$x=l;function l(h){var d=o.maxRank(h),v=u(h,e.range(1,d+1),"inEdges"),p=u(h,e.range(d-1,-1,-1),"outEdges"),g=t(h);f(h,g);for(var m=Number.POSITIVE_INFINITY,y,b=0,_=0;_<4;++b,++_){c(b%2?v:p,b%4>=2),g=o.buildLayerMatrix(h);var x=r(h,g);x<m&&(_=0,y=e.cloneDeep(g),m=x)}f(h,y)}function u(h,d,v){return e.map(d,function(p){return i(h,p,v)})}function c(h,d){var v=new s;e.forEach(h,function(p){var g=p.graph().root,m=n(p,g,v,d);e.forEach(m.vs,function(y,b){p.node(y).order=b}),a(p,v,m.vs)})}function f(h,d){e.forEach(d,function(v){e.forEach(v,function(p,g){h.node(p).order=g})})}return $x}var Bx,E3;function c0e(){if(E3)return Bx;E3=1;var e=Er(),t=Da().Graph,r=gi();Bx={positionX:v,findType1Conflicts:n,findType2Conflicts:i,addConflict:s,hasConflict:o,verticalAlignment:l,horizontalCompaction:u,alignCoordinates:h,findSmallestWidthAlignment:f,balance:d};function n(m,y){var b={};function _(x,E){var w=0,S=0,A=x.length,P=e.last(E);return e.forEach(E,function(O,C){var L=a(m,O),I=L?m.node(L).order:A;(L||O===P)&&(e.forEach(E.slice(S,C+1),function(F){e.forEach(m.predecessors(F),function(U){var G=m.node(U),z=G.order;(z<w||I<z)&&!(G.dummy&&m.node(F).dummy)&&s(b,U,F)})}),S=C+1,w=I)}),E}return e.reduce(y,_),b}function i(m,y){var b={};function _(E,w,S,A,P){var O;e.forEach(e.range(w,S),function(C){O=E[C],m.node(O).dummy&&e.forEach(m.predecessors(O),function(L){var I=m.node(L);I.dummy&&(I.order<A||I.order>P)&&s(b,L,O)})})}function x(E,w){var S=-1,A,P=0;return e.forEach(w,function(O,C){if(m.node(O).dummy==="border"){var L=m.predecessors(O);L.length&&(A=m.node(L[0]).order,_(w,P,C,S,A),P=C,S=A)}_(w,P,w.length,A,E.length)}),w}return e.reduce(y,x),b}function a(m,y){if(m.node(y).dummy)return e.find(m.predecessors(y),function(b){return m.node(b).dummy})}function s(m,y,b){if(y>b){var _=y;y=b,b=_}var x=m[y];x||(m[y]=x={}),x[b]=!0}function o(m,y,b){if(y>b){var _=y;y=b,b=_}return e.has(m[y],b)}function l(m,y,b,_){var x={},E={},w={};return e.forEach(y,function(S){e.forEach(S,function(A,P){x[A]=A,E[A]=A,w[A]=P})}),e.forEach(y,function(S){var A=-1;e.forEach(S,function(P){var O=_(P);if(O.length){O=e.sortBy(O,function(U){return w[U]});for(var C=(O.length-1)/2,L=Math.floor(C),I=Math.ceil(C);L<=I;++L){var F=O[L];E[P]===P&&A<w[F]&&!o(b,P,F)&&(E[F]=P,E[P]=x[P]=x[F],A=w[F])}}})}),{root:x,align:E}}function u(m,y,b,_,x){var E={},w=c(m,y,b,x),S=x?"borderLeft":"borderRight";function A(C,L){for(var I=w.nodes(),F=I.pop(),U={};F;)U[F]?C(F):(U[F]=!0,I.push(F),I=I.concat(L(F))),F=I.pop()}function P(C){E[C]=w.inEdges(C).reduce(function(L,I){return Math.max(L,E[I.v]+w.edge(I))},0)}function O(C){var L=w.outEdges(C).reduce(function(F,U){return Math.min(F,E[U.w]-w.edge(U))},Number.POSITIVE_INFINITY),I=m.node(C);L!==Number.POSITIVE_INFINITY&&I.borderType!==S&&(E[C]=Math.max(E[C],L))}return A(P,w.predecessors.bind(w)),A(O,w.successors.bind(w)),e.forEach(_,function(C){E[C]=E[b[C]]}),E}function c(m,y,b,_){var x=new t,E=m.graph(),w=p(E.nodesep,E.edgesep,_);return e.forEach(y,function(S){var A;e.forEach(S,function(P){var O=b[P];if(x.setNode(O),A){var C=b[A],L=x.edge(C,O);x.setEdge(C,O,Math.max(w(m,P,A),L||0))}A=P})}),x}function f(m,y){return e.minBy(e.values(y),function(b){var _=Number.NEGATIVE_INFINITY,x=Number.POSITIVE_INFINITY;return e.forIn(b,function(E,w){var S=g(m,w)/2;_=Math.max(E+S,_),x=Math.min(E-S,x)}),_-x})}function h(m,y){var b=e.values(y),_=e.min(b),x=e.max(b);e.forEach(["u","d"],function(E){e.forEach(["l","r"],function(w){var S=E+w,A=m[S],P;if(A!==y){var O=e.values(A);P=w==="l"?_-e.min(O):x-e.max(O),P&&(m[S]=e.mapValues(A,function(C){return C+P}))}})})}function d(m,y){return e.mapValues(m.ul,function(b,_){if(y)return m[y.toLowerCase()][_];var x=e.sortBy(e.map(m,_));return(x[1]+x[2])/2})}function v(m){var y=r.buildLayerMatrix(m),b=e.merge(n(m,y),i(m,y)),_={},x;e.forEach(["u","d"],function(w){x=w==="u"?y:e.values(y).reverse(),e.forEach(["l","r"],function(S){S==="r"&&(x=e.map(x,function(C){return e.values(C).reverse()}));var A=(w==="u"?m.predecessors:m.successors).bind(m),P=l(m,x,b,A),O=u(m,x,P.root,P.align,S==="r");S==="r"&&(O=e.mapValues(O,function(C){return-C})),_[w+S]=O})});var E=f(m,_);return h(_,E),d(_,m.graph().align)}function p(m,y,b){return function(_,x,E){var w=_.node(x),S=_.node(E),A=0,P;if(A+=w.width/2,e.has(w,"labelpos"))switch(w.labelpos.toLowerCase()){case"l":P=-w.width/2;break;case"r":P=w.width/2;break}if(P&&(A+=b?P:-P),P=0,A+=(w.dummy?y:m)/2,A+=(S.dummy?y:m)/2,A+=S.width/2,e.has(S,"labelpos"))switch(S.labelpos.toLowerCase()){case"l":P=S.width/2;break;case"r":P=-S.width/2;break}return P&&(A+=b?P:-P),P=0,A}}function g(m,y){return m.node(y).width}return Bx}var zx,_3;function f0e(){if(_3)return zx;_3=1;var e=Er(),t=gi(),r=c0e().positionX;zx=n;function n(a){a=t.asNonCompoundGraph(a),i(a),e.forEach(r(a),function(s,o){a.node(o).x=s})}function i(a){var s=t.buildLayerMatrix(a),o=a.graph().ranksep,l=0;e.forEach(s,function(u){var c=e.max(e.map(u,function(f){return a.node(f).height}));e.forEach(u,function(f){a.node(f).y=l+c/2}),l+=c+o})}return zx}var Gx,k3;function h0e(){if(k3)return Gx;k3=1;var e=Er(),t=Hge(),r=Yge(),n=Kge(),i=gi().normalizeRanks,a=Zge(),s=gi().removeEmptyRanks,o=Qge(),l=Jge(),u=e0e(),c=u0e(),f=f0e(),h=gi(),d=Da().Graph;Gx=v;function v(te,Y){var fe=Y&&Y.debugTiming?h.time:h.notime;fe("layout",function(){var Q=fe("  buildLayoutGraph",function(){return A(te)});fe("  runLayout",function(){p(Q,fe)}),fe("  updateInputGraph",function(){g(te,Q)})})}function p(te,Y){Y("    makeSpaceForEdgeLabels",function(){P(te)}),Y("    removeSelfEdges",function(){Z(te)}),Y("    acyclic",function(){t.run(te)}),Y("    nestingGraph.run",function(){o.run(te)}),Y("    rank",function(){n(h.asNonCompoundGraph(te))}),Y("    injectEdgeLabelProxies",function(){O(te)}),Y("    removeEmptyRanks",function(){s(te)}),Y("    nestingGraph.cleanup",function(){o.cleanup(te)}),Y("    normalizeRanks",function(){i(te)}),Y("    assignRankMinMax",function(){C(te)}),Y("    removeEdgeLabelProxies",function(){L(te)}),Y("    normalize.run",function(){r.run(te)}),Y("    parentDummyChains",function(){a(te)}),Y("    addBorderSegments",function(){l(te)}),Y("    order",function(){c(te)}),Y("    insertSelfEdges",function(){ge(te)}),Y("    adjustCoordinateSystem",function(){u.adjust(te)}),Y("    position",function(){f(te)}),Y("    positionSelfEdges",function(){xe(te)}),Y("    removeBorderNodes",function(){z(te)}),Y("    normalize.undo",function(){r.undo(te)}),Y("    fixupEdgeLabelCoords",function(){U(te)}),Y("    undoCoordinateSystem",function(){u.undo(te)}),Y("    translateGraph",function(){I(te)}),Y("    assignNodeIntersects",function(){F(te)}),Y("    reversePoints",function(){G(te)}),Y("    acyclic.undo",function(){t.undo(te)})}function g(te,Y){e.forEach(te.nodes(),function(fe){var Q=te.node(fe),oe=Y.node(fe);Q&&(Q.x=oe.x,Q.y=oe.y,Y.children(fe).length&&(Q.width=oe.width,Q.height=oe.height))}),e.forEach(te.edges(),function(fe){var Q=te.edge(fe),oe=Y.edge(fe);Q.points=oe.points,e.has(oe,"x")&&(Q.x=oe.x,Q.y=oe.y)}),te.graph().width=Y.graph().width,te.graph().height=Y.graph().height}var m=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],_=["width","height"],x={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],w={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S=["labelpos"];function A(te){var Y=new d({multigraph:!0,compound:!0}),fe=je(te.graph());return Y.setGraph(e.merge({},y,ve(fe,m),e.pick(fe,b))),e.forEach(te.nodes(),function(Q){var oe=je(te.node(Q));Y.setNode(Q,e.defaults(ve(oe,_),x)),Y.setParent(Q,te.parent(Q))}),e.forEach(te.edges(),function(Q){var oe=je(te.edge(Q));Y.setEdge(Q,e.merge({},w,ve(oe,E),e.pick(oe,S)))}),Y}function P(te){var Y=te.graph();Y.ranksep/=2,e.forEach(te.edges(),function(fe){var Q=te.edge(fe);Q.minlen*=2,Q.labelpos.toLowerCase()!=="c"&&(Y.rankdir==="TB"||Y.rankdir==="BT"?Q.width+=Q.labeloffset:Q.height+=Q.labeloffset)})}function O(te){e.forEach(te.edges(),function(Y){var fe=te.edge(Y);if(fe.width&&fe.height){var Q=te.node(Y.v),oe=te.node(Y.w),ye={rank:(oe.rank-Q.rank)/2+Q.rank,e:Y};h.addDummyNode(te,"edge-proxy",ye,"_ep")}})}function C(te){var Y=0;e.forEach(te.nodes(),function(fe){var Q=te.node(fe);Q.borderTop&&(Q.minRank=te.node(Q.borderTop).rank,Q.maxRank=te.node(Q.borderBottom).rank,Y=e.max(Y,Q.maxRank))}),te.graph().maxRank=Y}function L(te){e.forEach(te.nodes(),function(Y){var fe=te.node(Y);fe.dummy==="edge-proxy"&&(te.edge(fe.e).labelRank=fe.rank,te.removeNode(Y))})}function I(te){var Y=Number.POSITIVE_INFINITY,fe=0,Q=Number.POSITIVE_INFINITY,oe=0,ye=te.graph(),we=ye.marginx||0,Ae=ye.marginy||0;function H(K){var ce=K.x,de=K.y,_e=K.width,pe=K.height;Y=Math.min(Y,ce-_e/2),fe=Math.max(fe,ce+_e/2),Q=Math.min(Q,de-pe/2),oe=Math.max(oe,de+pe/2)}e.forEach(te.nodes(),function(K){H(te.node(K))}),e.forEach(te.edges(),function(K){var ce=te.edge(K);e.has(ce,"x")&&H(ce)}),Y-=we,Q-=Ae,e.forEach(te.nodes(),function(K){var ce=te.node(K);ce.x-=Y,ce.y-=Q}),e.forEach(te.edges(),function(K){var ce=te.edge(K);e.forEach(ce.points,function(de){de.x-=Y,de.y-=Q}),e.has(ce,"x")&&(ce.x-=Y),e.has(ce,"y")&&(ce.y-=Q)}),ye.width=fe-Y+we,ye.height=oe-Q+Ae}function F(te){e.forEach(te.edges(),function(Y){var fe=te.edge(Y),Q=te.node(Y.v),oe=te.node(Y.w),ye,we;fe.points?(ye=fe.points[0],we=fe.points[fe.points.length-1]):(fe.points=[],ye=oe,we=Q),fe.points.unshift(h.intersectRect(Q,ye)),fe.points.push(h.intersectRect(oe,we))})}function U(te){e.forEach(te.edges(),function(Y){var fe=te.edge(Y);if(e.has(fe,"x"))switch((fe.labelpos==="l"||fe.labelpos==="r")&&(fe.width-=fe.labeloffset),fe.labelpos){case"l":fe.x-=fe.width/2+fe.labeloffset;break;case"r":fe.x+=fe.width/2+fe.labeloffset;break}})}function G(te){e.forEach(te.edges(),function(Y){var fe=te.edge(Y);fe.reversed&&fe.points.reverse()})}function z(te){e.forEach(te.nodes(),function(Y){if(te.children(Y).length){var fe=te.node(Y),Q=te.node(fe.borderTop),oe=te.node(fe.borderBottom),ye=te.node(e.last(fe.borderLeft)),we=te.node(e.last(fe.borderRight));fe.width=Math.abs(we.x-ye.x),fe.height=Math.abs(oe.y-Q.y),fe.x=ye.x+fe.width/2,fe.y=Q.y+fe.height/2}}),e.forEach(te.nodes(),function(Y){te.node(Y).dummy==="border"&&te.removeNode(Y)})}function Z(te){e.forEach(te.edges(),function(Y){if(Y.v===Y.w){var fe=te.node(Y.v);fe.selfEdges||(fe.selfEdges=[]),fe.selfEdges.push({e:Y,label:te.edge(Y)}),te.removeEdge(Y)}})}function ge(te){var Y=h.buildLayerMatrix(te);e.forEach(Y,function(fe){var Q=0;e.forEach(fe,function(oe,ye){var we=te.node(oe);we.order=ye+Q,e.forEach(we.selfEdges,function(Ae){h.addDummyNode(te,"selfedge",{width:Ae.label.width,height:Ae.label.height,rank:we.rank,order:ye+ ++Q,e:Ae.e,label:Ae.label},"_se")}),delete we.selfEdges})})}function xe(te){e.forEach(te.nodes(),function(Y){var fe=te.node(Y);if(fe.dummy==="selfedge"){var Q=te.node(fe.e.v),oe=Q.x+Q.width/2,ye=Q.y,we=fe.x-oe,Ae=Q.height/2;te.setEdge(fe.e,fe.label),te.removeNode(Y),fe.label.points=[{x:oe+2*we/3,y:ye-Ae},{x:oe+5*we/6,y:ye-Ae},{x:oe+we,y:ye},{x:oe+5*we/6,y:ye+Ae},{x:oe+2*we/3,y:ye+Ae}],fe.label.x=fe.x,fe.label.y=fe.y}})}function ve(te,Y){return e.mapValues(e.pick(te,Y),Number)}function je(te){var Y={};return e.forEach(te,function(fe,Q){Y[Q.toLowerCase()]=fe}),Y}return Gx}var qx,S3;function d0e(){if(S3)return qx;S3=1;var e=Er(),t=gi(),r=Da().Graph;qx={debugOrdering:n};function n(i){var a=t.buildLayerMatrix(i),s=new r({compound:!0,multigraph:!0}).setGraph({});return e.forEach(i.nodes(),function(o){s.setNode(o,{label:o}),s.setParent(o,"layer"+i.node(o).rank)}),e.forEach(i.edges(),function(o){s.setEdge(o.v,o.w,{},o.name)}),e.forEach(a,function(o,l){var u="layer"+l;s.setNode(u,{rank:"same"}),e.reduce(o,function(c,f){return s.setEdge(c,f,{style:"invis"}),f})}),s}return qx}var jx,T3;function v0e(){return T3||(T3=1,jx="0.8.5"),jx}var Wx,M3;function p0e(){return M3||(M3=1,Wx={graphlib:Da(),layout:h0e(),debug:d0e(),util:{time:gi().time,notime:gi().notime},version:v0e()}),Wx}var H6=p0e();const g0e=Vp(H6);class xS{constructor(t){this.id="dagre",this.options={},Object.assign(this.options,xS.defaultOptions,t)}execute(t,r){return _t(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,t,Object.assign(Object.assign({},this.options),r))})}assign(t,r){return _t(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,t,Object.assign(Object.assign({},this.options),r))})}genericDagreLayout(t,r,n){return _t(this,void 0,void 0,function*(){const{nodeSize:i}=n,a=new H6.graphlib.Graph;a.setGraph(n),a.setDefaultEdgeLabel(()=>({}));const s=r.getAllNodes(),o=r.getAllEdges();[...s,...o].some(({id:u})=>rt(u))&&console.error("Dagre layout only support string id, it will convert number to string."),r.getAllNodes().forEach(u=>{const{id:c}=u,f=Object.assign({},u.data);if(i!==void 0){const[h,d]=mh(Gt(i)?i(u):i);Object.assign(f,{width:h,height:d})}a.setNode(c.toString(),f)}),r.getAllEdges().forEach(({id:u,source:c,target:f})=>{a.setEdge(c.toString(),f.toString(),{id:u})}),g0e.layout(a);const l={nodes:[],edges:[]};return a.nodes().forEach(u=>{const c=a.node(u);l.nodes.push({id:u,data:c}),t&&r.mergeNodeData(u,c)}),a.edges().forEach(u=>{const c=a.edge(u),{id:f}=c,h=xr(c,["id"]),{v:d,w:v}=u;l.edges.push({id:f,source:d,target:v,data:h}),t&&r.mergeEdgeData(f,h)}),l})}}xS.defaultOptions={};class ES{constructor(t){this.id=t.id||0,this.rx=t.rx,this.ry=t.ry,this.fx=0,this.fy=0,this.mass=t.mass,this.degree=t.degree,this.g=t.g||0}distanceTo(t){const r=this.rx-t.rx,n=this.ry-t.ry;return Math.hypot(r,n)}setPos(t,r){this.rx=t,this.ry=r}resetForce(){this.fx=0,this.fy=0}addForce(t){const r=t.rx-this.rx,n=t.ry-this.ry;let i=Math.hypot(r,n);i=i<1e-4?1e-4:i;const a=this.g*(this.degree+1)*(t.degree+1)/i;this.fx+=a*r/i,this.fy+=a*n/i}in(t){return t.contains(this.rx,this.ry)}add(t){const r=this.mass+t.mass,n=(this.rx*this.mass+t.rx*t.mass)/r,i=(this.ry*this.mass+t.ry*t.mass)/r,a=this.degree+t.degree,s={rx:n,ry:i,mass:r,degree:a};return new ES(s)}}class vu{constructor(t){this.xmid=t.xmid,this.ymid=t.ymid,this.length=t.length,this.massCenter=t.massCenter||[0,0],this.mass=t.mass||1}getLength(){return this.length}contains(t,r){const n=this.length/2;return t<=this.xmid+n&&t>=this.xmid-n&&r<=this.ymid+n&&r>=this.ymid-n}NW(){const t=this.xmid-this.length/4,r=this.ymid+this.length/4,n=this.length/2,i={xmid:t,ymid:r,length:n};return new vu(i)}NE(){const t=this.xmid+this.length/4,r=this.ymid+this.length/4,n=this.length/2,i={xmid:t,ymid:r,length:n};return new vu(i)}SW(){const t=this.xmid-this.length/4,r=this.ymid-this.length/4,n=this.length/2,i={xmid:t,ymid:r,length:n};return new vu(i)}SE(){const t=this.xmid+this.length/4,r=this.ymid-this.length/4,n=this.length/2,i={xmid:t,ymid:r,length:n};return new vu(i)}}class pu{constructor(t){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,t!=null&&(this.quad=t)}insert(t){if(this.body==null){this.body=t;return}this._isExternal()?(this.quad&&(this.NW=new pu(this.quad.NW()),this.NE=new pu(this.quad.NE()),this.SW=new pu(this.quad.SW()),this.SE=new pu(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t))}_putBody(t){this.quad&&(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))}_isExternal(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}updateForce(t){if(!(this.body==null||t===this.body))if(this._isExternal())t.addForce(this.body);else{const r=this.quad?this.quad.getLength():0,n=this.body.distanceTo(t);r/n<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t))}}}const m0e={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1};class Ixe{constructor(t={}){this.options=t,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},m0e),t)}execute(t,r){return _t(this,void 0,void 0,function*(){return this.genericForceAtlas2Layout(!1,t,r)})}assign(t,r){return _t(this,void 0,void 0,function*(){yield this.genericForceAtlas2Layout(!0,t,r)})}genericForceAtlas2Layout(t,r,n){return _t(this,void 0,void 0,function*(){const i=r.getAllEdges(),a=r.getAllNodes(),s=this.formatOptions(n,a.length),{width:o,height:l,prune:u,maxIteration:c,nodeSize:f,center:h}=s;if(!a?.length||a.length===1)return Ul(r,t,h);const d=a.map(m=>Di(m,[o,l])),v=i.filter(m=>{const{source:y,target:b}=m;return y!==b}),p=new dn({nodes:d,edges:v}),g=this.getSizes(p,f);if(this.run(p,r,c,g,t,s),u){for(let y=0;y<v.length;y+=1){const{source:b,target:_}=v[y],x=p.getDegree(b),E=p.getDegree(b);if(x<=1){const w=p.getNode(_);p.mergeNodeData(b,{x:w.data.x,y:w.data.y})}else if(E<=1){const w=p.getNode(b);p.mergeNodeData(_,{x:w.data.x,y:w.data.y})}}const m=Object.assign(Object.assign({},s),{prune:!1,barnesHut:!1});this.run(p,r,100,g,t,m)}return{nodes:d,edges:i}})}getSizes(t,r){const n=t.getAllNodes(),i={};for(let a=0;a<n.length;a+=1){const s=n[a];i[s.id]=eS(r,void 0)(s)}return i}formatOptions(t={},r){const n=Object.assign(Object.assign({},this.options),t),{center:i,width:a,height:s,barnesHut:o,prune:l,maxIteration:u,kr:c,kg:f}=n;return n.width=!a&&typeof window<"u"?window.innerWidth:a,n.height=!s&&typeof window<"u"?window.innerHeight:s,n.center=i||[n.width/2,n.height/2],o===void 0&&r>250&&(n.barnesHut=!0),l===void 0&&r>100&&(n.prune=!0),u===0&&!l?(n.maxIteration=250,r<=200&&r>100?n.maxIteration=1e3:r>200&&(n.maxIteration=1200)):u===0&&l&&(n.maxIteration=100,r<=200&&r>100?n.maxIteration=500:r>200&&(n.maxIteration=950)),c||(n.kr=50,r>100&&r<=500?n.kr=20:r>500&&(n.kr=1)),f||(n.kg=20,r>100&&r<=500?n.kg=10:r>500&&(n.kg=1)),n}run(t,r,n,i,a,s){const{kr:o,barnesHut:l,onTick:u}=s,c=t.getAllNodes();let f=0,h=n;const d={},v={},p={};for(let g=0;g<c.length;g+=1){const{data:m,id:y}=c[g];if(d[y]=[0,0],l){const b={id:g,rx:m.x,ry:m.y,mass:1,g:o,degree:t.getDegree(y)};p[y]=new ES(b)}}for(;h>0;)f=this.oneStep(t,{iter:h,preventOverlapIters:50,krPrime:100,sg:f,forces:d,preForces:v,bodies:p,sizes:i},s),h--,u?.({nodes:c,edges:r.getAllEdges()});return t}oneStep(t,r,n){const{iter:i,preventOverlapIters:a,krPrime:s,sg:o,preForces:l,bodies:u,sizes:c}=r;let{forces:f}=r;const{preventOverlap:h,barnesHut:d}=n,v=t.getAllNodes();for(let p=0;p<v.length;p+=1){const{id:g}=v[p];l[g]=[...f[g]],f[g]=[0,0]}return f=this.getAttrForces(t,i,a,c,f,n),d&&(h&&i>a||!h)?f=this.getOptRepGraForces(t,f,u,n):f=this.getRepGraForces(t,i,a,f,s,c,n),this.updatePos(t,f,l,o,n)}getAttrForces(t,r,n,i,a,s){const{preventOverlap:o,dissuadeHubs:l,mode:u,prune:c}=s,f=t.getAllEdges();for(let h=0;h<f.length;h+=1){const{source:d,target:v}=f[h],p=t.getNode(d),g=t.getNode(v),m=t.getDegree(d),y=t.getDegree(v);if(c&&(m<=1||y<=1))continue;const b=[g.data.x-p.data.x,g.data.y-p.data.y];let _=Math.hypot(b[0],b[1]);_=_<1e-4?1e-4:_,b[0]=b[0]/_,b[1]=b[1]/_,o&&r<n&&(_=_-i[d]-i[v]);let x=_,E=x;u==="linlog"&&(x=Math.log(1+_),E=x),l&&(x=_/m,E=_/y),o&&r<n&&_<=0?(x=0,E=0):o&&r<n&&_>0&&(x=_,E=_),a[d][0]+=x*b[0],a[v][0]-=E*b[0],a[d][1]+=x*b[1],a[v][1]-=E*b[1]}return a}getOptRepGraForces(t,r,n,i){const{kg:a,center:s,prune:o}=i,l=t.getAllNodes(),u=l.length;let c=9e10,f=-9e10,h=9e10,d=-9e10;for(let y=0;y<u;y+=1){const{id:b,data:_}=l[y];o&&t.getDegree(b)<=1||(n[b].setPos(_.x,_.y),_.x>=f&&(f=_.x),_.x<=c&&(c=_.x),_.y>=d&&(d=_.y),_.y<=h&&(h=_.y))}const v=Math.max(f-c,d-h),p={xmid:(f+c)/2,ymid:(d+h)/2,length:v,massCenter:s,mass:u},g=new vu(p),m=new pu(g);for(let y=0;y<u;y+=1){const{id:b}=l[y];o&&t.getDegree(b)<=1||n[b].in(g)&&m.insert(n[b])}for(let y=0;y<u;y+=1){const{id:b,data:_}=l[y],x=t.getDegree(b);if(o&&x<=1)continue;n[b].resetForce(),m.updateForce(n[b]),r[b][0]-=n[b].fx,r[b][1]-=n[b].fy;const E=[_.x-s[0],_.y-s[1]];let w=Math.hypot(E[0],E[1]);w=w<1e-4?1e-4:w,E[0]=E[0]/w,E[1]=E[1]/w;const S=a*(x+1);r[b][0]-=S*E[0],r[b][1]-=S*E[1]}return r}getRepGraForces(t,r,n,i,a,s,o){const{preventOverlap:l,kr:u,kg:c,center:f,prune:h}=o,d=t.getAllNodes(),v=d.length;for(let p=0;p<v;p+=1){const g=d[p],m=t.getDegree(g.id);for(let x=p+1;x<v;x+=1){const E=d[x],w=t.getDegree(E.id);if(h&&(m<=1||w<=1))continue;const S=[E.data.x-g.data.x,E.data.y-g.data.y];let A=Math.hypot(S[0],S[1]);A=A<1e-4?1e-4:A,S[0]=S[0]/A,S[1]=S[1]/A,l&&r<n&&(A=A-s[g.id]-s[E.id]);let P=u*(m+1)*(w+1)/A;l&&r<n&&A<0?P=a*(m+1)*(w+1):l&&r<n&&A===0?P=0:l&&r<n&&A>0&&(P=u*(m+1)*(w+1)/A),i[g.id][0]-=P*S[0],i[E.id][0]+=P*S[0],i[g.id][1]-=P*S[1],i[E.id][1]+=P*S[1]}const y=[g.data.x-f[0],g.data.y-f[1]],b=Math.hypot(y[0],y[1]);y[0]=y[0]/b,y[1]=y[1]/b;const _=c*(m+1);i[g.id][0]-=_*y[0],i[g.id][1]-=_*y[1]}return i}updatePos(t,r,n,i,a){const{ks:s,tao:o,prune:l,ksmax:u}=a,c=t.getAllNodes(),f=c.length,h=[],d=[];let v=0,p=0,g=i;for(let y=0;y<f;y+=1){const{id:b}=c[y],_=t.getDegree(b);if(l&&_<=1)continue;const x=[r[b][0]-n[b][0],r[b][1]-n[b][1]],E=Math.hypot(x[0],x[1]),w=[r[b][0]+n[b][0],r[b][1]+n[b][1]],S=Math.hypot(w[0],w[1]);h[y]=E,d[y]=S/2,v+=(_+1)*h[y],p+=(_+1)*d[y]}const m=g;g=o*p/v,m!==0&&(g=g>1.5*m?1.5*m:g);for(let y=0;y<f;y+=1){const{id:b,data:_}=c[y],x=t.getDegree(b);if(l&&x<=1||rt(_.fx)&&rt(_.fy))continue;let E=s*g/(1+g*Math.sqrt(h[y])),w=Math.hypot(r[b][0],r[b][1]);w=w<1e-4?1e-4:w;const S=u/w;E=E>S?S:E;const A=E*r[b][0],P=E*r[b][1];t.mergeNodeData(b,{x:_.x+A,y:_.y+P})}return g}}const y0e={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"},b0e=800;class Dxe{constructor(t={}){this.options=t,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},y0e),t)}execute(t,r){return _t(this,void 0,void 0,function*(){return this.genericFruchtermanLayout(!1,t,r)})}assign(t,r){return _t(this,void 0,void 0,function*(){yield this.genericFruchtermanLayout(!0,t,r)})}stop(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval),this.running=!1}tick(t=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let n=0;n<t;n++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);const r={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&r.nodes.forEach(n=>this.lastGraph.mergeNodeData(n.id,{x:n.data.x,y:n.data.y,z:this.options.dimensions===3?n.data.z:void 0})),r}genericFruchtermanLayout(t,r,n){return _t(this,void 0,void 0,function*(){if(this.running)return;const i=this.formatOptions(n),{dimensions:a,width:s,height:o,center:l,clustering:u,nodeClusterBy:c,maxIteration:f,onTick:h}=i,d=r.getAllNodes(),v=r.getAllEdges();if(!d?.length){const b={nodes:[],edges:v};return this.lastResult=b,b}if(d.length===1){t&&r.mergeNodeData(d[0].id,{x:l[0],y:l[1],z:a===3?l[2]:void 0});const b={nodes:[Object.assign(Object.assign({},d[0]),{data:Object.assign(Object.assign({},d[0].data),{x:l[0],y:l[1],z:a===3?l[2]:void 0})})],edges:v};return this.lastResult=b,b}const p=d.map(b=>Di(b,[s,o])),g=new dn({nodes:p,edges:v}),m={};if(u&&p.forEach(b=>{const _=b.data[c];m[_]||(m[_]={name:_,cx:0,cy:0,count:0})}),this.lastLayoutNodes=p,this.lastLayoutEdges=v,this.lastAssign=t,this.lastGraph=g,this.lastOptions=i,this.lastClusterMap=m,typeof window>"u")return;let y=0;return new Promise(b=>{this.timeInterval=window.setInterval(()=>{if(!this.running){b({nodes:p,edges:v});return}this.runOneStep(g,m,i),t&&p.forEach(({id:_,data:x})=>r.mergeNodeData(_,{x:x.x,y:x.y,z:a===3?x.z:void 0})),h?.({nodes:p,edges:v}),y++,y>=f&&(window.clearInterval(this.timeInterval),b({nodes:p,edges:v}))},0),this.running=!0})})}formatOptions(t={}){const r=Object.assign(Object.assign({},this.options),t),{clustering:n,nodeClusterBy:i}=r,{center:a,width:s,height:o}=r;return r.width=!s&&typeof window<"u"?window.innerWidth:s,r.height=!o&&typeof window<"u"?window.innerHeight:o,r.center=a||[r.width/2,r.height/2],r.clustering=n&&!!i,r}runOneStep(t,r,n){const{dimensions:i,height:a,width:s,gravity:o,center:l,speed:u,clustering:c,nodeClusterBy:f,clusterGravity:h}=n,d=a*s,v=Math.sqrt(d)/10,p=t.getAllNodes(),g=d/(p.length+1),m=Math.sqrt(g),y={};if(this.applyCalculate(t,y,m,g),c){for(const _ in r)r[_].cx=0,r[_].cy=0,r[_].count=0;p.forEach(_=>{const{data:x}=_,E=r[x[f]];rt(x.x)&&(E.cx+=x.x),rt(x.y)&&(E.cy+=x.y),E.count++});for(const _ in r)r[_].cx/=r[_].count,r[_].cy/=r[_].count;const b=h||o;p.forEach((_,x)=>{const{id:E,data:w}=_;if(!rt(w.x)||!rt(w.y))return;const S=r[w[f]],A=Math.sqrt((w.x-S.cx)*(w.x-S.cx)+(w.y-S.cy)*(w.y-S.cy)),P=m*b;y[E].x-=P*(w.x-S.cx)/A,y[E].y-=P*(w.y-S.cy)/A})}p.forEach((b,_)=>{const{id:x,data:E}=b;if(!rt(E.x)||!rt(E.y))return;const w=.01*m*o;y[x].x-=w*(E.x-l[0]),y[x].y-=w*(E.y-l[1]),i===3&&(y[x].z-=w*(E.z-l[2]))}),p.forEach((b,_)=>{const{id:x,data:E}=b;if(rt(E.fx)&&rt(E.fy)){E.x=E.fx,E.y=E.fy,i===3&&(E.z=E.fz);return}if(!rt(E.x)||!rt(E.y))return;const w=Math.sqrt(y[x].x*y[x].x+y[x].y*y[x].y+(i===3?y[x].z*y[x].z:0));if(w>0){const S=Math.min(v*(u/b0e),w);t.mergeNodeData(x,{x:E.x+y[x].x/w*S,y:E.y+y[x].y/w*S,z:i===3?E.z+y[x].z/w*S:void 0})}})}applyCalculate(t,r,n,i){this.calRepulsive(t,r,i),this.calAttractive(t,r,n)}calRepulsive(t,r,n){const i=t.getAllNodes();i.forEach(({data:a,id:s},o)=>{r[s]={x:0,y:0,z:0},i.forEach(({data:l,id:u},c)=>{if(o<=c||!rt(a.x)||!rt(l.x)||!rt(a.y)||!rt(l.y))return;let f=a.x-l.x,h=a.y-l.y,d=this.options.dimensions===3?a.z-l.z:0,v=f*f+h*h+d*d;v===0&&(v=1,f=.01,h=.01,d=.01);const p=n/v,g=f*p,m=h*p,y=d*p;r[s].x+=g,r[s].y+=m,r[u].x-=g,r[u].y-=m,this.options.dimensions===3&&(r[s].z+=y,r[u].z-=y)})})}calAttractive(t,r,n){t.getAllEdges().forEach(a=>{const{source:s,target:o}=a;if(!s||!o||s===o)return;const{data:l}=t.getNode(s),{data:u}=t.getNode(o);if(!rt(u.x)||!rt(l.x)||!rt(u.y)||!rt(l.y))return;const c=u.x-l.x,f=u.y-l.y,h=this.options.dimensions===3?u.z-l.z:0,d=Math.sqrt(c*c+f*f+h*h)/n,v=c*d,p=f*d,g=h*d;r[s].x+=v,r[s].y+=p,r[o].x-=v,r[o].y-=p,this.options.dimensions===3&&(r[s].z+=g,r[o].z-=g)})}}const w0e={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300};class Fxe{constructor(t={}){this.options=t,this.id="grid",this.options=Object.assign(Object.assign({},w0e),t)}execute(t,r){return _t(this,void 0,void 0,function*(){return this.genericGridLayout(!1,t,r)})}assign(t,r){return _t(this,void 0,void 0,function*(){yield this.genericGridLayout(!0,t,r)})}genericGridLayout(t,r,n){return _t(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{begin:a=[0,0],condense:s,preventOverlapPadding:o,preventOverlap:l,rows:u,cols:c,nodeSpacing:f,nodeSize:h,width:d,height:v,position:p}=i;let{sortBy:g}=i;const m=r.getAllNodes(),y=r.getAllEdges(),b=m?.length;if(!b||b===1)return Ul(r,t,a);const _=m.map(F=>Di(F));g!=="id"&&(!At(g)||_[0].data[g]===void 0)&&(g="degree"),g==="degree"?_.sort((F,U)=>r.getDegree(U.id,"both")-r.getDegree(F.id,"both")):g==="id"?_.sort((F,U)=>rt(U.id)&&rt(F.id)?U.id-F.id:`${F.id}`.localeCompare(`${U.id}`)):_.sort((F,U)=>U.data[g]-F.data[g]);const x=!d&&typeof window<"u"?window.innerWidth:d,E=!v&&typeof window<"u"?window.innerHeight:v,w=b,S={rows:u,cols:c};if(u!=null&&c!=null)S.rows=u,S.cols=c;else if(u!=null&&c==null)S.rows=u,S.cols=Math.ceil(w/S.rows);else if(u==null&&c!=null)S.cols=c,S.rows=Math.ceil(w/S.cols);else{const F=Math.sqrt(w*E/x);S.rows=Math.round(F),S.cols=Math.round(x/E*F)}if(S.rows=Math.max(S.rows,1),S.cols=Math.max(S.cols,1),S.cols*S.rows>w){const F=Rd(S),U=Ld(S);(F-1)*U>=w?Rd(S,F-1):(U-1)*F>=w&&Ld(S,U-1)}else for(;S.cols*S.rows<w;){const F=Rd(S),U=Ld(S);(U+1)*F>=w?Ld(S,U+1):Rd(S,F+1)}let A=s?0:x/S.cols,P=s?0:E/S.rows;if(l||f){const F=Nl(10,f),U=Jk(30,h,!1);_.forEach(G=>{(!G.data.x||!G.data.y)&&(G.data.x=0,G.data.y=0);const z=r.getNode(G.id),[Z,ge]=mh(U(z)||30),xe=F!==void 0?F(G):o,ve=Z+xe,je=ge+xe;A=Math.max(A,ve),P=Math.max(P,je)})}const O={},C={row:0,col:0},L={};for(let F=0;F<_.length;F++){const U=_[F];let G;if(p&&(G=p(r.getNode(U.id))),G&&(G.row!==void 0||G.col!==void 0)){const z={row:G.row,col:G.col};if(z.col===void 0)for(z.col=0;R2(O,z);)z.col++;else if(z.row===void 0)for(z.row=0;R2(O,z);)z.row++;L[U.id]=z,Y6(O,z)}x0e(U,a,A,P,L,S,C,O)}const I={nodes:_,edges:y};return t&&_.forEach(F=>{r.mergeNodeData(F.id,{x:F.data.x,y:F.data.y})}),I})}}const Rd=(e,t)=>{let r;const n=e.rows||5,i=e.cols||5;return t==null?r=Math.min(n,i):Math.min(n,i)===e.rows?e.rows=t:e.cols=t,r},Ld=(e,t)=>{let r;const n=e.rows||5,i=e.cols||5;return t==null?r=Math.max(n,i):Math.max(n,i)===e.rows?e.rows=t:e.cols=t,r},R2=(e,t)=>e[`c-${t.row}-${t.col}`]||!1,Y6=(e,t)=>e[`c-${t.row}-${t.col}`]=!0,N3=(e,t)=>{const r=e.cols||5;t.col++,t.col>=r&&(t.col=0,t.row++)},x0e=(e,t,r,n,i,a,s,o)=>{let l,u;const c=i[e.id];if(c)l=c.col*r+r/2+t[0],u=c.row*n+n/2+t[1];else{for(;R2(o,s);)N3(a,s);l=s.col*r+r/2+t[0],u=s.row*n+n/2+t[1],Y6(o,s),N3(a,s)}e.data.x=l,e.data.y=u},E0e=(e,t,r)=>{try{const n=To.mul(To.pow(t,2),-.5),i=n.mean("row"),a=n.mean("column"),s=n.mean();n.add(s).subRowVector(i).subColumnVector(a);const o=new qz(n),l=To.sqrt(o.diagonalMatrix).diagonal();return o.leftSingularVectors.toJSON().map(u=>To.mul([u],[l]).toJSON()[0].splice(0,e))}catch{const i=[];for(let a=0;a<t.length;a++){const s=Math.random()*r,o=Math.random()*r;i.push([s,o])}return i}},_0e=800,k0e={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},S0e=(e,t)=>{const r=Object.assign(Object.assign({},k0e),t),{positions:n,iterations:i,width:a,k:s,speed:o=100,strictRadial:l,focusIdx:u,radii:c=[],nodeSizeFunc:f}=r,h=e.getAllNodes(),d=[],v=a/10;for(let p=0;p<i;p++)n.forEach((g,m)=>{d[m]={x:0,y:0}}),T0e(h,n,d,s,c,f),M0e(n,d,o,l,u,v,a,c);return n},T0e=(e,t,r,n,i,a)=>{t.forEach((s,o)=>{r[o]={x:0,y:0},t.forEach((l,u)=>{if(o===u||i[o]!==i[u])return;let c=s.x-l.x,f=s.y-l.y,h=Math.sqrt(c*c+f*f);if(h===0){h=1;const d=o>u?1:-1;c=.01*d,f=.01*d}if(h<a(e[o])/2+a(e[u])/2){const d=n*n/h;r[o].x+=c/h*d,r[o].y+=f/h*d}})})},M0e=(e,t,r,n,i,a,s,o)=>{const l=a||s/10;return n&&t.forEach((u,c)=>{const f=e[c].x-e[i].x,h=e[c].y-e[i].y,d=Math.sqrt(f*f+h*h);let v=h/d,p=-f/d;const g=Math.sqrt(u.x*u.x+u.y*u.y);let m=Math.acos((v*u.x+p*u.y)/g);m>Math.PI/2&&(m-=Math.PI/2,v*=-1,p*=-1);const y=Math.cos(m)*g;u.x=v*y,u.y=p*y}),e.forEach((u,c)=>{if(c===i)return;const f=Math.sqrt(t[c].x*t[c].x+t[c].y*t[c].y);if(f>0&&c!==i){const h=Math.min(l*(r/_0e),f);if(u.x+=t[c].x/f*h,u.y+=t[c].y/f*h,n){let d=u.x-e[i].x,v=u.y-e[i].y;const p=Math.sqrt(d*d+v*v);d=d/p*o[c],v=v/p*o[c],u.x=e[i].x+d,u.y=e[i].y+v}}}),e},N0e={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10};class $xe{constructor(t={}){this.options=t,this.id="radial",this.options=Object.assign(Object.assign({},N0e),t)}execute(t,r){return _t(this,void 0,void 0,function*(){return this.genericRadialLayout(!1,t,r)})}assign(t,r){return _t(this,void 0,void 0,function*(){yield this.genericRadialLayout(!0,t,r)})}genericRadialLayout(t,r,n){return _t(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{width:a,height:s,center:o,focusNode:l,unitRadius:u,nodeSize:c,nodeSpacing:f,strictRadial:h,preventOverlap:d,maxPreventOverlapIteration:v,sortBy:p,linkDistance:g=50,sortStrength:m=10,maxIteration:y=1e3}=i,b=r.getAllNodes(),_=r.getAllEdges(),x=!a&&typeof window<"u"?window.innerWidth:a,E=!s&&typeof window<"u"?window.innerHeight:s,w=o||[x/2,E/2];if(!b?.length||b.length===1)return Ul(r,t,w);let S=b[0];if(At(l)){for(let Q=0;Q<b.length;Q++)if(b[Q].id===l){S=b[Q];break}}else S=l||b[0];const A=O0e(b,S.id),P=$z({nodes:b,edges:_}),O=Fz(P),C=R0e(O,A);C0e(O,A,C+1);const L=O[A];let I=x-w[0]>w[0]?w[0]:x-w[0],F=E-w[1]>w[1]?w[1]:E-w[1];I===0&&(I=x/2),F===0&&(F=E/2);const U=Math.min(I,F),G=Math.max(...L),z=[],Z=u||U/G;L.forEach((Q,oe)=>{z[oe]=Q*Z});const ge=A0e(b,O,g,z,Z,p,m),xe=P0e(ge),ve=E0e(g,ge,g);let je=ve.map(([Q,oe])=>({x:(isNaN(Q)?Math.random()*g:Q)-ve[A][0],y:(isNaN(oe)?Math.random()*g:oe)-ve[A][1]}));this.run(y,je,xe,ge,z,A);let te;if(d){te=eS(c,f);const Q={nodes:b,nodeSizeFunc:te,positions:je,radii:z,height:E,width:x,strictRadial:!!h,focusIdx:A,iterations:v||200,k:je.length/4.5};je=S0e(r,Q)}const Y=[];return je.forEach((Q,oe)=>{const ye=Di(b[oe]);ye.data.x=Q.x+w[0],ye.data.y=Q.y+w[1],Y.push(ye)}),t&&Y.forEach(Q=>r.mergeNodeData(Q.id,{x:Q.data.x,y:Q.data.y})),{nodes:Y,edges:_}})}run(t,r,n,i,a,s){for(let o=0;o<=t;o++){const l=o/t;this.oneIteration(l,r,a,i,n,s)}}oneIteration(t,r,n,i,a,s){const o=1-t;r.forEach((l,u)=>{const c=HP(l,{x:0,y:0}),f=c===0?0:1/c;if(u===s)return;let h=0,d=0,v=0;r.forEach((g,m)=>{if(u===m)return;const y=HP(l,g),b=y===0?0:1/y,_=i[m][u];v+=a[u][m],h+=a[u][m]*(g.x+_*(l.x-g.x)*b),d+=a[u][m]*(g.y+_*(l.y-g.y)*b)});const p=n[u]===0?0:1/n[u];v*=o,v+=t*p*p,h*=o,h+=t*p*l.x*f,l.x=h/v,d*=o,d+=t*p*l.y*f,l.y=d/v})}}const A0e=(e,t,r,n,i,a,s)=>{if(!e)return[];const o=[];if(t){const l={};t.forEach((u,c)=>{const f=[];u.forEach((h,d)=>{var v,p;if(c===d)f.push(0);else if(n[c]===n[d])if(a==="data")f.push(h*(Math.abs(c-d)*s)/(n[c]/i));else if(a){let g,m;if(l[e[c].id])g=l[e[c].id];else{const y=(a==="id"?e[c].id:(v=e[c].data)===null||v===void 0?void 0:v[a])||0;At(y)?g=y.charCodeAt(0):g=y,l[e[c].id]=g}if(l[e[d].id])m=l[e[d].id];else{const y=(a==="id"?e[d].id:(p=e[d].data)===null||p===void 0?void 0:p[a])||0;At(y)?m=y.charCodeAt(0):m=y,l[e[d].id]=m}f.push(h*(Math.abs(g-m)*s)/(n[c]/i))}else f.push(h*r/(n[c]/i));else{const g=(r+i)/2;f.push(h*g)}}),o.push(f)})}return o},P0e=e=>{const t=e.length,r=e[0].length,n=[];for(let i=0;i<t;i++){const a=[];for(let s=0;s<r;s++)e[i][s]!==0?a.push(1/(e[i][s]*e[i][s])):a.push(0);n.push(a)}return n},O0e=(e,t)=>{let r=-1;return e.forEach((n,i)=>{n.id===t&&(r=i)}),Math.max(r,0)},C0e=(e,t,r)=>{const n=e.length;for(let i=0;i<n;i++)if(e[t][i]===1/0){e[t][i]=r,e[i][t]=r;for(let a=0;a<n;a++)e[i][a]!==1/0&&e[t][a]===1/0&&(e[t][a]=r+e[i][a],e[a][t]=r+e[i][a])}for(let i=0;i<n;i++)if(i!==t){for(let a=0;a<n;a++)if(e[i][a]===1/0){let s=Math.abs(e[t][i]-e[t][a]);s=s===0?1:s,e[i][a]=s}}},R0e=(e,t)=>{let r=0;for(let n=0;n<e[t].length;n++)e[t][n]!==1/0&&(r=e[t][n]>r?e[t][n]:r);return r},L0e={center:[0,0],width:300,height:300};class Bxe{constructor(t={}){this.options=t,this.id="random",this.options=Object.assign(Object.assign({},L0e),t)}execute(t,r){return _t(this,void 0,void 0,function*(){return this.genericRandomLayout(!1,t,r)})}assign(t,r){return _t(this,void 0,void 0,function*(){yield this.genericRandomLayout(!0,t,r)})}genericRandomLayout(t,r,n){return _t(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.options),n),{center:a,width:s,height:o}=i,l=r.getAllNodes(),u=.9,c=!s&&typeof window<"u"?window.innerWidth:s,f=!o&&typeof window<"u"?window.innerHeight:o,h=a||[c/2,f/2],d=[];return l&&l.forEach(p=>{d.push({id:p.id,data:{x:(Math.random()-.5)*u*c+h[0],y:(Math.random()-.5)*u*f+h[1]}})}),t&&d.forEach(p=>r.mergeNodeData(p.id,{x:p.data.x,y:p.data.y})),{nodes:d,edges:r.getAllEdges()}})}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X6=Symbol("Comlink.proxy"),I0e=Symbol("Comlink.endpoint"),K6=Symbol("Comlink.releaseProxy"),Vx=Symbol("Comlink.finalizer"),ov=Symbol("Comlink.thrown"),Z6=e=>typeof e=="object"&&e!==null||typeof e=="function",D0e={canHandle:e=>Z6(e)&&e[X6],serialize(e){const{port1:t,port2:r}=new MessageChannel;return J6(e,t),[r,[r]]},deserialize(e){return e.start(),tG(e)}},F0e={canHandle:e=>Z6(e)&&ov in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},Q6=new Map([["proxy",D0e],["throw",F0e]]);function $0e(e,t){for(const r of e)if(t===r||r==="*"||r instanceof RegExp&&r.test(t))return!0;return!1}function J6(e,t=globalThis,r=["*"]){t.addEventListener("message",function n(i){if(!i||!i.data)return;if(!$0e(r,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:a,type:s,path:o}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(pl);let u;try{const c=o.slice(0,-1).reduce((h,d)=>h[d],e),f=o.reduce((h,d)=>h[d],e);switch(s){case"GET":u=f;break;case"SET":c[o.slice(-1)[0]]=pl(i.data.value),u=!0;break;case"APPLY":u=f.apply(c,l);break;case"CONSTRUCT":{const h=new f(...l);u=W0e(h)}break;case"ENDPOINT":{const{port1:h,port2:d}=new MessageChannel;J6(e,d),u=j0e(h,[h])}break;case"RELEASE":u=void 0;break;default:return}}catch(c){u={value:c,[ov]:0}}Promise.resolve(u).catch(c=>({value:c,[ov]:0})).then(c=>{const[f,h]=fp(c);t.postMessage(Object.assign(Object.assign({},f),{id:a}),h),s==="RELEASE"&&(t.removeEventListener("message",n),eG(t),Vx in e&&typeof e[Vx]=="function"&&e[Vx]())}).catch(c=>{const[f,h]=fp({value:new TypeError("Unserializable return value"),[ov]:0});t.postMessage(Object.assign(Object.assign({},f),{id:a}),h)})}),t.start&&t.start()}function B0e(e){return e.constructor.name==="MessagePort"}function eG(e){B0e(e)&&e.close()}function tG(e,t){const r=new Map;return e.addEventListener("message",function(i){const{data:a}=i;if(!a||!a.id)return;const s=r.get(a.id);if(s)try{s(a)}finally{r.delete(a.id)}}),L2(e,r,[],t)}function Id(e){if(e)throw new Error("Proxy has been released and is not useable")}function rG(e){return fu(e,new Map,{type:"RELEASE"}).then(()=>{eG(e)})}const up=new WeakMap,cp="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(up.get(e)||0)-1;up.set(e,t),t===0&&rG(e)});function z0e(e,t){const r=(up.get(t)||0)+1;up.set(t,r),cp&&cp.register(e,t,e)}function G0e(e){cp&&cp.unregister(e)}function L2(e,t,r=[],n=function(){}){let i=!1;const a=new Proxy(n,{get(s,o){if(Id(i),o===K6)return()=>{G0e(a),rG(e),t.clear(),i=!0};if(o==="then"){if(r.length===0)return{then:()=>a};const l=fu(e,t,{type:"GET",path:r.map(u=>u.toString())}).then(pl);return l.then.bind(l)}return L2(e,t,[...r,o])},set(s,o,l){Id(i);const[u,c]=fp(l);return fu(e,t,{type:"SET",path:[...r,o].map(f=>f.toString()),value:u},c).then(pl)},apply(s,o,l){Id(i);const u=r[r.length-1];if(u===I0e)return fu(e,t,{type:"ENDPOINT"}).then(pl);if(u==="bind")return L2(e,t,r.slice(0,-1));const[c,f]=A3(l);return fu(e,t,{type:"APPLY",path:r.map(h=>h.toString()),argumentList:c},f).then(pl)},construct(s,o){Id(i);const[l,u]=A3(o);return fu(e,t,{type:"CONSTRUCT",path:r.map(c=>c.toString()),argumentList:l},u).then(pl)}});return z0e(a,e),a}function q0e(e){return Array.prototype.concat.apply([],e)}function A3(e){const t=e.map(fp);return[t.map(r=>r[0]),q0e(t.map(r=>r[1]))]}const nG=new WeakMap;function j0e(e,t){return nG.set(e,t),e}function W0e(e){return Object.assign(e,{[X6]:!0})}function fp(e){for(const[t,r]of Q6)if(r.canHandle(e)){const[n,i]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},i]}return[{type:"RAW",value:e},nG.get(e)||[]]}function pl(e){switch(e.type){case"HANDLER":return Q6.get(e.name).deserialize(e.value);case"RAW":return e.value}}function fu(e,t,r,n){return new Promise(i=>{const a=V0e();t.set(a,i),e.start&&e.start(),e.postMessage(Object.assign({id:a},r),n)})}function V0e(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}class zxe extends bz{constructor(t,r,n){super(),this.graph=t,this.layout=r,this.options=n,this.spawnWorker()}spawnWorker(){this.proxy=tG(new Worker(new URL("/assets/worker-DhNQGsVR.js",import.meta.url),{type:"module"})),this.running&&(this.running=!1,this.execute())}execute(){var t;return _t(this,void 0,void 0,function*(){if(this.running)return this;this.running=!0;const r=this.layout.options,{onTick:n}=r,i=xr(r,["onTick"]),a={};Object.keys(i).forEach(u=>{Gt(i[u])||(a[u]=i[u])});const s={layout:{id:this.layout.id,options:a,iterations:(t=this.options)===null||t===void 0?void 0:t.iterations},nodes:this.graph.getAllNodes(),edges:this.graph.getAllEdges()},o=new Float32Array([0]),[l]=yield this.proxy.calculateLayout(s,[o]);return l})}stop(){return this.running=!1,this.proxy.stopLayout(),this}kill(){this.proxy[K6]()}isRunning(){return this.running}}function _S(e,t,r,n,i,a){const s=e,o=t,l=r-s,u=n-o;let c=i-s,f=a-o,h=c*l+f*u,d=0;h<=0?d=0:(c=l-c,f=u-f,h=c*l+f*u,h<=0?d=0:d=h*h/(l*l+u*u));const v=c*c+f*f-d;return v<0?0:v}function No(e,t,r,n){return(e-r)*(e-r)+(t-n)*(t-n)}function P3(e,t,r,n,i){return No(e,t,r,n)<i*i}function U0e(e){if(!Number.isFinite(e))return r=>r;if(e===0)return Math.round;const t=Math.pow(10,e);return r=>Math.round(r*t)/t}function iG(e){const t=Math.min(e.x1,e.x2),r=Math.max(e.x1,e.x2),n=Math.min(e.y1,e.y2),i=Math.max(e.y1,e.y2);return{x:t,y:n,x2:r,y2:i,width:r-t,height:i-n}}class Tn{constructor(t,r,n,i){this.x1=t,this.y1=r,this.x2=n,this.y2=i}equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2}draw(t){t.moveTo(this.x1,this.y1),t.lineTo(this.x2,this.y2)}toString(){return`Line(from=(${this.x1},${this.y1}),to=(${this.x2},${this.y2}))`}static from(t){return new Tn(t.x1,t.y1,t.x2,t.y2)}cuts(t,r){if(this.y1===this.y2||r<this.y1&&r<=this.y2||r>this.y1&&r>=this.y2||t>this.x1&&t>=this.x2)return!1;if(t<this.x1&&t<=this.x2)return!0;const n=this.x1+(r-this.y1)*(this.x2-this.x1)/(this.y2-this.y1);return t<=n}distSquare(t,r){return _S(this.x1,this.y1,this.x2,this.y2,t,r)}ptClose(t,r,n){if(this.x1<this.x2){if(t<this.x1-n||t>this.x2+n)return!1}else if(t<this.x2-n||t>this.x1+n)return!1;if(this.y1<this.y2){if(r<this.y1-n||r>this.y2+n)return!1}else if(r<this.y2-n||r>this.y1+n)return!1;return!0}}var Cr;(function(e){e[e.POINT=1]="POINT",e[e.PARALLEL=2]="PARALLEL",e[e.COINCIDENT=3]="COINCIDENT",e[e.NONE=4]="NONE"})(Cr||(Cr={}));class Ux{constructor(t,r=0,n=0){this.state=t,this.x=r,this.y=n}}function Dd(e,t){const r=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),n=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),i=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(i){const a=r/i,s=n/i;return 0<=a&&a<=1&&0<=s&&s<=1?new Ux(Cr.POINT,e.x1+a*(e.x2-e.x1),e.y1+a*(e.y2-e.y1)):new Ux(Cr.NONE)}return new Ux(r===0||n===0?Cr.COINCIDENT:Cr.PARALLEL)}function aG(e,t){const r=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),n=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),i=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(i){const a=r/i,s=n/i;if(0<=a&&a<=1&&0<=s&&s<=1)return a}return Number.POSITIVE_INFINITY}function H0e(e,t){function r(i,a,s,o){let l=aG(t,new Tn(i,a,s,o));return l=Math.abs(l-.5),l>=0&&l<=1?1:0}let n=r(e.x,e.y,e.x2,e.y);return n+=r(e.x,e.y,e.x,e.y2),n>1||(n+=r(e.x,e.y2,e.x2,e.y2),n>1)?!0:(n+=r(e.x2,e.y,e.x2,e.y2),n>0)}var Lr;(function(e){e[e.LEFT=0]="LEFT",e[e.TOP=1]="TOP",e[e.RIGHT=2]="RIGHT",e[e.BOTTOM=3]="BOTTOM"})(Lr||(Lr={}));function lv(e,t,r){const n=new Set;return e.width<=0?(n.add(Lr.LEFT),n.add(Lr.RIGHT)):t<e.x?n.add(Lr.LEFT):t>e.x+e.width&&n.add(Lr.RIGHT),e.height<=0?(n.add(Lr.TOP),n.add(Lr.BOTTOM)):r<e.y?n.add(Lr.TOP):r>e.y+e.height&&n.add(Lr.BOTTOM),n}function sG(e,t){let r=t.x1,n=t.y1;const i=t.x2,a=t.y2,s=Array.from(lv(e,i,a));if(s.length===0)return!0;let o=lv(e,r,n);for(;o.size!==0;){for(const l of s)if(o.has(l))return!1;if(o.has(Lr.RIGHT)||o.has(Lr.LEFT)){let l=e.x;o.has(Lr.RIGHT)&&(l+=e.width),n=n+(l-r)*(a-n)/(i-r),r=l}else{let l=e.y;o.has(Lr.BOTTOM)&&(l+=e.height),r=r+(l-n)*(i-r)/(a-n),n=l}o=lv(e,r,n)}return!0}function Y0e(e,t){let r=Number.POSITIVE_INFINITY,n=0;function i(a,s,o,l){let u=aG(t,new Tn(a,s,o,l));u=Math.abs(u-.5),u>=0&&u<=1&&(n++,u<r&&(r=u))}return i(e.x,e.y,e.x2,e.y),i(e.x,e.y,e.x,e.y2),n>1||(i(e.x,e.y2,e.x2,e.y2),n>1)?r:(i(e.x2,e.y,e.x2,e.y2),n===0?-1:r)}function X0e(e,t){let r=0;const n=Dd(e,new Tn(t.x,t.y,t.x2,t.y));r+=n.state===Cr.POINT?1:0;const i=Dd(e,new Tn(t.x,t.y,t.x,t.y2));r+=i.state===Cr.POINT?1:0;const a=Dd(e,new Tn(t.x,t.y2,t.x2,t.y2));r+=a.state===Cr.POINT?1:0;const s=Dd(e,new Tn(t.x2,t.y,t.x2,t.y2));return r+=s.state===Cr.POINT?1:0,{top:n,left:i,bottom:a,right:s,count:r}}class Kn{constructor(t,r,n,i){this.x=t,this.y=r,this.width=n,this.height=i}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get cx(){return this.x+this.width/2}get cy(){return this.y+this.height/2}get radius(){return Math.max(this.width,this.height)/2}static from(t){return new Kn(t.x,t.y,t.width,t.height)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}clone(){return new Kn(this.x,this.y,this.width,this.height)}add(t){const r=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x2,t.x+t.width),a=Math.max(this.y2,t.y+t.height);this.x=r,this.y=n,this.width=i-r,this.height=a-n}addPoint(t){const r=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x2,t.x),a=Math.max(this.y2,t.y);this.x=r,this.y=n,this.width=i-r,this.height=a-n}toString(){return`Rectangle[x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}]`}draw(t){t.rect(this.x,this.y,this.width,this.height)}containsPt(t,r){return t>=this.x&&t<=this.x2&&r>=this.y&&r<=this.y2}get area(){return this.width*this.height}intersects(t){return this.area<=0||t.width<=0||t.height<=0?!1:t.x+t.width>this.x&&t.y+t.height>this.y&&t.x<this.x2&&t.y<this.y2}distSquare(t,r){if(this.containsPt(t,r))return 0;const n=lv(this,t,r);return n.has(Lr.TOP)?n.has(Lr.LEFT)?No(t,r,this.x,this.y):n.has(Lr.RIGHT)?No(t,r,this.x2,this.y):(this.y-r)*(this.y-r):n.has(Lr.BOTTOM)?n.has(Lr.LEFT)?No(t,r,this.x,this.y2):n.has(Lr.RIGHT)?No(t,r,this.x2,this.y2):(r-this.y2)*(r-this.y2):n.has(Lr.LEFT)?(this.x-t)*(this.x-t):n.has(Lr.RIGHT)?(t-this.x2)*(t-this.x2):0}}function K0e(e){if(e.length===0)return null;const t=e[0],r=new Kn(t.x,t.y,0,0);for(const n of e)r.addPoint(n);return r}class hp{constructor(t,r,n){this.cx=t,this.cy=r,this.radius=n}get x(){return this.cx-this.radius}get x2(){return this.cx+this.radius}get width(){return this.radius*2}get y(){return this.cy-this.radius}get y2(){return this.cy+this.radius}get height(){return this.radius*2}static from(t){return new hp(t.cx,t.cy,t.radius)}containsPt(t,r){return No(this.cx,this.cy,t,r)<this.radius*this.radius}distSquare(t,r){const n=No(this.cx,this.cy,t,r);if(n<this.radius*this.radius)return 0;const i=Math.sqrt(n)-this.radius;return i*i}draw(t){t.ellipse(this.cx,this.cy,this.radius,this.radius,0,0,Math.PI*2)}}class Al{constructor(t,r=0,n=0,i=0,a=0,s=10,o=10,l=new Float32Array(Math.max(0,s*o)).fill(0)){this.pixelGroup=t,this.i=r,this.j=n,this.pixelX=i,this.pixelY=a,this.width=s,this.height=o,this.area=l}createSub(t,r){return new Al(this.pixelGroup,t.x,t.y,r.x,r.y,t.width,t.height)}static fromPixelRegion(t,r){return new Al(r,0,0,t.x,t.y,Math.ceil(t.width/r),Math.ceil(t.height/r))}copy(t,r){return new Al(this.pixelGroup,this.scaleX(r.x),this.scaleY(r.y),r.x,r.y,t.width,t.height,t.area)}boundX(t){return t<this.i?this.i:t>=this.width?this.width-1:t}boundY(t){return t<this.j?this.j:t>=this.height?this.height-1:t}scaleX(t){return this.boundX(Math.floor((t-this.pixelX)/this.pixelGroup))}scaleY(t){return this.boundY(Math.floor((t-this.pixelY)/this.pixelGroup))}scale(t){const r=this.scaleX(t.x),n=this.scaleY(t.y),i=this.boundX(Math.ceil((t.x+t.width-this.pixelX)/this.pixelGroup)),a=this.boundY(Math.ceil((t.y+t.height-this.pixelY)/this.pixelGroup)),s=i-r,o=a-n;return new Kn(r,n,s,o)}invertScaleX(t){return Math.round(t*this.pixelGroup+this.pixelX)}invertScaleY(t){return Math.round(t*this.pixelGroup+this.pixelY)}addPadding(t,r){const n=Math.ceil(r/this.pixelGroup),i=this.boundX(t.x-n),a=this.boundY(t.y-n),s=this.boundX(t.x2+n),o=this.boundY(t.y2+n),l=s-i,u=o-a;return new Kn(i,a,l,u)}get(t,r){return t<0||r<0||t>=this.width||r>=this.height?Number.NaN:this.area[t+r*this.width]}inc(t,r,n){t<0||r<0||t>=this.width||r>=this.height||(this.area[t+r*this.width]+=n)}set(t,r,n){t<0||r<0||t>=this.width||r>=this.height||(this.area[t+r*this.width]=n)}incArea(t,r){if(t.width<=0||t.height<=0||r===0)return;const n=this.width,i=t.width,a=Math.max(0,t.i),s=Math.max(0,t.j),o=Math.min(t.i+t.width,n),l=Math.min(t.j+t.height,this.height);if(!(l<=0||o<=0||a>=n||l>=this.height))for(let u=s;u<l;u++){const c=(u-t.j)*i,f=u*n;for(let h=a;h<o;h++){const d=t.area[h-t.i+c];d!==0&&(this.area[h+f]+=r*d)}}}fill(t){this.area.fill(t)}fillArea(t,r){const n=t.x+t.y*this.width;for(let i=0;i<t.height;i++){const a=n+i*this.width;this.area.fill(r,a,a+t.width)}}fillHorizontalLine(t,r,n,i){const a=t+r*this.width;this.area.fill(i,a,a+n)}fillVerticalLine(t,r,n,i){const a=t+r*this.width;for(let s=0;s<n;s++)this.area[a+s*this.width]=i}clear(){this.area.fill(0)}toString(){let t="";for(let r=0;r<this.height;r++){const n=r*this.width;for(let i=0;i<this.width;i++){const a=this.area[n+i];t+=a.toFixed(1).padStart(6),t+=" "}t+=`
`}return t}draw(t,r=!0){if(this.width<=0||this.height<=0)return;t.save(),r&&t.translate(this.pixelX,this.pixelY);const n=this.area.reduce((s,o)=>Math.min(s,o),Number.POSITIVE_INFINITY),i=this.area.reduce((s,o)=>Math.max(s,o),Number.NEGATIVE_INFINITY),a=s=>(s-n)/(i-n);t.scale(this.pixelGroup,this.pixelGroup);for(let s=0;s<this.width;s++)for(let o=0;o<this.height;o++){const l=this.area[s+o*this.width];t.fillStyle=`rgba(0, 0, 0, ${a(l)})`,t.fillRect(s,o,1,1)}t.restore()}drawThreshold(t,r,n=!0){if(!(this.width<=0||this.height<=0)){t.save(),n&&t.translate(this.pixelX,this.pixelY),t.scale(this.pixelGroup,this.pixelGroup);for(let i=0;i<this.width;i++)for(let a=0;a<this.height;a++){const s=this.area[i+a*this.width];t.fillStyle=s>r?"black":"white",t.fillRect(i,a,1,1)}t.restore()}}}function oG(e,t){const r=n=>({x:n.x-t,y:n.y-t,width:n.width+2*t,height:n.height+2*t});return Array.isArray(e)?e.map(r):r(e)}function O3(e,t,r){return lG(Object.assign(iG(e),{distSquare:(n,i)=>_S(e.x1,e.y1,e.x2,e.y2,n,i)}),t,r)}function lG(e,t,r){const n=oG(e,r),i=t.scale(n),a=t.createSub(i,n);return Z0e(a,t,r,(s,o)=>e.distSquare(s,o)),a}function Z0e(e,t,r,n){const i=r*r;for(let a=0;a<e.height;a++)for(let s=0;s<e.width;s++){const o=t.invertScaleX(e.i+s),l=t.invertScaleY(e.j+a),u=n(o,l);if(u===0){e.set(s,a,i);continue}if(u<i){const c=r-Math.sqrt(u);e.set(s,a,c*c)}}return e}function Q0e(e,t,r){const n=t.scale(e),i=t.addPadding(n,r),a=t.createSub(i,{x:e.x-r,y:e.y-r}),s=n.x-i.x,o=n.y-i.y,l=i.x2-n.x2,u=i.y2-n.y2,c=i.width-s-l,f=i.height-o-u,h=r*r;a.fillArea({x:s,y:o,width:c+1,height:f+1},h);const d=[0],v=Math.max(o,s,l,u);{const y=t.invertScaleX(n.x+n.width/2);for(let b=1;b<v;b++){const _=t.invertScaleY(n.y-b),x=e.distSquare(y,_);if(x<h){const E=r-Math.sqrt(x);d.push(E*E)}else break}}const p=[],g=Math.max(s,l),m=Math.max(o,l);for(let y=1;y<g;y++){const b=t.invertScaleX(n.x-y),_=[];for(let x=1;x<m;x++){const E=t.invertScaleY(n.y-x),w=e.distSquare(b,E);if(w<h){const S=r-Math.sqrt(w);_.push(S*S)}else _.push(0)}p.push(_)}for(let y=1;y<Math.min(o,d.length);y++){const b=d[y];a.fillHorizontalLine(s,o-y,c+1,b)}for(let y=1;y<Math.min(u,d.length);y++){const b=d[y];a.fillHorizontalLine(s,o+f+y,c+1,b)}for(let y=1;y<Math.min(s,d.length);y++){const b=d[y];a.fillVerticalLine(s-y,o,f+1,b)}for(let y=1;y<Math.min(u,d.length);y++){const b=d[y];a.fillVerticalLine(s+c+y,o,f+1,b)}for(let y=1;y<s;y++){const b=p[y-1],_=s-y;for(let x=1;x<o;x++)a.set(_,o-x,b[x-1]);for(let x=1;x<u;x++)a.set(_,o+f+x,b[x-1])}for(let y=1;y<l;y++){const b=p[y-1],_=s+c+y;for(let x=1;x<o;x++)a.set(_,o-x,b[x-1]);for(let x=1;x<u;x++)a.set(_,o+f+x,b[x-1])}return a}function ur(e,t){return{x:e,y:t}}function J0e(e,t,r,n){if(e.length===0)return[];const i=ime(e);return i.map((a,s)=>{const o=i.slice(0,s);return eme(t,a,o,r,n)}).flat()}function eme(e,t,r,n,i){const a=ur(t.cx,t.cy),s=nme(a,r,e);if(s==null)return[];const o=new Tn(a.x,a.y,s.cx,s.cy),l=tme(o,e,n,i);return rme(l,e)}function tme(e,t,r,n){const i=[],a=[];a.push(e);let s=!0;for(let o=0;o<r&&s;o++)for(s=!1;!s&&a.length>0;){const l=a.pop(),u=uG(t,l),c=u?X0e(l,u):null;if(!u||!c||c.count!==2){s||i.push(l);continue}let f=n,h=$d(u,f,c,!0),d=co(h,a)||co(h,i),v=Fd(h,t);for(;!d&&v&&f>=1;)f/=1.5,h=$d(u,f,c,!0),d=co(h,a)||co(h,i),v=Fd(h,t);if(h&&!d&&!v&&(a.push(new Tn(l.x1,l.y1,h.x,h.y)),a.push(new Tn(h.x,h.y,l.x2,l.y2)),s=!0),s)continue;f=n,h=$d(u,f,c,!1);let p=co(h,a)||co(h,i);for(v=Fd(h,t);!p&&v&&f>=1;)f/=1.5,h=$d(u,f,c,!1),p=co(h,a)||co(h,i),v=Fd(h,t);h&&!p&&(a.push(new Tn(l.x1,l.y1,h.x,h.y)),a.push(new Tn(h.x,h.y,l.x2,l.y2)),s=!0),s||i.push(l)}for(;a.length>0;)i.push(a.pop());return i}function rme(e,t){const r=[];for(;e.length>0;){const n=e.pop();if(e.length===0){r.push(n);break}const i=e.pop(),a=new Tn(n.x1,n.y1,i.x2,i.y2);uG(t,a)?(r.push(n),e.push(i)):e.push(a)}return r}function nme(e,t,r){let n=Number.POSITIVE_INFINITY;return t.reduce((i,a)=>{const s=No(e.x,e.y,a.cx,a.cy);if(s>n)return i;const o=new Tn(e.x,e.y,a.cx,a.cy),l=ame(r,o);return s*(l+1)*(l+1)<n&&(i=a,n=s*(l+1)*(l+1)),i},null)}function ime(e){if(e.length<2)return e;let t=0,r=0;return e.forEach(n=>{t+=n.cx,r+=n.cy}),t/=e.length,r/=e.length,e.map(n=>{const i=t-n.cx,a=r-n.cy,s=i*i+a*a;return[n,s]}).sort((n,i)=>n[1]-i[1]).map(n=>n[0])}function Fd(e,t){return t.some(r=>r.containsPt(e.x,e.y))}function co(e,t){return t.some(r=>!!(P3(r.x1,r.y1,e.x,e.y,.001)||P3(r.x2,r.y2,e.x,e.y,.001)))}function uG(e,t){let r=Number.POSITIVE_INFINITY,n=null;for(const i of e){if(!sG(i,t))continue;const a=Y0e(i,t);a>=0&&a<r&&(n=i,r=a)}return n}function ame(e,t){return e.reduce((r,n)=>sG(n,t)&&H0e(n,t)?r+1:r,0)}function $d(e,t,r,n){const i=r.top,a=r.left,s=r.bottom,o=r.right;if(n){if(a.state===Cr.POINT){if(i.state===Cr.POINT)return ur(e.x-t,e.y-t);if(s.state===Cr.POINT)return ur(e.x-t,e.y2+t);const h=e.width*e.height;return e.width*((a.y-e.y+(o.y-e.y))*.5)<h*.5?a.y>o.y?ur(e.x-t,e.y-t):ur(e.x2+t,e.y-t):a.y<o.y?ur(e.x-t,e.y2+t):ur(e.x2+t,e.y2+t)}if(o.state===Cr.POINT){if(i.state===Cr.POINT)return ur(e.x2+t,e.y-t);if(s.state===Cr.POINT)return ur(e.x2+t,e.y2+t)}const c=e.height*e.width;return e.height*((i.x-e.x+(o.x-e.x))*.5)<c*.5?i.x>s.x?ur(e.x-t,e.y-t):ur(e.x-t,e.y2+t):i.x<s.x?ur(e.x2+t,e.y-t):ur(e.x2+t,e.y2+t)}if(a.state===Cr.POINT){if(i.state===Cr.POINT)return ur(e.x2+t,e.y2+t);if(s.state===Cr.POINT)return ur(e.x2+t,e.y-t);const c=e.height*e.width;return e.width*((a.y-e.y+(o.y-e.y))*.5)<c*.5?a.y>o.y?ur(e.x2+t,e.y2+t):ur(e.x-t,e.y2+t):a.y<o.y?ur(e.x2+t,e.y-t):ur(e.x-t,e.y-t)}if(o.state===Cr.POINT){if(i.state===Cr.POINT)return ur(e.x-t,e.y2+t);if(s.state===Cr.POINT)return ur(e.x-t,e.y-t)}const l=e.height*e.width;return e.height*((i.x-e.x+(o.x-e.x))*.5)<l*.5?i.x>s.x?ur(e.x2+t,e.y2+t):ur(e.x2+t,e.y-t):i.x<s.x?ur(e.x-t,e.y2+t):ur(e.x-t,e.y-t)}function sme(e,t,r,n){if(!(e.closed?r<e.length:r<e.length-1))return!1;const a=e.get(t),s=e.get(r+1);for(let o=t+1;o<=r;o++){const l=e.get(o);if(_S(a.x,a.y,s.x,s.y,l.x,l.y)>n)return!1}return!0}function ome(e=0){return t=>{if(e<0||t.length<3)return t;const r=[];let n=0;const i=e*e;for(;n<t.length;){let a=n+1;for(;sme(t,n,a,i);)a++;r.push(t.get(n)),n=a}return new pc(r)}}function lme(e,t){switch(e){case-2:return(((-t+3)*t-3)*t+1)/6;case-1:return((3*t-6)*t*t+4)/6;case 0:return(((-3*t+3)*t+3)*t+1)/6;case 1:return t*t*t/6;default:throw new Error("unknown error")}}function ume(e=6){function a(s,o,l){let u=0,c=0;for(let f=-2;f<=1;f++){const h=s.get(o+f),d=lme(f,l);u+=d*h.x,c+=d*h.y}return{x:u,y:c}}return s=>{if(s.length<3)return s;const o=[],l=s.closed,u=s.length+3-1+(l?0:2);o.push(a(s,2-(l?0:2),0));for(let c=2-(l?0:2);c<u;c++)for(let f=1;f<=e;f++)o.push(a(s,c,f/e));return new pc(o)}}function cme(e=8){return t=>{let r=e,n=t.length;if(r>1)for(n=Math.floor(t.length/r);n<3&&r>1;)r-=1,n=Math.floor(t.length/r);const i=[];for(let a=0,s=0;s<n;s++,a+=r)i.push(t.get(a));return new pc(i)}}class pc{constructor(t=[],r=!0){this.points=t,this.closed=r}get(t){const r=t,n=this.points.length;return t<0?this.closed?this.get(t+n):this.points[0]:t>=n?this.closed?this.get(t-n):this.points[n-1]:this.points[r]}get length(){return this.points.length}toString(t=1/0){const r=this.points;if(r.length===0)return"";const n=typeof t=="function"?t:U0e(t);let i="M";for(const a of r)i+=`${n(a.x)},${n(a.y)} L`;return i=i.slice(0,-1),this.closed&&(i+=" Z"),i}draw(t){const r=this.points;if(r.length!==0){t.beginPath(),t.moveTo(r[0].x,r[0].y);for(const n of r)t.lineTo(n.x,n.y);this.closed&&t.closePath()}}sample(t){return cme(t)(this)}simplify(t){return ome(t)(this)}bSplines(t){return ume(t)(this)}apply(t){return t(this)}containsElements(t){const r=K0e(this.points);return r?t.every(n=>r.containsPt(n.cx,n.cy)&&this.withinArea(n.cx,n.cy)):!1}withinArea(t,r){if(this.length===0)return!1;let n=0;const i=this.points[0],a=new Tn(i.x,i.y,i.x,i.y);for(let s=1;s<this.points.length;s++){const o=this.points[s];a.x1=a.x2,a.y1=a.y2,a.x2=o.x,a.y2=o.y,a.cuts(t,r)&&n++}return a.x1=a.x2,a.y1=a.y2,a.x2=i.x,a.y2=i.y,a.cuts(t,r)&&n++,n%2===1}}class fme{constructor(t=0){this.count=0,this.arr=[],this.set=new Set,this.arr.length=t}add(t){this.set.add(`${t.x}x${t.y}`),this.arr[this.count++]=t}contains(t){return this.set.has(`${t.x}x${t.y}`)}isFirst(t){if(this.count===0)return!1;const r=this.arr[0];return r!=null&&r.x===t.x&&r.y===t.y}path(){return new pc(this.arr.slice(0,this.count))}clear(){this.set.clear(),this.count=0}get(t){return this.arr[t]}get length(){return this.count}}const Lc=0,Bd=1,zd=2,Hx=3;function hme(e,t){const r=(Math.floor(e.width)+Math.floor(e.height))*2,n=new fme(r);function i(l,u,c,f){const h=e.get(l,u);return Number.isNaN(h)?Number.NaN:h>t?c+f:c}function a(l,u){let c=Lc;return c=i(l,u,c,1),c=i(l+1,u,c,2),c=i(l,u+1,c,4),c=i(l+1,u+1,c,8),Number.isNaN(c)?-1:c}let s=Bd;function o(l,u){let c=l,f=u,h=e.invertScaleX(c),d=e.invertScaleY(f);for(let v=0;v<e.width*e.height;v++){const p={x:h,y:d};if(n.contains(p)){if(n.isFirst(p))return!0}else n.add(p);const g=a(c,f);switch(g){case-1:return!0;case 0:case 3:case 2:case 7:s=zd;break;case 12:case 14:case 4:s=Hx;break;case 6:s=s===Lc?Hx:zd;break;case 1:case 13:case 5:s=Lc;break;case 9:s=s===zd?Lc:Bd;break;case 10:case 8:case 11:s=Bd;break;default:return console.warn("Marching squares invalid state: "+g),!0}switch(s){case Lc:f--,d-=e.pixelGroup;break;case Bd:f++,d+=e.pixelGroup;break;case Hx:c--,h-=e.pixelGroup;break;case zd:c++,h+=e.pixelGroup;break;default:return console.warn("Marching squares invalid state: "+g),!0}}return!0}for(let l=0;l<e.width;l++)for(let u=0;u<e.height;u++){if(e.get(l,u)<=t)continue;const c=a(l,u);if(!(c<0||c===15)&&o(l,u))return n.path()}return null}const cG={maxRoutingIterations:100,maxMarchingIterations:20,pixelGroup:4,edgeR0:10,edgeR1:20,nodeR0:15,nodeR1:50,morphBuffer:10,threshold:1,memberInfluenceFactor:1,edgeInfluenceFactor:1,nonMemberInfluenceFactor:-.8,virtualEdges:!0};function gf(e){return e!=null&&typeof e.radius=="number"}function C3(e,t){if(gf(e)!==gf(t))return!1;if(gf(e)){const n=t;return e.cx===n.cx&&e.cy===n.cy&&e.radius===n.radius}const r=t;return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}var wa;(function(e){e[e.MEMBERS=0]="MEMBERS",e[e.NON_MEMBERS=1]="NON_MEMBERS",e[e.EDGES=2]="EDGES"})(wa||(wa={}));let Gxe=class{constructor(t={}){this.dirty=new Set,this.members=[],this.nonMembers=[],this.virtualEdges=[],this.edges=[],this.activeRegion=new Kn(0,0,0,0),this.potentialArea=new Al(1,0,0,0,0,0,0),this.o=Object.assign({},cG,t)}pushMember(...t){if(t.length!==0){this.dirty.add(wa.MEMBERS);for(const r of t)this.members.push({raw:r,obj:gf(r)?hp.from(r):Kn.from(r),area:null})}}removeMember(t){const r=this.members.findIndex(n=>C3(n.raw,t));return r<0?!1:(this.members.splice(r,1),this.dirty.add(wa.MEMBERS),!0)}removeNonMember(t){const r=this.nonMembers.findIndex(n=>C3(n.raw,t));return r<0?!1:(this.nonMembers.splice(r,1),this.dirty.add(wa.NON_MEMBERS),!0)}removeEdge(t){const r=this.edges.findIndex(n=>n.obj.equals(t));return r<0?!1:(this.edges.splice(r,1),this.dirty.add(wa.NON_MEMBERS),!0)}pushNonMember(...t){if(t.length!==0){this.dirty.add(wa.NON_MEMBERS);for(const r of t)this.nonMembers.push({raw:r,obj:gf(r)?hp.from(r):Kn.from(r),area:null})}}pushEdge(...t){if(t.length!==0){this.dirty.add(wa.EDGES);for(const r of t)this.edges.push({raw:r,obj:Tn.from(r),area:null})}}update(){const t=this.dirty.has(wa.MEMBERS),r=this.dirty.has(wa.NON_MEMBERS);let n=this.dirty.has(wa.EDGES);this.dirty.clear();const i=this.members.map(u=>u.obj);if(this.o.virtualEdges&&(t||r)){const u=this.nonMembers.map(h=>h.obj),c=J0e(i,u,this.o.maxRoutingIterations,this.o.morphBuffer),f=new Map(this.virtualEdges.map(h=>[h.obj.toString(),h.area]));this.virtualEdges=c.map(h=>{var d;return{raw:h,obj:h,area:(d=f.get(h.toString()))!==null&&d!==void 0?d:null}}),n=!0}let a=!1;if(t||n){const u=this.virtualEdges.concat(this.edges).map(d=>d.obj),c=vme(i,u),f=Math.max(this.o.edgeR1,this.o.nodeR1)+this.o.morphBuffer,h=Kn.from(oG(c,f));h.equals(this.activeRegion)||(a=!0,this.activeRegion=h)}if(a){const u=Math.ceil(this.activeRegion.width/this.o.pixelGroup),c=Math.ceil(this.activeRegion.height/this.o.pixelGroup);this.activeRegion.x!==this.potentialArea.pixelX||this.activeRegion.y!==this.potentialArea.pixelY?(this.potentialArea=Al.fromPixelRegion(this.activeRegion,this.o.pixelGroup),this.members.forEach(f=>f.area=null),this.nonMembers.forEach(f=>f.area=null),this.edges.forEach(f=>f.area=null),this.virtualEdges.forEach(f=>f.area=null)):(u!==this.potentialArea.width||c!==this.potentialArea.height)&&(this.potentialArea=Al.fromPixelRegion(this.activeRegion,this.o.pixelGroup))}const s=new Map,o=u=>{if(u.area){const c=`${u.obj.width}x${u.obj.height}x${u.obj instanceof Kn?"R":"C"}`;s.set(c,u.area)}},l=u=>{if(u.area)return;const c=`${u.obj.width}x${u.obj.height}x${u.obj instanceof Kn?"R":"C"}`;if(s.has(c)){const h=s.get(c);u.area=this.potentialArea.copy(h,{x:u.obj.x-this.o.nodeR1,y:u.obj.y-this.o.nodeR1});return}const f=u.obj instanceof Kn?Q0e(u.obj,this.potentialArea,this.o.nodeR1):lG(u.obj,this.potentialArea,this.o.nodeR1);u.area=f,s.set(c,f)};this.members.forEach(o),this.nonMembers.forEach(o),this.members.forEach(l),this.nonMembers.forEach(u=>{this.activeRegion.intersects(u.obj)?l(u):u.area=null}),this.edges.forEach(u=>{u.area||(u.area=O3(u.obj,this.potentialArea,this.o.edgeR1))}),this.virtualEdges.forEach(u=>{u.area||(u.area=O3(u.obj,this.potentialArea,this.o.edgeR1))})}drawMembers(t){for(const r of this.members)r.obj.draw(t)}drawNonMembers(t){for(const r of this.nonMembers)r.obj.draw(t)}drawEdges(t){for(const r of this.edges)r.obj.draw(t)}drawPotentialArea(t,r=!0){this.potentialArea.draw(t,r)}compute(){if(this.members.length===0)return new pc([]);this.dirty.size>0&&this.update();const{o:t,potentialArea:r}=this,n=this.members.map(o=>o.area),i=this.virtualEdges.concat(this.edges).map(o=>o.area),a=this.nonMembers.filter(o=>o.area!=null).map(o=>o.area),s=this.members.map(o=>o.obj);return dme(r,n,i,a,o=>o.containsElements(s),t)}};function dme(e,t,r,n,i,a={}){const s=Object.assign({},cG,a);let o=s.threshold,l=s.memberInfluenceFactor,u=s.edgeInfluenceFactor,c=s.nonMemberInfluenceFactor;const f=(s.nodeR0-s.nodeR1)*(s.nodeR0-s.nodeR1),h=(s.edgeR0-s.edgeR1)*(s.edgeR0-s.edgeR1);for(let d=0;d<s.maxMarchingIterations;d++){if(e.clear(),l!==0){const p=l/f;for(const g of t)e.incArea(g,p)}if(u!==0){const p=u/h;for(const g of r)e.incArea(g,p)}if(c!==0){const p=c/f;for(const g of n)e.incArea(g,p)}const v=hme(e,o);if(v&&i(v))return v;if(o*=.95,d<=s.maxMarchingIterations*.5)l*=1.2,u*=1.2;else if(c!==0&&n.length>0)c*=.8;else break}return new pc([])}function vme(e,t){if(e.length===0)return new Kn(0,0,0,0);const r=Kn.from(e[0]);for(const n of e)r.add(n);for(const n of t)r.add(iG(n));return r}function fG(e,t){t(e),e.children&&e.children.forEach(function(r){r&&fG(r,t)})}function _h(e){Lg(e,!0)}function Ma(e){Lg(e,!1)}function Lg(e,t){var r=t?"visible":"hidden";fG(e,function(n){n.attr("visibility",r)})}var pme=function(e){Et(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,et([],X(r),!1))||this;return i.isMutationObserved=!0,i.addEventListener(Rr.INSERTED,function(){Ma(i)}),i}return t}(Nn);function hG(e){var t=e.appendChild(new pme({class:"offscreen"}));return Ma(t),t}function gme(e){for(var t=e;t;){if(t.className==="offscreen")return!0;t=t.parent}return!1}var kS=function(e){Et(t,e);function t(r){r===void 0&&(r={});var n=r.style,i=xr(r,["style"]);return e.call(this,ke({style:ke({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},n)},i))||this}return Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=hG(this)),this._offscreen},enumerable:!1,configurable:!0}),t.prototype.disconnectedCallback=function(){var r;(r=this._offscreen)===null||r===void 0||r.destroy()},t}(ug);function tc(e){return e*Math.PI/180}function dG(e){return Number((e*180/Math.PI).toPrecision(5))}var ei=function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=r,this.width=n,this.height=i}return Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},e.prototype.isPointIn=function(t,r){return t>=this.left&&t<=this.right&&r>=this.top&&r<=this.bottom},e}();function wi(e,t){return Gt(e)?e.apply(void 0,et([],X(t),!1)):e}var Ga=function(e,t){var r=function(i){return"".concat(t,"-").concat(i)},n=Object.fromEntries(Object.entries(e).map(function(i){var a=X(i,2),s=a[0],o=a[1],l=r(o);return[s,{name:l,class:".".concat(l),id:"#".concat(l),toString:function(){return l}}]}));return Object.assign(n,{prefix:r}),n},mme=5,vG=function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=mme),Object.entries(t).forEach(function(i){var a=X(i,2),s=a[0],o=a[1],l=e;Object.prototype.hasOwnProperty.call(t,s)&&(o?Wu(o)?(Wu(e[s])||(l[s]={}),r<n?vG(e[s],o,r+1,n):l[s]=t[s]):xi(o)?(l[s]=[],l[s]=l[s].concat(o)):l[s]=o:l[s]=o)})},Qr=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n+=1)vG(e,t[n]);return e},yme=function(e){return e!==void 0&&e!=null&&!Number.isNaN(e)},Gd,bme=wee(function(e,t){var r=t.fontSize,n=t.fontFamily,i=t.fontWeight,a=t.fontStyle,s=t.fontVariant;return Gd||(Gd=Ne.offscreenCanvasCreator.getOrCreateContext(void 0)),Gd.font=[a,s,i,"".concat(r,"px"),n].join(" "),Gd.measureText(e).width},function(e,t){return[e,Object.values(t||pG(e)).join()].join("")},4096),pG=function(e){var t=e.style.fontFamily||"sans-serif",r=e.style.fontWeight||"normal",n=e.style.fontStyle||"normal",i=e.style.fontVariant,a=e.style.fontSize;return a=typeof a=="object"?a.value:a,{fontSize:a,fontFamily:t,fontWeight:r,fontStyle:n,fontVariant:i}};function gG(e){return e.nodeName==="text"?e:e.nodeName==="g"&&e.children.length===1&&e.children[0].nodeName==="text"?e.children[0]:null}function mG(e,t){var r=gG(e);r&&r.attr(t)}function I2(e,t,r){r===void 0&&(r="..."),mG(e,{wordWrap:!0,wordWrapWidth:t,maxLines:1,textOverflow:r})}function wme(e,t,r,n){r===void 0&&(r=2),n===void 0&&(n="top"),mG(e,{wordWrap:!0,wordWrapWidth:t,maxLines:r,textBaseline:n})}function R3(e){var t=e.canvas,r=e.touches,n=e.offsetX,i=e.offsetY;if(t){var a=t.x,s=t.y;return[a,s]}if(r){var o=r[0],l=o.clientX,u=o.clientY;return[l,u]}return n&&i?[n,i]:[0,0]}function Js(e){return typeof e=="function"?e():At(e)||rt(e)?new kS({style:{text:String(e)}}):e}function xme(e,t){return typeof e=="function"?e():At(e)||rt(e)?new og({style:ke(ke({},t),{innerHTML:String(e)})}):e}function Eme(e,t){return e.reduce(function(r,n){return(r[n[t]]=r[n[t]]||[]).push(n),r},{})}function mi(e,t,r,n,i){return n===void 0&&(n=!0),i===void 0&&(i=function(a){a.node().removeChildren()}),e?r(t):(n&&i(t),null)}function gn(e,t,r,n,i){return n===void 0&&(n=!0),i===void 0&&(i=!1),n&&e===t||i&&e===r?!0:e>t&&e<r}var _me=function(e,t){return function(r){return e*(1-r)+t*r}};function kme(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0;return function(i){var a=new Array(n),s=new Array(r),o=0;for(o=0;o<n;++o)a[o]=SS(e[o],t[o]);for(;o<r;++o)s[o]=t[o];for(o=0;o<n;++o)s[o]=a[o](i);return s}}function Sme(e,t){e===void 0&&(e={}),t===void 0&&(t={});var r={},n={};return Object.entries(t).forEach(function(i){var a=X(i,2),s=a[0],o=a[1];s in e?r[s]=SS(e[s],o):n[s]=o}),function(i){return Object.entries(r).forEach(function(a){var s=X(a,2),o=s[0],l=s[1];return n[o]=l(i)}),n}}function SS(e,t){return typeof e=="number"&&typeof t=="number"?_me(e,t):Array.isArray(e)&&Array.isArray(t)?kme(e,t):typeof e=="object"&&typeof t=="object"?Sme(e,t):function(r){return e}}function Tme(e,t,r,n){if(!n)return e.attr("__keyframe_data__",r),null;var i=n.duration,a=i===void 0?0:i,s=SS(t,r),o=Math.ceil(+a/16),l=new Array(o).fill(0).map(function(u,c,f){return{__keyframe_data__:s(c/(f.length-1))}});return e.animate(l,ke({fill:"both"},n))}function Fs(e,t){return[e[0]*t,e[1]*t]}function Yc(e,t){return[e[0]+t[0],e[1]+t[1]]}function Yx(e,t){return[e[0]-t[0],e[1]-t[1]]}function ol(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]}function ll(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}function Kf(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function yG(e){if(e[0]===0&&e[1]===0)return[0,0];var t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));return[e[0]/t,e[1]/t]}function Mme(e,t){return t?[e[1],-e[0]]:[-e[1],e[0]]}function L3(e,t){return+e.toPrecision(t)}function I3(e,t){var r={},n=Array.isArray(t)?t:[t];for(var i in e)n.includes(i)||(r[i]=e[i]);return r}function Nme(e,t,r,n){var i,a=[],s=!!n,o,l,u=[1/0,1/0],c=[-1/0,-1/0],f,h,d;if(s){i=X(n,2),u=i[0],c=i[1];for(var v=0,p=e.length;v<p;v+=1){var g=e[v];u=ol(u,g),c=ll(c,g)}}for(var v=0,m=e.length;v<m;v+=1){var g=e[v];if(v===0)d=g;else if(v===m-1)h=g,a.push(d),a.push(h);else{var y=[v?v-1:m-1,v-1][1];o=e[y],l=e[v+1];var b=[0,0];b=Yx(l,o),b=Fs(b,t);var _=Kf(g,o),x=Kf(g,l),E=_+x;E!==0&&(_/=E,x/=E);var w=Fs(b,-_),S=Fs(b,x);h=Yc(g,w),f=Yc(g,S),f=ol(f,ll(l,g)),f=ll(f,ol(l,g)),w=Yx(f,g),w=Fs(w,-_/x),h=Yc(g,w),h=ol(h,ll(o,g)),h=ll(h,ol(o,g)),S=Yx(g,h),S=Fs(S,x/_),f=Yc(g,S),s&&(h=ll(h,u),h=ol(h,c),f=ll(f,u),f=ol(f,c)),a.push(d),a.push(h),d=f}}return a}function Ame(e,t,r){r===void 0&&(r=[[0,0],[1,1]]);for(var n=!1,i=[],a=0,s=e.length;a<s;a+=2)i.push([e[a],e[a+1]]);for(var o=Nme(i,.4,n,r),l=i.length,u=[],c,f,h,a=0;a<l-1;a+=1)c=o[a*2],f=o[a*2+1],h=i[a+1],u.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]]);return u}var Pme=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function Ome(e){return Pme.includes(e)}function D3(e){var t={};for(var r in e)Ome(r)&&(t[r]=e[r]);return t}function Cme(e,t){if(e.length<=t)return e;for(var r=Math.floor(e.length/t),n=[],i=0;i<e.length;i+=r)n.push(e[i]);return n}function TS(e,t,r){var n=e.getBBox(),i=n.width,a=n.height,s=t/Math.max(i,a);return e.style.transform="scale(".concat(s,")"),s}function Rme(e,t){var r=new Map;return e.forEach(function(n){var i=t(n);r.has(i)||r.set(i,[]),r.get(i).push(n)}),r}function Lme(e){throw new Error(e)}var Ime=function(){function e(i,a,s,o,l,u,c){i===void 0&&(i=null),a===void 0&&(a=null),s===void 0&&(s=null),o===void 0&&(o=null),l===void 0&&(l=[null,null,null,null,null]),u===void 0&&(u=[]),c===void 0&&(c=[]),t.add(this),this._elements=Array.from(i),this._data=a,this._parent=s,this._document=o,this._enter=l[0],this._update=l[1],this._exit=l[2],this._merge=l[3],this._split=l[4],this._transitions=u,this._facetElements=c}e.prototype.selectAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new r(a,null,this._elements[0],this._document)},e.prototype.selectFacetAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new r(this._elements,null,this._parent,this._document,void 0,void 0,a)},e.prototype.select=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i)[0]||null:i;return new r([a],null,a,this._document)},e.prototype.append=function(i){var a=this,s=typeof i=="function"?i:function(){return a.createElement(i)},o=[];if(this._data!==null){for(var l=0;l<this._data.length;l++){var u=this._data[l],c=X(Array.isArray(u)?u:[u,null],2),f=c[0],h=c[1],d=s(f,l);d.__data__=f,h!==null&&(d.__fromElements__=h),this._parent.appendChild(d),o.push(d)}return new r(o,null,this._parent,this._document)}for(var l=0;l<this._elements.length;l++){var v=this._elements[l],f=v.__data__,d=s(f,l);v.appendChild(d),o.push(d)}return new r(o,null,o[0],this._document)},e.prototype.maybeAppend=function(i,a){var s=T0(this,t,"m",n).call(this,i[0]==="#"?i:"#".concat(i),a);return s.attr("id",i),s},e.prototype.maybeAppendByClassName=function(i,a){var s=i.toString(),o=T0(this,t,"m",n).call(this,s[0]==="."?s:".".concat(s),a);return o.attr("className",s),o},e.prototype.maybeAppendByName=function(i,a){var s=T0(this,t,"m",n).call(this,'[name="'.concat(i,'"]'),a);return s.attr("name",i),s},e.prototype.data=function(i,a,s){var o,l;a===void 0&&(a=function(P){return P}),s===void 0&&(s=function(){return null});for(var u=[],c=[],f=new Set(this._elements),h=[],d=new Set,v=new Map(this._elements.map(function(P,O){return[a(P.__data__,O),P]})),p=new Map(this._facetElements.map(function(P,O){return[a(P.__data__,O),P]})),g=Rme(this._elements,function(P){return s(P.__data__)}),m=0;m<i.length;m++){var y=i[m],b=a(y,m),_=s(y,m);if(v.has(b)){var x=v.get(b);x.__data__=y,x.__facet__=!1,c.push(x),f.delete(x),v.delete(b)}else if(p.has(b)){var x=p.get(b);x.__data__=y,x.__facet__=!0,c.push(x),p.delete(b)}else if(g.has(b)){var E=g.get(b);h.push([y,E]);try{for(var w=(o=void 0,ch(E)),S=w.next();!S.done;S=w.next()){var x=S.value;f.delete(x)}}catch(P){o={error:P}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}g.delete(b)}else if(v.has(_)){var x=v.get(_);x.__toData__?x.__toData__.push(y):x.__toData__=[y],d.add(x),f.delete(x)}else u.push(y)}var A=[new r([],u,this._parent,this._document),new r(c,null,this._parent,this._document),new r(f,null,this._parent,this._document),new r([],h,this._parent,this._document),new r(d,null,this._parent,this._document)];return new r(this._elements,null,this._parent,this._document,A)},e.prototype.merge=function(i){var a=et(et([],X(this._elements),!1),X(i._elements),!1),s=et(et([],X(this._transitions),!1),X(i._transitions),!1);return new r(a,null,this._parent,this._document,void 0,s)},e.prototype.createElement=function(i){if(this._document)return this._document.createElement(i,{});var a=r.registry[i];return a?new a:Lme("Unknown node type: ".concat(i))},e.prototype.join=function(i,a,s,o,l){i===void 0&&(i=function(v){return v}),a===void 0&&(a=function(v){return v}),s===void 0&&(s=function(v){return v.remove()}),o===void 0&&(o=function(v){return v}),l===void 0&&(l=function(v){return v.remove()});var u=i(this._enter),c=a(this._update),f=s(this._exit),h=o(this._merge),d=l(this._split);return c.merge(u).merge(f).merge(h).merge(d)},e.prototype.remove=function(){for(var i=function(o){var l=a._elements[o],u=a._transitions[o];u?u.then(function(){return l.remove()}):l.remove()},a=this,s=0;s<this._elements.length;s++)i(s);return new r([],null,this._parent,this._document,void 0,this._transitions)},e.prototype.each=function(i){for(var a=0;a<this._elements.length;a++){var s=this._elements[a],o=s.__data__;i.call(s,o,a)}return this},e.prototype.attr=function(i,a){var s=typeof a!="function"?function(){return a}:a;return this.each(function(o,l){a!==void 0&&(this[i]=s.call(this,o,l))})},e.prototype.style=function(i,a,s){s===void 0&&(s=!0);var o=typeof a!="function"||!s?function(){return a}:a;return this.each(function(l,u){a!==void 0&&(this.style[i]=o.call(this,l,u))})},e.prototype.styles=function(i,a){return i===void 0&&(i={}),a===void 0&&(a=!0),this.each(function(s,o){var l=this;Object.entries(i).forEach(function(u){var c=X(u,2),f=c[0],h=c[1],d=typeof h!="function"||!a?function(){return h}:h;h!==void 0&&l.attr(f,d.call(l,s,o))})})},e.prototype.update=function(i,a){a===void 0&&(a=!0);var s=typeof i!="function"||!a?function(){return i}:i;return this.each(function(o,l){i&&this.update&&this.update(s.call(this,o,l))})},e.prototype.maybeUpdate=function(i,a){a===void 0&&(a=!0);var s=typeof i!="function"||!a?function(){return i}:i;return this.each(function(o,l){i&&this.update&&this.update(s.call(this,o,l))})},e.prototype.transition=function(i){this._transitions;var a=new Array(this._elements.length);return this.each(function(s,o){a[o]=i.call(this,s,o)}),this._transitions=iee(a),this},e.prototype.on=function(i,a){return this.each(function(){this.addEventListener(i,a)}),this},e.prototype.call=function(i){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];return i.call.apply(i,et([this._parent,this],X(a),!1)),this},e.prototype.node=function(){return this._elements[0]},e.prototype.nodes=function(){return this._elements},e.prototype.transitions=function(){return this._transitions.filter(function(i){return!!i})},e.prototype.parent=function(){return this._parent};var t,r,n;return r=e,t=new WeakSet,n=function(a,s){var o=this._elements[0],l=o.querySelector(a);if(l)return new r([l],null,this._parent,this._document);var u=typeof s=="string"?this.createElement(s):s();return o.appendChild(u),new r([u],null,this._parent,this._document)},e.registry={g:Nn,rect:Do,circle:Ku,path:dh,text:kS,ellipse:Ik,image:Dk,line:lg,polygon:vh,polyline:Fk,html:og},e}();function He(e){return new Ime([e],null,e,e.ownerDocument)}function Dme(e,t,r){return e.querySelector(t)?He(e).select(t):He(e).append(r)}function An(e){if(rt(e))return[e,e,e,e];if(xi(e)){var t=e.length;if(t===1)return[e[0],e[0],e[0],e[0]];if(t===2)return[e[0],e[1],e[0],e[1]];if(t===3)return[e[0],e[1],e[2],e[1]];if(t===4)return e}return[0,0,0,0]}function F3(e){var t=e.getLocalBounds(),r=t.min,n=t.max,i=X([r,n],2),a=X(i[0],2),s=a[0],o=a[1],l=X(i[1],2),u=l[0],c=l[1];return{x:s,y:o,width:u-s,height:c-o,left:s,bottom:c,top:o,right:u}}function Fme(e,t){var r=X(e,2),n=r[0],i=r[1],a=X(t,2),s=a[0],o=a[1];return n!==s&&i===o}function $me(e,t){var r,n,i=t.attributes;try{for(var a=ch(Object.entries(i)),s=a.next();!s.done;s=a.next()){var o=X(s.value,2),l=o[0],u=o[1];l!=="id"&&l!=="className"&&e.attr(l,u)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}function MS(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}function Bme(e){return e.toString().charAt(0).toLowerCase()+e.toString().slice(1)}function zme(e,t){return"".concat(t).concat(MS(e))}function $3(e,t,r){var n;r===void 0&&(r=!0);var i=t||((n=e.match(/^([a-z][a-z0-9]+)/))===null||n===void 0?void 0:n[0])||"",a=e.replace(new RegExp("^(".concat(i,")")),"");return r?Bme(a):a}function Gme(e,t){Object.entries(t).forEach(function(r){var n=X(r,2),i=n[0],a=n[1];et([e],X(e.querySelectorAll(i)),!1).filter(function(s){return s.matches(i)}).forEach(function(s){if(s){var o=s;o.style.cssText+=Object.entries(a).reduce(function(l,u){return"".concat(l).concat(u.join(":"),";")},"")}})})}var qd=function(e,t){if(!e?.startsWith(t))return!1;var r=e[t.length];return r>="A"&&r<="Z"};function yt(e,t,r){r===void 0&&(r=!1);var n={};return Object.entries(e).forEach(function(i){var a=X(i,2),s=a[0],o=a[1];if(!(s==="className"||s==="class")){if(qd(s,"show")&&qd($3(s,"show"),t)!==r)s===zme(t,"show")?n[s]=o:n[s.replace(new RegExp(MS(t)),"")]=o;else if(!qd(s,"show")&&qd(s,t)!==r){var l=$3(s,t);l==="filter"&&typeof o=="function"||(n[l]=o)}}}),n}function hu(e,t){return Object.entries(e).reduce(function(r,n){var i=X(n,2),a=i[0],s=i[1];return a.startsWith("show")?r["show".concat(t).concat(a.slice(4))]=s:r["".concat(t).concat(MS(a))]=s,r},{})}function eo(e,t){t===void 0&&(t=["x","y","class","className"]);var r=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],n={},i={};return Object.entries(e).forEach(function(a){var s=X(a,2),o=s[0],l=s[1];t.includes(o)||(r.indexOf(o)!==-1?i[o]=l:n[o]=l)}),[n,i]}function ai(e,t){var r={YYYY:e.getFullYear(),MM:e.getMonth()+1,DD:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds()},n=t;return Object.keys(r).forEach(function(i){var a=r[i];n=n.replace(i,i==="YYYY"?"".concat(a):"".concat(a).padStart(2,"0"))}),n}function qme(e,t,r){var n=e.getBBox(),i=n.width,a=n.height,s=X([t,r].map(function(u,c){var f;return u.includes("%")?parseFloat(((f=u.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||f===void 0?void 0:f[0])||"0")/100*(c===0?i:a):u}),2),o=s[0],l=s[1];return[o,l]}function bG(e,t){if(t)try{var r=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,n=t.replace(r,function(i,a,s){return"translate(".concat(qme(e,a,s),")")});e.attr("transform",n)}catch{}}function jme(e){var t;return((t=e[0])===null||t===void 0?void 0:t.map(function(r,n){return e.map(function(i){return i[n]})}))||[]}var B3=function(e,t){if(t==null){e.innerHTML="";return}e.replaceChildren?Array.isArray(t)?e.replaceChildren.apply(e,et([],X(t),!1)):e.replaceChildren(t):(e.innerHTML="",Array.isArray(t)?t.forEach(function(r){return e.appendChild(r)}):e.appendChild(t))};function Ig(e){return/\S+-\S+/g.test(e)?e.split("-").map(function(t){return t[0]}):e.length>2?[e[0]]:e.split("")}var Wme=function(e){var t=new DOMParser,r=t.parseFromString(e,"text/html"),n=r.body.firstElementChild;if(console.log(n?.getClientRects(),11),!n)return 0;var i=n.getAttribute("style")||"",a=Object.fromEntries(i.split(";").map(function(g){return g.trim()}).filter(function(g){return g.includes(":")}).map(function(g){var m=X(g.split(":").map(function(_){return _.trim()}),2),y=m[0],b=m[1];return[y.toLowerCase(),b]})),s=function(g){if(!g)return 0;var m=g.match(/([\d.]+)px/);return m?parseFloat(m[1]):0};if(a.height)return s(a.height);var o=s(a["font-size"])||16,l=a["line-height"],u;!l||l==="normal"?u=1.2*o:l.endsWith("px")?u=s(l):/^[\d.]+$/.test(l)?u=parseFloat(l)*o:u=o;var c=s(a["padding-top"]),f=s(a["padding-bottom"]);if(a.padding){var h=a.padding.split(/\s+/).map(s);h.length===1||h.length===2?(c=h[0],f=h[0]):(h.length===3||h.length===4)&&(c=h[0],f=h[2])}var d=s(a["border-top-width"]),v=s(a["border-bottom-width"]);if(a.border){var p=a.border.match(/([\d.]+)px/);p&&(d=parseFloat(p[1]),v=parseFloat(p[1]))}if(a["border-width"]){var h=a["border-width"].split(/\s+/).map(s);h.length===1||h.length===2?(d=h[0],v=h[0]):(h.length===3||h.length===4)&&(d=h[0],v=h[2])}return u+c+f+d+v};function Vme(){Lg(this,this.attributes.visibility!=="hidden")}var Or=function(e){Et(t,e);function t(r,n){n===void 0&&(n={});var i=e.call(this,Qr({},{style:n},r))||this;return i.initialized=!1,i._defaultOptions=n,i}return Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=hG(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),t.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},t.prototype.disconnectedCallback=function(){var r;(r=this._offscreen)===null||r===void 0||r.destroy()},t.prototype.attributeChangedCallback=function(r){r==="visibility"&&Vme.call(this)},t.prototype.update=function(r,n){var i;return this.attr(Qr({},this.attributes,r||{})),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,n)},t.prototype.clear=function(){this.removeChildren()},t.prototype.bindEvents=function(r,n){},t.prototype.getSubShapeStyle=function(r){r.x,r.y,r.transform,r.transformOrigin,r.class,r.className,r.zIndex;var n=xr(r,["x","y","transform","transformOrigin","class","className","zIndex"]);return n},t}(S4),wG=function(e,t,r){return[["M",e-r,t],["A",r,r,0,1,0,e+r,t],["A",r,r,0,1,0,e-r,t],["Z"]]},Ume=wG,Hme=function(e,t,r){return[["M",e-r,t-r],["L",e+r,t-r],["L",e+r,t+r],["L",e-r,t+r],["Z"]]},Yme=function(e,t,r){return[["M",e-r,t],["L",e,t-r],["L",e+r,t],["L",e,t+r],["Z"]]},Xme=function(e,t,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",e-r,t+n],["L",e,t-n],["L",e+r,t+n],["Z"]]},Kme=function(e,t,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",e-r,t-n],["L",e+r,t-n],["L",e,t+n],["Z"]]},Zme=function(e,t,r){var n=r/2*Math.sqrt(3);return[["M",e,t-r],["L",e+n,t-r/2],["L",e+n,t+r/2],["L",e,t+r],["L",e-n,t+r/2],["L",e-n,t-r/2],["Z"]]},Qme=function(e,t,r){var n=r-1.5;return[["M",e-r,t-n],["L",e+r,t+n],["L",e+r,t-n],["L",e-r,t+n],["Z"]]},xG=function(e,t,r){return[["M",e,t+r],["L",e,t-r]]},Jme=function(e,t,r){return[["M",e-r,t-r],["L",e+r,t+r],["M",e+r,t-r],["L",e-r,t+r]]},eye=function(e,t,r){return[["M",e-r/2,t-r],["L",e+r/2,t-r],["M",e,t-r],["L",e,t+r],["M",e-r/2,t+r],["L",e+r/2,t+r]]},tye=function(e,t,r){return[["M",e-r,t],["L",e+r,t],["M",e,t-r],["L",e,t+r]]},rye=function(e,t,r){return[["M",e-r,t],["L",e+r,t]]},EG=function(e,t,r){return[["M",e-r,t],["L",e+r,t]]},nye=EG,iye=function(e,t,r){return[["M",e-r,t],["A",r/2,r/2,0,1,1,e,t],["A",r/2,r/2,0,1,0,e+r,t]]},aye=function(e,t,r){return[["M",e-r-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+r+1,t+2.5]]},sye=function(e,t,r){return[["M",e-r-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+r+1,t-2.5]]},oye=function(e,t,r){return[["M",e-(r+1),t+2.5],["L",e-r/2,t+2.5],["L",e-r/2,t-2.5],["L",e+r/2,t-2.5],["L",e+r/2,t+2.5],["L",e+r+1,t+2.5]]};function lye(e,t){return[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]]}var uye=function(e,t,r){return[["M",e-r,t-r],["L",e+r,t],["L",e-r,t+r],["Z"]]},cye=function(e,t,r){var n=r,i=r*.2,a=r*.7;return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"],["M",e-a,t],["L",e-i,t],["M",e+i,t],["L",e+a,t],["M",e,t-a],["L",e,t-i],["M",e,t+i],["L",e,t+a]]};function fye(e){var t="default";if(gs(e)&&e instanceof Image)t="image";else if(Gt(e))t="symbol";else if(At(e)){var r=new RegExp("data:(image|text)");e.match(r)?t="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(e)?t="url":t="symbol"}return t}function hye(e){var t=fye(e);return["base64","url","image"].includes(t)?"image":e&&t==="symbol"?"path":null}var Vt=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n){var i=r.x,a=i===void 0?0:i,s=r.y,o=s===void 0?0:s,l=this.getSubShapeStyle(r),u=l.symbol,c=l.size,f=c===void 0?16:c,h=xr(l,["symbol","size"]),d=hye(u);mi(!!d,He(n),function(v){v.maybeAppendByClassName("marker",d).attr("className","marker ".concat(d,"-marker")).call(function(p){if(d==="image"){var g=f*2;p.styles({img:u,width:g,height:g,x:a-f,y:o-f})}else{var g=f/2,m=Gt(u)?u:t.getSymbol(u);p.styles(ke({d:m?.(a,o,g)},h))}})})},t.MARKER_SYMBOL_MAP=new Map,t.registerSymbol=function(r,n){t.MARKER_SYMBOL_MAP.set(r,n)},t.getSymbol=function(r){return t.MARKER_SYMBOL_MAP.get(r)},t.getSymbols=function(){return Array.from(t.MARKER_SYMBOL_MAP.keys())},t}(Or);Vt.registerSymbol("cross",Jme);Vt.registerSymbol("hyphen",rye);Vt.registerSymbol("line",xG);Vt.registerSymbol("plus",tye);Vt.registerSymbol("tick",eye);Vt.registerSymbol("circle",wG);Vt.registerSymbol("point",Ume);Vt.registerSymbol("bowtie",Qme);Vt.registerSymbol("hexagon",Zme);Vt.registerSymbol("square",Hme);Vt.registerSymbol("diamond",Yme);Vt.registerSymbol("triangle",Xme);Vt.registerSymbol("triangle-down",Kme);Vt.registerSymbol("line",xG);Vt.registerSymbol("dot",EG);Vt.registerSymbol("dash",nye);Vt.registerSymbol("smooth",iye);Vt.registerSymbol("hv",aye);Vt.registerSymbol("vh",sye);Vt.registerSymbol("hvh",oye);Vt.registerSymbol("vhv",lye);Vt.registerSymbol("focus",cye);function dp(e,...t){return t.reduce((r,n)=>i=>r(n(i)),e)}function D2(e,t){return t-e?r=>(r-e)/(t-e):r=>.5}function dye(e,t){const r=t<e?t:e,n=e>t?e:t;return i=>Math.min(Math.max(r,i),n)}function vye(e,t,r,n,i){let a=r,s=n||e.length;const o=l=>l;for(;a<s;){const l=Math.floor((a+s)/2);o(e[l])>t?s=l:a=l+1}return a}const z3=Math.sqrt(50),G3=Math.sqrt(10),q3=Math.sqrt(2);function uv(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),a=n/10**i;return i>=0?(a>=z3?10:a>=G3?5:a>=q3?2:1)*10**i:-(10**-i)/(a>=z3?10:a>=G3?5:a>=q3?2:1)}const pye=(e,t,r=5)=>{const n=[e,t];let i=0,a=n.length-1,s=n[i],o=n[a],l;return o<s&&([s,o]=[o,s],[i,a]=[a,i]),l=uv(s,o,r),l>0?(s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l,l=uv(s,o,r)):l<0&&(s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l,l=uv(s,o,r)),l>0?(n[i]=Math.floor(s/l)*l,n[a]=Math.ceil(o/l)*l):l<0&&(n[i]=Math.ceil(s*l)/l,n[a]=Math.floor(o*l)/l),n};function j3(e){return!ct(e)&&!dee(e)&&!Number.isNaN(e)}var Xx={exports:{}},Kx,W3;function gye(){return W3||(W3=1,Kx={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),Kx}var Zx={exports:{}},Qx,V3;function mye(){return V3||(V3=1,Qx=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}),Qx}var U3;function yye(){if(U3)return Zx.exports;U3=1;var e=mye(),t=Array.prototype.concat,r=Array.prototype.slice,n=Zx.exports=function(a){for(var s=[],o=0,l=a.length;o<l;o++){var u=a[o];e(u)?s=t.call(s,r.call(u)):s.push(u)}return s};return n.wrap=function(i){return function(){return i(n(arguments))}},Zx.exports}var H3;function bye(){if(H3)return Xx.exports;H3=1;var e=gye(),t=yye(),r=Object.hasOwnProperty,n=Object.create(null);for(var i in e)r.call(e,i)&&(n[e[i]]=i);var a=Xx.exports={to:{},get:{}};a.get=function(l){var u=l.substring(0,3).toLowerCase(),c,f;switch(u){case"hsl":c=a.get.hsl(l),f="hsl";break;case"hwb":c=a.get.hwb(l),f="hwb";break;default:c=a.get.rgb(l),f="rgb";break}return c?{model:f,value:c}:null},a.get.rgb=function(l){if(!l)return null;var u=/^#([a-f0-9]{3,4})$/i,c=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,f=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,h=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,d=/^(\w+)$/,v=[0,0,0,1],p,g,m;if(p=l.match(c)){for(m=p[2],p=p[1],g=0;g<3;g++){var y=g*2;v[g]=parseInt(p.slice(y,y+2),16)}m&&(v[3]=parseInt(m,16)/255)}else if(p=l.match(u)){for(p=p[1],m=p[3],g=0;g<3;g++)v[g]=parseInt(p[g]+p[g],16);m&&(v[3]=parseInt(m+m,16)/255)}else if(p=l.match(f)){for(g=0;g<3;g++)v[g]=parseInt(p[g+1],0);p[4]&&(p[5]?v[3]=parseFloat(p[4])*.01:v[3]=parseFloat(p[4]))}else if(p=l.match(h)){for(g=0;g<3;g++)v[g]=Math.round(parseFloat(p[g+1])*2.55);p[4]&&(p[5]?v[3]=parseFloat(p[4])*.01:v[3]=parseFloat(p[4]))}else return(p=l.match(d))?p[1]==="transparent"?[0,0,0,0]:r.call(e,p[1])?(v=e[p[1]],v[3]=1,v):null:null;for(g=0;g<3;g++)v[g]=s(v[g],0,255);return v[3]=s(v[3],0,1),v},a.get.hsl=function(l){if(!l)return null;var u=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,c=l.match(u);if(c){var f=parseFloat(c[4]),h=(parseFloat(c[1])%360+360)%360,d=s(parseFloat(c[2]),0,100),v=s(parseFloat(c[3]),0,100),p=s(isNaN(f)?1:f,0,1);return[h,d,v,p]}return null},a.get.hwb=function(l){if(!l)return null;var u=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,c=l.match(u);if(c){var f=parseFloat(c[4]),h=(parseFloat(c[1])%360+360)%360,d=s(parseFloat(c[2]),0,100),v=s(parseFloat(c[3]),0,100),p=s(isNaN(f)?1:f,0,1);return[h,d,v,p]}return null},a.to.hex=function(){var l=t(arguments);return"#"+o(l[0])+o(l[1])+o(l[2])+(l[3]<1?o(Math.round(l[3]*255)):"")},a.to.rgb=function(){var l=t(arguments);return l.length<4||l[3]===1?"rgb("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+")":"rgba("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+", "+l[3]+")"},a.to.rgb.percent=function(){var l=t(arguments),u=Math.round(l[0]/255*100),c=Math.round(l[1]/255*100),f=Math.round(l[2]/255*100);return l.length<4||l[3]===1?"rgb("+u+"%, "+c+"%, "+f+"%)":"rgba("+u+"%, "+c+"%, "+f+"%, "+l[3]+")"},a.to.hsl=function(){var l=t(arguments);return l.length<4||l[3]===1?"hsl("+l[0]+", "+l[1]+"%, "+l[2]+"%)":"hsla("+l[0]+", "+l[1]+"%, "+l[2]+"%, "+l[3]+")"},a.to.hwb=function(){var l=t(arguments),u="";return l.length>=4&&l[3]!==1&&(u=", "+l[3]),"hwb("+l[0]+", "+l[1]+"%, "+l[2]+"%"+u+")"},a.to.keyword=function(l){return n[l.slice(0,3)]};function s(l,u,c){return Math.min(Math.max(u,l),c)}function o(l){var u=Math.round(l).toString(16).toUpperCase();return u.length<2?"0"+u:u}return Xx.exports}var wye=bye();const xye=Vp(wye);function Jx(e,t,r){let n=r;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Eye(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100,i=e[3];if(r===0)return[n*255,n*255,n*255,i];const a=n<.5?n*(1+r):n+r-n*r,s=2*n-a,o=Jx(s,a,t+1/3),l=Jx(s,a,t),u=Jx(s,a,t-1/3);return[o*255,l*255,u*255,i]}function Y3(e){const t=xye.get(e);if(!t)return null;const{model:r,value:n}=t;return r==="rgb"?n:r==="hsl"?Eye(n):null}const vp=(e,t)=>r=>e*(1-r)+t*r,_ye=(e,t)=>{const r=Y3(e),n=Y3(t);return r===null||n===null?r?()=>e:()=>t:i=>{const a=new Array(4);for(let c=0;c<4;c+=1){const f=r[c],h=n[c];a[c]=f*(1-i)+h*i}const[s,o,l,u]=a;return`rgba(${Math.round(s)}, ${Math.round(o)}, ${Math.round(l)}, ${u})`}},kye=(e,t)=>typeof e=="number"&&typeof t=="number"?vp(e,t):typeof e=="string"&&typeof t=="string"?_ye(e,t):()=>e,Sye=(e,t)=>{const r=vp(e,t);return n=>Math.round(r(n))};function X3({map:e,initKey:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Tye({map:e,initKey:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Mye({map:e,initKey:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Nye(e){return typeof e=="object"?e.valueOf():e}class K3 extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=Nye,t!==null)for(const[r,n]of t)this.set(r,n)}get(t){return super.get(X3({map:this.map,initKey:this.initKey},t))}has(t){return super.has(X3({map:this.map,initKey:this.initKey},t))}set(t,r){return super.set(Tye({map:this.map,initKey:this.initKey},t),r)}delete(t){return super.delete(Mye({map:this.map,initKey:this.initKey},t))}}class _G{constructor(t){this.options=ms({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=ms({},this.options,t),this.rescale(t)}rescale(t){}}const NS=Symbol("defaultUnknown");function Z3(e,t,r){for(let n=0;n<t.length;n+=1)e.has(t[n])||e.set(r(t[n]),n)}function Q3(e){const{value:t,from:r,to:n,mapper:i,notFoundReturn:a}=e;let s=i.get(t);if(s===void 0){if(a!==NS)return a;s=r.push(t)-1,i.set(t,s)}return n[s%n.length]}function J3(e){return e instanceof Date?t=>`${t}`:typeof e=="object"?t=>JSON.stringify(t):t=>t}class AS extends _G{getDefaultOptions(){return{domain:[],range:[],unknown:NS}}constructor(t){super(t)}map(t){return this.domainIndexMap.size===0&&Z3(this.domainIndexMap,this.getDomain(),this.domainKey),Q3({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return this.rangeIndexMap.size===0&&Z3(this.rangeIndexMap,this.getRange(),this.rangeKey),Q3({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){const[r]=this.options.domain,[n]=this.options.range;if(this.domainKey=J3(r),this.rangeKey=J3(n),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!t||t.range)&&this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new AS(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:t,compare:r}=this.options;return this.sortedDomain=r?[...t].sort(r):t,this.sortedDomain}}function Aye(e){const t=Math.min(...e);return e.map(r=>r/t)}function Pye(e,t){const r=e.length,n=t-r;return n>0?[...e,...new Array(n).fill(1)]:n<0?e.slice(0,t):e}function Oye(e){return Math.round(e*1e12)/1e12}function Cye(e){const{domain:t,range:r,paddingOuter:n,paddingInner:i,flex:a,round:s,align:o}=e,l=t.length,u=Pye(a,l),[c,f]=r,h=f-c,d=2/l*n+1-1/l*i,v=h/d,p=v*i/l,g=v-l*p,m=Aye(u),y=m.reduce((C,L)=>C+L),b=g/y,_=new K3(t.map((C,L)=>{const I=m[L]*b;return[C,s?Math.floor(I):I]})),x=new K3(t.map((C,L)=>{const F=m[L]*b+p;return[C,s?Math.floor(F):F]})),E=Array.from(x.values()).reduce((C,L)=>C+L),S=(h-(E-E/l*i))*o,A=c+S;let P=s?Math.round(A):A;const O=new Array(l);for(let C=0;C<l;C+=1){O[C]=Oye(P);const L=t[C];P+=x.get(L)}return{valueBandWidth:_,valueStep:x,adjustedRange:O}}function Rye(e){var t;const{domain:r}=e,n=r.length;if(n===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((t=e.flex)===null||t===void 0)&&t.length))return Cye(e);const{range:a,paddingOuter:s,paddingInner:o,round:l,align:u}=e;let c,f,h=a[0];const v=a[1]-h,p=s*2,g=n-o;c=v/Math.max(1,p+g),l&&(c=Math.floor(c)),h+=(v-c*(n-o))*u,f=c*(1-o),l&&(h=Math.round(h),f=Math.round(f));const m=new Array(n).fill(0).map((y,b)=>h+b*c);return{valueStep:c,valueBandWidth:f,adjustedRange:m}}class PS extends AS{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:NS,flex:[]}}constructor(t){super(t)}clone(){return new PS(this.options)}getStep(t){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:t===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:t===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:t,paddingInner:r}=this.options;return t>0?t:r}getPaddingOuter(){const{padding:t,paddingOuter:r}=this.options;return t>0?t:r}rescale(){super.rescale();const{align:t,domain:r,range:n,round:i,flex:a}=this.options,{adjustedRange:s,valueBandWidth:o,valueStep:l}=Rye({align:t,range:n,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:r});this.valueStep=l,this.valueBandWidth=o,this.adjustedRange=s}}const Lye=(e,t,r)=>{let n,i,a=e,s=t;if(a===s&&r>0)return[a];let o=uv(a,s,r);if(o===0||!Number.isFinite(o))return[];if(o>0){a=Math.ceil(a/o),s=Math.floor(s/o),i=new Array(n=Math.ceil(s-a+1));for(let l=0;l<n;l+=1)i[l]=(a+l)*o}else{o=-o,a=Math.ceil(a*o),s=Math.floor(s*o),i=new Array(n=Math.ceil(s-a+1));for(let l=0;l<n;l+=1)i[l]=(a+l)/o}return i},Iye=(e,t,r)=>{const[n,i]=e,[a,s]=t;let o,l;return n<i?(o=D2(n,i),l=r(a,s)):(o=D2(i,n),l=r(s,a)),dp(l,o)},Dye=(e,t,r)=>{const n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=e[0]>e[n],o=s?[...e].reverse():e,l=s?[...t].reverse():t;for(let u=0;u<n;u+=1)i[u]=D2(o[u],o[u+1]),a[u]=r(l[u],l[u+1]);return u=>{const c=vye(e,u,1,n)-1,f=i[c],h=a[c];return dp(h,f)(u)}},eD=(e,t,r,n)=>(Math.min(e.length,t.length)>2?Dye:Iye)(e,t,n?Sye:r);class Fye extends _G{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:vp,tickCount:5}}map(t){return j3(t)?this.output(t):this.options.unknown}invert(t){return j3(t)?this.input(t):this.options.unknown}nice(){if(!this.options.nice)return;const[t,r,n,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(t,r,n,...i)}getTicks(){const{tickMethod:t}=this.options,[r,n,i,...a]=this.getTickMethodOptions();return t(r,n,i,...a)}getTickMethodOptions(){const{domain:t,tickCount:r}=this.options,n=t[0],i=t[t.length-1];return[n,i,r]}chooseNice(){return pye}rescale(){this.nice();const[t,r]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,r,this.chooseClamp(r))}chooseClamp(t){const{clamp:r,range:n}=this.options,i=this.options.domain.map(t),a=Math.min(i.length,n.length);return r?dye(i[0],i[a-1]):QE}composeOutput(t,r){const{domain:n,range:i,round:a,interpolate:s}=this.options,o=eD(n.map(t),i,s,a);this.output=dp(o,r,t)}composeInput(t,r,n){const{domain:i,range:a}=this.options,s=eD(a,i.map(t),vp);this.input=dp(r,n,s)}}class mf extends Fye{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:kye,tickMethod:Lye,tickCount:5}}chooseTransforms(){return[QE,QE]}clone(){return new mf(this.options)}}var $ye=function(e){Et(t,e);function t(r){var n=this,i=r.style,a=xr(r,["style"]);return n=e.call(this,ms({},{type:"column"},ke({style:i},a)))||this,n.columnsGroup=new Nn({name:"columns"}),n.appendChild(n.columnsGroup),n.render(),n}return t.prototype.render=function(){var r=this.attributes,n=r.columns,i=r.x,a=r.y;this.columnsGroup.style.transform="translate(".concat(i,", ").concat(a,")"),He(this.columnsGroup).selectAll(".column").data(n.flat()).join(function(s){return s.append("rect").attr("className","column").each(function(o){this.attr(o)})},function(s){return s.each(function(o){this.attr(o)})},function(s){return s.remove()})},t.prototype.update=function(r){this.attr(Qr({},this.attributes,r)),this.render()},t.prototype.clear=function(){this.removeChildren()},t}(mr),Bye=function(e){Et(t,e);function t(r){var n=this,i=r.style,a=xr(r,["style"]);return n=e.call(this,ms({},{type:"lines"},ke({style:i},a)))||this,n.linesGroup=n.appendChild(new Nn),n.areasGroup=n.appendChild(new Nn),n.render(),n}return t.prototype.render=function(){var r=this.attributes,n=r.lines,i=r.areas,a=r.x,s=r.y;this.style.transform="translate(".concat(a,", ").concat(s,")"),n&&this.renderLines(n),i&&this.renderAreas(i)},t.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},t.prototype.update=function(r){this.attr(Qr({},this.attributes,r)),this.render()},t.prototype.renderLines=function(r){He(this.linesGroup).selectAll(".line").data(r).join(function(n){return n.append("path").attr("className","line").each(function(i){this.attr(i)})},function(n){return n.each(function(i){this.attr(i)})},function(n){return n.remove()})},t.prototype.renderAreas=function(r){He(this.linesGroup).selectAll(".area").data(r).join(function(n){return n.append("path").attr("className","area").each(function(i){this.attr(i)})},function(n){return n.each(function(i){this.style(i)})},function(n){return n.remove()})},t}(mr);function zye(e,t){var r,n=t.x,i=t.y,a=X(i.getOptions().range||[0,0],2),s=a[0],o=a[1];return o>s&&(r=X([s,o],2),o=r[0],s=r[1]),e.map(function(l){var u=l.map(function(c,f){return[n.map(f),dr(i.map(c),o,s)]});return u})}function Zf(e,t){t===void 0&&(t=!1);var r=t?e.length-1:0,n=e.map(function(i,a){return et([a===r?"M":"L"],X(i),!1)});return t?n.reverse():n}function pp(e,t){if(t===void 0&&(t=!1),e.length<=2)return Zf(e);for(var r=[],n=e.length,i=0;i<n;i+=1){var a=t?e[n-i-1]:e[i];ZE(a,r.slice(-2))||r.push.apply(r,et([],X(a),!1))}var s=Ame(r);return t?s.unshift(et(["M"],X(e[n-1]),!1)):s.unshift(et(["M"],X(e[0]),!1)),s}function OS(e,t,r){var n=Fl(e);return n.push(["L",t,r],["L",0,r],["Z"]),n}function Gye(e,t,r,n){return e.map(function(i){return OS(t?pp(i):Zf(i),r,n)})}function qye(e,t,r){for(var n=[],i=e.length-1;i>=0;i-=1){var a=e[i],s=Zf(a),o=void 0;if(i===0)o=OS(s,t,r);else{var l=e[i-1],u=Zf(l,!0);u[0][0]="L",o=et(et(et([],X(s),!1),X(u),!1),[["Z"]],!1)}n.push(o)}return n}function jye(e,t,r){for(var n=[],i=e.length-1;i>=0;i-=1){var a=e[i],s=pp(a),o=void 0;if(i===0)o=OS(s,t,r);else{var l=e[i-1],u=pp(l,!0),c=a[0];u[0][0]="L",o=et(et(et([],X(s),!1),X(u),!1),[et(["M"],X(c),!1),["Z"]],!1)}n.push(o)}return n}function tD(e){return e.length===0?[0,0]:[Uu(uee(e,function(t){return Uu(t)||0})),Vu(lee(e,function(t){return Vu(t)||0}))]}function rD(e){for(var t=Fl(e),r=t[0].length,n=X([Array(r).fill(0),Array(r).fill(0)],2),i=n[0],a=n[1],s=0;s<t.length;s+=1)for(var o=t[s],l=0;l<r;l+=1)o[l]>=0?(o[l]+=i[l],i[l]=o[l]):(o[l]+=a[l],a[l]=o[l]);return t}var Wye=function(e){Et(t,e);function t(r){return e.call(this,r,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(t.prototype,"rawData",{get:function(){var r=this.attributes.data;if(!r||r?.length===0)return[[]];var n=Fl(r);return rt(n[0])?[n]:n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.attributes.isStack?rD(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseline",{get:function(){var r=this.scales.y,n=X(r.getOptions().domain||[0,0],2),i=n[0],a=n[1];return a<0?r.map(a):r.map(i<0?0:i)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerShape",{get:function(){var r=this.attributes,n=r.width,i=r.height;return{width:n,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linesStyle",{get:function(){var r=this,n=this.attributes,i=n.type,a=n.isStack,s=n.smooth;if(i!=="line")throw new Error("linesStyle can only be used in line type");var o=yt(this.attributes,"area"),l=yt(this.attributes,"line"),u=this.containerShape.width,c=this.data;if(c[0].length===0)return{lines:[],areas:[]};var f=this.scales,h=f.x,d=f.y,v=zye(c,{x:h,y:d}),p=[];if(o){var g=this.baseline;a?p=s?jye(v,u,g):qye(v,u,g):p=Gye(v,s,u,g)}return{lines:v.map(function(m,y){return ke({stroke:r.getColor(y),d:s?pp(m):Zf(m)},l)}),areas:p.map(function(m,y){return ke({d:m,fill:r.getColor(y)},o)})}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsStyle",{get:function(){var r=this,n=yt(this.attributes,"column"),i=this.attributes,a=i.isStack,s=i.type,o=i.scale;if(s!=="column")throw new Error("columnsStyle can only be used in column type");var l=this.containerShape.height,u=this.rawData;if(!u)return{columns:[]};a&&(u=rD(u));var c=this.createScales(u),f=c.x,h=c.y,d=X(tD(u),2),v=d[0],p=d[1],g=new mf({domain:[0,p-(v>0?0:v)],range:[0,l*o]}),m=f.getBandWidth(),y=this.rawData;return{columns:u.map(function(b,_){return b.map(function(x,E){var w=m/u.length,S=function(){return{x:f.map(E)+w*_,y:x>=0?h.map(x):h.map(0),width:w,height:g.map(Math.abs(x))}},A=function(){return{x:f.map(E),y:h.map(x),width:m,height:g.map(y[_][E])}};return ke(ke({fill:r.getColor(_)},n),a?A():S())})})}},enumerable:!1,configurable:!0}),t.prototype.render=function(r,n){Dme(n,".container","rect").attr("className","container").node();var i=r.type,a=r.x,s=r.y,o="spark".concat(i),l=ke({x:a,y:s},i==="line"?this.linesStyle:this.columnsStyle);He(n).selectAll(".spark").data([i]).join(function(u){return u.append(function(c){return c==="line"?new Bye({className:o,style:l}):new $ye({className:o,style:l})}).attr("className","spark ".concat(o))},function(u){return u.update(l)},function(u){return u.remove()})},t.prototype.getColor=function(r){var n=this.attributes.color;return xi(n)?n[r%n.length]:Gt(n)?n.call(null,r):n},t.prototype.createScales=function(r){var n,i,a=this.attributes,s=a.type,o=a.scale,l=a.range,u=l===void 0?[]:l,c=a.spacing,f=this.containerShape,h=f.width,d=f.height,v=X(tD(r),2),p=v[0],g=v[1],m=new mf({domain:[(n=u[0])!==null&&n!==void 0?n:p,(i=u[1])!==null&&i!==void 0?i:g],range:[d,d*(1-o)]});return s==="line"?{type:s,x:new mf({domain:[0,r[0].length-1],range:[0,h]}),y:m}:{type:s,x:new PS({domain:r[0].map(function(y,b){return b}),range:[0,h],paddingInner:c,paddingOuter:c/2,align:.5}),y:m}},t.tag="sparkline",t}(Or);function Vye(e){return typeof e=="boolean"?!1:"enter"in e&&"update"in e&&"exit"in e}function nD(e){if(!e)return{enter:!1,update:!1,exit:!1};var t=["enter","update","exit"],r=Object.fromEntries(Object.entries(e).filter(function(n){var i=X(n,1),a=i[0];return!t.includes(a)}));return Object.fromEntries(t.map(function(n){return Vye(e)?e[n]===!1?[n,!1]:[n,ke(ke({},e[n]),r)]:[n,r]}))}function gc(e,t){e?e.finished.then(t):t()}function Uye(e,t){e.length===0?t():Promise.all(e.map(function(r){return r?.finished})).then(t)}function kG(e,t){"update"in e?e.update(t):e.attr(t)}function SG(e,t,r){if(t.length===0)return null;if(!r){var n=t.slice(-1)[0];return kG(e,{style:n}),null}return e.animate(t,r)}function Hye(e,t){return!(e.nodeName!=="text"||t.nodeName!=="text"||e.attributes.text!==t.attributes.text)}function Yye(e,t,r,n){if(n===void 0&&(n="destroy"),Hye(e,t))return e.remove(),[null];var i=function(){n==="destroy"?e.destroy():n==="hide"&&Ma(e),t.isVisible()&&_h(t)};if(!r)return i(),[null];var a=r.duration,s=a===void 0?0:a,o=r.delay,l=o===void 0?0:o,u=Math.ceil(+s/2),c=+s/4,f=X(e.getGeometryBounds().center,2),h=f[0],d=f[1],v=X(t.getGeometryBounds().center,2),p=v[0],g=v[1],m=X([(h+p)/2-h,(d+g)/2-d],2),y=m[0],b=m[1],_=e.style.opacity,x=_===void 0?1:_,E=t.style.opacity,w=E===void 0?1:E,S=e.style.transform||"",A=t.style.transform||"",P=e.animate([{opacity:x,transform:"translate(0, 0) ".concat(S)},{opacity:0,transform:"translate(".concat(y,", ").concat(b,") ").concat(S)}],ke(ke({fill:"both"},r),{duration:l+u+c})),O=t.animate([{opacity:0,transform:"translate(".concat(-y,", ").concat(-b,") ").concat(A),offset:.01},{opacity:w,transform:"translate(0, 0) ".concat(A)}],ke(ke({fill:"both"},r),{duration:u+c,delay:l+u-c}));return gc(O,i),[P,O]}function Oa(e,t,r){var n={},i={};return Object.entries(t).forEach(function(a){var s=X(a,2),o=s[0],l=s[1];if(!Ze(l)){var u=e.style[o]||e.parsedStyle[o]||0;u!==l&&(n[o]=u,i[o]=l)}}),r?SG(e,[n,i],ke({fill:"both"},r)):(kG(e,i),null)}function Dg(e,t){return e.style.opacity||(e.style.opacity=1),Oa(e,{opacity:0},t)}var TG={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},MG={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},NG={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},Ka=Ga({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),wo=Ga({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),Xye=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n){var i=r.x,a=r.y,s=r.size,o=s===void 0?10:s,l=r.radius,u=l===void 0?o/4:l,c=r.orientation,f=xr(r,["x","y","size","radius","orientation"]),h=o,d=h*2.4,v=He(n).maybeAppendByClassName(wo.iconRect,"rect").styles(ke(ke({},f),{width:h,height:d,radius:u,x:i-h/2,y:a-d/2,transformOrigin:"center"})),p=i+1/3*h-h/2,g=i+2/3*h-h/2,m=a+1/4*d-d/2,y=a+3/4*d-d/2;v.maybeAppendByClassName("".concat(wo.iconLine,"-1"),"line").styles(ke({x1:p,x2:p,y1:m,y2:y},f)),v.maybeAppendByClassName("".concat(wo.iconLine,"-2"),"line").styles(ke({x1:g,x2:g,y1:m,y2:y},f)),c==="vertical"&&(v.node().style.transform="rotate(90)")},t}(Or),Kye=function(e){Et(t,e);function t(r){return e.call(this,r,NG)||this}return t.prototype.renderLabel=function(r){var n=this,i=this.attributes,a=i.x,s=i.y,o=i.showLabel,l=yt(this.attributes,"label"),u=l.x,c=u===void 0?0:u,f=l.y,h=f===void 0?0:f,d=l.transform,v=l.transformOrigin,p=xr(l,["x","y","transform","transformOrigin"]),g=X(eo(p,[]),2),m=g[0],y=g[1],b=He(r).maybeAppendByClassName(wo.labelGroup,"g").styles(y),_=ke(ke({},MG),m),x=_.text,E=xr(_,["text"]);mi(!!o,b,function(w){n.label=w.maybeAppendByClassName(wo.label,"text").styles(ke(ke({},E),{x:a+c,y:s+h,transform:d,transformOrigin:v,text:"".concat(x)})),n.label.on("mousedown",function(S){S.stopPropagation()}),n.label.on("touchstart",function(S){S.stopPropagation()})})},t.prototype.renderIcon=function(r){var n=this.attributes,i=n.x,a=n.y,s=n.orientation,o=n.type,l=ke(ke({x:i,y:a,orientation:s},TG),yt(this.attributes,"icon")),u=this.attributes.iconShape,c=u===void 0?function(){return new Xye({style:l})}:u,f=He(r).maybeAppendByClassName(wo.iconGroup,"g");f.selectAll(wo.icon.class).data([c]).join(function(h){return h.append(typeof c=="string"?c:function(){return c(o)}).attr("className",wo.icon.name)},function(h){return h.update(l)},function(h){return h.remove()})},t.prototype.render=function(r,n){this.renderIcon(n),this.renderLabel(n)},t}(Or),Zye=function(e){Et(t,e);function t(r){var n=e.call(this,r,ke(ke(ke({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(i){return i.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},hu(NG,"handle")),hu(TG,"handleIcon")),hu(MG,"handleLabel")))||this;return n.range=[0,1],n.onDragStart=function(i){return function(a){a.stopPropagation(),n.target=i,n.prevPos=n.getOrientVal(R3(a));var s=n.availableSpace,o=s.x,l=s.y,u=n.getBBox(),c=u.x,f=u.y;n.selectionStartPos=n.getRatio(n.prevPos-n.getOrientVal([o,l])-n.getOrientVal([+c,+f])),n.selectionWidth=0,document.addEventListener("pointermove",n.onDragging),document.addEventListener("pointerup",n.onDragEnd)}},n.onDragging=function(i){var a=n.attributes,s=a.slidable,o=a.brushable,l=a.type;i.stopPropagation();var u=n.getOrientVal(R3(i)),c=u-n.prevPos;if(c){var f=n.getRatio(c);switch(n.target){case"start":s&&n.setValuesOffset(f);break;case"end":s&&n.setValuesOffset(0,f);break;case"selection":s&&n.setValuesOffset(f,f);break;case"track":if(!o)return;n.selectionWidth+=f,l==="range"?n.innerSetValues([n.selectionStartPos,n.selectionStartPos+n.selectionWidth].sort(),!0):n.innerSetValues([0,n.selectionStartPos+n.selectionWidth],!0);break}n.prevPos=u}},n.onDragEnd=function(){document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointerup",n.onDragEnd),n.target="",n.updateHandlesPosition(!1)},n.onValueChange=function(i){var a=n.attributes,s=a.onChange,o=a.type,l=o==="range"?i:i[1],u=o==="range"?n.getValues():n.getValues()[1],c=new nn("valuechange",{detail:{oldValue:l,value:u}});n.dispatchEvent(c),s?.(u)},n.selectionStartPos=0,n.selectionWidth=0,n.prevPos=0,n.target="",n}return Object.defineProperty(t.prototype,"values",{get:function(){return this.attributes.values},set:function(r){this.attributes.values=this.clampValues(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sparklineStyle",{get:function(){var r=this.attributes.orientation;if(r!=="horizontal")return null;var n=yt(this.attributes,"sparkline");return ke(ke({zIndex:0},this.availableSpace),n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var r=this.attributes,n=r.trackLength,i=r.trackSize,a=X(this.getOrientVal([[n,i],[i,n]]),2),s=a[0],o=a[1];return{width:s,height:o}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var r=this.attributes;r.x,r.y;var n=r.padding,i=X(An(n),4),a=i[0],s=i[1],o=i[2],l=i[3],u=this.shape,c=u.width,f=u.height;return{x:l,y:a,width:c-(l+s),height:f-(a+o)}},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.values},t.prototype.setValues=function(r,n){r===void 0&&(r=[0,0]),n===void 0&&(n=!1),this.attributes.values=r;var i=n===!1?!1:this.attributes.animate;this.updateSelectionArea(i),this.updateHandlesPosition(i)},t.prototype.updateSelectionArea=function(r){var n=this.calcSelectionArea();this.foregroundGroup.selectAll(Ka.selection.class).each(function(i,a){Oa(this,n[a],r)})},t.prototype.updateHandlesPosition=function(r){this.attributes.showHandle&&(this.startHandle&&Oa(this.startHandle,this.getHandleStyle("start"),r),this.endHandle&&Oa(this.endHandle,this.getHandleStyle("end"),r))},t.prototype.innerSetValues=function(r,n){r===void 0&&(r=[0,0]),n===void 0&&(n=!1);var i=this.values,a=this.clampValues(r);this.attributes.values=a,this.setValues(a),n&&this.onValueChange(i)},t.prototype.renderTrack=function(r){var n=this.attributes,i=n.x,a=n.y,s=yt(this.attributes,"track");this.trackShape=He(r).maybeAppendByClassName(Ka.track,"rect").styles(ke(ke({x:i,y:a},this.shape),s))},t.prototype.renderBrushArea=function(r){var n=this.attributes,i=n.x,a=n.y,s=n.brushable;this.brushArea=He(r).maybeAppendByClassName(Ka.brushArea,"rect").styles(ke({x:i,y:a,fill:"transparent",cursor:s?"crosshair":"default"},this.shape))},t.prototype.renderSparkline=function(r){var n=this,i=this.attributes,a=i.x,s=i.y,o=i.orientation,l=He(r).maybeAppendByClassName(Ka.sparklineGroup,"g");mi(o==="horizontal",l,function(u){var c=ke(ke({},n.sparklineStyle),{x:a,y:s});u.maybeAppendByClassName(Ka.sparkline,function(){return new Wye({style:c})}).update(c)})},t.prototype.renderHandles=function(){var r=this,n,i=this.attributes,a=i.showHandle,s=i.type,o=s==="range"?["start","end"]:["end"],l=a?o:[],u=this;(n=this.foregroundGroup)===null||n===void 0||n.selectAll(Ka.handle.class).data(l.map(function(c){return{type:c}}),function(c){return c.type}).join(function(c){return c.append(function(f){var h=f.type;return new Kye({style:r.getHandleStyle(h)})}).each(function(f){var h=f.type;this.attr("class","".concat(Ka.handle.name," ").concat(h,"-handle"));var d="".concat(h,"Handle");u[d]=this,this.addEventListener("pointerdown",u.onDragStart(h))})},function(c){return c.each(function(f){var h=f.type;this.update(u.getHandleStyle(h))})},function(c){return c.each(function(f){var h=f.type,d="".concat(h,"Handle");u[d]=void 0}).remove()})},t.prototype.renderSelection=function(r){var n=this.attributes,i=n.x,a=n.y,s=n.type,o=n.selectionType;this.foregroundGroup=He(r).maybeAppendByClassName(Ka.foreground,"g");var l=yt(this.attributes,"selection"),u=function(f){return f.style("visibility",function(h){return h.show?"visible":"hidden"}).style("cursor",function(h){return o==="select"?"grab":o==="invert"?"crosshair":"default"}).styles(ke(ke({},l),{transform:"translate(".concat(i,", ").concat(a,")")}))},c=this;this.foregroundGroup.selectAll(Ka.selection.class).data(s==="value"?[]:this.calcSelectionArea().map(function(f,h){return{style:ke({},f),index:h,show:o==="select"?h===1:h!==1}}),function(f){return f.index}).join(function(f){return f.append("rect").attr("className",Ka.selection.name).call(u).each(function(h,d){var v=this;d===1?(c.selectionShape=He(this),this.on("pointerdown",function(p){v.attr("cursor","grabbing"),c.onDragStart("selection")(p)}),c.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),c.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),c.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){v.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){v.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){v.attr("cursor","pointer")})):this.on("pointerdown",c.onDragStart("track"))})},function(f){return f.call(u)},function(f){return f.remove()}),this.updateSelectionArea(!1),this.renderHandles()},t.prototype.render=function(r,n){this.renderTrack(n),this.renderSparkline(n),this.renderBrushArea(n),this.renderSelection(n)},t.prototype.clampValues=function(r,n){var i;n===void 0&&(n=4);var a=X(this.range,2),s=a[0],o=a[1],l=X(this.getValues().map(function(g){return L3(g,n)}),2),u=l[0],c=l[1],f=Array.isArray(r)?r:[u,r??c],h=X((f||[u,c]).map(function(g){return L3(g,n)}),2),d=h[0],v=h[1];if(this.attributes.type==="value")return[0,dr(v,s,o)];d>v&&(i=X([v,d],2),d=i[0],v=i[1]);var p=v-d;return p>o-s?[s,o]:d<s?u===s&&c===v?[s,v]:[s,p+s]:v>o?c===o&&u===d?[d,o]:[o-p,o]:[d,v]},t.prototype.calcSelectionArea=function(r){var n=X(this.clampValues(r),2),i=n[0],a=n[1],s=this.availableSpace,o=s.x,l=s.y,u=s.width,c=s.height;return this.getOrientVal([[{y:l,height:c,x:o,width:i*u},{y:l,height:c,x:i*u+o,width:(a-i)*u},{y:l,height:c,x:a*u,width:(1-a)*u}],[{x:o,width:u,y:l,height:i*c},{x:o,width:u,y:i*c+l,height:(a-i)*c},{x:o,width:u,y:a*c,height:(1-a)*c}]])},t.prototype.calcHandlePosition=function(r){var n=this.attributes.handleIconOffset,i=this.availableSpace,a=i.x,s=i.y,o=i.width,l=i.height,u=X(this.clampValues(),2),c=u[0],f=u[1],h=r==="start"?-n:n,d=(r==="start"?c:f)*this.getOrientVal([o,l])+h;return{x:a+this.getOrientVal([d,o/2]),y:s+this.getOrientVal([l/2,d])}},t.prototype.inferTextStyle=function(r){var n=this.attributes.orientation;return n==="horizontal"?{}:r==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:r==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},t.prototype.calcHandleText=function(r){var n,i=this.attributes,a=i.type,s=i.orientation,o=i.formatter,l=i.autoFitLabel,u=yt(this.attributes,"handle"),c=yt(u,"label"),f=u.spacing,h=this.getHandleSize(),d=this.clampValues(),v=r==="start"?d[0]:d[1],p=o(v),g=new kS({style:ke(ke(ke({},c),this.inferTextStyle(r)),{text:p})}),m=g.getBBox(),y=m.width,b=m.height;if(g.destroy(),!l){if(a==="value")return{text:p,x:0,y:-b-f};var _=f+h+(s==="horizontal"?y/2:0);return n={text:p},n[s==="horizontal"?"x":"y"]=r==="start"?-_:_,n}var x=0,E=0,w=this.availableSpace,S=w.width,A=w.height,P=this.calcSelectionArea()[1],O=P.x,C=P.y,L=P.width,I=P.height,F=f+h;if(s==="horizontal"){var U=F+y/2;if(r==="start"){var G=O-F-y;x=G>0?-U:U}else{var z=S-O-L-F>y;x=z?U:-U}}else{var Z=F,ge=b+F;r==="start"?E=C-h>b?-ge:Z:E=A-(C+I)-h>b?ge:-Z}return{x,y:E,text:p}},t.prototype.getHandleLabelStyle=function(r){var n=yt(this.attributes,"handleLabel");return ke(ke(ke({},n),this.calcHandleText(r)),this.inferTextStyle(r))},t.prototype.getHandleIconStyle=function(){var r=this.attributes.handleIconShape,n=yt(this.attributes,"handleIcon"),i=this.getOrientVal(["ew-resize","ns-resize"]),a=this.getHandleSize();return ke({cursor:i,shape:r,size:a},n)},t.prototype.getHandleStyle=function(r){var n=this.attributes,i=n.x,a=n.y,s=n.showLabel,o=n.showLabelOnInteraction,l=n.orientation,u=this.calcHandlePosition(r),c=u.x,f=u.y,h=this.calcHandleText(r),d=s;return!s&&o&&(this.target?d=!0:d=!1),ke(ke(ke({},hu(this.getHandleIconStyle(),"icon")),hu(ke(ke({},this.getHandleLabelStyle(r)),h),"label")),{transform:"translate(".concat(c+i,", ").concat(f+a,")"),orientation:l,showLabel:d,type:r,zIndex:3})},t.prototype.getHandleSize=function(){var r=this.attributes,n=r.handleIconSize,i=r.width,a=r.height;return n||Math.floor((this.getOrientVal([+a,+i])+4)/2.4)},t.prototype.getOrientVal=function(r){var n=X(r,2),i=n[0],a=n[1],s=this.attributes.orientation;return s==="horizontal"?i:a},t.prototype.setValuesOffset=function(r,n){n===void 0&&(n=0);var i=this.attributes.type,a=X(this.getValues(),2),s=a[0],o=a[1],l=i==="range"?r:0,u=[s+l,o+n].sort();this.innerSetValues(u,!0)},t.prototype.getRatio=function(r){var n=this.availableSpace,i=n.width,a=n.height;return r/this.getOrientVal([i,a])},t.prototype.dispatchCustomEvent=function(r,n,i){var a=this;r.on(n,function(s){s.stopPropagation(),a.dispatchEvent(new nn(i,{detail:s}))})},t.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var r=this.brushArea;this.dispatchCustomEvent(r,"click","trackClick"),this.dispatchCustomEvent(r,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(r,"pointerleave","trackMouseleave"),r.on("pointerdown",this.onDragStart("track"))},t.prototype.onScroll=function(r){var n=this.attributes.scrollable;if(n){var i=r.deltaX,a=r.deltaY,s=a||i,o=this.getRatio(s);this.setValuesOffset(o,o)}},t.tag="slider",t}(Or),CS={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new dh({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};ms({},CS,{style:{type:"arc"}});ms({},CS,{style:{}});var Xt=Ga({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),rc=Ga({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function AG(e){return e.reduce(function(t,r,n){return t.push(et([n===0?"M":"L"],X(r),!1)),t},[])}function Qye(e,t,r){var n=t.connect,i=n===void 0?"line":n,a=t.center;if(i==="line")return AG(e);if(!a)return[];var s=Kf(e[0],a),o=r?0:1;return e.reduce(function(l,u,c){return c===0?l.push(et(["M"],X(u),!1)):l.push(et(["A",s,s,0,0,o],X(u),!1)),l},[])}function F2(e,t,r){return t.type==="surround"?Qye(e,t,r):AG(e)}function Jye(e,t,r){var n=r.type,i=r.connect,a=r.center,s=r.closed,o=s?[["Z"]]:[],l=X([F2(e,r),F2(t.slice().reverse(),r,!0)],2),u=l[0],c=l[1],f=X([e[0],t.slice(-1)[0]],2),h=f[0],d=f[1],v=function(y,b){return[u,y,c,b,o].flat()};if(i==="line"||n==="surround")return v([et(["L"],X(d),!1)],[et(["L"],X(h),!1)]);if(!a)throw new Error("Arc grid need to specified center");var p=X([Kf(d,a),Kf(h,a)],2),g=p[0],m=p[1];return v([et(["A",g,g,0,0,1],X(d),!1),et(["L"],X(d),!1)],[et(["A",m,m,0,0,0],X(h),!1),et(["L"],X(h),!1)])}function e1e(e,t,r,n){var i=r.animate,a=r.isBillboard,s=t.map(function(o,l){return{id:o.id||"grid-line-".concat(l),d:F2(o.points,r)}});return e.selectAll(rc.line.class).data(s,function(o){return o.id}).join(function(o){return o.append("path").each(function(l,u){var c=wi(D3(ke({d:l.d},n)),[l,u,s]);this.attr(ke({class:rc.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:a},c))})},function(o){return o.transition(function(l,u){var c=wi(D3(ke({d:l.d},n)),[l,u,s]);return Oa(this,c,i.update)})},function(o){return o.transition(function(){var l=this,u=Dg(this,i.exit);return gc(u,function(){return l.remove()}),u})}).transitions()}function t1e(e,t,r){var n=r.animate,i=r.connect,a=r.areaFill;if(t.length<2||!a||!i)return[];for(var s=Array.isArray(a)?a:[a,"transparent"],o=function(v){return s[v%s.length]},l=[],u=0;u<t.length-1;u++){var c=X([t[u].points,t[u+1].points],2),f=c[0],h=c[1],d=Jye(f,h,r);l.push({d,fill:o(u)})}return e.selectAll(rc.region.class).data(l,function(v,p){return p}).join(function(v){return v.append("path").each(function(p,g){var m=wi(p,[p,g,l]);this.attr(m)}).attr("className",rc.region.name)},function(v){return v.transition(function(p,g){var m=wi(p,[p,g,l]);return Oa(this,m,n.update)})},function(v){return v.transition(function(){var p=this,g=Dg(this,n.exit);return gc(g,function(){return p.remove()}),g})}).transitions()}function r1e(e){var t=e.data,r=t===void 0?[]:t,n=e.closed;return n?r.map(function(i){var a=i.points,s=X(a,1),o=s[0];return ke(ke({},i),{points:et(et([],X(a),!1),[o],!1)})}):r}var n1e=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n){r.type,r.center,r.areaFill,r.closed;var i=xr(r,["type","center","areaFill","closed"]),a=r1e(r),s=He(n).maybeAppendByClassName(rc.lineGroup,"g"),o=He(n).maybeAppendByClassName(rc.regionGroup,"g"),l=e1e(s,a,r,i),u=t1e(o,a,r);return et(et([],X(l),!1),X(u),!1)},t}(Or);function PG(e,t){return Object.fromEntries(Object.entries(e).map(function(r){var n=X(r,2),i=n[0],a=n[1];return[i,wi(a,t)]}))}function RS(e,t){return t&&Gt(t)?e.filter(t):e}function OG(e,t){var r=t.startAngle,n=t.endAngle;return(n-r)*e+r}function Fg(e,t){if(t.type==="linear"){var r=X(t.startPos,2),n=r[0],i=r[1],a=X(t.endPos,2),s=a[0],o=a[1],l=X([s-n,o-i],2),u=l[0],c=l[1];return yG([u,c])}var f=tc(OG(e,t));return[-Math.sin(f),Math.cos(f)]}function LS(e,t,r){var n=Fg(e,r);return Mme(n,t!=="positive")}function mc(e,t){return LS(e,t.labelDirection,t)}function i1e(e,t){var r=X(t.startPos,2),n=r[0],i=r[1],a=X(t.endPos,2),s=a[0],o=a[1],l=X([s-n,o-i],2),u=l[0],c=l[1];return[n+u*e,i+c*e]}function a1e(e,t){var r=t.radius,n=X(t.center,2),i=n[0],a=n[1],s=tc(OG(e,t));return[i+r*Math.cos(s),a+r*Math.sin(s)]}function $g(e,t){return t.type==="linear"?i1e(e,t):a1e(e,t)}function IS(e){return Fg(0,e)[1]===0}function CG(e){return Fg(0,e)[0]===0}function RG(e,t){return t-e===360}function iD(e,t,r,n,i){var a=t-e,s=X([i,i],2),o=s[0],l=s[1],u=X([tc(e),tc(t)],2),c=u[0],f=u[1],h=function(A){return[r+i*Math.cos(A),n+i*Math.sin(A)]},d=X(h(c),2),v=d[0],p=d[1],g=X(h(f),2),m=g[0],y=g[1];if(RG(e,t)){var b=(f+c)/2,_=X(h(b),2),x=_[0],E=_[1];return[["M",v,p],["A",o,l,0,1,0,x,E],["A",o,l,0,1,0,m,y]]}var w=a>180?1:0,S=e>t?0:1;return"M".concat(v,",").concat(p,",A").concat(o,",").concat(l,",0,").concat(w,",").concat(S,",").concat(m,",").concat(y)}function s1e(e){var t=e.attributes,r=t.startAngle,n=t.endAngle,i=t.center,a=t.radius;return et(et([r,n],X(i),!1),[a],!1)}function o1e(e,t,r,n){var i=t.startAngle,a=t.endAngle,s=t.center,o=t.radius;return e.selectAll(Xt.line.class).data([{d:iD.apply(void 0,et(et([i,a],X(s),!1),[o],!1))}],function(l,u){return u}).join(function(l){return l.append("path").attr("className",Xt.line.name).styles(t).styles({d:function(u){return u.d}})},function(l){return l.transition(function(){var u=this,c=Tme(this,s1e(this),et(et([i,a],X(s),!1),[o],!1),n.update);if(c){var f=function(){var h=Gv(u.attributes,"__keyframe_data__");u.style.d=iD.apply(void 0,et([],X(h),!1))};c.onframe=f,c.onfinish=f}return c}).styles(t)},function(l){return l.remove()}).styles(r).transitions()}function l1e(e,t){t.truncRange,t.truncShape,t.lineExtension}function u1e(e,t,r){r===void 0&&(r=[0,0]);var n=X([e,t,r],3),i=X(n[0],2),a=i[0],s=i[1],o=X(n[1],2),l=o[0],u=o[1],c=X(n[2],2),f=c[0],h=c[1],d=X([l-a,u-s],2),v=d[0],p=d[1],g=Math.sqrt(Math.pow(v,2)+Math.pow(p,2)),m=X([-f/g,h/g],2),y=m[0],b=m[1];return[y*v,y*p,b*v,b*p]}function aD(e){var t=X(e,2),r=X(t[0],2),n=r[0],i=r[1],a=X(t[1],2),s=a[0],o=a[1];return{x1:n,y1:i,x2:s,y2:o}}function c1e(e,t,r,n){var i=t.showTrunc,a=t.startPos,s=t.endPos,o=t.truncRange,l=t.lineExtension,u=X([a,s],2),c=X(u[0],2),f=c[0],h=c[1],d=X(u[1],2),v=d[0],p=d[1],g=X(l?u1e(a,s,l):new Array(4).fill(0),4),m=g[0],y=g[1],b=g[2],_=g[3],x=function(z){return e.selectAll(Xt.line.class).data(z,function(Z,ge){return ge}).join(function(Z){return Z.append("line").attr("className",function(ge){return"".concat(Xt.line.name," ").concat(ge.className)}).styles(r).transition(function(ge){return Oa(this,aD(ge.line),!1)})},function(Z){return Z.styles(r).transition(function(ge){var xe=ge.line;return Oa(this,aD(xe),n.update)})},function(Z){return Z.remove()}).transitions()};if(!i||!o)return x([{line:[[f+m,h+y],[v+b,p+_]],className:Xt.line.name}]);var E=X(o,2),w=E[0],S=E[1],A=v-f,P=p-h,O=X([f+A*w,h+P*w],2),C=O[0],L=O[1],I=X([f+A*S,h+P*S],2),F=I[0],U=I[1],G=x([{line:[[f+m,h+y],[C,L]],className:Xt.lineFirst.name},{line:[[F,U],[v+b,p+_]],className:Xt.lineSecond.name}]);return l1e(e,t),G}function f1e(e,t,r,n){var i=r.showArrow,a=r.showTrunc,s=r.lineArrow,o=r.lineArrowOffset,l=r.lineArrowSize,u;if(t==="arc"?u=e.select(Xt.line.class):a?u=e.select(Xt.lineSecond.class):u=e.select(Xt.line.class),!i||!s||r.type==="arc"&&RG(r.startAngle,r.endAngle)){var c=u.node();c&&(c.style.markerEnd=void 0);return}var f=Js(s);f.attr(n),TS(f,l),u.style("markerEnd",f).style("markerEndOffset",-o)}function h1e(e,t,r){var n=t.type,i,a=yt(t,"line");return n==="linear"?i=c1e(e,t,I3(a,"arrow"),r):i=o1e(e,t,I3(a,"arrow"),r),f1e(e,n,t,a),i}function d1e(e,t){return LS(e,t.gridDirection,t)}function LG(e){var t=e.type,r=e.gridCenter;return t==="linear"?r:r||e.center}function v1e(e,t){var r=t.gridLength;return e.map(function(n,i){var a=n.value,s=X($g(a,t),2),o=s[0],l=s[1],u=X(Fs(d1e(a,t),r),2),c=u[0],f=u[1];return{id:i,points:[[o,l],[o+c,l+f]]}})}function p1e(e,t){var r=t.gridControlAngles,n=LG(t);if(!n)throw new Error("grid center is not provide");if(e.length<2)throw new Error("Invalid grid data");if(!r||r.length===0)throw new Error("Invalid gridControlAngles");var i=X(n,2),a=i[0],s=i[1];return e.map(function(o,l){var u=o.value,c=X($g(u,t),2),f=c[0],h=c[1],d=X([f-a,h-s],2),v=d[0],p=d[1],g=[];return r.forEach(function(m){var y=tc(m),b=X([Math.cos(y),Math.sin(y)],2),_=b[0],x=b[1],E=v*_-p*x+a,w=v*x+p*_+s;g.push([E,w])}),{points:g,id:l}})}function g1e(e,t,r,n){var i=yt(r,"grid"),a=i.type,s=i.areaFill,o=LG(r),l=RS(t,r.gridFilter),u=a==="segment"?v1e(l,r):p1e(l,r),c=ke(ke({},i),{center:o,areaFill:Gt(s)?l.map(function(f,h){return wi(s,[f,h,l])}):s,animate:n,data:u});return e.selectAll(Xt.grid.class).data([1]).join(function(f){return f.append(function(){return new n1e({style:c})}).attr("className",Xt.grid.name)},function(f){return f.transition(function(){return this.update(c)})},function(f){return f.remove()}).transitions()}var $2=function(){function e(t,r,n,i){this.set(t,r,n,i)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),e.prototype.rotatedPoints=function(t,r,n){var i=this,a=i.x1,s=i.y1,o=i.x2,l=i.y2,u=Math.cos(t),c=Math.sin(t),f=r-r*u+n*c,h=n-r*c-n*u,d=[[u*a-c*l+f,c*a+u*l+h],[u*o-c*l+f,c*o+u*l+h],[u*a-c*s+f,c*a+u*s+h],[u*o-c*s+f,c*o+u*s+h]];return d},e.prototype.set=function(t,r,n,i){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),i<r?(this.y2=r,this.y1=i):(this.y1=r,this.y2=i),this},e.prototype.defined=function(t){return this[t]!==Number.MAX_VALUE&&this[t]!==-Number.MAX_VALUE},e}();function B2(e,t){var r=e.getEulerAngles()||0;e.setEulerAngles(0);var n=e.getBounds(),i=X(n.min,2),a=i[0],s=i[1],o=X(n.max,2),l=o[0],u=o[1],c=e.getBBox(),f=c.width,h=c.height,d=h,v=0,p=0,g=a,m=s,y=gG(e);if(y){d-=1.5;var b=y.style.textAlign,_=y.style.textBaseline;b==="center"?g=(a+l)/2:(b==="right"||b==="end")&&(g=l),_==="middle"?m=(s+u)/2:_==="bottom"&&(m=u)}var x=X(An(t),4),E=x[0],w=E===void 0?0:E,S=x[1],A=S===void 0?0:S,P=x[2],O=P===void 0?w:P,C=x[3],L=C===void 0?A:C,I=new $2((v+=a)-L,(p+=s)-w,v+f+A,p+d+O);return e.setEulerAngles(r),I.rotatedPoints(tc(r),g,m)}function Xc(e,t){return t[0]<=Math.max(e[0][0],e[1][0])&&t[0]<=Math.min(e[0][0],e[1][0])&&t[1]<=Math.max(e[0][1],e[1][1])&&t[1]<=Math.min(e[0][1],e[1][1])}function Kc(e,t,r){var n=(t[1]-e[1])*(r[0]-t[0])-(t[0]-e[0])*(r[1]-t[1]);return n===0?0:n<0?2:1}function m1e(e,t){var r=Kc(e[0],e[1],t[0]),n=Kc(e[0],e[1],t[1]),i=Kc(t[0],t[1],e[0]),a=Kc(t[0],t[1],e[1]);return!!(r!==n&&i!==a||r===0&&Xc(e,t[0])||n===0&&Xc(e,t[1])||i===0&&Xc(t,e[0])||a===0&&Xc(t,e[1]))}function y1e(e,t){var r=e.length;if(r<3)return!1;var n=[t,[9999,t[1]]],i=0,a=0;do{var s=[e[a],e[(a+1)%r]];if(m1e(s,n)){if(Kc(s[0],t,s[1])===0)return Xc(s,t);i++}a=(a+1)%r}while(a!==0);return!!(i&1)}function b1e(e,t){return t.every(function(r){return y1e(e,r)})}function w1e(e,t,r){var n=e.x1,i=e.x2,a=e.y1,s=e.y2,o=[[n,a],[i,a],[i,s],[n,s]],l=B2(t,r);return b1e(o,l)}function x1e(e,t){var r=X(e,4),n=r[0],i=r[1],a=r[2],s=r[3],o=X(t,4),l=o[0],u=o[1],c=o[2],f=o[3],h=a-n,d=s-i,v=c-l,p=f-u,g=h*p-v*d;if(g===0)return!1;var m=g>0,y=n-l,b=i-u,_=h*b-d*y;if(_<0===m)return!1;var x=v*b-p*y;return!(x<0===m||_>g===m||x>g===m)}function E1e(e,t){var r=[[e[0],e[1],e[2],e[3]],[e[2],e[3],e[4],e[5]],[e[4],e[5],e[6],e[7]],[e[6],e[7],e[0],e[1]]];return r.some(function(n){return x1e(t,n)})}function _1e(e,t,r){var n,i,a=B2(e,r).flat(1),s=B2(t,r).flat(1),o=[[a[0],a[1],a[2],a[3]],[a[0],a[1],a[4],a[5]],[a[4],a[5],a[6],a[7]],[a[2],a[3],a[6],a[7]]];try{for(var l=ch(o),u=l.next();!u.done;u=l.next()){var c=u.value;if(E1e(s,c))return!0}}catch(f){n={error:f}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return!1}function k1e(e,t){var r=e.type,n=e.labelDirection,i=e.crossSize;if(!i)return!1;if(r==="arc"){var a=e.center,s=e.radius,o=X(a,2),l=o[0],u=o[1],c=n==="negative"?0:i,f=-s-c,h=s+c,d=X(An(t),4),v=d[0],p=d[1],g=d[2],m=d[3];return new $2(l+f-m,u+f-v,l+h+p,u+h+g)}var y=X(e.startPos,2),b=y[0],_=y[1],x=X(e.endPos,2),E=x[0],w=x[1],S=X(CG(e)?[-t,0,t,0]:[0,t,0,-t],4),A=S[0],P=S[1],O=S[2],C=S[3],L=mc(0,e),I=Fs(L,i),F=new $2(b,_,E,w);return F.x1+=C,F.y1+=A,F.x2+=P+I[0],F.y2+=O+I[1],F}function Bg(e,t,r){var n,i,a=t.crossPadding,s=new Set,o=null,l=k1e(t,a),u=function(v){return l?w1e(l,v):!0},c=function(v,p){return!v||!v.firstChild?!0:!_1e(v.firstChild,p.firstChild,An(r))};try{for(var f=ch(e),h=f.next();!h.done;h=f.next()){var d=h.value;u(d)?!o||c(o,d)?o=d:(s.add(o),s.add(d)):s.add(d)}}catch(v){n={error:v}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return Array.from(s)}function eE(e,t){return t===void 0&&(t={}),Ze(e)?0:typeof e=="number"?e:Math.floor(bme(e,t))}function S1e(e,t,r,n){if(!(e.length<=0)){var i=t.suffix,a=i===void 0?"...":i,s=t.minLength,o=t.maxLength,l=o===void 0?1/0:o,u=t.step,c=u===void 0?" ":u,f=t.margin,h=f===void 0?[0,0,0,0]:f,d=pG(n.getTextShape(e[0])),v=eE(c,d),p=s?eE(s,d):v,g=eE(l,d);(Ze(g)||g===1/0)&&(g=Math.max.apply(null,e.map(function(E){return E.getBBox().width})));var m=e.slice(),y=X(h,4);y[0],y[1],y[2],y[3];for(var b=function(E){if(m.forEach(function(w){n.ellipsis(n.getTextShape(w),E,a)}),m=Bg(e,r,h),m.length<1)return{value:void 0}},_=g;_>p+v;_-=v){var x=b(_);if(typeof x=="object")return x.value}}}var T1e={parity:function(e,t){var r=t.seq,n=r===void 0?2:r;return e.filter(function(i,a){return a%n?(Ma(i),!1):!0})}},M1e=function(e){return e.filter(yme)};function N1e(e,t,r,n){var i=e.length,a=t.keepHeader,s=t.keepTail;if(!(i<=1||i===2&&a&&s)){var o=T1e.parity,l=function(b){return b.forEach(n.show),b},u=2,c=e.slice(),f=e.slice(),h=Math.min.apply(Math,et([1],X(e.map(function(b){return b.getBBox().width})),!1));if(r.type==="linear"&&(IS(r)||CG(r))){var d=F3(e[0]).left,v=F3(e[i-1]).right,p=Math.abs(v-d)||1;u=Math.max(Math.floor(i*h/p),u)}var g,m;for(a&&(g=c.splice(0,1)[0]),s&&(m=c.splice(-1,1)[0],c.reverse()),l(c);u<e.length&&Bg(M1e(m?et(et([m],X(f),!1),[g],!1):et([g],X(f),!1)),r,t?.margin).length;){if(m&&!g&&u%2===0){var y=c.splice(0,1);y.forEach(n.hide)}else if(m&&g){var y=c.splice(0,1);y.forEach(n.hide)}f=o(l(c),{seq:u}),u++}}}function A1e(e,t,r,n){var i,a,s=t.optionalAngles,o=s===void 0?[0,45,90]:s,l=t.margin,u=t.recoverWhenFailed,c=u===void 0?!0:u,f=e.map(function(m){return m.getLocalEulerAngles()}),h=function(){return Bg(e,r,l).length<1},d=function(m){return e.forEach(function(y,b){var _=Array.isArray(m)?m[b]:m;n.rotate(y,+_)})};try{for(var v=ch(o),p=v.next();!p.done;p=v.next()){var g=p.value;if(d(g),h())return}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}c&&d(f)}function P1e(e){var t=e.type,r=e.labelDirection;return t==="linear"&&IS(e)?r==="negative"?"bottom":"top":"middle"}function O1e(e,t,r,n,i){var a,s=t.maxLines,o=s===void 0?3:s,l=t.recoverWhenFailed,u=l===void 0?!0:l,c=t.margin,f=c===void 0?[0,0,0,0]:c,h=wi((a=t.wordWrapWidth)!==null&&a!==void 0?a:50,[i]),d=e.map(function(b){return b.attr("maxLines")||1}),v=Math.min.apply(Math,et([],X(d),!1)),p=function(){return Bg(e,r,f).length<1},g=P1e(r),m=function(b){return e.forEach(function(_,x){var E=Array.isArray(b)?b[x]:b;n.wrap(_,h,E,g)})};if(!(v>o)){if(r.type==="linear"&&IS(r)){if(m(o),p())return}else for(var y=v;y<=o;y++)if(m(y),p())return;u&&m(d)}}var C1e=new Map([["hide",N1e],["rotate",A1e],["ellipsis",S1e],["wrap",O1e]]);function R1e(e,t,r){return t.labelOverlap.length<1?!1:r==="hide"?!gme(e[0]):r==="rotate"?!e.some(function(n){var i;return!!(!((i=n.attr("transform"))===null||i===void 0)&&i.includes("rotate"))}):r==="ellipsis"||r==="wrap"?e.filter(function(n){return n.querySelector("text")}).length>=1:!0}function L1e(e,t,r,n){var i=t.labelOverlap,a=i===void 0?[]:i;a.length&&a.forEach(function(s){var o=s.type,l=C1e.get(o);R1e(e,t,o)&&l?.(e,s,t,n,r)})}function I1e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=function(n){return n==="positive"?-1:1};return e.reduce(function(n,i){return n*r(i)},1)}function sD(e){for(var t=e;t<0;)t+=360;return Math.round(t%360)}function z2(e,t){var r=X(e,2),n=r[0],i=r[1],a=X(t,2),s=a[0],o=a[1],l=X([n*s+i*o,n*o-i*s],2),u=l[0],c=l[1];return Math.atan2(c,u)}function D1e(e){var t=(e+360)%180;return gn(t,-90,90)||(t+=180),t}function F1e(e,t,r){var n,i=r.labelAlign,a=(n=t.style.transform)===null||n===void 0?void 0:n.includes("rotate");if(a)return t.getLocalEulerAngles();var s=0,o=mc(e.value,r),l=Fg(e.value,r);return i==="horizontal"?0:(i==="perpendicular"?s=z2([1,0],o):s=z2([l[0]<0?-1:1,0],l),D1e(dG(s)))}function IG(e,t,r){var n=r.type,i=r.labelAlign,a=mc(e,r),s=sD(t),o=sD(dG(z2([1,0],a))),l="center",u="middle";return n==="linear"?[90,270].includes(o)&&s===0?(l="center",u=a[1]===1?"top":"bottom"):!(o%180)&&[90,270].includes(s)?l="center":o===0?(gn(s,0,90,!1,!0)||gn(s,0,90)||gn(s,270,360))&&(l="start"):o===90?gn(s,0,90,!1,!0)?l="start":(gn(s,90,180)||gn(s,270,360))&&(l="end"):o===270?gn(s,0,90,!1,!0)?l="end":(gn(s,90,180)||gn(s,270,360))&&(l="start"):o===180&&(s===90?l="start":(gn(s,0,90)||gn(s,270,360))&&(l="end")):i==="parallel"?gn(o,0,180,!0)?u="top":u="bottom":i==="horizontal"?gn(o,90,270,!1)?l="end":(gn(o,270,360,!1)||gn(o,0,90))&&(l="start"):i==="perpendicular"&&(gn(o,90,270)?l="end":l="start"),{textAlign:l,textBaseline:u}}function $1e(e,t,r){t.setLocalEulerAngles(e);var n=t.__data__.value,i=IG(n,e,r),a=t.querySelector(Xt.labelItem.class);a&&DG(a,i)}function oD(e,t,r){var n=r.showTick,i=r.tickLength,a=r.tickDirection,s=r.labelDirection,o=r.labelSpacing,l=t.indexOf(e),u=wi(o,[e,l,t]),c=X([mc(e.value,r),I1e(s,a)],2),f=c[0],h=c[1],d=h===1?wi(n?i:0,[e,l,t]):0,v=X(Yc(Fs(f,u+d),$g(e.value,r)),2),p=v[0],g=v[1];return{x:p,y:g}}function B1e(e,t,r,n){var i=n.labelFormatter,a=Gt(i)?function(){return Js(wi(i,[e,t,r,mc(e.value,n)]))}:function(){return Js(e.label||"")};return a}function z1e(e,t,r,n){var i=n.labelRender,a=(Gv(n,"endPos.0",400)-Gv(n,"startPos.0",0))/r.length,s=Gt(i)?wi(i,[e,t,r,mc(e.value,n)]):e.label||"",o=Wme(s)||30;return function(){return xme(s,{width:a,height:o})}}function DG(e,t){["text","html"].includes(e.nodeName)&&e.attr(t)}function G1e(e,t){L1e(this.node().childNodes,e,t,{hide:Ma,show:_h,rotate:function(r,n){$1e(+n,r,e)},ellipsis:function(r,n,i){r&&I2(r,n||1/0,i)},wrap:function(r,n,i){r&&wme(r,n,i)},getTextShape:function(r){return r.querySelector("text")}})}function lD(e,t,r,n,i){var a=r.indexOf(t),s=i.labelRender,o=He(e).append(s?z1e(t,a,r,i):B1e(t,a,r,i)).attr("className",Xt.labelItem.name).node(),l=X(eo(PG(n,[t,a,r])),2),u=l[0],c=l[1],f=c.transform,h=xr(c,["transform"]);bG(o,f);var d=F1e(t,o,i);return o.getLocalEulerAngles()||o.setLocalEulerAngles(d),DG(o,ke(ke({},IG(t.value,d,i)),u)),e.attr(h),o}function q1e(e,t,r,n,i){var a=RS(t,r.labelFilter),s=yt(r,"label"),o,l=e.selectAll(Xt.label.class).data(a,function(u,c){return c}).join(function(u){return u.append("g").attr("className",Xt.label.name).transition(function(c){lD(this,c,t,s,r);var f=oD(c,t,r),h=f.x,d=f.y;return this.style.transform="translate(".concat(h,", ").concat(d,")"),null})},function(u){return u.transition(function(c){var f=this.querySelector(Xt.labelItem.class),h=lD(this,c,t,s,r),d=Yye(f,h,n.update),v=oD(c,t,r),p=v.x,g=v.y,m=Oa(this,{transform:"translate(".concat(p,", ").concat(g,")")},n.update);return et(et([],X(d),!1),[m],!1)})},function(u){return o=u,u.transition(function(){var c=this,f=Dg(this.childNodes[0],n.exit);return gc(f,function(){return He(c).remove()}),f}),o}).transitions();return Uye(l,function(){G1e.call(e,r,i)}),l}function FG(e,t){return LS(e,t.tickDirection,t)}function j1e(e,t){var r=X(e,2),n=r[0],i=r[1];return[[0,0],[n*t,i*t]]}function W1e(e,t,r,n,i){var a=i.tickLength,s=X(j1e(n,wi(a,[e,t,r])),2),o=X(s[0],2),l=o[0],u=o[1],c=X(s[1],2),f=c[0],h=c[1];return{x1:l,x2:f,y1:u,y2:h}}function V1e(e,t,r,n,i){var a=i.tickFormatter,s=FG(t.value,i),o="line";return Gt(a)&&(o=function(){return wi(a,[t,r,n,s])}),e.append(o).attr("className",Xt.tickItem.name)}function U1e(e,t,r,n,i,a,s){var o=FG(e.value,a),l=W1e(e,t,r,o,a),u=l.x1,c=l.x2,f=l.y1,h=l.y2,d=X(eo(PG(s,[e,t,r,o])),2),v=d[0],p=d[1];n.node().nodeName==="line"&&n.styles(ke({x1:u,x2:c,y1:f,y2:h},v)),i.attr(p),n.styles(v)}function uD(e,t,r,n,i,a){var s=V1e(He(this),e,t,r,n);U1e(e,t,r,s,this,n,i);var o=X($g(e.value,n),2),l=o[0],u=o[1];return Oa(this,{transform:"translate(".concat(l,", ").concat(u,")")},a)}function H1e(e,t,r,n){var i=RS(t,r.tickFilter),a=yt(r,"tick");return e.selectAll(Xt.tick.class).data(i,function(s){return s.id||s.label}).join(function(s){return s.append("g").attr("className",Xt.tick.name).transition(function(o,l){return uD.call(this,o,l,i,r,a,!1)})},function(s){return s.transition(function(o,l){return this.removeChildren(),uD.call(this,o,l,i,r,a,n.update)})},function(s){return s.transition(function(){var o=this,l=Dg(this.childNodes[0],n.exit);return gc(l,function(){return o.remove()}),l})}).transitions()}function Y1e(e,t,r){var n=r.titlePosition,i=n===void 0?"lb":n,a=r.titleSpacing,s=Ig(i),o=e.node().getLocalBounds(),l=X(o.min,2),u=l[0],c=l[1],f=X(o.halfExtents,2),h=f[0],d=f[1],v=X(t.node().getLocalBounds().halfExtents,2),p=v[0],g=v[1],m=X([u+h,c+d],2),y=m[0],b=m[1],_=X(An(a),4),x=_[0],E=_[1],w=_[2],S=_[3];if(["start","end"].includes(i)&&r.type==="linear"){var A=r.startPos,P=r.endPos,O=X(i==="start"?[A,P]:[P,A],2),C=O[0],L=O[1],I=yG([-L[0]+C[0],-L[1]+C[1]]),F=X(Fs(I,x),2),U=F[0],G=F[1];return{x:C[0]+U,y:C[1]+G}}return s.includes("t")&&(b-=d+g+x),s.includes("r")&&(y+=h+p+E),s.includes("l")&&(y-=h+p+S),s.includes("b")&&(b+=d+g+w),{x:y,y:b}}function X1e(e,t,r){var n=e.getGeometryBounds().halfExtents,i=n[1]*2;if(t==="vertical"){if(r==="left")return"rotate(-90) translate(0, ".concat(i/2,")");if(r==="right")return"rotate(-90) translate(0, -".concat(i/2,")")}return""}function cD(e,t,r,n,i){var a=yt(n,"title"),s=X(eo(a),2),o=s[0],l=s[1],u=l.transform,c=l.transformOrigin,f=xr(l,["transform","transformOrigin"]);t.styles(f);var h=u||X1e(e.node(),o.direction,o.position);e.styles(ke(ke({},o),{transformOrigin:c})),bG(e.node(),h);var d=Y1e(He(r._offscreen||r.querySelector(Xt.mainGroup.class)),t,n),v=d.x,p=d.y,g=Oa(t.node(),{transform:"translate(".concat(v,", ").concat(p,")")},i);return g}function K1e(e,t,r,n){var i=r.titleText;return e.selectAll(Xt.title.class).data([{title:i}].filter(function(a){return!!a.title}),function(a,s){return a.title}).join(function(a){return a.append(function(){return Js(i)}).attr("className",Xt.title.name).transition(function(){return cD(He(this),e,t,r,n.enter)})},function(a){return a.transition(function(){return cD(He(this),e,t,r,n.update)})},function(a){return a.remove()}).transitions()}function fD(e,t,r,n){var i=e.showLine,a=e.showTick,s=e.showLabel,o=t.maybeAppendByClassName(Xt.lineGroup,"g"),l=mi(i,o,function(d){return h1e(d,e,n)})||[],u=t.maybeAppendByClassName(Xt.tickGroup,"g"),c=mi(a,u,function(d){return H1e(d,r,e,n)})||[],f=t.maybeAppendByClassName(Xt.labelGroup,"g"),h=mi(s,f,function(d){return q1e(d,r,e,n,t.node())})||[];return et(et(et([],X(l),!1),X(c),!1),X(h),!1).filter(function(d){return!!d})}var Z1e=function(e){Et(t,e);function t(r){return e.call(this,r,CS)||this}return t.prototype.render=function(r,n,i){var a=this,s=r.titleText,o=r.data,l=r.animate,u=r.showTitle,c=r.showGrid,f=r.dataThreshold,h=r.truncRange,d=Cme(o,f).filter(function(x){var E=x.value;return!(h&&E>h[0]&&E<h[1])}),v=nD(i===void 0?l:i),p=He(n).maybeAppendByClassName(Xt.gridGroup,"g"),g=mi(c,p,function(x){return g1e(x,d,r,v)})||[],m=He(n).maybeAppendByClassName(Xt.mainGroup,"g");s&&(!this.initialized&&v.enter||this.initialized&&v.update)&&fD(r,He(this.offscreenGroup),d,nD(!1));var y=fD(r,He(m.node()),d,v),b=He(n).maybeAppendByClassName(Xt.titleGroup,"g"),_=mi(u,b,function(x){return K1e(x,a,r,v)})||[];return et(et(et([],X(g),!1),X(y),!1),X(_),!1).flat().filter(function(x){return!!x})},t}(Or),hD=Ga({text:"text"},"title");function Q1e(e,t){var r=e.attributes,n=r.position,i=r.spacing,a=r.inset,s=r.text,o=e.getBBox(),l=t.getBBox(),u=Ig(n),c=X(An(s?i:0),4),f=c[0],h=c[1],d=c[2],v=c[3],p=X(An(a),4),g=p[0],m=p[1],y=p[2],b=p[3],_=X([v+h,f+d],2),x=_[0],E=_[1],w=X([b+m,g+y],2),S=w[0],A=w[1];if(u[0]==="l")return new ei(o.x,o.y,l.width+o.width+x+S,Math.max(l.height+A,o.height));if(u[0]==="t")return new ei(o.x,o.y,Math.max(l.width+S,o.width),l.height+o.height+E+A);var P=X([t.attributes.width||l.width,t.attributes.height||l.height],2),O=P[0],C=P[1];return new ei(l.x,l.y,O+o.width+x+S,C+o.height+E+A)}function J1e(e,t){var r=Object.entries(t).reduce(function(n,i){var a=X(i,2),s=a[0],o=a[1],l=e.node().attr(s);return l||(n[s]=o),n},{});e.styles(r)}function ebe(e){var t,r,n,i,a=e,s=a.width,o=a.height,l=a.position,u=X([+s/2,+o/2],2),c=u[0],f=u[1],h=X([+c,+f,"center","middle"],4),d=h[0],v=h[1],p=h[2],g=h[3],m=Ig(l);return m.includes("l")&&(t=X([0,"start"],2),d=t[0],p=t[1]),m.includes("r")&&(r=X([+s,"end"],2),d=r[0],p=r[1]),m.includes("t")&&(n=X([0,"top"],2),v=n[0],g=n[1]),m.includes("b")&&(i=X([+o,"bottom"],2),v=i[0],g=i[1]),{x:d,y:v,textAlign:p,textBaseline:g}}var tbe=function(e){Et(t,e);function t(r){return e.call(this,r,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return t.prototype.getAvailableSpace=function(){var r=this,n=this.attributes,i=n.width,a=n.height,s=n.position,o=n.spacing,l=n.inset,u=r.querySelector(hD.text.class);if(!u)return new ei(0,0,+i,+a);var c=u.getBBox(),f=c.width,h=c.height,d=X(An(o),4),v=d[0],p=d[1],g=d[2],m=d[3],y=X([0,0,+i,+a],4),b=y[0],_=y[1],x=y[2],E=y[3],w=Ig(s);if(w.includes("i"))return new ei(b,_,x,E);w.forEach(function(U,G){var z,Z,ge,xe;U==="t"&&(z=X(G===0?[h+g,+a-h-g]:[0,+a],2),_=z[0],E=z[1]),U==="r"&&(Z=X([+i-f-m],1),x=Z[0]),U==="b"&&(ge=X([+a-h-v],1),E=ge[0]),U==="l"&&(xe=X(G===0?[f+p,+i-f-p]:[0,+i],2),b=xe[0],x=xe[1])});var S=X(An(l),4),A=S[0],P=S[1],O=S[2],C=S[3],L=X([C+P,A+O],2),I=L[0],F=L[1];return new ei(b+C,_+A,x-I,E-F)},t.prototype.getBBox=function(){return this.title?this.title.getBBox():new ei(0,0,0,0)},t.prototype.render=function(r,n){var i=this;r.width,r.height,r.position,r.spacing;var a=xr(r,["width","height","position","spacing"]),s=X(eo(a),1),o=s[0],l=ebe(r),u=l.x,c=l.y,f=l.textAlign,h=l.textBaseline;mi(!!a.text,He(n),function(d){i.title=d.maybeAppendByClassName(hD.text,"text").styles(o).call(J1e,{x:u,y:c,textAlign:f,textBaseline:h}).node()})},t}(Or),Yi=Ga({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),rbe=function(e){Et(t,e);function t(r){var n=e.call(this,r,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:uye(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(i,a){return"".concat(i,"/").concat(a)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return n.playState="idle",n.contentGroup=n.appendChild(new Nn({class:Yi.contentGroup.name})),n.playWindow=n.contentGroup.appendChild(new Nn({class:Yi.playWindow.name})),n.innerCurrPage=n.defaultPage,n}return Object.defineProperty(t.prototype,"defaultPage",{get:function(){var r=this.attributes.defaultPage;return dr(r,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageShape",{get:function(){var r=this.pageViews,n=X(jme(r.map(function(f){var h=f.getBBox(),d=h.width,v=h.height;return[d,v]})).map(function(f){return Math.max.apply(Math,et([],X(f),!1))}),2),i=n[0],a=n[1],s=this.attributes,o=s.pageWidth,l=o===void 0?i:o,u=s.pageHeight,c=u===void 0?a:u;return{pageWidth:l,pageHeight:c}},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(t.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var r=e.prototype.getBBox.call(this),n=r.x,i=r.y,a=this.controllerShape,s=this.pageShape,o=s.pageWidth,l=s.pageHeight;return new ei(n,i,o+a.width,l)},t.prototype.goTo=function(r){var n=this,i=this.attributes.animate,a=this,s=a.currPage,o=a.playState,l=a.playWindow,u=a.pageViews;if(o!=="idle"||r<0||u.length<=0||r>=u.length)return null;u[s].setLocalPosition(0,0),this.prepareFollowingPage(r);var c=X(this.getFollowingPageDiff(r),2),f=c[0],h=c[1];this.playState="running";var d=SG(l,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-f,", ").concat(-h,")")}],i);return gc(d,function(){n.innerCurrPage=r,n.playState="idle",n.setVisiblePages([r]),n.updatePageInfo()}),d},t.prototype.prev=function(){var r=this.attributes.loop,n=this.pageViews.length,i=this.currPage;if(!r&&i<=0)return null;var a=r?(i-1+n)%n:dr(i-1,0,n);return this.goTo(a)},t.prototype.next=function(){var r=this.attributes.loop,n=this.pageViews.length,i=this.currPage;if(!r&&i>=n-1)return null;var a=r?(i+1)%n:dr(i+1,0,n);return this.goTo(a)},t.prototype.renderClipPath=function(r){var n=this.pageShape,i=n.pageWidth,a=n.pageHeight;if(!i||!a){this.contentGroup.style.clipPath=void 0;return}this.clipPath=r.maybeAppendByClassName(Yi.clipPath,"rect").styles({width:i,height:a}),this.contentGroup.attr("clipPath",this.clipPath.node())},t.prototype.setVisiblePages=function(r){this.playWindow.children.forEach(function(n,i){r.includes(i)?_h(n):Ma(n)})},t.prototype.adjustControllerLayout=function(){var r=this,n=r.prevBtnGroup,i=r.nextBtnGroup,a=r.pageInfoGroup,s=this.attributes,o=s.orientation,l=s.controllerPadding,u=a.getBBox(),c=u.width;u.height;var f=X(o==="horizontal"?[-180,0]:[-90,90],2),h=f[0],d=f[1];n.setLocalEulerAngles(h),i.setLocalEulerAngles(d);var v=n.getBBox(),p=v.width,g=v.height,m=i.getBBox(),y=m.width,b=m.height,_=Math.max(p,c,y),x=o==="horizontal"?{offset:[[0,0],[p/2+l,0],[p+c+l*2,0]],textAlign:"start"}:{offset:[[_/2,-g-l],[_/2,0],[_/2,b+l]],textAlign:"center"},E=X(x.offset,3),w=X(E[0],2),S=w[0],A=w[1],P=X(E[1],2),O=P[0],C=P[1],L=X(E[2],2),I=L[0],F=L[1],U=x.textAlign,G=a.querySelector("text");G&&(G.style.textAlign=U),n.setLocalPosition(S,A),a.setLocalPosition(O,C),i.setLocalPosition(I,F)},t.prototype.updatePageInfo=function(){var r,n=this,i=n.currPage,a=n.pageViews,s=n.attributes.formatter;a.length<2||((r=this.pageInfoGroup.querySelector(Yi.pageInfo.class))===null||r===void 0||r.attr("text",s(i+1,a.length)),this.adjustControllerLayout())},t.prototype.getFollowingPageDiff=function(r){var n=this.currPage;if(n===r)return[0,0];var i=this.attributes.orientation,a=this.pageShape,s=a.pageWidth,o=a.pageHeight,l=r<n?-1:1;return i==="horizontal"?[l*s,0]:[0,l*o]},t.prototype.prepareFollowingPage=function(r){var n=this,i=n.currPage,a=n.pageViews;if(this.setVisiblePages([r,i]),r!==i){var s=X(this.getFollowingPageDiff(r),2),o=s[0],l=s[1];a[r].setLocalPosition(o,l)}},t.prototype.renderController=function(r){var n=this,i=this.attributes.controllerSpacing,a=this.pageShape,s=a.pageWidth,o=a.pageHeight,l=this.pageViews.length>=2,u=r.maybeAppendByClassName(Yi.controller,"g");if(Lg(u.node(),l),!!l){var c=yt(this.attributes,"button"),f=yt(this.attributes,"pageNum"),h=X(eo(c),2),d=h[0],v=h[1],p=d.size,g=xr(d,["size"]),m=!u.select(Yi.prevBtnGroup.class).node(),y=u.maybeAppendByClassName(Yi.prevBtnGroup,"g").styles(v);this.prevBtnGroup=y.node();var b=y.maybeAppendByClassName(Yi.prevBtn,"path"),_=u.maybeAppendByClassName(Yi.nextBtnGroup,"g").styles(v);this.nextBtnGroup=_.node();var x=_.maybeAppendByClassName(Yi.nextBtn,"path");[b,x].forEach(function(w){w.styles(ke(ke({},g),{transformOrigin:"center"})),TS(w.node(),p)});var E=u.maybeAppendByClassName(Yi.pageInfoGroup,"g");this.pageInfoGroup=E.node(),E.maybeAppendByClassName(Yi.pageInfo,"text").styles(f),this.updatePageInfo(),u.node().setLocalPosition(s+i,o/2),m&&(this.prevBtnGroup.addEventListener("click",function(){n.prev()}),this.nextBtnGroup.addEventListener("click",function(){n.next()}))}},t.prototype.render=function(r,n){var i=r.x,a=i===void 0?0:i,s=r.y,o=s===void 0?0:s;this.attr("transform","translate(".concat(a,", ").concat(o,")"));var l=He(n);this.renderClipPath(l),this.renderController(l),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},t.prototype.bindEvents=function(){var r=this,n=yee(function(){return r.render(r.attributes,r)},50);this.playWindow.addEventListener(Rr.INSERTED,n),this.playWindow.addEventListener(Rr.REMOVED,n)},t}(Or);function nbe(e,t,r){var n=1.4,i=n*r;return[["M",e-r,t-i],["L",e+r,t-i],["L",e+r,t+i],["L",e-r,t+i],["Z"]]}var $G=1.4,BG=.4;function ibe(e,t,r){var n=r,i=n*$G,a=n/2,s=n/6,o=e+i*BG;return[["M",e,t],["L",o,t+a],["L",e+i,t+a],["L",e+i,t-a],["L",o,t-a],["Z"],["M",o,t+s],["L",e+i-2,t+s],["M",o,t-s],["L",e+i-2,t-s]]}function abe(e,t,r){var n=r,i=n*$G,a=n/2,s=n/6,o=t+i*BG;return[["M",e,t],["L",e-a,o],["L",e-a,t+i],["L",e+a,t+i],["L",e+a,o],["Z"],["M",e-s,o],["L",e-s,t+i-2],["M",e+s,o],["L",e+s,t+i-2]]}Vt.registerSymbol("hiddenHandle",nbe);Vt.registerSymbol("verticalHandle",ibe);Vt.registerSymbol("horizontalHandle",abe);function G2(e,t,r){return e===void 0&&(e="horizontal"),e==="horizontal"?t:r}var St,sbe="component-poptip",wt={CONTAINER:"component-poptip",ARROW:"component-poptip-arrow",TEXT:"component-poptip-text"},dD=(St={},St[".".concat(wt.CONTAINER)]={visibility:"visible",position:"absolute","background-color":"rgba(0, 0, 0)","box-shadow":"0px 0px 10px #aeaeae","border-radius":"3px",color:"#fff",opacity:.8,"font-size":"12px",padding:"4px 6px",display:"flex","justify-content":"center","align-items":"center","z-index":8,transition:"visibility 50ms"},St[".".concat(wt.TEXT)]={"text-align":"center"},St[".".concat(wt.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, -100%)"},St[".".concat(wt.CONTAINER,"[data-position='left']")]={transform:"translate(-100%, -50%)"},St[".".concat(wt.CONTAINER,"[data-position='right']")]={transform:"translate(0, -50%)"},St[".".concat(wt.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 0)"},St[".".concat(wt.CONTAINER,"[data-position='top-left']")]={transform:"translate(0,-100%)"},St[".".concat(wt.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%,-100%)"},St[".".concat(wt.CONTAINER,"[data-position='left-top']")]={transform:"translate(-100%, 0)"},St[".".concat(wt.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(-100%, -100%)"},St[".".concat(wt.CONTAINER,"[data-position='right-top']")]={transform:"translate(0, 0)"},St[".".concat(wt.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(0, -100%)"},St[".".concat(wt.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 0)"},St[".".concat(wt.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 0)"},St[".".concat(wt.ARROW)]={width:"4px",height:"4px",transform:"rotate(45deg)","background-color":"rgba(0, 0, 0)",position:"absolute","z-index":-1},St[".".concat(wt.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, calc(-100% - 5px))"},St["[data-position='top'] .".concat(wt.ARROW)]={bottom:"-2px"},St[".".concat(wt.CONTAINER,"[data-position='left']")]={transform:"translate(calc(-100% - 5px), -50%)"},St["[data-position='left'] .".concat(wt.ARROW)]={right:"-2px"},St[".".concat(wt.CONTAINER,"[data-position='right']")]={transform:"translate(5px, -50%)"},St["[data-position='right'] .".concat(wt.ARROW)]={left:"-2px"},St[".".concat(wt.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 5px)"},St["[data-position='bottom'] .".concat(wt.ARROW)]={top:"-2px"},St[".".concat(wt.CONTAINER,"[data-position='top-left']")]={transform:"translate(0, calc(-100% - 5px))"},St["[data-position='top-left'] .".concat(wt.ARROW)]={left:"10px",bottom:"-2px"},St[".".concat(wt.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%, calc(-100% - 5px))"},St["[data-position='top-right'] .".concat(wt.ARROW)]={right:"10px",bottom:"-2px"},St[".".concat(wt.CONTAINER,"[data-position='left-top']")]={transform:"translate(calc(-100% - 5px), 0)"},St["[data-position='left-top'] .".concat(wt.ARROW)]={right:"-2px",top:"8px"},St[".".concat(wt.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(calc(-100% - 5px), -100%)"},St["[data-position='left-bottom'] .".concat(wt.ARROW)]={right:"-2px",bottom:"8px"},St[".".concat(wt.CONTAINER,"[data-position='right-top']")]={transform:"translate(5px, 0)"},St["[data-position='right-top'] .".concat(wt.ARROW)]={left:"-2px",top:"8px"},St[".".concat(wt.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(5px, -100%)"},St["[data-position='right-bottom'] .".concat(wt.ARROW)]={left:"-2px",bottom:"8px"},St[".".concat(wt.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 5px)"},St["[data-position='bottom-left'] .".concat(wt.ARROW)]={top:"-2px",left:"8px"},St[".".concat(wt.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 5px)"},St["[data-position='bottom-right'] .".concat(wt.ARROW)]={top:"-2px",right:"8px"},St),obe=void 0;function lbe(e,t,r,n,i,a){if(i===void 0&&(i=!1),a===void 0&&(a=!1),a)return[e,t];var s=r.getBoundingClientRect(),o=s.x,l=s.y,u=s.width,c=s.height;switch(n){case"top":return i?[o+u/2,l]:[e,l];case"left":return i?[o,l+c/2]:[o,t];case"bottom":return i?[o+u/2,l+c]:[e,l+c];case"right":return i?[o+u,l+c/2]:[o+u,t];case"top-right":case"right-top":return[o+u,l];case"left-bottom":case"bottom-left":return[o,l+c];case"right-bottom":case"bottom-right":return[o+u,l+c];case"top-left":case"left-top":default:return[o,l]}}var ube=function(e){var t;return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t||(t=e.apply(obe,r)),t}};function cbe(e){var t=e&&document.getElementById(e);return t||(t=document.createElement("div"),t.setAttribute("id",e),document.body.appendChild(t)),t}function fbe(e){var t=ube(cbe)(e);return t}var hbe=function(e){Et(t,e);function t(r){var n=e.call(this,ms({style:{id:sbe}},t.defaultOptions,r))||this;return n.visibility="visible",n.map=new Map,n.domStyles="",n.initShape(),n.render(n.attributes,n),n}return Object.defineProperty(t.prototype,"visible",{get:function(){return this.visibility==="visible"},enumerable:!1,configurable:!0}),t.prototype.render=function(r,n){this.visibility=this.style.visibility,this.updatePoptipElement()},t.prototype.update=function(r){this.attr(ms({},this.style,r)),this.render(this.attributes,this)},t.prototype.bind=function(r,n){var i=this;if(r){var a=this.style.text,s=function(l){var u=r,c=i.style,f=a;if(n){var h=typeof n=="function"?n.call(null,l):n,d=h.html,v=h.target,p=xr(h,["html","target"]);c=mee({},i.style,p),(v||v===!1)&&(u=v),typeof d=="string"&&(f=d)}var g=c.position,m=c.arrowPointAtCenter,y=c.follow,b=c.offset;if(u){var _=l,x=_.clientX,E=_.clientY,w=X(lbe(x,E,u,g,m,y),2),S=w[0],A=w[1];i.showTip(S,A,{text:f,position:g,offset:b})}else i.hideTip()},o=function(){i.hideTip()};r.addEventListener("mousemove",s),r.addEventListener("mouseleave",o),this.map.set(r,[s,o])}},t.prototype.unbind=function(r){if(this.map.has(r)){var n=X(this.map.get(r)||[],2),i=n[0],a=n[1];i&&r.removeEventListener("mousemove",i),a&&r.removeEventListener("mouseleave",a),this.map.delete(r)}},t.prototype.clear=function(){this.container.innerHTML=""},t.prototype.destroy=function(){var r=this,n;et([],X(this.map.keys()),!1).forEach(function(i){return r.unbind(i)}),(n=this.container)===null||n===void 0||n.remove(),e.prototype.destroy.call(this)},t.prototype.showTip=function(r,n,i){var a=Gv(i,"text");if(!(a&&typeof a!="string")&&(this.applyStyles(),r&&n&&i)){var s=i.offset,o=i.position;if(o&&this.container.setAttribute("data-position",o),this.setOffsetPosition(r,n,s),typeof a=="string"){var l=this.container.querySelector(".".concat(wt.TEXT));l&&(l.innerHTML=a)}this.visibility="visible",this.container.style.visibility="visible"}},t.prototype.hideTip=function(){this.visibility="hidden",this.container.style.visibility="hidden"},t.prototype.getContainer=function(){return this.container},t.prototype.getClassName=function(){var r=this.style.containerClassName;return"".concat(wt.CONTAINER).concat(r?" ".concat(r):"")},t.prototype.initShape=function(){var r=this,n=this.style.id;this.container=fbe(n),this.container.className=this.getClassName(),this.container.addEventListener("mousemove",function(){return r.showTip()}),this.container.addEventListener("mouseleave",function(){return r.hideTip()})},t.prototype.updatePoptipElement=function(){var r=this.container;this.clear();var n=this.style,i=n.id,a=n.template,s=n.text;this.container.setAttribute("id",i),this.container.className=this.getClassName();var o='<span class="'.concat(wt.ARROW,'"></span>');r.innerHTML=o,At(a)?r.innerHTML+=a:a&&gee(a)&&r.appendChild(a),s&&(r.getElementsByClassName(wt.TEXT)[0].textContent=s),this.applyStyles(),this.container.style.visibility=this.visibility},t.prototype.applyStyles=function(){var r=Qr({},dD,this.style.domStyles),n=Object.entries(r).reduce(function(a,s){var o=X(s,2),l=o[0],u=o[1],c=Object.entries(u).reduce(function(f,h){var d=X(h,2),v=d[0],p=d[1];return"".concat(f).concat(v,": ").concat(p,";")},"");return"".concat(a).concat(l,"{").concat(c,"}")},"");if(this.domStyles!==n){this.domStyles=n;var i=this.container.querySelector("style");i&&this.container.removeChild(i),i=document.createElement("style"),i.innerHTML=n,this.container.appendChild(i)}},t.prototype.setOffsetPosition=function(r,n,i){i===void 0&&(i=this.style.offset);var a=X(i,2),s=a[0],o=s===void 0?0:s,l=a[1],u=l===void 0?0:l;this.container.style.left="".concat(r+o,"px"),this.container.style.top="".concat(n+u,"px")},t.tag="poptip",t.defaultOptions={style:{x:0,y:0,width:0,height:0,target:null,visibility:"hidden",text:"",position:"top",follow:!1,offset:[0,0],domStyles:dD,template:'<div class="'.concat(wt.TEXT,'"></div>')}},t}(Or),Ln=Ga({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",focusGroup:"focus-group",focus:"focus",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),dbe={offset:[0,20],domStyles:{".component-poptip":{opacity:"1",padding:"8px 12px",background:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},".component-poptip-arrow":{display:"none"},".component-poptip-text":{color:"#000",lineHeight:"20px"}}};function vbe(e){var t=e.querySelector(Ln.marker.class);return t?t.style:{}}var pbe=function(e){Et(t,e);function t(r){return e.call(this,r,{span:[1,1],marker:function(){return new Ku({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(t.prototype,"showValue",{get:function(){var r=this.attributes.valueText;return r?typeof r=="string"||typeof r=="number"?r!=="":typeof r=="function"?!0:r.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualSpace",{get:function(){var r=this.labelGroup,n=this.valueGroup,i=this.attributes,a=i.markerSize,s=i.focus,o=i.focusMarkerSize,l=r.node().getBBox(),u=l.width,c=l.height,f=n.node().getBBox(),h=f.width,d=f.height,v=s?o??12:0;return{markerWidth:a,labelWidth:u,valueWidth:h,focusWidth:v,height:Math.max(a,c,d)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"span",{get:function(){var r=this.attributes.span;if(!r)return[1,1];var n=X(An(r),2),i=n[0],a=n[1],s=this.showValue?a:0,o=i+s;return[i/o,s/o]},enumerable:!1,configurable:!0}),t.prototype.setAttribute=function(r,n){e.prototype.setAttribute.call(this,r,n)},Object.defineProperty(t.prototype,"shape",{get:function(){var r,n=this.attributes,i=n.markerSize,a=n.width,s=this.actualSpace,o=s.markerWidth,l=s.focusWidth,u=s.height,c=this.actualSpace,f=c.labelWidth,h=c.valueWidth,d=X(this.spacing,3),v=d[0],p=d[1],g=d[2];if(a){var m=a-i-v-p-l-g,y=X(this.span,2),b=y[0],_=y[1];r=X([b*m,_*m],2),f=r[0],h=r[1]}var x=o+f+h+v+p+l+g;return{width:x,height:u,markerWidth:o,labelWidth:f,valueWidth:h,focusWidth:l}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){var r=this.attributes,n=r.spacing,i=r.focus;if(!n)return[0,0,0];var a=X(An(n),3),s=a[0],o=a[1],l=a[2];return[s,this.showValue?o:0,i?l:0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){var r=this.shape,n=r.markerWidth,i=r.labelWidth,a=r.valueWidth,s=r.focusWidth,o=r.width,l=r.height,u=X(this.spacing,3),c=u[0],f=u[1],h=u[2];return{height:l,width:o,markerWidth:n,labelWidth:i,valueWidth:a,focusWidth:s,position:[n/2,n+c,n+i+c+f,n+i+a+c+f+h+s/2]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleSize",{get:function(){var r=vbe(this.markerGroup.node()),n=this.attributes,i=n.markerSize,a=n.markerStrokeWidth,s=a===void 0?r.strokeWidth:a,o=n.markerLineWidth,l=o===void 0?r.lineWidth:o,u=n.markerStroke,c=u===void 0?r.stroke:u,f=+(s||l||(c?1:0))*Math.sqrt(2),h=this.markerGroup.node().getBBox(),d=h.width,v=h.height;return(1-f/Math.max(d,v))*i},enumerable:!1,configurable:!0}),t.prototype.renderMarker=function(r){var n=this,i=this.attributes.marker,a=yt(this.attributes,"marker");this.markerGroup=r.maybeAppendByClassName(Ln.markerGroup,"g").style("zIndex",0),mi(!!i,this.markerGroup,function(){var s,o=n.markerGroup.node(),l=(s=o.childNodes)===null||s===void 0?void 0:s[0],u=typeof i=="string"?new Vt({style:{symbol:i},className:Ln.marker.name}):i();l?u.nodeName===l.nodeName?l instanceof Vt?l.update(ke(ke({},a),{symbol:i})):($me(l,u),He(l).styles(a)):(l.remove(),He(u).attr("className",Ln.marker.name).styles(a),o.appendChild(u)):(u instanceof Vt||He(u).attr("className",Ln.marker.name).styles(a),o.appendChild(u)),n.markerGroup.node().scale(1/n.markerGroup.node().getScale()[0]);var c=TS(n.markerGroup.node(),n.scaleSize);n.markerGroup.node().style._transform="scale(".concat(c,")")})},t.prototype.renderLabel=function(r){var n=yt(this.attributes,"label"),i=n.text,a=xr(n,["text"]);this.labelGroup=r.maybeAppendByClassName(Ln.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(Ln.label,function(){return Js(i)}).styles(a)},t.prototype.renderValue=function(r){var n=this,i=yt(this.attributes,"value"),a=i.text,s=xr(i,["text"]);this.valueGroup=r.maybeAppendByClassName(Ln.valueGroup,"g").style("zIndex",0),mi(this.showValue,this.valueGroup,function(){n.valueGroup.maybeAppendByClassName(Ln.value,function(){return Js(a)}).styles(s)})},t.prototype.createPoptip=function(){var r=this.attributes.poptip,n=r||{};n.render;var i=xr(n,["render"]),a=new hbe({style:Qr(dbe,i)});return this.poptipGroup=a,a},t.prototype.bindPoptip=function(r){var n=this,i=this.attributes.poptip;if(i){var a=this.poptipGroup||this.createPoptip();a.bind(r,function(){var s=n.attributes,o=s.labelText,l=s.valueText,u=s.markerFill,c=typeof o=="string"?o:o?.attr("text"),f=typeof l=="string"?l:l?.attr("text");if(typeof i.render=="function")return{html:i.render({label:c,value:f,color:u})};var h="";return(typeof c=="string"||typeof c=="number")&&(h+='<div class="component-poptip-label">'.concat(c,"</div>")),(typeof f=="string"||typeof f=="number")&&(h+='<div class="component-poptip-value">'.concat(f,"</div>")),{html:h}})}},t.prototype.renderFocus=function(r){var n=this,i=this.attributes,a=i.focus,s=i.focusMarkerSize,o={x:0,y:0,size:s,opacity:.6,symbol:"focus",stroke:"#aaaaaa",lineWidth:1};ct(a)||(this.focusGroup=r.maybeAppendByClassName(Ln.focusGroup,"g").style("zIndex",0),mi(a,this.focusGroup,function(){var l=new Vt({style:ke(ke({},o),{symbol:"focus"})}),u=new Ku({style:{r:o.size/2,fill:"transparent"}}),c=n.focusGroup.node();c.appendChild(u),c.appendChild(l),l.update({opacity:0}),r.node().addEventListener("pointerenter",function(){l.update({opacity:1})}),r.node().addEventListener("pointerleave",function(){l.update({opacity:0})})}))},t.prototype.renderPoptip=function(r){var n=this,i=this.attributes.poptip;if(i){var a=r.maybeAppendByClassName(Ln.value,"g").node(),s=r.maybeAppendByClassName(Ln.label,"g").node();[a,s].forEach(function(o){o&&n.bindPoptip(o)})}},t.prototype.renderBackground=function(r){var n=this.shape,i=n.width,a=n.height,s=yt(this.attributes,"background");this.background=r.maybeAppendByClassName(Ln.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(Ln.background,"rect").styles(ke({width:i,height:a},s))},t.prototype.adjustLayout=function(){var r=this.layout,n=r.labelWidth,i=r.valueWidth,a=r.height,s=X(r.position,4),o=s[0],l=s[1],u=s[2],c=s[3],f=a/2;this.markerGroup.styles({transform:"translate(".concat(o,", ").concat(f,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(l,", ").concat(f,")")}),this.focusGroup&&this.focusGroup.styles({transform:"translate(".concat(c,", ").concat(f,")")}),I2(this.labelGroup.select(Ln.label.class).node(),Math.ceil(n)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(u,", ").concat(f,")")}),I2(this.valueGroup.select(Ln.value.class).node(),Math.ceil(i)))},t.prototype.render=function(r,n){var i=He(n),a=r.x,s=a===void 0?0:a,o=r.y,l=o===void 0?0:o;i.styles({transform:"translate(".concat(s,", ").concat(l,")")}),this.renderMarker(i),this.renderLabel(i),this.renderValue(i),this.renderBackground(i),this.renderPoptip(i),this.renderFocus(i),this.adjustLayout()},t}(Or),ul=Ga({page:"item-page",navigator:"navigator",item:"item"},"items"),vD=function(e,t,r){return r===void 0&&(r=!0),e?t(e):r},gbe=function(e){Et(t,e);function t(r){var n=e.call(this,r,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:S0,mouseenter:S0,mouseleave:S0})||this;return n.navigatorShape=[0,0],n}return Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var r=this.attributes,n=r.gridRow,i=r.gridCol,a=r.data;if(!n&&!i)throw new Error("gridRow and gridCol can not be set null at the same time");return n&&i?[n,i]:n?[n,a.length]:[a.length,i]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderData",{get:function(){var r=this.attributes,n=r.data,i=r.layout,a=r.poptip,s=r.focus,o=r.focusMarkerSize,l=yt(this.attributes,"item"),u=n.map(function(c,f){var h=c.id,d=h===void 0?f:h,v=c.label,p=c.value;return{id:"".concat(d),index:f,style:ke({layout:i,labelText:v,valueText:p,poptip:a,focus:s,focusMarkerSize:o},Object.fromEntries(Object.entries(l).map(function(g){var m=X(g,2),y=m[0],b=m[1];return[y,wi(b,[c,f,n])]})))}});return u},enumerable:!1,configurable:!0}),t.prototype.getGridLayout=function(){var r=this,n=this.attributes,i=n.orientation,a=n.width,s=n.rowPadding,o=n.colPadding,l=X(this.navigatorShape,1),u=l[0],c=X(this.grid,2),f=c[0],h=c[1],d=h*f,v=0;return this.pageViews.children.map(function(p,g){var m,y,b=Math.floor(g/d),_=g%d,x=r.ifHorizontal(h,f),E=[Math.floor(_/x),_%x];i==="vertical"&&E.reverse();var w=X(E,2),S=w[0],A=w[1],P=(a-u-(h-1)*o)/h,O=p.getBBox().height,C=X([0,0],2),L=C[0],I=C[1];return i==="horizontal"?(m=X([v,S*(O+s)],2),L=m[0],I=m[1],v=A===h-1?0:v+P+o):(y=X([A*(P+o),v],2),L=y[0],I=y[1],v=S===f-1?0:v+O+s),{page:b,index:g,row:S,col:A,pageIndex:_,width:P,height:O,x:L,y:I}})},t.prototype.getFlexLayout=function(){var r=this.attributes,n=r.width,i=r.height,a=r.rowPadding,s=r.colPadding,o=X(this.navigatorShape,1),l=o[0],u=X(this.grid,2),c=u[0],f=u[1],h=X([n-l,i],2),d=h[0],v=h[1],p=X([0,0,0,0,0,0,0,0],8),g=p[0],m=p[1],y=p[2],b=p[3],_=p[4],x=p[5],E=p[6],w=p[7];return this.pageViews.children.map(function(S,A){var P,O,C,L,I=S.getBBox(),F=I.width,U=I.height,G=E===0?0:s,z=E+G+F;if(z<=d&&vD(_,function(ge){return ge<f}))return P=X([E+G,w,z],3),g=P[0],m=P[1],E=P[2],{width:F,height:U,x:g,y:m,page:y,index:A,pageIndex:b++,row:x,col:_++};O=X([x+1,0,0,w+U+a],4),x=O[0],_=O[1],E=O[2],w=O[3];var Z=w+U;return Z<=v&&vD(x,function(ge){return ge<c})?(C=X([E,w,F],3),g=C[0],m=C[1],E=C[2],{width:F,height:U,x:g,y:m,page:y,index:A,pageIndex:b++,row:x,col:_++}):(L=X([0,0,F,0,y+1,0,0,0],8),g=L[0],m=L[1],E=L[2],w=L[3],y=L[4],b=L[5],x=L[6],_=L[7],{width:F,height:U,x:g,y:m,page:y,index:A,pageIndex:b++,row:x,col:_++})})},Object.defineProperty(t.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var r=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,n=r.call(this);return n.slice(-1)[0].page>0?(this.navigatorShape=[55,0],r.call(this)):n},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(r,n){var i=this.attributes.orientation;return G2(i,r,n)},t.prototype.flattenPage=function(r){r.querySelectorAll(ul.item.class).forEach(function(n){r.appendChild(n)}),r.querySelectorAll(ul.page.class).forEach(function(n){var i=r.removeChild(n);i.destroy()})},t.prototype.renderItems=function(r){var n=this.attributes,i=n.click,a=n.mouseenter,s=n.mouseleave;this.flattenPage(r);var o=this.dispatchCustomEvent.bind(this);He(r).selectAll(ul.item.class).data(this.renderData,function(l){return l.id}).join(function(l){return l.append(function(u){var c=u.style;return new pbe({style:c})}).attr("className",ul.item.name).on("click",function(){i?.(this),o("itemClick",{item:this})}).on("pointerenter",function(){a?.(this),o("itemMouseenter",{item:this})}).on("pointerleave",function(){s?.(this),o("itemMouseleave",{item:this})})},function(l){return l.each(function(u){var c=u.style;this.update(c)})},function(l){return l.remove()})},t.prototype.relayoutNavigator=function(){var r,n=this.attributes,i=n.layout,a=n.width,s=((r=this.pageViews.children[0])===null||r===void 0?void 0:r.getBBox().height)||0,o=X(this.navigatorShape,2),l=o[0],u=o[1];this.navigator.update(i==="grid"?{pageWidth:a-l,pageHeight:s-u}:{})},t.prototype.adjustLayout=function(){var r=this,n=Object.entries(Eme(this.itemsLayout,"page")).map(function(a){var s=X(a,2),o=s[0],l=s[1];return{page:o,layouts:l}}),i=et([],X(this.navigator.getContainer().children),!1);n.forEach(function(a){var s=a.layouts,o=r.pageViews.appendChild(new Nn({className:ul.page.name}));s.forEach(function(l){var u=l.x,c=l.y,f=l.index,h=l.width,d=l.height,v=i[f];o.appendChild(v),kee(v,"__layout__",l),v.update({x:u,y:c,width:h,height:d})})}),this.relayoutNavigator()},t.prototype.renderNavigator=function(r){var n=this.attributes.orientation,i=yt(this.attributes,"nav"),a=Qr({orientation:n},i),s=this;return r.selectAll(ul.navigator.class).data(["nav"]).join(function(o){return o.append(function(){return new rbe({style:a})}).attr("className",ul.navigator.name).each(function(){s.navigator=this})},function(o){return o.each(function(){this.update(a)})},function(o){return o.remove()}),this.navigator},t.prototype.getBBox=function(){return this.navigator.getBBox()},t.prototype.render=function(r,n){var i=this.attributes.data;if(!(!i||i.length===0)){var a=this.renderNavigator(He(n));this.renderItems(a.getContainer()),this.adjustLayout()}},t.prototype.dispatchCustomEvent=function(r,n){var i=new nn(r,{detail:n});this.dispatchEvent(i)},t}(Or),Ic=Ga({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),zG={showLabel:!0,formatter:function(e){return e.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0};(function(e){Et(t,e);function t(r){return e.call(this,r,zG)||this}return t.prototype.render=function(r,n){var i=He(n).maybeAppendByClassName(Ic.markerGroup,"g");this.renderMarker(i);var a=He(n).maybeAppendByClassName(Ic.labelGroup,"g");this.renderLabel(a)},t.prototype.renderMarker=function(r){var n=this,i=this.attributes,a=i.orientation,s=i.markerSymbol,o=s===void 0?G2(a,"horizontalHandle","verticalHandle"):s;mi(!!o,r,function(l){var u=yt(n.attributes,"marker"),c=ke({symbol:o},u);n.marker=l.maybeAppendByClassName(Ic.marker,function(){return new Vt({style:c})}).update(c)})},t.prototype.renderLabel=function(r){var n=this,i=this.attributes,a=i.showLabel,s=i.orientation,o=i.spacing,l=o===void 0?0:o,u=i.formatter;mi(a,r,function(c){var f,h=yt(n.attributes,"label"),d=h.text,v=xr(h,["text"]),p=((f=c.select(Ic.marker.class))===null||f===void 0?void 0:f.node().getBBox())||{},g=p.width,m=g===void 0?0:g,y=p.height,b=y===void 0?0:y,_=X(G2(s,[0,b+l,"center","top"],[m+l,0,"start","middle"]),4),x=_[0],E=_[1],w=_[2],S=_[3];c.maybeAppendByClassName(Ic.label,"text").styles(ke(ke({},v),{x,y:E,text:u(d).toString(),textAlign:w,textBaseline:S}))})},t})(Or);var GG={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},mbe=Qr({},GG,{});Qr({},GG,hu(zG,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"});var Dc=Ga({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),jxe=function(e){Et(t,e);function t(r){return e.call(this,r,mbe)||this}return t.prototype.renderTitle=function(r,n,i){var a=this.attributes,s=a.showTitle,o=a.titleText,l=yt(this.attributes,"title"),u=X(eo(l),2),c=u[0],f=u[1];this.titleGroup=r.maybeAppendByClassName(Dc.titleGroup,"g").styles(f);var h=ke(ke({width:n,height:i},c),{text:s?o:""});this.title=this.titleGroup.maybeAppendByClassName(Dc.title,function(){return new tbe({style:h})}).update(h)},t.prototype.renderItems=function(r,n){var i=n.x,a=n.y,s=n.width,o=n.height,l=yt(this.attributes,"title",!0),u=X(eo(l),2),c=u[0],f=u[1],h=ke(ke({},c),{width:s,height:o,x:0,y:0});this.itemsGroup=r.maybeAppendByClassName(Dc.itemsGroup,"g").styles(ke(ke({},f),{transform:"translate(".concat(i,", ").concat(a,")")}));var d=this;this.itemsGroup.selectAll(Dc.items.class).data(["items"]).join(function(v){return v.append(function(){return new gbe({style:h})}).attr("className",Dc.items.name).each(function(){d.items=He(this)})},function(v){return v.update(h)},function(v){return v.remove()})},t.prototype.adjustLayout=function(){var r=this.attributes.showTitle;if(r){var n=this.title.node().getAvailableSpace(),i=n.x,a=n.y;this.itemsGroup.node().style.transform="translate(".concat(i,", ").concat(a,")")}},Object.defineProperty(t.prototype,"availableSpace",{get:function(){var r=this.attributes,n=r.showTitle,i=r.width,a=r.height;return n?this.title.node().getAvailableSpace():new ei(0,0,i,a)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var r,n,i=(r=this.title)===null||r===void 0?void 0:r.node(),a=(n=this.items)===null||n===void 0?void 0:n.node();return!i||!a?e.prototype.getBBox.call(this):Q1e(i,a)},t.prototype.render=function(r,n){var i=this.attributes,a=i.width,s=i.height,o=i.x,l=o===void 0?0:o,u=i.y,c=u===void 0?0:u,f=He(n);n.style.transform="translate(".concat(l,", ").concat(c,")"),this.renderTitle(f,a,s),this.renderItems(f,this.availableSpace),this.adjustLayout()},t}(Or),ybe={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(e){return e.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},tE=Ga({background:"background",labelGroup:"label-group",label:"label"},"indicator"),bbe=function(e){Et(t,e);function t(r){var n=e.call(this,r,ybe)||this;return n.point=[0,0],n.group=n.appendChild(new Nn({})),n.isMutationObserved=!0,n}return t.prototype.renderBackground=function(){if(this.label){var r=this.attributes,n=r.position,i=r.padding,a=X(An(i),4),s=a[0],o=a[1],l=a[2],u=a[3],c=this.label.node().getLocalBounds(),f=c.min,h=c.max,d=new ei(f[0]-u,f[1]-s,h[0]+o-f[0]+u,h[1]+l-f[1]+s),v=this.getPath(n,d),p=yt(this.attributes,"background");this.background=He(this.group).maybeAppendByClassName(tE.background,"path").styles(ke(ke({},p),{d:v})),this.group.appendChild(this.label.node())}},t.prototype.renderLabel=function(){var r=this.attributes,n=r.formatter,i=r.labelText,a=yt(this.attributes,"label"),s=X(eo(a),2),o=s[0],l=s[1];o.text;var u=xr(o,["text"]);if(this.label=He(this.group).maybeAppendByClassName(tE.labelGroup,"g").styles(l),!!i){var c=this.label.maybeAppendByClassName(tE.label,function(){return Js(n(i))}).style("text",n(i).toString());c.selectAll("text").styles(u)}},t.prototype.adjustLayout=function(){var r=X(this.point,2),n=r[0],i=r[1],a=this.attributes,s=a.x,o=a.y;this.group.attr("transform","translate(".concat(s-n,", ").concat(o-i,")"))},t.prototype.getPath=function(r,n){var i=this.attributes.radius,a=n.x,s=n.y,o=n.width,l=n.height,u=[["M",a+i,s],["L",a+o-i,s],["A",i,i,0,0,1,a+o,s+i],["L",a+o,s+l-i],["A",i,i,0,0,1,a+o-i,s+l],["L",a+i,s+l],["A",i,i,0,0,1,a,s+l-i],["L",a,s+i],["A",i,i,0,0,1,a+i,s],["Z"]],c={top:4,right:6,bottom:0,left:2},f=c[r],h=this.createCorner([u[f].slice(-2),u[f+1].slice(-2)]);return u.splice.apply(u,et([f+1,1],X(h),!1)),u[0][0]="M",u},t.prototype.createCorner=function(r,n){n===void 0&&(n=10);var i=.8,a=Fme.apply(void 0,et([],X(r),!1)),s=X(r,2),o=X(s[0],2),l=o[0],u=o[1],c=X(s[1],2),f=c[0],h=c[1],d=X(a?[f-l,[l,f]]:[h-u,[u,h]],2),v=d[0],p=X(d[1],2),g=p[0],m=p[1],y=v/2,b=v/Math.abs(v),_=n*b,x=_/2,E=_*Math.sqrt(3)/2*i,w=X([g,g+y-x,g+y,g+y+x,m],5),S=w[0],A=w[1],P=w[2],O=w[3],C=w[4];return a?(this.point=[P,u-E],[["L",S,u],["L",A,u],["L",P,u-E],["L",O,u],["L",C,u]]):(this.point=[l+E,P],[["L",l,S],["L",l,A],["L",l+E,P],["L",l,O],["L",l,C]])},t.prototype.applyVisibility=function(){var r=this.attributes.visibility;r==="hidden"?Ma(this):_h(this)},t.prototype.bindEvents=function(){this.label.on(Rr.BOUNDS_CHANGED,this.renderBackground)},t.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},t}(Or);function q2(e){return e===void 0&&(e=""),{CONTAINER:"".concat(e,"tooltip"),TITLE:"".concat(e,"tooltip-title"),LIST:"".concat(e,"tooltip-list"),LIST_ITEM:"".concat(e,"tooltip-list-item"),NAME:"".concat(e,"tooltip-list-item-name"),MARKER:"".concat(e,"tooltip-list-item-marker"),NAME_LABEL:"".concat(e,"tooltip-list-item-name-label"),VALUE:"".concat(e,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(e,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(e,"tooltip-crosshair-y")}}var pD={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function wbe(e){var t;e===void 0&&(e="");var r=q2(e);return t={},t[".".concat(r.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},t[".".concat(r.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},t[".".concat(r.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},t[".".concat(r.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},t[".".concat(r.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},t[".".concat(r.NAME)]={display:"flex","align-items":"center","max-width":"216px"},t[".".concat(r.NAME_LABEL)]=ke({flex:1},pD),t[".".concat(r.VALUE)]=ke({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},pD),t[".".concat(r.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t[".".concat(r.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t}var Wxe=function(e){Et(t,e);function t(r){var n=this,i,a,s=(a=(i=r.style)===null||i===void 0?void 0:i.template)===null||a===void 0?void 0:a.prefixCls,o=q2(s);return n=e.call(this,r,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(o.CONTAINER,'"></div>'),title:'<div class="'.concat(o.TITLE,'"></div>'),item:'<li class="'.concat(o.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(o.NAME,`">
          <span class="`).concat(o.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(o.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(o.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:wbe(s)})||this,n.timestamp=-1,n.prevCustomContentKey=n.attributes.contentKey,n.initShape(),n.render(n.attributes,n),n}return Object.defineProperty(t.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.element},Object.defineProperty(t.prototype,"elementSize",{get:function(){var r=this.element.offsetWidth,n=this.element.offsetHeight;return{width:r,height:n}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HTMLTooltipItemsElements",{get:function(){var r=this.attributes,n=r.data,i=r.template;return n.map(function(a,s){var o=a.name,l=o===void 0?"":o,u=a.color,c=u===void 0?"black":u,f=a.index,h=xr(a,["name","color","index"]),d=ke({name:l,color:c,index:f??s},h);return BN(cee(i.item,d))})},enumerable:!1,configurable:!0}),t.prototype.render=function(r,n){this.renderHTMLTooltipElement(),this.updatePosition()},t.prototype.destroy=function(){var r;(r=this.element)===null||r===void 0||r.remove(),e.prototype.destroy.call(this)},t.prototype.show=function(r,n){var i=this;if(r!==void 0&&n!==void 0){var a=this.element.style.visibility==="hidden",s=function(){i.attributes.x=r??i.attributes.x,i.attributes.y=n??i.attributes.y,i.updatePosition()};a?this.closeTransition(s):s()}this.element.style.visibility="visible"},t.prototype.hide=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.attributes.enterable;i&&this.isCursorEntered(r,n)||(this.element.style.visibility="hidden")},t.prototype.initShape=function(){var r=this.attributes.template;this.element=BN(r.container),this.id&&this.element.setAttribute("id",this.id)},t.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var r=this.attributes.content;r&&(typeof r=="string"?this.element.innerHTML=r:B3(this.element,r))}},t.prototype.renderHTMLTooltipElement=function(){var r,n,i=this.attributes,a=i.template,s=i.title,o=i.enterable,l=i.style,u=i.content,c=q2(a.prefixCls),f=this.element;if(this.element.style.pointerEvents=o?"auto":"none",u)this.renderCustomContent();else{s?(f.innerHTML=a.title,f.getElementsByClassName(c.TITLE)[0].innerHTML=s):(n=(r=f.getElementsByClassName(c.TITLE))===null||r===void 0?void 0:r[0])===null||n===void 0||n.remove();var h=this.HTMLTooltipItemsElements,d=document.createElement("ul");d.className=c.LIST,B3(d,h);var v=this.element.querySelector(".".concat(c.LIST));v?v.replaceWith(d):f.appendChild(d)}Gme(f,l)},t.prototype.getRelativeOffsetFromCursor=function(r){var n=this.attributes,i=n.position,a=n.offset,s=r||i,o=s.split("-"),l={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},u=this.elementSize,c=u.width,f=u.height,h=[-c/2,-f/2];return o.forEach(function(d){var v=X(h,2),p=v[0],g=v[1],m=X(l[d],2),y=m[0],b=m[1];h=[p+(c/2+a[0])*y,g+(f/2+a[1])*b]}),h},t.prototype.setOffsetPosition=function(r){var n=X(r,2),i=n[0],a=n[1],s=this.attributes,o=s.x,l=o===void 0?0:o,u=s.y,c=u===void 0?0:u,f=s.container,h=f.x,d=f.y;this.element.style.left="".concat(+l+h+i,"px"),this.element.style.top="".concat(+c+d+a,"px")},t.prototype.updatePosition=function(){var r=this.attributes.showDelay,n=r===void 0?60:r,i=Date.now();this.timestamp>0&&i-this.timestamp<n||(this.timestamp=i,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},t.prototype.autoPosition=function(r){var n=X(r,2),i=n[0],a=n[1],s=this.attributes,o=s.x,l=s.y,u=s.bounding,c=s.position;if(!u)return[i,a];var f=this.element,h=f.offsetWidth,d=f.offsetHeight,v=X([+o+i,+l+a],2),p=v[0],g=v[1],m={left:"right",right:"left",top:"bottom",bottom:"top"},y=u.x,b=u.y,_=u.width,x=u.height,E={left:p<y,right:p+h>y+_,top:g<b,bottom:g+d>b+x},w=[];c.split("-").forEach(function(A){E[A]?w.push(m[A]):w.push(A)});var S=w.join("-");return this.getRelativeOffsetFromCursor(S)},t.prototype.isCursorEntered=function(r,n){if(this.element){var i=this.element.getBoundingClientRect(),a=i.x,s=i.y,o=i.width,l=i.height;return new ei(a,s,o,l).isPointIn(r,n)}return!1},t.prototype.closeTransition=function(r){var n=this,i=this.element.style.transition;this.element.style.transition="none",r(),setTimeout(function(){n.element.style.transition=i},10)},t.tag="tooltip",t}(Or),xbe=function(e){Et(t,e);function t(r){var n=e.call(this,Qr({},t.defaultOptions,r))||this;return n.hoverColor="#f5f5f5",n.selectedColor="#e6f7ff",n.background=n.appendChild(new Do({})),n.label=n.background.appendChild(new Nn({})),n}return Object.defineProperty(t.prototype,"padding",{get:function(){return An(this.style.padding)},enumerable:!1,configurable:!0}),t.prototype.renderLabel=function(){var r=this.style,n=r.label,i=r.value,a=yt(this.attributes,"label");He(this.label).maybeAppend(".label",function(){return Js(n)}).attr("className","label").styles(a),this.label.attr("__data__",i)},t.prototype.renderBackground=function(){var r=this.label.getBBox(),n=X(this.padding,4),i=n[0],a=n[1],s=n[2],o=n[3],l=r.width,u=r.height,c=l+o+a,f=u+i+s,h=yt(this.attributes,"background"),d=this.style,v=d.width,p=v===void 0?0:v,g=d.height,m=g===void 0?0:g,y=d.selected;this.background.attr(ke(ke({},h),{width:Math.max(c,p),height:Math.max(f,m),fill:y?this.selectedColor:"#fff"})),this.label.attr({transform:"translate(".concat(o,", ").concat((f-u)/2,")")})},t.prototype.render=function(){this.renderLabel(),this.renderBackground()},t.prototype.bindEvents=function(){var r=this;this.addEventListener("pointerenter",function(){r.style.selected||r.background.attr("fill",r.hoverColor)}),this.addEventListener("pointerleave",function(){r.style.selected||r.background.attr("fill",r.style.backgroundFill)});var n=this;this.addEventListener("click",function(){var i=r.style,a=i.label,s=i.value,o=i.onClick;o?.(s,{label:a,value:s},n)})},t.defaultOptions={style:{value:"",label:"",cursor:"pointer"}},t}(Or),Ebe=function(e){Et(t,e);function t(r){var n,i,a=e.call(this,Qr({},t.defaultOptions,r))||this;a.currentValue=(n=t.defaultOptions.style)===null||n===void 0?void 0:n.defaultValue,a.isPointerInSelect=!1,a.select=a.appendChild(new Do({className:"select",style:{cursor:"pointer",width:0,height:0}})),a.dropdown=a.appendChild(new Do({className:"dropdown"}));var s=a.style.defaultValue;return s&&(!((i=a.style.options)===null||i===void 0)&&i.some(function(o){return o.value===s}))&&(a.currentValue=s),a}return t.prototype.setValue=function(r){this.currentValue=r,this.render()},t.prototype.getValue=function(){return this.currentValue},Object.defineProperty(t.prototype,"dropdownPadding",{get:function(){return An(this.style.dropdownPadding)},enumerable:!1,configurable:!0}),t.prototype.renderSelect=function(){var r=this,n,i=this.style,a=i.x,s=i.y,o=i.width,l=i.height,u=i.bordered,c=i.showDropdownIcon,f=yt(this.attributes,"select"),h=yt(this.attributes,"placeholder");this.select.attr(ke(ke({x:a,y:s,width:o,height:l},f),{fill:"#fff",strokeWidth:u?1:0}));var d=this.dropdownPadding,v=10;c&&He(this.select).maybeAppend(".dropdown-icon","path").style("d","M-5,-3.5 L0,3.5 L5,-3.5").style("transform","translate(".concat(a+o-v-d[1]-d[3],", ").concat(s+l/2,")")).style("lineWidth",1).style("stroke",this.select.style.stroke);var p=(n=this.style.options)===null||n===void 0?void 0:n.find(function(b){return b.value===r.currentValue}),g=ke({x:a+d[3]},h);He(this.select).selectAll(".placeholder").data(p?[]:[1]).join(function(b){return b.append("text").attr("className","placeholder").styles(g).style("y",function(){var _=this.getBBox();return s+(l-_.height)/2})},function(b){return b.styles(g)},function(b){return b.remove()});var m=yt(this.attributes,"optionLabel"),y=ke({x:a+d[3]},m);He(this.select).selectAll(".value").data(p?[p]:[]).join(function(b){return b.append(function(_){return Js(_.label)}).attr("className","value").styles(y).style("y",function(){var _=this.getBBox();return s+(l-_.height)/2})},function(b){return b.styles(y)},function(b){return b.remove()})},t.prototype.renderDropdown=function(){var r=this,n,i,a=this.style,s=a.x,o=a.y,l=a.width,u=a.height,c=a.options,f=a.onSelect,h=a.open,d=yt(this.attributes,"dropdown"),v=yt(this.attributes,"option"),p=this.dropdownPadding;He(this.dropdown).maybeAppend(".dropdown-container","g").attr("className","dropdown-container").selectAll(".dropdown-item").data(c,function(y){return y.value}).join(function(y){return y.append(function(b){return new xbe({className:"dropdown-item",style:ke(ke(ke({},b),v),{width:l-p[1]-p[3],selected:b.value===r.currentValue,onClick:function(_,x,E){r.setValue(_),f?.(_,x,E),r.dispatchEvent(new nn("change",{detail:{value:_,option:x,item:E}})),Ma(r.dropdown)}})})}).each(function(b,_){var x,E=(x=this.parentNode)===null||x===void 0?void 0:x.children,w=E.reduce(function(S,A,P){return P<_&&(S+=A.getBBox().height),S},0);this.attr("transform","translate(".concat(p[3],", ").concat(p[0]+w,")"))})},function(y){return y.update(function(b){return{selected:b.value===r.currentValue}})},function(y){return y.remove()});var g=(i=(n=this.dropdown.getElementsByClassName("dropdown-container"))===null||n===void 0?void 0:n[0])===null||i===void 0?void 0:i.getBBox(),m=d.spacing;this.dropdown.attr(ke({transform:"translate(".concat(s,", ").concat(o+u+m,")"),width:g.width+p[1]+p[3],height:g.height+p[0]+p[2]},d)),!h&&Ma(this.dropdown)},t.prototype.render=function(){this.renderSelect(),this.renderDropdown()},t.prototype.bindEvents=function(){var r=this;this.addEventListener("click",function(n){n.stopPropagation()}),this.select.addEventListener("click",function(){r.dropdown.style.visibility==="visible"?Ma(r.dropdown):_h(r.dropdown)}),this.addEventListener("pointerenter",function(){r.isPointerInSelect=!0}),this.addEventListener("pointerleave",function(){r.isPointerInSelect=!1}),document?.addEventListener("click",function(){r.isPointerInSelect||Ma(r.dropdown)})},t.defaultOptions={style:{x:0,y:0,width:140,height:32,options:[],bordered:!0,defaultValue:"",selectRadius:8,selectStroke:"#d9d9d9",showDropdownIcon:!0,placeholderText:"请选择",placeholderFontSize:12,placeholderTextBaseline:"top",placeholderFill:"#c2c2c2",dropdownFill:"#fff",dropdownStroke:"#d9d9d9",dropdownRadius:8,dropdownShadowBlur:4,dropdownShadowColor:"rgba(0, 0, 0, 0.08)",dropdownPadding:8,dropdownSpacing:10,optionPadding:[8,12],optionFontSize:12,optionTextBaseline:"top",optionBackgroundFill:"#fff",optionBackgroundRadius:4,optionLabelFontSize:12,optionLabelTextBaseline:"top"}},t}(Or),qa=function(e){Et(t,e);function t(r){var n=e.call(this,Qr({},{style:{backgroundOpacity:t.backgroundOpacities.default}},t.defaultOptions,r))||this;return n.showBackground=!0,n.background=n.appendChild(new Do({})),n.icon=n.appendChild(new Nn({})),n}return Object.defineProperty(t.prototype,"label",{get:function(){return"BaseIcon"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineWidth",{get:function(){return Math.log10(this.attributes.size)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return An(this.attributes.size/5)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconSize",{get:function(){var r=this.attributes.size,n=X(this.padding,4),i=n[0],a=n[1],s=n[2],o=n[3];return Math.max(r-Math.max(o+a,i+s),this.lineWidth*2+1)},enumerable:!1,configurable:!0}),t.prototype.renderBackground=function(){var r=this.attributes,n=r.x,i=r.y,a=r.size,s=a/2,o=yt(this.attributes,"background");this.background.attr(ke({x:n-s,y:i-s,width:a,height:a},o))},t.prototype.showIndicator=function(){if(this.label){var r=this.attributes.size,n=this.background.getBBox(),i=n.x,a=n.y;this.indicator.update({x:i+r/2,y:a-5,labelText:this.label,visibility:"visible"})}},t.prototype.hideIndicator=function(){this.indicator.update({visibility:"hidden"})},t.prototype.connectedCallback=function(){var r;e.prototype.connectedCallback.call(this);var n=this.attributes.size,i=this.background.getBBox(),a=i.x,s=i.y,o=(r=this.ownerDocument)===null||r===void 0?void 0:r.defaultView;o&&(this.indicator=o.appendChild(new bbe({style:{x:a+n/2,y:s-n/2,visibility:"hidden",position:"top",radius:3,zIndex:100}})))},t.prototype.disconnectedCallback=function(){this.indicator.destroy()},t.prototype.render=function(){this.renderIcon(),this.showBackground&&this.renderBackground()},t.prototype.bindEvents=function(){var r=this,n=this.attributes.onClick;if(this.addEventListener("click",function(){n?.(r)}),this.showBackground){var i=function(){return r.background.attr({opacity:t.backgroundOpacities.default})},a=function(){return r.background.attr({opacity:t.backgroundOpacities.hover})},s=function(){return r.background.attr({opacity:t.backgroundOpacities.active})};this.addEventListener("pointerenter",function(){a(),r.showIndicator()}),this.addEventListener("pointerleave",function(){i(),r.hideIndicator()}),this.addEventListener("pointerdown",function(){s()}),this.addEventListener("pointerup",function(){i()})}},t.tag="IconBase",t.defaultOptions={style:{x:0,y:0,size:10,color:"#565758",backgroundRadius:4,backgroundFill:"#e2e2e2"}},t.backgroundOpacities={default:0,hover:.8,active:1},t}(Or),Qf=function(e,t){return t===void 0&&(t="#565758"),new dh({style:{fill:t,d:"M ".concat(e,",").concat(e," L -").concat(e,",0 L ").concat(e,",-").concat(e," Z"),transformOrigin:"center"}})},_be=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.arcPath=function(r,n,i){var a=X([i,i],2),s=a[0],o=a[1],l=function(p){return[r+i*Math.cos(p),n+i*Math.sin(p)]},u=X(l(-5/4*Math.PI),2),c=u[0],f=u[1],h=X(l(1/4*Math.PI),2),d=h[0],v=h[1];return"M".concat(c,",").concat(f,",A").concat(s,",").concat(o,",0,1,1,").concat(d,",").concat(v)},Object.defineProperty(t.prototype,"label",{get:function(){return"重置"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this.iconSize,o=this.lineWidth,l=o+.5;He(this.icon).maybeAppend(".reset","path").styles({stroke:a,lineWidth:o,d:this.arcPath(n,i,s/2-o),markerStart:Qf(l,a)})},t}(qa),kbe=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"快退"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this.iconSize,o=s/2,l=s/2/Math.pow(3,.5),u=[[n,i],[n,i-l],[n-o,i],[n,i+l],[n,i],[n+o,i-l],[n+o,i+l],[n,i]];He(this.icon).maybeAppend(".backward","polygon").styles({points:u,fill:a})},t}(qa),Sbe=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"快进"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this.iconSize,o=s/2,l=s/2/Math.pow(3,.5),u=[[n,i],[n,i-l],[n+o,i],[n,i+l],[n,i],[n-o,i-l],[n-o,i+l],[n,i]];He(this.icon).maybeAppend(".forward","polygon").styles({points:u,fill:a})},t}(qa),Tbe=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"播放"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this.iconSize,o=s/3*Math.pow(3,.5)*.8,l=[[n+o,i],[n-o/2,i-s/2*.8],[n-o/2,i+s/2*.8],[n+o,i]];He(this.icon).maybeAppend(".play","polygon").styles({points:l,fill:a})},t}(qa),Mbe=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"暂停"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this.iconSize,o=s/3,l=[[n-o,i-s/2],[n-o,i+s/2],[n-o/2,i+s/2],[n-o/2,i-s/2],[n-o,i-s/2],[n+o/2,i-s/2],[n+o/2,i+s/2],[n+o,i+s/2],[n+o,i-s/2]];He(this.icon).maybeAppend(".pause","polygon").styles({points:l,fill:a})},t}(qa),Nbe=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"范围时间"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this,o=s.iconSize,l=s.lineWidth,u=l;He(this.icon).maybeAppend(".left-line","line").styles({x1:n-o/2,y1:i-o/2,x2:n-o/2,y2:i+o/2,stroke:a,lineWidth:l}),He(this.icon).maybeAppend(".right-line","line").styles({x1:n+o/2,y1:i-o/2,x2:n+o/2,y2:i+o/2,stroke:a,lineWidth:l}),He(this.icon).maybeAppend(".left-arrow","line").styles({x1:n,y1:i,x2:n-o/2+u*2,y2:i,stroke:a,lineWidth:l,markerEnd:Qf(l*2,a)}),He(this.icon).maybeAppend(".right-arrow","line").styles({x1:n,y1:i,x2:n+o/2-u*2,y2:i,stroke:a,lineWidth:l,markerEnd:Qf(l*2,a)})},t}(qa),Abe=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"单一时间"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this,o=s.iconSize,l=s.lineWidth;He(this.icon).maybeAppend(".line","line").styles({x1:n,y1:i-o/2,x2:n,y2:i+o/2,stroke:a,lineWidth:l});var u=l;He(this.icon).maybeAppend(".left-arrow","line").styles({x1:n-o/2-u*2,y1:i,x2:n-u*2,y2:i,stroke:a,lineWidth:l,markerEnd:Qf(l*2,a)}),He(this.icon).maybeAppend(".right-arrow","line").styles({x1:n+o/2+u*2,y1:i,x2:n+u*2,y2:i,stroke:a,lineWidth:l,markerEnd:Qf(l*2,a)})},t}(qa),qG=function(e){return[[-e/2,-e/2],[-e/2,e/2],[e/2,e/2]]},Pbe=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"折线图"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this,o=s.iconSize,l=s.lineWidth,u=l,c=(o-u*2-l)/4,f=(o-u*2-l)/2,h=X([n-o/2+u,i+o/2-u*2],2),d=h[0],v=h[1];He(this.icon).maybeAppend(".coordinate","polyline").styles({points:qG(o).map(function(p){var g=X(p,2),m=g[0],y=g[1];return[m+n,y+i]}),stroke:a,lineWidth:l}),He(this.icon).maybeAppend(".line","polyline").styles({points:[[d,v],[d+c,v-f],[d+c*2,v],[d+c*4,v-f*2]],stroke:a,lineWidth:l})},t}(qa),Obe=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"label",{get:function(){return"条形图"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return[1,4,2,4,3]},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.data,n=this.attributes,i=n.x,a=n.y,s=n.color,o=this,l=o.iconSize,u=o.lineWidth,c=u,f=(l-c)/r.length,h=(l-c*2)/4,d=X([i-l/2+c*2,a+l/2-c],2),v=d[0],p=d[1];He(this.icon).maybeAppend(".coordinate","polyline").styles({points:qG(l).map(function(g){var m=X(g,2),y=m[0],b=m[1];return[y+i,b+a]}),stroke:s,lineWidth:u}),He(this.icon).maybeAppend(".bars","g").selectAll(".column").data(this.data.map(function(g,m){return{value:g,index:m}})).join(function(g){return g.append("line").attr("className","column").style("x1",function(m){var y=m.index;return v+f*y}).style("y1",p).style("x2",function(m){var y=m.index;return v+f*y}).style("y2",function(m){var y=m.value;return p-h*y}).styles({y1:p,stroke:s,lineWidth:u})})},t}(qa),Cbe=function(e){Et(t,e);function t(r){var n=e.call(this,Qr({},{style:{color:"#d8d9d9"}},r))||this;return n.showBackground=!1,n}return t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.color,s=this,o=s.iconSize,l=s.lineWidth;He(this.icon).maybeAppend(".split","line").styles({x1:n,y1:i-o/2,x2:n,y2:i+o/2,stroke:a,lineWidth:l})},t}(qa),j2=function(e){Et(t,e);function t(){var r=e.apply(this,et([],X(arguments),!1))||this;return r.showBackground=!1,r}return Object.defineProperty(t.prototype,"padding",{get:function(){return An(0)},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var r=this.iconSize,n=this.attributes,i=n.x,a=n.y,s=n.speed,o=s===void 0?1:s,l=Tee(this.attributes,["x","y","transform","transformOrigin","width","height","size","color","speed"]),u=dr(r,20,1/0),c=20,f=ke(ke({},l),{x:i-u/2,y:a-c/2,width:u,height:c,defaultValue:o,bordered:!1,showDropdownIcon:!1,selectRadius:2,dropdownPadding:this.padding,dropdownRadius:2,dropdownSpacing:r/5,placeholderFontSize:r/2,optionPadding:0,optionLabelFontSize:r/2,optionBackgroundRadius:1,options:[{label:"1x",value:1},{label:"1.5x",value:1.5},{label:"2x",value:2}]});He(this.icon).maybeAppend(".speed",function(){return new Ebe({style:f})}).attr("className","speed").each(function(){this.update(f)})},t.tag="SpeedSelect",t}(qa),DS=function(e){Et(t,e);function t(r){var n=e.call(this,r)||this;return n.icon=n.appendChild(new Nn({})),n.currentType=n.attributes.type,n}return t.prototype.getType=function(){return this.currentType},t.prototype.render=function(){var r=this,n=this.attributes;n.onChange;var i=xr(n,["onChange"]);He(this.icon).selectAll(".icon").data([this.currentType]).join(function(a){return a.append(function(s){var o,l=(o=r.toggles.find(function(u){var c=X(u,1),f=c[0];return f===s}))===null||o===void 0?void 0:o[1];if(!l)throw new Error("Invalid type: ".concat(s));return new l({})}).attr("className","icon").styles(i,!1).update({})},function(a){return a.styles({restStyles:i}).update({})},function(a){return a.remove()})},t.prototype.bindEvents=function(){var r=this,n=this.attributes.onChange;this.addEventListener("click",function(i){i.preventDefault(),i.stopPropagation();var a=(r.toggles.findIndex(function(o){var l=X(o,1),u=l[0];return u===r.currentType})+1)%r.toggles.length,s=r.toggles[a][0];n?.(r.currentType),r.currentType=s,r.render()})},t.tag="ToggleIcon",t}(Or),W2=function(e){Et(t,e);function t(r){var n=e.call(this,Qr({},{style:{type:"play"}},r))||this;return n.toggles=[["play",Tbe],["pause",Mbe]],n}return t}(DS),V2=function(e){Et(t,e);function t(r){var n=e.call(this,Qr({},{style:{type:"range"}},r))||this;return n.toggles=[["range",Nbe],["value",Abe]],n}return t}(DS),U2=function(e){Et(t,e);function t(r){var n=e.call(this,Qr({},{style:{type:"column"}},r))||this;return n.toggles=[["line",Pbe],["column",Obe]],n}return t}(DS),Rbe={reset:_be,speed:j2,backward:kbe,playPause:W2,forward:Sbe,selectionType:V2,chartType:U2,split:Cbe},Lbe=function(e){Et(t,e);function t(r){var n=e.call(this,Qr({},t.defaultOptions,r))||this;return n.background=n.appendChild(new Do({})),n.functions=n.appendChild(new Nn({})),n}return Object.defineProperty(t.prototype,"padding",{get:function(){return An(this.attributes.padding)},enumerable:!1,configurable:!0}),t.prototype.renderBackground=function(){var r=this.style,n=r.x,i=r.y,a=r.width,s=r.height,o=yt(this.attributes,"background");this.background.attr(ke({x:n,y:i,width:a,height:s},o))},t.prototype.renderFunctions=function(){var r=this,n,i=this.attributes,a=i.functions,s=i.iconSize,o=i.iconSpacing,l=i.x,u=i.y,c=i.width,f=i.height,h=i.align,d=X(this.padding,4),v=d[1],p=d[3],g=a.reduce(function(b,_){return b.length&&_.length?b.concat.apply(b,et(["split"],X(_),!1)):b.concat.apply(b,et([],X(_),!1))},[]),m=g.length*(s+o)-o,y={left:p+s/2,center:(c-m)/2+s/2,right:c-m-p-v+s/2}[h]||0;(n=this.speedSelect)===null||n===void 0||n.destroy(),this.functions.removeChildren(),g.forEach(function(b,_){var x,E=Rbe[b],w={x:l+_*(s+o)+y,y:u+f/2,size:s};if(E===j2?(w.speed=r.attributes.speed,w.onSelect=function(A){return r.handleFunctionChange(b,{value:A})}):[W2,V2,U2].includes(E)?(w.onChange=function(A){return r.handleFunctionChange(b,{value:A})},E===W2&&(w.type=r.attributes.state==="play"?"pause":"play"),E===V2&&(w.type=r.attributes.selectionType==="range"?"value":"range"),E===U2&&(w.type=r.attributes.chartType==="line"?"column":"line")):w.onClick=function(){return r.handleFunctionChange(b,{value:b})},E===j2){var S=(x=r.ownerDocument)===null||x===void 0?void 0:x.defaultView;S&&(r.speedSelect=new E({style:ke(ke({},w),{zIndex:100})}),S.appendChild(r.speedSelect))}else r.functions.appendChild(new E({style:w}))})},t.prototype.disconnectedCallback=function(){var r;e.prototype.disconnectedCallback.call(this),(r=this.speedSelect)===null||r===void 0||r.destroy()},t.prototype.render=function(){this.renderBackground(),this.renderFunctions()},t.prototype.handleFunctionChange=function(r,n){var i=this.attributes.onChange;i?.(r,n)},t.defaultOptions={style:{x:0,y:0,width:300,height:40,padding:0,align:"center",iconSize:25,iconSpacing:0,speed:1,state:"pause",chartType:"line",selectionType:"range",backgroundFill:"#fbfdff",backgroundStroke:"#ebedf0",functions:[["reset","speed"],["backward","playPause","forward"],["selectionType","chartType"]]}},t}(Or),Ibe=function(e){Et(t,e);function t(r){var n=e.call(this,Qr({},t.defaultOptions,r))||this;return n.bindEvents(),n}return t.prototype.bindEvents=function(){var r=this;this.addEventListener("mouseenter",function(){r.attr("lineWidth",Math.ceil(+(r.style.r||0)/2))}),this.addEventListener("mouseleave",function(){r.attr("lineWidth",0)})},t.defaultOptions={style:{r:5,fill:"#3f7cf7",lineWidth:0,stroke:"#3f7cf7",strokeOpacity:.5,cursor:"pointer"}},t}(Ku),Dbe=function(e){Et(t,e);function t(r){return e.call(this,Qr({},t.defaultOptions,r))||this}return t.prototype.renderBackground=function(){var r=this.attributes,n=r.x,i=r.y,a=r.width,s=r.height,o=yt(this.attributes,"background");He(this).maybeAppend("background","rect").attr("className","background").styles(ke({x:n-a/2,y:i-s/2,width:a,height:s},o))},t.prototype.renderIcon=function(){var r=this.attributes,n=r.x,i=r.y,a=r.iconSize,s=yt(this.attributes,"icon"),o=1,l=a/2;He(this).maybeAppend("icon-left-line","line").attr("className","icon-left-line").styles(ke({x1:n-o,y1:i-l,x2:n-o,y2:i+l},s)),He(this).maybeAppend("icon-right-line","line").attr("className","icon-right-line").styles(ke({x1:n+o,y1:i-l,x2:n+o,y2:i+l},s))},t.prototype.renderBorder=function(){var r=this.attributes,n=r.x,i=r.y,a=r.width,s=r.height,o=r.type,l=yt(this.attributes,"border"),u=o==="start"?+a/2:-a/2;He(this).maybeAppend("border","line").attr("className","border").styles(ke({x1:u+n,y1:i-s/2,x2:u+n,y2:i+s/2},l))},t.prototype.render=function(){this.renderBackground(),this.renderIcon(),this.renderBorder()},t.defaultOptions={style:{x:0,y:0,width:10,height:50,iconSize:10,type:"start",backgroundFill:"#fff",backgroundFillOpacity:.5,iconStroke:"#9a9a9a",iconLineWidth:1,borderStroke:"#e8e8e8",borderLineWidth:1}},t}(Or);function Fbe(e,t){return typeof e=="number"?jG(e):$be(e,t)}function $be(e,t){var r=new Date(e);switch(t){case"half-hour":case"hour":case"four-hour":return[0,6,12,18].includes(r.getHours())&&r.getMinutes()===0?ai(r,`HH:mm
YYYY-MM-DD`):ai(r,"HH:mm");case"half-day":return r.getHours()<12?`AM
`.concat(ai(r,"YYYY-MM-DD")):"PM";case"day":return[1,10,20].includes(r.getDate())?ai(r,`DD
YYYY-MM`):ai(r,"DD");case"week":return r.getDate()<=7?ai(r,`DD
YYYY-MM`):ai(r,"DD");case"month":return[0,6].includes(r.getMonth())?ai(r,`MM月
YYYY`):ai(r,"MM月");case"season":return[0].includes(r.getMonth())?ai(r,`MM月
YYYY`):ai(r,"MM月");case"year":return ai(r,"YYYY");default:return ai(r,"YYYY-MM-DD HH:mm")}}function jG(e){var t=String(Math.floor(e/3600)).padStart(2,"0"),r=String(Math.floor(e%3600/60)).padStart(2,"0"),n=String(Math.floor(e%60)).padStart(2,"0");return e<3600?"".concat(r,":").concat(n):"".concat(t,":").concat(r,":").concat(n)}var Vxe=function(e){Et(t,e);function t(r){var n=e.call(this,Qr({},t.defaultOptions,r))||this;n.axis=n.appendChild(new Z1e({style:{type:"linear",startPos:[0,0],endPos:[0,0],data:[],showArrow:!1,animate:!1}})),n.timeline=n.appendChild(new Zye({style:{onChange:function(f){n.handleSliderChange(f)}}})),n.controller=n.appendChild(new Lbe({})),n.states={},n.handleSliderChange=function(f){var h=function(){var d=n.states.values;return Array.isArray(d)?et([],X(d),!1):d}();n.setBySliderValues(f),n.dispatchOnChange(h)};var i=n.attributes,a=i.selectionType,s=i.chartType,o=i.speed,l=i.state,u=i.playMode,c=i.values;return n.states={chartType:s,playMode:u,selectionType:a,speed:o,state:l},n.setByTimebarValues(c),n}return Object.defineProperty(t.prototype,"data",{get:function(){var r=this.attributes.data,n=function(i,a){return i.time<a.time?-1:i.time>a.time?1:0};return r.sort(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"space",{get:function(){var r=this.attributes,n=r.x,i=r.y,a=r.width,s=r.height,o=r.type,l=r.controllerHeight,u=dr(+s-l,0,+s),c=new ei(n,i+ +s-l,+a,l),f,h=0;o==="chart"?(h=35,f=new ei(n,i+u-h,+a,h)):f=new ei;var d=o==="time"?10:u,v=new ei(n,i+(o==="time"?u:u-d),+a,d-h);return{axisBBox:f,controllerBBox:c,timelineBBox:v}},enumerable:!1,configurable:!0}),t.prototype.setBySliderValues=function(r){var n,i,a=this.data,s=X(Array.isArray(r)?r:[0,r],2),o=s[0],l=s[1],u=a.length,c=a[Math.floor(o*u)],f=a[Math.ceil(l*u)-(Array.isArray(r)?0:1)];this.states.values=[(n=c?.time)!==null&&n!==void 0?n:a[0].time,(i=f?.time)!==null&&i!==void 0?i:1/0]},t.prototype.setByTimebarValues=function(r){var n,i,a,s=this.data,o=X(Array.isArray(r)?r:[void 0,r],2),l=o[0],u=o[1],c=s.find(function(h){var d=h.time;return d===l}),f=s.find(function(h){var d=h.time;return d===u});this.states.values=[(n=c?.time)!==null&&n!==void 0?n:(i=s[0])===null||i===void 0?void 0:i.time,(a=f?.time)!==null&&a!==void 0?a:1/0]},t.prototype.setByIndex=function(r){var n,i,a,s,o=this.data,l=X(r,2),u=l[0],c=l[1];this.states.values=[(i=(n=o[u])===null||n===void 0?void 0:n.time)!==null&&i!==void 0?i:o[0].time,(s=(a=this.data[c])===null||a===void 0?void 0:a.time)!==null&&s!==void 0?s:1/0]},Object.defineProperty(t.prototype,"sliderValues",{get:function(){var r=this.states,n=r.values,i=r.selectionType,a=X(Array.isArray(n)?n:[void 0,n],2),s=a[0],o=a[1],l=this.data,u=l.length,c=i==="value",f=function(){var d=l.findIndex(function(v){var p=v.time;return p===s});return c?0:d>-1?d/u:0},h=function(){if(o===1/0)return 1;var d=l.findIndex(function(v){var p=v.time;return p===o});return d>-1?d/u:c?.5:1};return[f(),h()]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){var r=this.states,n=r.values,i=r.selectionType,a=X(Array.isArray(n)?n:[this.data[0].time,n],2),s=a[0],o=a[1];return i==="value"?o:[s,o]},enumerable:!1,configurable:!0}),t.prototype.getDatumByRatio=function(r){var n=this.data,i=n.length,a=Math.floor(r*(i-1));return n[a]},Object.defineProperty(t.prototype,"chartHandleIconShape",{get:function(){var r=this.states.selectionType,n=this.space.timelineBBox.height;return r==="range"?function(i){return new Dbe({style:{type:i,height:n,iconSize:n/6}})}:function(){return new lg({style:{x1:0,y1:-n/2,x2:0,y2:n/2,lineWidth:2,stroke:"#c8c8c8"}})}},enumerable:!1,configurable:!0}),t.prototype.getChartStyle=function(r){var n=this,i=r.x,a=r.y,s=r.width,o=r.height,l=this.states,u=l.selectionType,c=l.chartType,f=this.data,h=this.attributes,d=h.type,v=h.labelFormatter,p=yt(this.attributes,"chart");p.type;var g=xr(p,["type"]),m=u==="range";if(d==="time")return ke({handleIconShape:function(){return new Ibe({})},selectionFill:"#2e7ff8",selectionFillOpacity:1,showLabelOnInteraction:!0,handleLabelDy:m?-15:0,autoFitLabel:m,handleSpacing:m?-15:0,trackFill:"#edeeef",trackLength:s,trackOpacity:.5,trackRadius:o/2,trackSize:o/2,type:u,values:this.sliderValues,formatter:function(_){if(v)return v(_);var x=n.getDatumByRatio(_).time;return typeof x=="number"?jG(x):ai(x,"YYYY-MM-DD HH:mm:ss")},transform:"translate(".concat(i,", ").concat(a,")"),zIndex:1},g);var y=u==="range"?5:0,b=f.map(function(_){var x=_.value;return x});return ke({handleIconOffset:y,handleIconShape:this.chartHandleIconShape,selectionFill:"#fff",selectionFillOpacity:.5,selectionType:"invert",sparklineSpacing:.1,sparklineColumnLineWidth:0,sparklineColor:"#d4e5fd",sparklineAreaOpacity:1,sparklineAreaLineWidth:0,sparklineData:b,sparklineType:c,sparklineScale:.8,trackLength:s,trackSize:o,type:u,values:this.sliderValues,transform:"translate(".concat(i,", ").concat(a,")"),zIndex:1},g)},t.prototype.renderChart=function(r){r===void 0&&(r=this.space.timelineBBox),this.timeline.update(this.getChartStyle(r))},t.prototype.updateSelection=function(){this.timeline.setValues(this.sliderValues,!0),this.handleSliderChange(this.sliderValues)},t.prototype.getAxisStyle=function(r){var n=this.data,i=this.attributes,a=i.interval,s=i.labelFormatter,o=yt(this.attributes,"axis"),l=r.x,u=r.y,c=r.width,f=et(et([],X(n),!1),[{time:0}],!1).map(function(d,v,p){var g=d.time;return{label:"".concat(g),value:v/(p.length-1),time:g}}),h=ke({startPos:[l,u],endPos:[l+c,u],data:f,labelFilter:function(d,v){return v<f.length-1},labelFormatter:function(d){var v=d.time;return s?s(v):Fbe(v,a)}},o);return h},t.prototype.renderAxis=function(r){r===void 0&&(r=this.space.axisBBox);var n=this.attributes.type;n==="chart"&&this.axis.update(this.getAxisStyle(r))},t.prototype.renderController=function(r){r===void 0&&(r=this.space.controllerBBox);var n=this.attributes.type,i=this.states,a=i.state,s=i.speed,o=i.selectionType,l=i.chartType,u=yt(this.attributes,"controller"),c=this,f=ke(ke(ke({},r),{iconSize:20,speed:s,state:a,selectionType:o,chartType:l,onChange:function(h,d){var v=d.value;switch(h){case"reset":c.internalReset();break;case"speed":c.handleSpeedChange(v);break;case"backward":c.internalBackward();break;case"playPause":v==="play"?c.internalPlay():c.internalPause();break;case"forward":c.internalForward();break;case"selectionType":c.handleSelectionTypeChange(v);break;case"chartType":c.handleChartTypeChange(v);break}}}),u);n==="time"&&(f.functions=[["reset","speed"],["backward","playPause","forward"],["selectionType"]]),this.controller.update(f)},t.prototype.dispatchOnChange=function(r){var n=this.data,i=this.attributes.onChange,a=this.states,s=a.values,o=a.selectionType,l=X(s,2),u=l[0],c=l[1],f=c===1/0?n.at(-1).time:c,h=o==="range"?[u,f]:f,d=function(v,p){return Array.isArray(v)?Array.isArray(p)?v[0]===p[0]&&(v[1]===p[1]||v[1]===1/0||p[1]===1/0):!1:Array.isArray(p)?!1:v===p};(!r||!d(r,h))&&i?.(o==="range"?[u,f]:f)},t.prototype.internalReset=function(r){var n,i,a=this.states.selectionType;this.internalPause(),this.setBySliderValues(a==="range"?[0,1]:[0,0]),this.renderController(),this.updateSelection(),r||((i=(n=this.attributes)===null||n===void 0?void 0:n.onReset)===null||i===void 0||i.call(n),this.dispatchOnChange())},t.prototype.reset=function(){this.internalReset()},t.prototype.moveSelection=function(r,n){var i=this.data,a=i.length,s=this.states,o=s.values,l=s.selectionType,u=s.playMode,c=X(o,2),f=c[0],h=c[1],d=i.findIndex(function(b){var _=b.time;return _===f}),v=i.findIndex(function(b){var _=b.time;return _===h});v===-1&&(v=a);var p=r==="backward"?-1:1,g;l==="range"?u==="acc"?(g=[d,v+p],p===-1&&d===v&&(g=[d,a])):g=[d+p,v+p]:g=[d,v+p];var m=function(b){var _=X(b.sort(function(S,A){return S-A}),2),x=_[0],E=_[1],w=function(S){return dr(S,0,a)};return E>a?l==="value"?[0,0]:u==="acc"?[w(x),w(x)]:[0,w(E-x)]:x<0?u==="acc"?[0,w(E)]:[w(x+a-E),a]:[w(x),w(E)]},y=m(g);return this.setByIndex(y),this.updateSelection(),y},t.prototype.internalBackward=function(r){var n,i,a=this.moveSelection("backward",r);return r||((i=(n=this.attributes)===null||n===void 0?void 0:n.onBackward)===null||i===void 0||i.call(n),this.dispatchOnChange()),a},t.prototype.backward=function(){this.internalBackward()},t.prototype.internalPlay=function(r){var n=this,i,a,s=this.data,o=this.attributes.loop,l=this.states.speed,u=l===void 0?1:l;this.playInterval=window.setInterval(function(){var c=n.internalForward();c[1]===s.length&&!o&&(n.internalPause(),n.renderController())},1e3/u),this.states.state="play",!r&&((a=(i=this.attributes)===null||i===void 0?void 0:i.onPlay)===null||a===void 0||a.call(i))},t.prototype.play=function(){this.internalPlay()},t.prototype.internalPause=function(r){var n,i;clearInterval(this.playInterval),this.states.state="pause",!r&&((i=(n=this.attributes)===null||n===void 0?void 0:n.onPause)===null||i===void 0||i.call(n))},t.prototype.pause=function(){this.internalPause()},t.prototype.internalForward=function(r){var n,i,a=this.moveSelection("forward",r);return r||((i=(n=this.attributes)===null||n===void 0?void 0:n.onForward)===null||i===void 0||i.call(n),this.dispatchOnChange()),a},t.prototype.forward=function(){this.internalForward()},t.prototype.handleSpeedChange=function(r){var n,i;this.states.speed=r;var a=this.states.state;a==="play"&&(this.internalPause(!0),this.internalPlay(!0)),(i=(n=this.attributes)===null||n===void 0?void 0:n.onSpeedChange)===null||i===void 0||i.call(n,r)},t.prototype.handleSelectionTypeChange=function(r){var n,i;this.states.selectionType=r,this.renderChart(),(i=(n=this.attributes)===null||n===void 0?void 0:n.onSelectionTypeChange)===null||i===void 0||i.call(n,r)},t.prototype.handleChartTypeChange=function(r){var n,i;this.states.chartType=r,this.renderChart(),(i=(n=this.attributes)===null||n===void 0?void 0:n.onChartTypeChange)===null||i===void 0||i.call(n,r)},t.prototype.render=function(){var r=this.space,n=r.axisBBox,i=r.controllerBBox,a=r.timelineBBox;this.renderController(i),this.renderAxis(n),this.renderChart(a),this.states.state==="play"&&this.internalPlay()},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.internalPause(!0)},t.defaultOptions={style:{x:0,y:0,axisLabelFill:"#6e6e6e",axisLabelTextAlign:"left",axisLabelTextBaseline:"top",axisLabelTransform:"translate(5, -12)",axisLineLineWidth:1,axisLineStroke:"#cacdd1",axisTickLength:15,axisTickLineWidth:1,axisTickStroke:"#cacdd1",chartShowLabel:!1,chartType:"line",controllerAlign:"center",controllerHeight:40,data:[],interval:"day",loop:!1,playMode:"acc",selectionType:"range",type:"time"}},t}(Or);/*!
 * @antv/g-plugin-dragndrop
 * @description A G plugin for Drag n Drop implemented with PointerEvents
 * @version 2.0.35
 * @date 5/9/2025, 8:20:14 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var WG=function(){function e(t){ae(this,e),this.dragndropPluginOptions=t}return se(e,[{key:"apply",value:function(r){var n=this,i=r.renderingService,a=r.renderingContext,s=a.root.ownerDocument,o=s.defaultView,l=function(c){var f=c.target,h=f===s,d=h&&n.dragndropPluginOptions.isDocumentDraggable?s:f.closest&&f.closest("[draggable=true]");if(d){var v=!1,p=c.timeStamp,g=[c.clientX,c.clientY],m=null,y=[c.clientX,c.clientY],b=function(){var x=Io(Sn().mark(function E(w){var S,A,P,O,C,L;return Sn().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(v){F.next=8;break}if(S=w.timeStamp-p,A=si([w.clientX,w.clientY],g),!(S<=n.dragndropPluginOptions.dragstartTimeThreshold||A<=n.dragndropPluginOptions.dragstartDistanceThreshold)){F.next=5;break}return F.abrupt("return");case 5:w.type="dragstart",d.dispatchEvent(w),v=!0;case 8:if(w.type="drag",w.dx=w.clientX-y[0],w.dy=w.clientY-y[1],d.dispatchEvent(w),y=[w.clientX,w.clientY],h){F.next=21;break}return P=n.dragndropPluginOptions.overlap==="pointer"?[w.canvasX,w.canvasY]:f.getBounds().center,F.next=17,s.elementsFromPoint(P[0],P[1]);case 17:O=F.sent,C=O[O.indexOf(f)+1],L=C?.closest("[droppable=true]")||(n.dragndropPluginOptions.isDocumentDroppable?s:null),m!==L&&(m&&(w.type="dragleave",w.target=m,m.dispatchEvent(w)),L&&(w.type="dragenter",w.target=L,L.dispatchEvent(w)),m=L,m&&(w.type="dragover",w.target=m,m.dispatchEvent(w)));case 21:case"end":return F.stop()}},E)}));return function(w){return x.apply(this,arguments)}}();o.addEventListener("pointermove",b);var _=function(E){if(v){E.detail={preventClick:!0};var w=E.clone();m&&(w.type="drop",w.target=m,m.dispatchEvent(w)),w.type="dragend",d.dispatchEvent(w),v=!1}o.removeEventListener("pointermove",b)};f.addEventListener("pointerup",_,{once:!0}),f.addEventListener("pointerupoutside",_,{once:!0})}};i.hooks.init.tap(e.tag,function(){o.addEventListener("pointerdown",l)}),i.hooks.destroy.tap(e.tag,function(){o.removeEventListener("pointerdown",l)})}}])}();WG.tag="Dragndrop";var Uxe=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ae(this,t),r=Ye(this,t),r.name="dragndrop",r.options=n,r}return Xe(t,e),se(t,[{key:"init",value:function(){this.addRenderingPlugin(new WG(tt({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(n){Object.assign(this.plugins[0].dragndropPluginOptions,n)}}])}(Uo);const VG=1024;let Bbe=0;class rE{constructor(t,r){this.from=t,this.to=r}}class or{constructor(t={}){this.id=Bbe++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=Fa.match(t)),r=>{let n=t(r);return n===void 0?null:[this,n]}}}or.closedBy=new or({deserialize:e=>e.split(" ")});or.openedBy=new or({deserialize:e=>e.split(" ")});or.group=new or({deserialize:e=>e.split(" ")});or.isolate=new or({deserialize:e=>{if(e&&e!="rtl"&&e!="ltr"&&e!="auto")throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}});or.contextHash=new or({perNode:!0});or.lookAhead=new or({perNode:!0});or.mounted=new or({perNode:!0});class gp{constructor(t,r,n){this.tree=t,this.overlay=r,this.parser=n}static get(t){return t&&t.props&&t.props[or.mounted.id]}}const zbe=Object.create(null);class Fa{constructor(t,r,n,i=0){this.name=t,this.props=r,this.id=n,this.flags=i}static define(t){let r=t.props&&t.props.length?Object.create(null):zbe,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new Fa(t.name||"",r,t.id,n);if(t.props){for(let a of t.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[a[0].id]=a[1]}}return i}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let r=this.prop(or.group);return r?r.indexOf(t)>-1:!1}return this.id==t}static match(t){let r=Object.create(null);for(let n in t)for(let i of n.split(" "))r[i]=t[n];return n=>{for(let i=n.prop(or.group),a=-1;a<(i?i.length:0);a++){let s=r[a<0?n.name:i[a]];if(s)return s}}}}Fa.none=new Fa("",Object.create(null),0,8);class FS{constructor(t){this.types=t;for(let r=0;r<t.length;r++)if(t[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let r=[];for(let n of this.types){let i=null;for(let a of t){let s=a(n);s&&(i||(i=Object.assign({},n.props)),i[s[0].id]=s[1])}r.push(i?new Fa(n.name,i,n.id,n.flags):n)}return new FS(r)}}const jd=new WeakMap,gD=new WeakMap;var bn;(function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"})(bn||(bn={}));class yi{constructor(t,r,n,i,a){if(this.type=t,this.children=r,this.positions=n,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);for(let[s,o]of a)this.props[typeof s=="number"?s:s.id]=o}}toString(){let t=gp.get(this);if(t&&!t.overlay)return t.tree.toString();let r="";for(let n of this.children){let i=n.toString();i&&(r&&(r+=","),r+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(t=0){return new Y2(this.topNode,t)}cursorAt(t,r=0,n=0){let i=jd.get(this)||this.topNode,a=new Y2(i);return a.moveTo(t,r),jd.set(this,a._tree),a}get topNode(){return new aa(this,0,0,null)}resolve(t,r=0){let n=Jf(jd.get(this)||this.topNode,t,r,!1);return jd.set(this,n),n}resolveInner(t,r=0){let n=Jf(gD.get(this)||this.topNode,t,r,!0);return gD.set(this,n),n}resolveStack(t,r=0){return jbe(this,t,r)}iterate(t){let{enter:r,leave:n,from:i=0,to:a=this.length}=t,s=t.mode||0,o=(s&bn.IncludeAnonymous)>0;for(let l=this.cursor(s|bn.IncludeAnonymous);;){let u=!1;if(l.from<=a&&l.to>=i&&(!o&&l.type.isAnonymous||r(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&n&&(o||!l.type.isAnonymous)&&n(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let r in this.props)t.push([+r,this.props[r]]);return t}balance(t={}){return this.children.length<=8?this:zS(Fa.none,this.children,this.positions,0,this.children.length,0,this.length,(r,n,i)=>new yi(this.type,r,n,i,this.propValues),t.makeTree||((r,n,i)=>new yi(Fa.none,r,n,i)))}static build(t){return Wbe(t)}}yi.empty=new yi(Fa.none,[],[],0);class $S{constructor(t,r){this.buffer=t,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new $S(this.buffer,this.index)}}class $o{constructor(t,r,n){this.buffer=t,this.length=r,this.set=n}get type(){return Fa.none}toString(){let t=[];for(let r=0;r<this.buffer.length;)t.push(this.childString(r)),r=this.buffer[r+3];return t.join(",")}childString(t){let r=this.buffer[t],n=this.buffer[t+3],i=this.set.types[r],a=i.name;if(/\W/.test(a)&&!i.isError&&(a=JSON.stringify(a)),t+=4,n==t)return a;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return a+"("+s.join(",")+")"}findChild(t,r,n,i,a){let{buffer:s}=this,o=-1;for(let l=t;l!=r&&!(UG(a,i,s[l+1],s[l+2])&&(o=l,n>0));l=s[l+3]);return o}slice(t,r,n){let i=this.buffer,a=new Uint16Array(r-t),s=0;for(let o=t,l=0;o<r;){a[l++]=i[o++],a[l++]=i[o++]-n;let u=a[l++]=i[o++]-n;a[l++]=i[o++]-t,s=Math.max(s,u)}return new $o(a,s,this.set)}}function UG(e,t,r,n){switch(e){case-2:return r<t;case-1:return n>=t&&r<t;case 0:return r<t&&n>t;case 1:return r<=t&&n>t;case 2:return n>t;case 4:return!0}}function Jf(e,t,r,n){for(var i;e.from==e.to||(r<1?e.from>=t:e.from>t)||(r>-1?e.to<=t:e.to<t);){let s=!n&&e instanceof aa&&e.index<0?null:e.parent;if(!s)return e;e=s}let a=n?0:bn.IgnoreOverlays;if(n)for(let s=e,o=s.parent;o;s=o,o=s.parent)s instanceof aa&&s.index<0&&((i=o.enter(t,r,a))===null||i===void 0?void 0:i.from)!=s.from&&(e=o);for(;;){let s=e.enter(t,r,a);if(!s)return e;e=s}}class HG{cursor(t=0){return new Y2(this,t)}getChild(t,r=null,n=null){let i=mD(this,t,r,n);return i.length?i[0]:null}getChildren(t,r=null,n=null){return mD(this,t,r,n)}resolve(t,r=0){return Jf(this,t,r,!1)}resolveInner(t,r=0){return Jf(this,t,r,!0)}matchContext(t){return H2(this.parent,t)}enterUnfinishedNodesBefore(t){let r=this.childBefore(t),n=this;for(;r;){let i=r.lastChild;if(!i||i.to!=r.to)break;i.type.isError&&i.from==i.to?(n=r,r=i.prevSibling):r=i}return n}get node(){return this}get next(){return this.parent}}class aa extends HG{constructor(t,r,n,i){super(),this._tree=t,this.from=r,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,r,n,i,a=0){for(let s=this;;){for(let{children:o,positions:l}=s._tree,u=r>0?o.length:-1;t!=u;t+=r){let c=o[t],f=l[t]+s.from;if(UG(i,n,f,f+c.length)){if(c instanceof $o){if(a&bn.ExcludeBuffers)continue;let h=c.findChild(0,c.buffer.length,r,n-f,i);if(h>-1)return new Ao(new Gbe(s,c,t,f),null,h)}else if(a&bn.IncludeAnonymous||!c.type.isAnonymous||BS(c)){let h;if(!(a&bn.IgnoreMounts)&&(h=gp.get(c))&&!h.overlay)return new aa(h.tree,f,t,s);let d=new aa(c,f,t,s);return a&bn.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(r<0?c.children.length-1:0,r,n,i)}}}if(a&bn.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?t=s.index+r:t=r<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,r,n=0){let i;if(!(n&bn.IgnoreOverlays)&&(i=gp.get(this._tree))&&i.overlay){let a=t-this.from;for(let{from:s,to:o}of i.overlay)if((r>0?s<=a:s<a)&&(r<0?o>=a:o>a))return new aa(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,r,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function mD(e,t,r,n){let i=e.cursor(),a=[];if(!i.firstChild())return a;if(r!=null){for(let s=!1;!s;)if(s=i.type.is(r),!i.nextSibling())return a}for(;;){if(n!=null&&i.type.is(n))return a;if(i.type.is(t)&&a.push(i.node),!i.nextSibling())return n==null?a:[]}}function H2(e,t,r=t.length-1){for(let n=e;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[r]&&t[r]!=n.name)return!1;r--}}return!0}class Gbe{constructor(t,r,n,i){this.parent=t,this.buffer=r,this.index=n,this.start=i}}class Ao extends HG{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,r,n){super(),this.context=t,this._parent=r,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,r,n){let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],t,r-this.context.start,n);return a<0?null:new Ao(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,r,n=0){if(n&bn.ExcludeBuffers)return null;let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],r>0?1:-1,t-this.context.start,r);return a<0?null:new Ao(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,r=t.buffer[this.index+3];return r<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Ao(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new Ao(this.context,this._parent,t.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],r=[],{buffer:n}=this.context,i=this.index+4,a=n.buffer[this.index+3];if(a>i){let s=n.buffer[this.index+1];t.push(n.slice(i,a,s)),r.push(0)}return new yi(this.type,t,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function YG(e){if(!e.length)return null;let t=0,r=e[0];for(let a=1;a<e.length;a++){let s=e[a];(s.from>r.from||s.to<r.to)&&(r=s,t=a)}let n=r instanceof aa&&r.index<0?null:r.parent,i=e.slice();return n?i[t]=n:i.splice(t,1),new qbe(i,r)}class qbe{constructor(t,r){this.heads=t,this.node=r}get next(){return YG(this.heads)}}function jbe(e,t,r){let n=e.resolveInner(t,r),i=null;for(let a=n instanceof aa?n:n.context.parent;a;a=a.parent)if(a.index<0){let s=a.parent;(i||(i=[n])).push(s.resolve(t,r)),a=s}else{let s=gp.get(a.tree);if(s&&s.overlay&&s.overlay[0].from<=t&&s.overlay[s.overlay.length-1].to>=t){let o=new aa(s.tree,s.overlay[0].from+a.from,-1,a);(i||(i=[n])).push(Jf(o,t,r,!1))}}return i?YG(i):n}class Y2{get name(){return this.type.name}constructor(t,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof aa)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let n=t._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,r){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=r||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return t?t instanceof aa?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,r,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,r,n,this.mode));let{buffer:i}=this.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],t,r-this.buffer.start,n);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,r,n=this.mode){return this.buffer?n&bn.ExcludeBuffers?!1:this.enterChild(1,t,r):this.yield(this._tree.enter(t,r,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&bn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&bn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:r}=this.buffer,n=this.stack.length-1;if(t<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(r.findChild(i,this.index,-1,0,4))}else{let i=r.buffer[this.index+3];if(i<(n<0?r.buffer.length:r.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let r,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(i.buffer.buffer[a+3]<this.index)return!1;({index:r,parent:n}=i)}else({index:r,_parent:n}=this._tree);for(;n;{index:r,_parent:n}=n)if(r>-1)for(let a=r+t,s=t<0?-1:n._tree.children.length;a!=s;a+=t){let o=n._tree.children[a];if(this.mode&bn.IncludeAnonymous||o instanceof $o||!o.type.isAnonymous||BS(o))return!1}return!0}move(t,r){if(r&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,r=0){for(;(this.from==this.to||(r<1?this.from>=t:this.from>t)||(r>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,r););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,r=null,n=0;if(t&&t.context==this.buffer)e:for(let i=this.index,a=this.stack.length;a>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;r=s,n=a+1;break e}i=this.stack[--a]}for(let i=n;i<this.stack.length;i++)r=new Ao(this.buffer,r,this.stack[i]);return this.bufferNode=new Ao(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,r){for(let n=0;;){let i=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&r&&r(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return H2(this.node.parent,t);let{buffer:r}=this.buffer,{types:n}=r.set;for(let i=t.length-1,a=this.stack.length-1;i>=0;a--){if(a<0)return H2(this._tree,t,i);let s=n[r.buffer[this.stack[a]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function BS(e){return e.children.some(t=>t instanceof $o||!t.type.isAnonymous||BS(t))}function Wbe(e){var t;let{buffer:r,nodeSet:n,maxBufferLength:i=VG,reused:a=[],minRepeatType:s=n.types.length}=e,o=Array.isArray(r)?new $S(r,r.length):r,l=n.types,u=0,c=0;function f(x,E,w,S,A,P){let{id:O,start:C,end:L,size:I}=o,F=c,U=u;for(;I<0;)if(o.next(),I==-1){let xe=a[O];w.push(xe),S.push(C-x);return}else if(I==-3){u=O;return}else if(I==-4){c=O;return}else throw new RangeError(`Unrecognized record size: ${I}`);let G=l[O],z,Z,ge=C-x;if(L-C<=i&&(Z=g(o.pos-E,A))){let xe=new Uint16Array(Z.size-Z.skip),ve=o.pos-Z.size,je=xe.length;for(;o.pos>ve;)je=m(Z.start,xe,je);z=new $o(xe,L-Z.start,n),ge=Z.start-x}else{let xe=o.pos-I;o.next();let ve=[],je=[],te=O>=s?O:-1,Y=0,fe=L;for(;o.pos>xe;)te>=0&&o.id==te&&o.size>=0?(o.end<=fe-i&&(v(ve,je,C,Y,o.end,fe,te,F,U),Y=ve.length,fe=o.end),o.next()):P>2500?h(C,xe,ve,je):f(C,xe,ve,je,te,P+1);if(te>=0&&Y>0&&Y<ve.length&&v(ve,je,C,Y,C,fe,te,F,U),ve.reverse(),je.reverse(),te>-1&&Y>0){let Q=d(G,U);z=zS(G,ve,je,0,ve.length,0,L-C,Q,Q)}else z=p(G,ve,je,L-C,F-L,U)}w.push(z),S.push(ge)}function h(x,E,w,S){let A=[],P=0,O=-1;for(;o.pos>E;){let{id:C,start:L,end:I,size:F}=o;if(F>4)o.next();else{if(O>-1&&L<O)break;O<0&&(O=I-i),A.push(C,L,I),P++,o.next()}}if(P){let C=new Uint16Array(P*4),L=A[A.length-2];for(let I=A.length-3,F=0;I>=0;I-=3)C[F++]=A[I],C[F++]=A[I+1]-L,C[F++]=A[I+2]-L,C[F++]=F;w.push(new $o(C,A[2]-L,n)),S.push(L-x)}}function d(x,E){return(w,S,A)=>{let P=0,O=w.length-1,C,L;if(O>=0&&(C=w[O])instanceof yi){if(!O&&C.type==x&&C.length==A)return C;(L=C.prop(or.lookAhead))&&(P=S[O]+C.length+L)}return p(x,w,S,A,P,E)}}function v(x,E,w,S,A,P,O,C,L){let I=[],F=[];for(;x.length>S;)I.push(x.pop()),F.push(E.pop()+w-A);x.push(p(n.types[O],I,F,P-A,C-P,L)),E.push(A-w)}function p(x,E,w,S,A,P,O){if(P){let C=[or.contextHash,P];O=O?[C].concat(O):[C]}if(A>25){let C=[or.lookAhead,A];O=O?[C].concat(O):[C]}return new yi(x,E,w,S,O)}function g(x,E){let w=o.fork(),S=0,A=0,P=0,O=w.end-i,C={size:0,start:0,skip:0};e:for(let L=w.pos-x;w.pos>L;){let I=w.size;if(w.id==E&&I>=0){C.size=S,C.start=A,C.skip=P,P+=4,S+=4,w.next();continue}let F=w.pos-I;if(I<0||F<L||w.start<O)break;let U=w.id>=s?4:0,G=w.start;for(w.next();w.pos>F;){if(w.size<0)if(w.size==-3)U+=4;else break e;else w.id>=s&&(U+=4);w.next()}A=G,S+=I,P+=U}return(E<0||S==x)&&(C.size=S,C.start=A,C.skip=P),C.size>4?C:void 0}function m(x,E,w){let{id:S,start:A,end:P,size:O}=o;if(o.next(),O>=0&&S<s){let C=w;if(O>4){let L=o.pos-(O-4);for(;o.pos>L;)w=m(x,E,w)}E[--w]=C,E[--w]=P-x,E[--w]=A-x,E[--w]=S}else O==-3?u=S:O==-4&&(c=S);return w}let y=[],b=[];for(;o.pos>0;)f(e.start||0,e.bufferStart||0,y,b,-1,0);let _=(t=e.length)!==null&&t!==void 0?t:y.length?b[0]+y[0].length:0;return new yi(l[e.topID],y.reverse(),b.reverse(),_)}const yD=new WeakMap;function cv(e,t){if(!e.isAnonymous||t instanceof $o||t.type!=e)return 1;let r=yD.get(t);if(r==null){r=1;for(let n of t.children){if(n.type!=e||!(n instanceof yi)){r=1;break}r+=cv(e,n)}yD.set(t,r)}return r}function zS(e,t,r,n,i,a,s,o,l){let u=0;for(let v=n;v<i;v++)u+=cv(e,t[v]);let c=Math.ceil(u*1.5/8),f=[],h=[];function d(v,p,g,m,y){for(let b=g;b<m;){let _=b,x=p[b],E=cv(e,v[b]);for(b++;b<m;b++){let w=cv(e,v[b]);if(E+w>=c)break;E+=w}if(b==_+1){if(E>c){let w=v[_];d(w.children,w.positions,0,w.children.length,p[_]+y);continue}f.push(v[_])}else{let w=p[b-1]+v[b-1].length-x;f.push(zS(e,v,p,_,b,x,w,null,l))}h.push(x+y-a)}}return d(t,r,n,i,0),(o||l)(f,h,s)}class X2{constructor(t,r,n,i,a=!1,s=!1){this.from=t,this.to=r,this.tree=n,this.offset=i,this.open=(a?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,r=[],n=!1){let i=[new X2(0,t.length,t,0,!1,n)];for(let a of r)a.to>t.length&&i.push(a);return i}static applyChanges(t,r,n=128){if(!r.length)return t;let i=[],a=1,s=t.length?t[0]:null;for(let o=0,l=0,u=0;;o++){let c=o<r.length?r[o]:null,f=c?c.fromA:1e9;if(f-l>=n)for(;s&&s.from<f;){let h=s;if(l>=h.from||f<=h.to||u){let d=Math.max(h.from,l)-u,v=Math.min(h.to,f)-u;h=d>=v?null:new X2(d,v,h.tree,h.offset+u,o>0,!!c)}if(h&&i.push(h),s.to>f)break;s=a<t.length?t[a++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}class Vbe{startParse(t,r,n){return typeof t=="string"&&(t=new Ube(t)),n=n?n.length?n.map(i=>new rE(i.from,i.to)):[new rE(0,0)]:[new rE(0,t.length)],this.createParse(t,r||[],n)}parse(t,r,n){let i=this.startParse(t,r,n);for(;;){let a=i.advance();if(a)return a}}}class Ube{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,r){return this.string.slice(t,r)}}new or({perNode:!0});var bD={};class mp{constructor(t,r,n,i,a,s,o,l,u,c=0,f){this.p=t,this.stack=r,this.state=n,this.reducePos=i,this.pos=a,this.score=s,this.buffer=o,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=f}toString(){return`[${this.stack.filter((t,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,r,n=0){let i=t.parser.context;return new mp(t,[],r,n,n,0,[],0,i?new wD(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var r;let n=t>>19,i=t&65535,{parser:a}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let o=a.dynamicPrecedence(i);if(o&&(this.score+=o),n==0){this.pushState(a.getGoto(this.state,i,!0),this.reducePos),i<a.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,s?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(n-1)*3-(t&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,c=this.reducePos-u;c>=2e3&&!(!((r=this.p.parser.nodeSet.types[i])===null||r===void 0)&&r.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=c));let f=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-f;if(i<a.minRepeatTerm||t&131072){let d=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,d,h+4,!0)}if(t&262144)this.state=this.stack[l];else{let d=this.stack[l-3];this.state=a.getGoto(d,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,u)}storeNode(t,r,n,i=4,a=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,o=this.buffer.length;if(o==0&&s.parent&&(o=s.bufferBase-s.parent.bufferBase,s=s.parent),o>0&&s.buffer[o-4]==0&&s.buffer[o-1]>-1){if(r==n)return;if(s.buffer[o-2]>=r){s.buffer[o-2]=n;return}}}if(!a||this.pos==n)this.buffer.push(t,r,n,i);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0){let o=!1;for(let l=s;l>0&&this.buffer[l-2]>n;l-=4)if(this.buffer[l-1]>=0){o=!0;break}if(o)for(;s>0&&this.buffer[s-2]>n;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,i>4&&(i-=4)}this.buffer[s]=t,this.buffer[s+1]=r,this.buffer[s+2]=n,this.buffer[s+3]=i}}shift(t,r,n,i){if(t&131072)this.pushState(t&65535,this.pos);else if((t&262144)==0){let a=t,{parser:s}=this.p;(i>this.pos||r<=s.maxNode)&&(this.pos=i,s.stateFlag(a,1)||(this.reducePos=i)),this.pushState(a,n),this.shiftContext(r,n),r<=s.maxNode&&this.buffer.push(r,n,i,4)}else this.pos=i,this.shiftContext(r,n),r<=this.p.parser.maxNode&&this.buffer.push(r,n,i,4)}apply(t,r,n,i){t&65536?this.reduce(t):this.shift(t,r,n,i)}useNode(t,r){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let i=this.pos;this.reducePos=this.pos=i+t.length,this.pushState(r,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,r=t.buffer.length;for(;r>0&&t.buffer[r-2]>t.reducePos;)r-=4;let n=t.buffer.slice(r),i=t.bufferBase+r;for(;t&&i==t.bufferBase;)t=t.parent;return new mp(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,t)}recoverByDelete(t,r){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,r,4),this.storeNode(0,this.pos,r,n?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(t){for(let r=new Hbe(this);;){let n=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,t);if(n==0)return!1;if((n&65536)==0)return!0;r.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let i=[];for(let a=0,s;a<r.length;a+=2)(s=r[a+1])!=this.state&&this.p.parser.hasAction(s,t)&&i.push(r[a],s);if(this.stack.length<120)for(let a=0;i.length<8&&a<r.length;a+=2){let s=r[a+1];i.some((o,l)=>l&1&&o==s)||i.push(r[a],s)}r=i}let n=[];for(let i=0;i<r.length&&n.length<4;i+=2){let a=r[i+1];if(a==this.state)continue;let s=this.split();s.pushState(a,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(r[i],this.pos),s.reducePos=this.pos,s.score-=200,n.push(s)}return n}forceReduce(){let{parser:t}=this.p,r=t.stateSlot(this.state,5);if((r&65536)==0)return!1;if(!t.validAction(this.state,r)){let n=r>>19,i=r&65535,a=this.stack.length-n*3;if(a<0||t.getGoto(this.stack[a],i,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;r=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:t}=this.p,r=[],n=(i,a)=>{if(!r.includes(i))return r.push(i),t.allActions(i,s=>{if(!(s&393216))if(s&65536){let o=(s>>19)-a;if(o>1){let l=s&65535,u=this.stack.length-o*3;if(u>=0&&t.getGoto(this.stack[u],l,!1)>=0)return o<<19|65536|l}}else{let o=n(s,a+1);if(o!=null)return o}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=t.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(r)))}reduceContext(t,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(r)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let r=new wD(this.curContext.tracker,t);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class wD{constructor(t,r){this.tracker=t,this.context=r,this.hash=t.strict?t.hash(r):0}}class Hbe{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let r=t&65535,n=t>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=i}}class yp{constructor(t,r,n){this.stack=t,this.pos=r,this.index=n,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,r=t.bufferBase+t.buffer.length){return new yp(t,r,r-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new yp(this.stack,this.pos,this.index)}}function Wd(e,t=Uint16Array){if(typeof e!="string")return e;let r=null;for(let n=0,i=0;n<e.length;){let a=0;for(;;){let s=e.charCodeAt(n++),o=!1;if(s==126){a=65535;break}s>=92&&s--,s>=34&&s--;let l=s-32;if(l>=46&&(l-=46,o=!0),a+=l,o)break;a*=46}r?r[i++]=a:r=new t(a)}return r}class fv{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const xD=new fv;class Ybe{constructor(t,r){this.input=t,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=xD,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(t,r){let n=this.range,i=this.rangeIndex,a=this.pos+t;for(;a<n.from;){if(!i)return null;let s=this.ranges[--i];a-=n.from-s.to,n=s}for(;r<0?a>n.to:a>=n.to;){if(i==this.ranges.length-1)return null;let s=this.ranges[++i];a+=s.from-n.to,n=s}return a}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let r of this.ranges)if(r.to>t)return Math.max(t,r.from);return this.end}peek(t){let r=this.chunkOff+t,n,i;if(r>=0&&r<this.chunk.length)n=this.pos+t,i=this.chunk.charCodeAt(r);else{let a=this.resolveOffset(t,1);if(a==null)return-1;if(n=a,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let s=this.rangeIndex,o=this.range;for(;o.to<=n;)o=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-n)),i=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),i}acceptToken(t,r=0){let n=r?this.resolveOffset(r,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}acceptTokenTo(t,r){this.token.value=t,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),r=this.pos+t.length;this.chunk=r>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,r){if(r?(this.token=r,r.start=t,r.lookAhead=t+1,r.value=r.extended=-1):this.token=xD,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,r){if(t>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,r-this.chunkPos);if(t>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,r-this.chunk2Pos);if(t>=this.range.from&&r<=this.range.to)return this.input.read(t,r);let n="";for(let i of this.ranges){if(i.from>=r)break;i.to>t&&(n+=this.input.read(Math.max(i.from,t),Math.min(i.to,r)))}return n}}class Nu{constructor(t,r){this.data=t,this.id=r}token(t,r){let{parser:n}=r.p;Xbe(this.data,t,r,this.id,n.data,n.tokenPrecTable)}}Nu.prototype.contextual=Nu.prototype.fallback=Nu.prototype.extend=!1;Nu.prototype.fallback=Nu.prototype.extend=!1;function Xbe(e,t,r,n,i,a){let s=0,o=1<<n,{dialect:l}=r.p.parser;e:for(;(o&e[s])!=0;){let u=e[s+1];for(let d=s+3;d<u;d+=2)if((e[d+1]&o)>0){let v=e[d];if(l.allows(v)&&(t.token.value==-1||t.token.value==v||Kbe(v,t.token.value,i,a))){t.acceptToken(v);break}}let c=t.next,f=0,h=e[s+2];if(t.next<0&&h>f&&e[u+h*3-3]==65535){s=e[u+h*3-1];continue e}for(;f<h;){let d=f+h>>1,v=u+d+(d<<1),p=e[v],g=e[v+1]||65536;if(c<p)h=d;else if(c>=g)f=d+1;else{s=e[v+2],t.advance();continue e}}break}}function ED(e,t,r){for(let n=t,i;(i=e[n])!=65535;n++)if(i==r)return n-t;return-1}function Kbe(e,t,r,n){let i=ED(r,n,t);return i<0||ED(r,n,e)<i}const Ti=typeof process<"u"&&bD&&/\bparse\b/.test(bD.LOG);let nE=null;function _D(e,t,r){let n=e.cursor(bn.IncludeAnonymous);for(n.moveTo(t);;)if(!(r<0?n.childBefore(t):n.childAfter(t)))for(;;){if((r<0?n.to<t:n.from>t)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,t-25)):Math.min(e.length,Math.max(n.from+1,t+25));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:e.length}}class Zbe{constructor(t,r){this.fragments=t,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?_D(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?_D(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let n=this.trees[r],i=this.index[r];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=n.children[i],s=this.start[r]+n.positions[i];if(s>t)return this.nextStart=s,null;if(a instanceof yi){if(s==t){if(s<this.safeFrom)return null;let o=s+a.length;if(o<=this.safeTo){let l=a.prop(or.lookAhead);if(!l||o+l<this.fragment.to)return a}}this.index[r]++,s+a.length>=Math.max(this.safeFrom,t)&&(this.trees.push(a),this.start.push(s),this.index.push(0))}else this.index[r]++,this.nextStart=s+a.length}}}class Qbe{constructor(t,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(n=>new fv)}getActions(t){let r=0,n=null,{parser:i}=t.p,{tokenizers:a}=i,s=i.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,l=0;for(let u=0;u<a.length;u++){if((1<<u&s)==0)continue;let c=a[u],f=this.tokens[u];if(!(n&&!c.fallback)&&((c.contextual||f.start!=t.pos||f.mask!=s||f.context!=o)&&(this.updateCachedToken(f,c,t),f.mask=s,f.context=o),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let h=r;if(f.extended>-1&&(r=this.addActions(t,f.extended,f.end,r)),r=this.addActions(t,f.value,f.end,r),!c.extend&&(n=f,r>h))break}}for(;this.actions.length>r;)this.actions.pop();return l&&t.setLookAhead(l),!n&&t.pos==this.stream.end&&(n=new fv,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,r=this.addActions(t,n.value,n.end,r)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let r=new fv,{pos:n,p:i}=t;return r.start=n,r.end=Math.min(n+1,i.stream.end),r.value=n==i.stream.end?i.parser.eofTerm:0,r}updateCachedToken(t,r,n){let i=this.stream.clipPos(n.pos);if(r.token(this.stream.reset(i,t),n),t.value>-1){let{parser:a}=n.p;for(let s=0;s<a.specialized.length;s++)if(a.specialized[s]==t.value){let o=a.specializers[s](this.stream.read(t.start,t.end),n);if(o>=0&&n.p.parser.dialect.allows(o>>1)){(o&1)==0?t.value=o>>1:t.extended=o>>1;break}}}else t.value=0,t.end=this.stream.clipPos(i+1)}putAction(t,r,n,i){for(let a=0;a<i;a+=3)if(this.actions[a]==t)return i;return this.actions[i++]=t,this.actions[i++]=r,this.actions[i++]=n,i}addActions(t,r,n,i){let{state:a}=t,{parser:s}=t.p,{data:o}=s;for(let l=0;l<2;l++)for(let u=s.stateSlot(a,l?2:1);;u+=3){if(o[u]==65535)if(o[u+1]==1)u=Rs(o,u+2);else{i==0&&o[u+1]==2&&(i=this.putAction(Rs(o,u+2),r,n,i));break}o[u]==r&&(i=this.putAction(Rs(o,u+1),r,n,i))}return i}}class Jbe{constructor(t,r,n,i){this.parser=t,this.input=r,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Ybe(r,i),this.tokens=new Qbe(t,this.stream),this.topTerm=t.top[1];let{from:a}=i[0];this.stacks=[mp.start(this,t.top[0],a)],this.fragments=n.length&&this.stream.end-a>t.bufferLength*4?new Zbe(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,r=this.minStackPos,n=this.stacks=[],i,a;if(this.bigReductionCount>300&&t.length==1){let[s]=t;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<t.length;s++){let o=t[s];for(;;){if(this.tokens.mainToken=null,o.pos>r)n.push(o);else{if(this.advanceStack(o,n,t))continue;{i||(i=[],a=[]),i.push(o);let l=this.tokens.getMainToken(o);a.push(l.value,l.end)}}break}}if(!n.length){let s=i&&twe(i);if(s)return Ti&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw Ti&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&i){let s=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,a,n);if(s)return Ti&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(n.length>s)for(n.sort((o,l)=>l.score-o.score);n.length>s;)n.pop();n.some(o=>o.reducePos>r)&&this.recovering--}else if(n.length>1){e:for(let s=0;s<n.length-1;s++){let o=n[s];for(let l=s+1;l<n.length;l++){let u=n[l];if(o.sameState(u)||o.buffer.length>500&&u.buffer.length>500)if((o.score-u.score||o.buffer.length-u.buffer.length)>0)n.splice(l--,1);else{n.splice(s--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let s=1;s<n.length;s++)n[s].pos<this.minStackPos&&(this.minStackPos=n[s].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,r,n){let i=t.pos,{parser:a}=this,s=Ti?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let u=t.curContext&&t.curContext.tracker.strict,c=u?t.curContext.hash:0;for(let f=this.fragments.nodeAt(i);f;){let h=this.parser.nodeSet.types[f.type.id]==f.type?a.getGoto(t.state,f.type.id):-1;if(h>-1&&f.length&&(!u||(f.prop(or.contextHash)||0)==c))return t.useNode(f,h),Ti&&console.log(s+this.stackID(t)+` (via reuse of ${a.getName(f.type.id)})`),!0;if(!(f instanceof yi)||f.children.length==0||f.positions[0]>0)break;let d=f.children[0];if(d instanceof yi&&f.positions[0]==0)f=d;else break}}let o=a.stateSlot(t.state,4);if(o>0)return t.reduce(o),Ti&&console.log(s+this.stackID(t)+` (via always-reduce ${a.getName(o&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let l=this.tokens.getActions(t);for(let u=0;u<l.length;){let c=l[u++],f=l[u++],h=l[u++],d=u==l.length||!n,v=d?t:t.split(),p=this.tokens.mainToken;if(v.apply(c,f,p?p.start:v.pos,h),Ti&&console.log(s+this.stackID(v)+` (via ${(c&65536)==0?"shift":`reduce of ${a.getName(c&65535)}`} for ${a.getName(f)} @ ${i}${v==t?"":", split"})`),d)return!0;v.pos>i?r.push(v):n.push(v)}return!1}advanceFully(t,r){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return kD(t,r),!0}}runRecovery(t,r,n){let i=null,a=!1;for(let s=0;s<t.length;s++){let o=t[s],l=r[s<<1],u=r[(s<<1)+1],c=Ti?this.stackID(o)+" -> ":"";if(o.deadEnd&&(a||(a=!0,o.restart(),Ti&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))))continue;let f=o.split(),h=c;for(let d=0;f.forceReduce()&&d<10&&(Ti&&console.log(h+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,n));d++)Ti&&(h=this.stackID(f)+" -> ");for(let d of o.recoverByInsert(l))Ti&&console.log(c+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,n);this.stream.end>o.pos?(u==o.pos&&(u++,l=0),o.recoverByDelete(l,u),Ti&&console.log(c+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),kD(o,n)):(!i||i.score<o.score)&&(i=o)}return i}stackToTree(t){return t.close(),yi.build({buffer:yp.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let r=(nE||(nE=new WeakMap)).get(t);return r||nE.set(t,r=String.fromCodePoint(this.nextStackID++)),r+t}}function kD(e,t){for(let r=0;r<t.length;r++){let n=t[r];if(n.pos==e.pos&&n.sameState(e)){t[r].score<e.score&&(t[r]=e);return}}t.push(e)}class ewe{constructor(t,r,n){this.source=t,this.flags=r,this.disabled=n}allows(t){return!this.disabled||this.disabled[t]==0}}class bp extends Vbe{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let r=t.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let o=0;o<t.repeatNodeCount;o++)r.push("");let n=Object.keys(t.topRules).map(o=>t.topRules[o][1]),i=[];for(let o=0;o<r.length;o++)i.push([]);function a(o,l,u){i[o].push([l,l.deserialize(String(u))])}if(t.nodeProps)for(let o of t.nodeProps){let l=o[0];typeof l=="string"&&(l=or[l]);for(let u=1;u<o.length;){let c=o[u++];if(c>=0)a(c,l,o[u++]);else{let f=o[u+-c];for(let h=-c;h>0;h--)a(o[u++],l,f);u++}}}this.nodeSet=new FS(r.map((o,l)=>Fa.define({name:l>=this.minRepeatTerm?void 0:o,id:l,props:i[l],top:n.indexOf(l)>-1,error:l==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(l)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=VG;let s=Wd(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(SD),this.states=Wd(t.states,Uint32Array),this.data=Wd(t.stateData),this.goto=Wd(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(o=>typeof o=="number"?new Nu(s,o):o),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,r,n){let i=new Jbe(this,t,r,n);for(let a of this.wrappers)i=a(i,t,r,n);return i}getGoto(t,r,n=!1){let i=this.goto;if(r>=i[0])return-1;for(let a=i[r+1];;){let s=i[a++],o=s&1,l=i[a++];if(o&&n)return l;for(let u=a+(s>>1);a<u;a++)if(i[a]==t)return l;if(o)return-1}}hasAction(t,r){let n=this.data;for(let i=0;i<2;i++)for(let a=this.stateSlot(t,i?2:1),s;;a+=3){if((s=n[a])==65535)if(n[a+1]==1)s=n[a=Rs(n,a+2)];else{if(n[a+1]==2)return Rs(n,a+2);break}if(s==r||s==0)return Rs(n,a+1)}return 0}stateSlot(t,r){return this.states[t*6+r]}stateFlag(t,r){return(this.stateSlot(t,0)&r)>0}validAction(t,r){return!!this.allActions(t,n=>n==r?!0:null)}allActions(t,r){let n=this.stateSlot(t,4),i=n?r(n):void 0;for(let a=this.stateSlot(t,1);i==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=Rs(this.data,a+2);else break;i=r(Rs(this.data,a+1))}return i}nextStates(t){let r=[];for(let n=this.stateSlot(t,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Rs(this.data,n+2);else break;if((this.data[n+2]&1)==0){let i=this.data[n+1];r.some((a,s)=>s&1&&a==i)||r.push(this.data[n],i)}}return r}configure(t){let r=Object.assign(Object.create(bp.prototype),this);if(t.props&&(r.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError(`Invalid top rule name ${t.top}`);r.top=n}return t.tokenizers&&(r.tokenizers=this.tokenizers.map(n=>{let i=t.tokenizers.find(a=>a.from==n);return i?i.to:n})),t.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((n,i)=>{let a=t.specializers.find(o=>o.from==n.external);if(!a)return n;let s=Object.assign(Object.assign({},n),{external:a.to});return r.specializers[i]=SD(s),s})),t.contextTracker&&(r.context=t.contextTracker),t.dialect&&(r.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(r.strict=t.strict),t.wrap&&(r.wrappers=r.wrappers.concat(t.wrap)),t.bufferLength!=null&&(r.bufferLength=t.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let r=this.dynamicPrecedences;return r==null?0:r[t]||0}parseDialect(t){let r=Object.keys(this.dialects),n=r.map(()=>!1);if(t)for(let a of t.split(" ")){let s=r.indexOf(a);s>=0&&(n[s]=!0)}let i=null;for(let a=0;a<r.length;a++)if(!n[a])for(let s=this.dialects[r[a]],o;(o=this.data[s++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[o]=1;return new ewe(t,n,i)}static deserialize(t){return new bp(t)}}function Rs(e,t){return e[t]|e[t+1]<<16}function twe(e){let t=null;for(let r of e){let n=r.p.stoppedAt;(r.pos==r.p.stream.end||n!=null&&r.pos>n)&&r.p.parser.stateFlag(r.state,2)&&(!t||t.score<r.score)&&(t=r)}return t}function SD(e){if(e.external){let t=e.extend?1:0;return(r,n)=>e.external(r,n)<<1|t}return e.get}let rwe=0;class Ji{constructor(t,r,n,i){this.name=t,this.set=r,this.base=n,this.modified=i,this.id=rwe++}toString(){let{name:t}=this;for(let r of this.modified)r.name&&(t=`${r.name}(${t})`);return t}static define(t,r){let n=typeof t=="string"?t:"?";if(t instanceof Ji&&(r=t),r?.base)throw new Error("Can not derive from a modified tag");let i=new Ji(n,[],null,[]);if(i.set.push(i),r)for(let a of r.set)i.set.push(a);return i}static defineModifier(t){let r=new wp(t);return n=>n.modified.indexOf(r)>-1?n:wp.get(n.base||n,n.modified.concat(r).sort((i,a)=>i.id-a.id))}}let nwe=0;class wp{constructor(t){this.name=t,this.instances=[],this.id=nwe++}static get(t,r){if(!r.length)return t;let n=r[0].instances.find(o=>o.base==t&&iwe(r,o.modified));if(n)return n;let i=[],a=new Ji(t.name,i,t,r);for(let o of r)o.instances.push(a);let s=awe(r);for(let o of t.set)if(!o.modified.length)for(let l of s)i.push(wp.get(o,l));return a}}function iwe(e,t){return e.length==t.length&&e.every((r,n)=>r==t[n])}function awe(e){let t=[[]];for(let r=0;r<e.length;r++)for(let n=0,i=t.length;n<i;n++)t.push(t[n].concat(e[r]));return t.sort((r,n)=>n.length-r.length)}function swe(e){let t=Object.create(null);for(let r in e){let n=e[r];Array.isArray(n)||(n=[n]);for(let i of r.split(" "))if(i){let a=[],s=2,o=i;for(let f=0;;){if(o=="..."&&f>0&&f+3==i.length){s=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!h)throw new RangeError("Invalid path: "+i);if(a.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),f+=h[0].length,f==i.length)break;let d=i[f++];if(f==i.length&&d=="!"){s=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);o=i.slice(f)}let l=a.length-1,u=a[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new xp(n,s,l>0?a.slice(0,l):null);t[u]=c.sort(t[u])}}return XG.add(t)}const XG=new or;class xp{constructor(t,r,n,i){this.tags=t,this.mode=r,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}xp.empty=new xp([],2,null);function owe(e,t){let r=Object.create(null);for(let a of e)if(!Array.isArray(a.tag))r[a.tag.id]=a.class;else for(let s of a.tag)r[s.id]=a.class;let{scope:n,all:i=null}=t||{};return{style:a=>{let s=i;for(let o of a)for(let l of o.set){let u=r[l.id];if(u){s=s?s+" "+u:u;break}}return s},scope:n}}function lwe(e,t){let r=null;for(let n of e){let i=n.style(t);i&&(r=r?r+" "+i:i)}return r}function Hxe(e,t,r,n=0,i=e.length){let a=new uwe(n,Array.isArray(t)?t:[t],r);a.highlightRange(e.cursor(),n,i,"",a.highlighters),a.flush(i)}class uwe{constructor(t,r,n){this.at=t,this.highlighters=r,this.span=n,this.class=""}startSpan(t,r){r!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=r)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,r,n,i,a){let{type:s,from:o,to:l}=t;if(o>=n||l<=r)return;s.isTop&&(a=this.highlighters.filter(d=>!d.scope||d.scope(s)));let u=i,c=cwe(t)||xp.empty,f=lwe(a,c.tags);if(f&&(u&&(u+=" "),u+=f,c.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(r,o),u),c.opaque)return;let h=t.tree&&t.tree.prop(or.mounted);if(h&&h.overlay){let d=t.node.enter(h.overlay[0].from+o,1),v=this.highlighters.filter(g=>!g.scope||g.scope(h.tree.type)),p=t.firstChild();for(let g=0,m=o;;g++){let y=g<h.overlay.length?h.overlay[g]:null,b=y?y.from+o:l,_=Math.max(r,m),x=Math.min(n,b);if(_<x&&p)for(;t.from<x&&(this.highlightRange(t,_,x,i,a),this.startSpan(Math.min(x,t.to),u),!(t.to>=b||!t.nextSibling())););if(!y||b>n)break;m=y.to+o,m>r&&(this.highlightRange(d.cursor(),Math.max(r,y.from+o),Math.min(n,m),"",v),this.startSpan(Math.min(n,m),u))}p&&t.parent()}else if(t.firstChild()){h&&(i="");do if(!(t.to<=r)){if(t.from>=n)break;this.highlightRange(t,r,n,i,a),this.startSpan(Math.min(n,t.to),u)}while(t.nextSibling());t.parent()}}}function cwe(e){let t=e.type.prop(XG);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}const qe=Ji.define,Vd=qe(),yo=qe(),TD=qe(yo),MD=qe(yo),bo=qe(),Ud=qe(bo),iE=qe(bo),ts=qe(),cl=qe(ts),Za=qe(),Qa=qe(),K2=qe(),Fc=qe(K2),Hd=qe(),pt={comment:Vd,lineComment:qe(Vd),blockComment:qe(Vd),docComment:qe(Vd),name:yo,variableName:qe(yo),typeName:TD,tagName:qe(TD),propertyName:MD,attributeName:qe(MD),className:qe(yo),labelName:qe(yo),namespace:qe(yo),macroName:qe(yo),literal:bo,string:Ud,docString:qe(Ud),character:qe(Ud),attributeValue:qe(Ud),number:iE,integer:qe(iE),float:qe(iE),bool:qe(bo),regexp:qe(bo),escape:qe(bo),color:qe(bo),url:qe(bo),keyword:Za,self:qe(Za),null:qe(Za),atom:qe(Za),unit:qe(Za),modifier:qe(Za),operatorKeyword:qe(Za),controlKeyword:qe(Za),definitionKeyword:qe(Za),moduleKeyword:qe(Za),operator:Qa,derefOperator:qe(Qa),arithmeticOperator:qe(Qa),logicOperator:qe(Qa),bitwiseOperator:qe(Qa),compareOperator:qe(Qa),updateOperator:qe(Qa),definitionOperator:qe(Qa),typeOperator:qe(Qa),controlOperator:qe(Qa),punctuation:K2,separator:qe(K2),bracket:Fc,angleBracket:qe(Fc),squareBracket:qe(Fc),paren:qe(Fc),brace:qe(Fc),content:ts,heading:cl,heading1:qe(cl),heading2:qe(cl),heading3:qe(cl),heading4:qe(cl),heading5:qe(cl),heading6:qe(cl),contentSeparator:qe(ts),list:qe(ts),quote:qe(ts),emphasis:qe(ts),strong:qe(ts),link:qe(ts),monospace:qe(ts),strikethrough:qe(ts),inserted:qe(),deleted:qe(),changed:qe(),invalid:qe(),meta:Hd,documentMeta:qe(Hd),annotation:qe(Hd),processingInstruction:qe(Hd),definition:Ji.defineModifier("definition"),constant:Ji.defineModifier("constant"),function:Ji.defineModifier("function"),standard:Ji.defineModifier("standard"),local:Ji.defineModifier("local"),special:Ji.defineModifier("special")};for(let e in pt){let t=pt[e];t instanceof Ji&&(t.name=e)}owe([{tag:pt.link,class:"tok-link"},{tag:pt.heading,class:"tok-heading"},{tag:pt.emphasis,class:"tok-emphasis"},{tag:pt.strong,class:"tok-strong"},{tag:pt.keyword,class:"tok-keyword"},{tag:pt.atom,class:"tok-atom"},{tag:pt.bool,class:"tok-bool"},{tag:pt.url,class:"tok-url"},{tag:pt.labelName,class:"tok-labelName"},{tag:pt.inserted,class:"tok-inserted"},{tag:pt.deleted,class:"tok-deleted"},{tag:pt.literal,class:"tok-literal"},{tag:pt.string,class:"tok-string"},{tag:pt.number,class:"tok-number"},{tag:[pt.regexp,pt.escape,pt.special(pt.string)],class:"tok-string2"},{tag:pt.variableName,class:"tok-variableName"},{tag:pt.local(pt.variableName),class:"tok-variableName tok-local"},{tag:pt.definition(pt.variableName),class:"tok-variableName tok-definition"},{tag:pt.special(pt.variableName),class:"tok-variableName2"},{tag:pt.definition(pt.propertyName),class:"tok-propertyName tok-definition"},{tag:pt.typeName,class:"tok-typeName"},{tag:pt.namespace,class:"tok-namespace"},{tag:pt.className,class:"tok-className"},{tag:pt.macroName,class:"tok-macroName"},{tag:pt.propertyName,class:"tok-propertyName"},{tag:pt.operator,class:"tok-operator"},{tag:pt.comment,class:"tok-comment"},{tag:pt.meta,class:"tok-meta"},{tag:pt.invalid,class:"tok-invalid"},{tag:pt.punctuation,class:"tok-punctuation"}]);const fwe=swe({String:pt.string,Number:pt.number,"True False":pt.bool,PropertyName:pt.propertyName,Null:pt.null,", :":pt.separator,"[ ]":pt.squareBracket,"{ }":pt.brace}),Yxe=bp.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[fwe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});let Z2=[],KG=[];(()=>{let e="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=0,r=0;t<e.length;t++)(t%2?KG:Z2).push(r=r+e[t])})();function hwe(e){if(e<768)return!1;for(let t=0,r=Z2.length;;){let n=t+r>>1;if(e<Z2[n])r=n;else if(e>=KG[n])t=n+1;else return!0;if(t==r)return!1}}function ND(e){return e>=127462&&e<=127487}const AD=8205;function Xxe(e,t,r=!0,n=!0){return(r?ZG:dwe)(e,t,n)}function ZG(e,t,r){if(t==e.length)return t;t&&QG(e.charCodeAt(t))&&JG(e.charCodeAt(t-1))&&t--;let n=aE(e,t);for(t+=PD(n);t<e.length;){let i=aE(e,t);if(n==AD||i==AD||r&&hwe(i))t+=PD(i),n=i;else if(ND(i)){let a=0,s=t-2;for(;s>=0&&ND(aE(e,s));)a++,s-=2;if(a%2==0)break;t+=2}else break}return t}function dwe(e,t,r){for(;t>0;){let n=ZG(e,t-2,r);if(n<t)return n;t--}return 0}function aE(e,t){let r=e.charCodeAt(t);if(!JG(r)||t+1==e.length)return r;let n=e.charCodeAt(t+1);return QG(n)?(r-55296<<10)+(n-56320)+65536:r}function QG(e){return e>=56320&&e<57344}function JG(e){return e>=55296&&e<56320}function PD(e){return e<65536?1:2}const Q2="ͼ",OD=typeof Symbol>"u"?"__"+Q2:Symbol.for(Q2),J2=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),CD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Kxe{constructor(t,r){this.rules=[];let{finish:n}=r||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function a(s,o,l,u){let c=[],f=/^@(\w+)\b/.exec(s[0]),h=f&&f[1]=="keyframes";if(f&&o==null)return l.push(s[0]+";");for(let d in o){let v=o[d];if(/&/.test(d))a(d.split(/,\s*/).map(p=>s.map(g=>p.replace(/&/,g))).reduce((p,g)=>p.concat(g)),v,l);else if(v&&typeof v=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");a(i(d),v,c,h)}else v!=null&&c.push(d.replace(/_.*/,"").replace(/[A-Z]/g,p=>"-"+p.toLowerCase())+": "+v+";")}(c.length||h)&&l.push((n&&!f&&!u?s.map(n):s).join(", ")+" {"+c.join(" ")+"}")}for(let s in t)a(i(s),t[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=CD[OD]||1;return CD[OD]=t+1,Q2+t.toString(36)}static mount(t,r,n){let i=t[J2],a=n&&n.nonce;i?a&&i.setNonce(a):i=new vwe(t,a),i.mount(Array.isArray(r)?r:[r],t)}}let RD=new Map;class vwe{constructor(t,r){let n=t.ownerDocument||t,i=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let a=RD.get(n);if(a)return t[J2]=a;this.sheet=new i.CSSStyleSheet,RD.set(n,this)}else this.styleTag=n.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],t[J2]=this}mount(t,r){let n=this.sheet,i=0,a=0;for(let s=0;s<t.length;s++){let o=t[s],l=this.modules.indexOf(o);if(l<a&&l>-1&&(this.modules.splice(l,1),a--,l=-1),l==-1){if(this.modules.splice(a++,0,o),n)for(let u=0;u<o.rules.length;u++)n.insertRule(o.rules[u],i++)}else{for(;a<l;)i+=this.modules[a++].rules.length;i+=o.rules.length,a++}}if(n)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let o=r.head||r;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}var ql={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ep={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},pwe=typeof navigator<"u"&&/Mac/.test(navigator.platform),gwe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var wn=0;wn<10;wn++)ql[48+wn]=ql[96+wn]=String(wn);for(var wn=1;wn<=24;wn++)ql[wn+111]="F"+wn;for(var wn=65;wn<=90;wn++)ql[wn]=String.fromCharCode(wn+32),Ep[wn]=String.fromCharCode(wn);for(var sE in ql)Ep.hasOwnProperty(sE)||(Ep[sE]=ql[sE]);function Zxe(e){var t=pwe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||gwe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",r=!t&&e.key||(e.shiftKey?Ep:ql)[e.keyCode]||e.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function Qxe(){var e=arguments[0];typeof e=="string"&&(e=document.createElement(e));var t=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n];typeof i=="string"?e.setAttribute(n,i):i!=null&&(e[n]=i)}t++}for(;t<arguments.length;t++)eq(e,arguments[t]);return e}function eq(e,t){if(typeof t=="string")e.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)e.appendChild(t);else if(Array.isArray(t))for(var r=0;r<t.length;r++)eq(e,t[r]);else throw new RangeError("Unsupported child node: "+t)}const Jxe={__name:"splitpanes",props:{horizontal:{type:Boolean,default:!1},pushOtherPanes:{type:Boolean,default:!0},maximizePanes:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean,default:!1}},emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click","splitter-dblclick"],setup(e,{emit:t}){const r=t,n=e,i=Kj(),a=Hr([]),s=Dt(()=>a.value.reduce((Q,oe)=>(Q[~~oe.id]=oe)&&Q,{})),o=Dt(()=>a.value.length),l=Hr(null),u=Hr(!1),c=Hr({mouseDown:!1,dragging:!1,activeSplitter:null,cursorOffset:0}),f=Hr({splitter:null,timeoutId:null}),h=Dt(()=>({[`splitpanes splitpanes--${n.horizontal?"horizontal":"vertical"}`]:!0,"splitpanes--dragging":c.value.dragging})),d=()=>{document.addEventListener("mousemove",g,{passive:!1}),document.addEventListener("mouseup",m),"ontouchstart"in window&&(document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("touchend",m))},v=()=>{document.removeEventListener("mousemove",g,{passive:!1}),document.removeEventListener("mouseup",m),"ontouchstart"in window&&(document.removeEventListener("touchmove",g,{passive:!1}),document.removeEventListener("touchend",m))},p=(Q,oe)=>{const ye=Q.target.closest(".splitpanes__splitter");if(ye){const{left:we,top:Ae}=ye.getBoundingClientRect(),{clientX:H,clientY:K}="ontouchstart"in window&&Q.touches?Q.touches[0]:Q;c.value.cursorOffset=n.horizontal?K-Ae:H-we}d(),c.value.mouseDown=!0,c.value.activeSplitter=oe},g=Q=>{c.value.mouseDown&&(Q.preventDefault(),c.value.dragging=!0,requestAnimationFrame(()=>{w(x(Q)),Y("resize",{event:Q},!0)}))},m=Q=>{c.value.dragging&&(window.getSelection().removeAllRanges(),Y("resized",{event:Q},!0)),c.value.mouseDown=!1,c.value.activeSplitter=null,setTimeout(()=>{c.value.dragging=!1,v()},100)},y=(Q,oe)=>{"ontouchstart"in window&&(Q.preventDefault(),f.value.splitter===oe?(clearTimeout(f.value.timeoutId),f.value.timeoutId=null,b(Q,oe),f.value.splitter=null):(f.value.splitter=oe,f.value.timeoutId=setTimeout(()=>f.value.splitter=null,500))),c.value.dragging||Y("splitter-click",{event:Q,index:oe},!0)},b=(Q,oe)=>{if(Y("splitter-dblclick",{event:Q,index:oe},!0),n.maximizePanes){let ye=0;a.value=a.value.map((we,Ae)=>(we.size=Ae===oe?we.max:we.min,Ae!==oe&&(ye+=we.min),we)),a.value[oe].size-=ye,Y("pane-maximize",{event:Q,index:oe,pane:a.value[oe]}),Y("resized",{event:Q,index:oe},!0)}},_=(Q,oe)=>{Y("pane-click",{event:Q,index:s.value[oe].index,pane:s.value[oe]})},x=Q=>{const oe=l.value.getBoundingClientRect(),{clientX:ye,clientY:we}="ontouchstart"in window&&Q.touches?Q.touches[0]:Q;return{x:ye-(n.horizontal?0:c.value.cursorOffset)-oe.left,y:we-(n.horizontal?c.value.cursorOffset:0)-oe.top}},E=Q=>{Q=Q[n.horizontal?"y":"x"];const oe=l.value[n.horizontal?"clientHeight":"clientWidth"];return n.rtl&&!n.horizontal&&(Q=oe-Q),Q*100/oe},w=Q=>{const oe=c.value.activeSplitter;let ye={prevPanesSize:A(oe),nextPanesSize:P(oe),prevReachedMinPanes:0,nextReachedMinPanes:0};const we=0+(n.pushOtherPanes?0:ye.prevPanesSize),Ae=100-(n.pushOtherPanes?0:ye.nextPanesSize),H=Math.max(Math.min(E(Q),Ae),we);let K=[oe,oe+1],ce=a.value[K[0]]||null,de=a.value[K[1]]||null;const _e=ce.max<100&&H>=ce.max+ye.prevPanesSize,pe=de.max<100&&H<=100-(de.max+P(oe+1));if(_e||pe){_e?(ce.size=ce.max,de.size=Math.max(100-ce.max-ye.prevPanesSize-ye.nextPanesSize,0)):(ce.size=Math.max(100-de.max-ye.prevPanesSize-P(oe+1),0),de.size=de.max);return}if(n.pushOtherPanes){const V=S(ye,H);if(!V)return;({sums:ye,panesToResize:K}=V),ce=a.value[K[0]]||null,de=a.value[K[1]]||null}ce!==null&&(ce.size=Math.min(Math.max(H-ye.prevPanesSize-ye.prevReachedMinPanes,ce.min),ce.max)),de!==null&&(de.size=Math.min(Math.max(100-H-ye.nextPanesSize-ye.nextReachedMinPanes,de.min),de.max))},S=(Q,oe)=>{const ye=c.value.activeSplitter,we=[ye,ye+1];return oe<Q.prevPanesSize+a.value[we[0]].min&&(we[0]=O(ye).index,Q.prevReachedMinPanes=0,we[0]<ye&&a.value.forEach((Ae,H)=>{H>we[0]&&H<=ye&&(Ae.size=Ae.min,Q.prevReachedMinPanes+=Ae.min)}),Q.prevPanesSize=A(we[0]),we[0]===void 0)?(Q.prevReachedMinPanes=0,a.value[0].size=a.value[0].min,a.value.forEach((Ae,H)=>{H>0&&H<=ye&&(Ae.size=Ae.min,Q.prevReachedMinPanes+=Ae.min)}),a.value[we[1]].size=100-Q.prevReachedMinPanes-a.value[0].min-Q.prevPanesSize-Q.nextPanesSize,null):oe>100-Q.nextPanesSize-a.value[we[1]].min&&(we[1]=C(ye).index,Q.nextReachedMinPanes=0,we[1]>ye+1&&a.value.forEach((Ae,H)=>{H>ye&&H<we[1]&&(Ae.size=Ae.min,Q.nextReachedMinPanes+=Ae.min)}),Q.nextPanesSize=P(we[1]-1),we[1]===void 0)?(Q.nextReachedMinPanes=0,a.value.forEach((Ae,H)=>{H<o.value-1&&H>=ye+1&&(Ae.size=Ae.min,Q.nextReachedMinPanes+=Ae.min)}),a.value[we[0]].size=100-Q.prevPanesSize-P(we[0]-1),null):{sums:Q,panesToResize:we}},A=Q=>a.value.reduce((oe,ye,we)=>oe+(we<Q?ye.size:0),0),P=Q=>a.value.reduce((oe,ye,we)=>oe+(we>Q+1?ye.size:0),0),O=Q=>[...a.value].reverse().find(oe=>oe.index<Q&&oe.size>oe.min)||{},C=Q=>a.value.find(oe=>oe.index>Q+1&&oe.size>oe.min)||{},L=()=>{var Q;const oe=Array.from(((Q=l.value)==null?void 0:Q.children)||[]);for(const ye of oe){const we=ye.classList.contains("splitpanes__pane"),Ae=ye.classList.contains("splitpanes__splitter");!we&&!Ae&&(ye.remove(),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))}},I=(Q,oe,ye=!1)=>{const we=Q-1,Ae=document.createElement("div");Ae.classList.add("splitpanes__splitter"),ye||(Ae.onmousedown=H=>p(H,we),typeof window<"u"&&"ontouchstart"in window&&(Ae.ontouchstart=H=>p(H,we)),Ae.onclick=H=>y(H,we+1)),Ae.ondblclick=H=>b(H,we+1),oe.parentNode.insertBefore(Ae,oe)},F=Q=>{Q.onmousedown=void 0,Q.onclick=void 0,Q.ondblclick=void 0,Q.remove()},U=()=>{var Q;const oe=Array.from(((Q=l.value)==null?void 0:Q.children)||[]);for(const we of oe)we.className.includes("splitpanes__splitter")&&F(we);let ye=0;for(const we of oe)we.className.includes("splitpanes__pane")&&(!ye&&n.firstSplitter?I(ye,we,!0):ye&&I(ye,we),ye++)},G=({uid:Q,...oe})=>{const ye=s.value[Q];for(const[we,Ae]of Object.entries(oe))ye[we]=Ae},z=Q=>{var oe;let ye=-1;Array.from(((oe=l.value)==null?void 0:oe.children)||[]).some(we=>(we.className.includes("splitpanes__pane")&&ye++,we.isSameNode(Q.el))),a.value.splice(ye,0,{...Q,index:ye}),a.value.forEach((we,Ae)=>we.index=Ae),u.value&&Po(()=>{U(),ge({addedPane:a.value[ye]}),Y("pane-add",{pane:a.value[ye]})})},Z=Q=>{const oe=a.value.findIndex(we=>we.id===Q);a.value[oe].el=null;const ye=a.value.splice(oe,1)[0];a.value.forEach((we,Ae)=>we.index=Ae),Po(()=>{U(),Y("pane-remove",{pane:ye}),ge({removedPane:{...ye}})})},ge=(Q={})=>{!Q.addedPane&&!Q.removedPane?ve():a.value.some(oe=>oe.givenSize!==null||oe.min||oe.max<100)?je(Q):xe(),u.value&&Y("resized")},xe=()=>{const Q=100/o.value;let oe=0;const ye=[],we=[];for(const Ae of a.value)Ae.size=Math.max(Math.min(Q,Ae.max),Ae.min),oe-=Ae.size,Ae.size>=Ae.max&&ye.push(Ae.id),Ae.size<=Ae.min&&we.push(Ae.id);oe>.1&&te(oe,ye,we)},ve=()=>{let Q=100;const oe=[],ye=[];let we=0;for(const H of a.value)Q-=H.size,H.givenSize!==null&&we++,H.size>=H.max&&oe.push(H.id),H.size<=H.min&&ye.push(H.id);let Ae=100;if(Q>.1){for(const H of a.value)H.givenSize===null&&(H.size=Math.max(Math.min(Q/(o.value-we),H.max),H.min)),Ae-=H.size;Ae>.1&&te(Ae,oe,ye)}},je=({addedPane:Q,removedPane:oe}={})=>{let ye=100/o.value,we=0;const Ae=[],H=[];(Q?.givenSize??null)!==null&&(ye=(100-Q.givenSize)/(o.value-1));for(const K of a.value)we-=K.size,K.size>=K.max&&Ae.push(K.id),K.size<=K.min&&H.push(K.id);if(!(Math.abs(we)<.1)){for(const K of a.value)Q?.givenSize!==null&&Q?.id===K.id||(K.size=Math.max(Math.min(ye,K.max),K.min)),we-=K.size,K.size>=K.max&&Ae.push(K.id),K.size<=K.min&&H.push(K.id);we>.1&&te(we,Ae,H)}},te=(Q,oe,ye)=>{let we;Q>0?we=Q/(o.value-oe.length):we=Q/(o.value-ye.length),a.value.forEach((Ae,H)=>{if(Q>0&&!oe.includes(Ae.id)){const K=Math.max(Math.min(Ae.size+we,Ae.max),Ae.min),ce=K-Ae.size;Q-=ce,Ae.size=K}else if(!ye.includes(Ae.id)){const K=Math.max(Math.min(Ae.size+we,Ae.max),Ae.min),ce=K-Ae.size;Q-=ce,Ae.size=K}}),Math.abs(Q)>.1&&Po(()=>{u.value&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})},Y=(Q,oe=void 0,ye=!1)=>{const we=oe?.index??c.value.activeSplitter??null;r(Q,{...oe,...we!==null&&{index:we},...ye&&we!==null&&{prevPane:a.value[we-(n.firstSplitter?1:0)],nextPane:a.value[we+(n.firstSplitter?0:1)]},panes:a.value.map(Ae=>({min:Ae.min,max:Ae.max,size:Ae.size}))})};Gr(()=>n.firstSplitter,()=>U()),qo(()=>{L(),U(),ge(),Y("ready"),u.value=!0}),Fp(()=>u.value=!1);const fe=()=>{var Q;return Gp("div",{ref:l,class:h.value},(Q=i.default)==null?void 0:Q.call(i))};return fo("panes",a),fo("indexedPanes",s),fo("horizontal",Dt(()=>n.horizontal)),fo("requestUpdate",G),fo("onPaneAdd",z),fo("onPaneRemove",Z),fo("onPaneClick",_),(Q,oe)=>(Sf(),_v(Uj(fe)))}},eEe={__name:"pane",props:{size:{type:[Number,String]},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},setup(e){var t;const r=e,n=Oi("requestUpdate"),i=Oi("onPaneAdd"),a=Oi("horizontal"),s=Oi("onPaneRemove"),o=Oi("onPaneClick"),l=(t=qn())==null?void 0:t.uid,u=Oi("indexedPanes"),c=Dt(()=>u.value[l]),f=Hr(null),h=Dt(()=>{const g=isNaN(r.size)||r.size===void 0?0:parseFloat(r.size);return Math.max(Math.min(g,v.value),d.value)}),d=Dt(()=>{const g=parseFloat(r.minSize);return isNaN(g)?0:g}),v=Dt(()=>{const g=parseFloat(r.maxSize);return isNaN(g)?100:g}),p=Dt(()=>{var g;return`${a.value?"height":"width"}: ${(g=c.value)==null?void 0:g.size}%`});return Gr(()=>h.value,g=>n({uid:l,size:g})),Gr(()=>d.value,g=>n({uid:l,min:g})),Gr(()=>v.value,g=>n({uid:l,max:g})),qo(()=>{i({id:l,el:f.value,min:d.value,max:v.value,givenSize:r.size===void 0?null:h.value,size:h.value})}),Fp(()=>s(l)),(g,m)=>(Sf(),T9("div",{ref_key:"paneEl",ref:f,class:"splitpanes__pane",onClick:m[0]||(m[0]=y=>th(o)(y,g._.uid)),style:Pp(p.value)},[Yj(g.$slots,"default")],4))}};export{Cs as $,Yn as A,dr as B,S4 as C,wee as D,Rr as E,h2 as F,dn as G,og as H,Dk as I,Tee as J,cG as K,Gxe as L,Tn as M,Kn as N,zv as O,dh as P,bz as Q,Do as R,Sxe as S,ug as T,jxe as U,lg as V,xi as W,xxe as X,Vxe as Y,Wxe as Z,BN as _,ZE as a,fo as a$,Uxe as a0,Bie as a1,mxe as a2,Nn as a3,zxe as a4,Mde as a5,Ki as a6,Fk as a7,Bxe as a8,$xe as a9,swe as aA,Yxe as aB,Qxe as aC,Ip as aD,di as aE,Oi as aF,Dt as aG,Ct as aH,qo as aI,Gr as aJ,Fp as aK,Gp as aL,qn as aM,Hr as aN,th as aO,nxe as aP,Ar as aQ,nk as aR,gr as aS,Qwe as aT,txe as aU,Kt as aV,Wt as aW,Twe as aX,mt as aY,ot as aZ,sxe as a_,Axe as aa,kde as ab,Fxe as ac,Dxe as ad,fde as ae,xS as af,XP as ag,Cxe as ah,Ixe as ai,Lxe as aj,Rxe as ak,Oxe as al,Xxe as am,Kxe as an,Zxe as ao,ql as ap,Ep as aq,yi as ar,or as as,owe as at,Hxe as au,bn as av,X2 as aw,Vbe as ax,Fa as ay,pt as az,gs as b,Mf as b$,zi as b0,Na as b1,T9 as b2,Sf as b3,Yj as b4,P9 as b5,ik as b6,d5 as b7,axe as b8,oxe as b9,Bj as bA,fxe as bB,Mwe as bC,Nwe as bD,Pl as bE,Fj as bF,pxe as bG,Lp as bH,Owe as bI,A9 as bJ,xj as bK,rxe as bL,wwe as bM,s5 as bN,h_ as bO,cxe as bP,xwe as bQ,dxe as bR,lxe as bS,Jwe as bT,WF as bU,uxe as bV,exe as bW,Awe as bX,Qp as bY,Rwe as bZ,rF as b_,MF as ba,__ as bb,lf as bc,Po as bd,Ewe as be,Kj as bf,hxe as bg,Swe as bh,$n as bi,c_ as bj,_v as bk,Oj as bl,Uj as bm,Cwe as bn,Z8 as bo,Pp as bp,mwe as bq,Co as br,Bn as bs,ah as bt,Yr as bu,du as bv,X$ as bw,vxe as bx,ixe as by,ywe as bz,rt as c,Lwe as c0,Dwe as c1,Bwe as c2,qwe as c3,Vwe as c4,Ywe as c5,Wwe as c6,Hwe as c7,MH as c8,Uwe as c9,jwe as ca,C_ as cb,Xwe as cc,zwe as cd,bwe as ce,Pwe as cf,Kwe as cg,_we as ch,kwe as ci,Jxe as cj,eEe as ck,$we as cl,Gwe as cm,Iwe as cn,Rt as co,Zwe as cp,Fl as d,Gt as e,Txe as f,yxe as g,At as h,Ze as i,ms as j,Exe as k,bxe as l,Ku as m,vh as n,Ik as o,Mxe as p,LN as q,ct as r,kee as s,_xe as t,wxe as u,Nxe as v,gxe as w,Gv as x,kxe as y,yee as z};
